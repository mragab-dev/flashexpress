function Ky(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var km={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Symbol.for("react.transitional.element"),e4=Symbol.for("react.fragment");function Pm(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:$y,type:e,key:r,ref:t!==void 0?t:null,props:n}}ih.Fragment=e4;ih.jsx=Pm;ih.jsxs=Pm;km.exports=ih;var p=km.exports,Fm={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.transitional.element"),t4=Symbol.for("react.portal"),n4=Symbol.for("react.fragment"),i4=Symbol.for("react.strict_mode"),r4=Symbol.for("react.profiler"),a4=Symbol.for("react.consumer"),s4=Symbol.for("react.context"),o4=Symbol.for("react.forward_ref"),l4=Symbol.for("react.suspense"),c4=Symbol.for("react.memo"),Um=Symbol.for("react.lazy"),Eg=Symbol.iterator;function u4(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var zm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hm=Object.assign,qm={};function Uc(e,t,n){this.props=e,this.context=t,this.refs=qm,this.updater=n||zm}Uc.prototype.isReactComponent={};Uc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gm(){}Gm.prototype=Uc.prototype;function Wd(e,t,n){this.props=e,this.context=t,this.refs=qm,this.updater=n||zm}var Xd=Wd.prototype=new Gm;Xd.constructor=Wd;Hm(Xd,Uc.prototype);Xd.isPureReactComponent=!0;var _g=Array.isArray,ai={H:null,A:null,T:null,S:null,V:null},Vm=Object.prototype.hasOwnProperty;function Zd(e,t,n,r,s,o){return n=o.ref,{$$typeof:Yd,type:e,key:t,ref:n!==void 0?n:null,props:o}}function f4(e,t){return Zd(e.type,t,void 0,void 0,void 0,e.props)}function Qd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yd}function h4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tg=/\/+/g;function Gh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h4(""+e.key):t.toString(36)}function Ig(){}function d4(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ig,Ig):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function $l(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(o){case"bigint":case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Yd:case t4:f=!0;break;case Um:return f=e._init,$l(f(e._payload),t,n,r,s)}}if(f)return s=s(e),f=r===""?"."+Gh(e,0):r,_g(s)?(n="",f!=null&&(n=f.replace(Tg,"$&/")+"/"),$l(s,t,n,"",function(x){return x})):s!=null&&(Qd(s)&&(s=f4(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Tg,"$&/")+"/")+f)),t.push(s)),1;f=0;var d=r===""?".":r+":";if(_g(e))for(var m=0;m<e.length;m++)r=e[m],o=d+Gh(r,m),f+=$l(r,t,n,o,s);else if(m=u4(e),typeof m=="function")for(e=m.call(e),m=0;!(r=e.next()).done;)r=r.value,o=d+Gh(r,m++),f+=$l(r,t,n,o,s);else if(o==="object"){if(typeof e.then=="function")return $l(d4(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return f}function Hf(e,t,n){if(e==null)return e;var r=[],s=0;return $l(e,r,"","",function(o){return t.call(n,o,s++)}),r}function g4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Og=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function p4(){}Kt.Children={map:Hf,forEach:function(e,t,n){Hf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hf(e,function(){t++}),t},toArray:function(e){return Hf(e,function(t){return t})||[]},only:function(e){if(!Qd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=Uc;Kt.Fragment=n4;Kt.Profiler=r4;Kt.PureComponent=Wd;Kt.StrictMode=i4;Kt.Suspense=l4;Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ai;Kt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ai.H.useMemoCache(e)}};Kt.cache=function(e){return function(){return e.apply(null,arguments)}};Kt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Hm({},e.props),s=e.key,o=void 0;if(t!=null)for(f in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(s=""+t.key),t)!Vm.call(t,f)||f==="key"||f==="__self"||f==="__source"||f==="ref"&&t.ref===void 0||(r[f]=t[f]);var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){for(var d=Array(f),m=0;m<f;m++)d[m]=arguments[m+2];r.children=d}return Zd(e.type,s,void 0,void 0,o,r)};Kt.createContext=function(e){return e={$$typeof:s4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:a4,_context:e},e};Kt.createElement=function(e,t,n){var r,s={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)Vm.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=t[r]);var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){for(var d=Array(f),m=0;m<f;m++)d[m]=arguments[m+2];s.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)s[r]===void 0&&(s[r]=f[r]);return Zd(e,o,void 0,void 0,null,s)};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:o4,render:e}};Kt.isValidElement=Qd;Kt.lazy=function(e){return{$$typeof:Um,_payload:{_status:-1,_result:e},_init:g4}};Kt.memo=function(e,t){return{$$typeof:c4,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=ai.T,n={};ai.T=n;try{var r=e(),s=ai.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(p4,Og)}catch(o){Og(o)}finally{ai.T=t}};Kt.unstable_useCacheRefresh=function(){return ai.H.useCacheRefresh()};Kt.use=function(e){return ai.H.use(e)};Kt.useActionState=function(e,t,n){return ai.H.useActionState(e,t,n)};Kt.useCallback=function(e,t){return ai.H.useCallback(e,t)};Kt.useContext=function(e){return ai.H.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e,t){return ai.H.useDeferredValue(e,t)};Kt.useEffect=function(e,t,n){var r=ai.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};Kt.useId=function(){return ai.H.useId()};Kt.useImperativeHandle=function(e,t,n){return ai.H.useImperativeHandle(e,t,n)};Kt.useInsertionEffect=function(e,t){return ai.H.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return ai.H.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return ai.H.useMemo(e,t)};Kt.useOptimistic=function(e,t){return ai.H.useOptimistic(e,t)};Kt.useReducer=function(e,t,n){return ai.H.useReducer(e,t,n)};Kt.useRef=function(e){return ai.H.useRef(e)};Kt.useState=function(e){return ai.H.useState(e)};Kt.useSyncExternalStore=function(e,t,n){return ai.H.useSyncExternalStore(e,t,n)};Kt.useTransition=function(){return ai.H.useTransition()};Kt.version="19.1.1";Fm.exports=Kt;var We=Fm.exports;const Rl=nh(We);var Ym={exports:{}},rh={},Wm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,Q){var ue=$.length;$.push(Q);e:for(;0<ue;){var oe=ue-1>>>1,ye=$[oe];if(0<s(ye,Q))$[oe]=Q,$[ue]=ye,ue=oe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],ue=$.pop();if(ue!==Q){$[0]=ue;e:for(var oe=0,ye=$.length,xe=ye>>>1;oe<xe;){var U=2*(oe+1)-1,Z=$[U],ie=U+1,fe=$[ie];if(0>s(Z,ue))ie<ye&&0>s(fe,Z)?($[oe]=fe,$[ie]=ue,oe=ie):($[oe]=Z,$[U]=ue,oe=U);else if(ie<ye&&0>s(fe,ue))$[oe]=fe,$[ie]=ue,oe=ie;else break e}}return Q}function s($,Q){var ue=$.sortIndex-Q.sortIndex;return ue!==0?ue:$.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var f=Date,d=f.now();e.unstable_now=function(){return f.now()-d}}var m=[],x=[],N=1,S=null,E=3,w=!1,R=!1,M=!1,H=!1,_=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k($){for(var Q=n(x);Q!==null;){if(Q.callback===null)r(x);else if(Q.startTime<=$)r(x),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=n(x)}}function q($){if(M=!1,k($),!R)if(n(m)!==null)R=!0,X||(X=!0,D());else{var Q=n(x);Q!==null&&le(q,Q.startTime-$)}}var X=!1,F=-1,L=5,j=-1;function K(){return H?!0:!(e.unstable_now()-j<L)}function z(){if(H=!1,X){var $=e.unstable_now();j=$;var Q=!0;try{e:{R=!1,M&&(M=!1,I(F),F=-1),w=!0;var ue=E;try{t:{for(k($),S=n(m);S!==null&&!(S.expirationTime>$&&K());){var oe=S.callback;if(typeof oe=="function"){S.callback=null,E=S.priorityLevel;var ye=oe(S.expirationTime<=$);if($=e.unstable_now(),typeof ye=="function"){S.callback=ye,k($),Q=!0;break t}S===n(m)&&r(m),k($)}else r(m);S=n(m)}if(S!==null)Q=!0;else{var xe=n(x);xe!==null&&le(q,xe.startTime-$),Q=!1}}break e}finally{S=null,E=ue,w=!1}Q=void 0}}finally{Q?D():X=!1}}}var D;if(typeof O=="function")D=function(){O(z)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ae=ne.port2;ne.port1.onmessage=z,D=function(){ae.postMessage(null)}}else D=function(){_(z,0)};function le($,Q){F=_(function(){$(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function($){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var ue=E;E=Q;try{return $()}finally{E=ue}},e.unstable_requestPaint=function(){H=!0},e.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ue=E;E=$;try{return Q()}finally{E=ue}},e.unstable_scheduleCallback=function($,Q,ue){var oe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?oe+ue:oe):ue=oe,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ue+ye,$={id:N++,callback:Q,priorityLevel:$,startTime:ue,expirationTime:ye,sortIndex:-1},ue>oe?($.sortIndex=ue,t(x,$),n(m)===null&&$===n(x)&&(M?(I(F),F=-1):M=!0,le(q,ue-oe))):($.sortIndex=ye,t(m,$),R||w||(R=!0,X||(X=!0,D()))),$},e.unstable_shouldYield=K,e.unstable_wrapCallback=function($){var Q=E;return function(){var ue=E;E=Q;try{return $.apply(this,arguments)}finally{E=ue}}}})(Xm);Wm.exports=Xm;var m4=Wm.exports,Zm={exports:{}},Mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=We;function Qm(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function co(){}var Dr={d:{f:co,r:function(){throw Error(Qm(522))},D:co,C:co,L:co,m:co,X:co,S:co,M:co},p:0,findDOMNode:null},y4=Symbol.for("react.portal");function v4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y4,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var yu=x4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ah(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dr;Mr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Qm(299));return v4(e,t,null,n)};Mr.flushSync=function(e){var t=yu.T,n=Dr.p;try{if(yu.T=null,Dr.p=2,e)return e()}finally{yu.T=t,Dr.p=n,Dr.d.f()}};Mr.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dr.d.C(e,t))};Mr.prefetchDNS=function(e){typeof e=="string"&&Dr.d.D(e)};Mr.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=ah(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Dr.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):n==="script"&&Dr.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Mr.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=ah(t.as,t.crossOrigin);Dr.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dr.d.M(e)};Mr.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=ah(n,t.crossOrigin);Dr.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Mr.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=ah(t.as,t.crossOrigin);Dr.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dr.d.m(e)};Mr.requestFormReset=function(e){Dr.d.r(e)};Mr.unstable_batchedUpdates=function(e,t){return e(t)};Mr.useFormState=function(e,t,n){return yu.H.useFormState(e,t,n)};Mr.useFormStatus=function(){return yu.H.useHostTransitionStatus()};Mr.version="19.1.1";function Km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Km)}catch(e){console.error(e)}}Km(),Zm.exports=Mr;var b4=Zm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=m4,Jm=We,w4=b4;function $e(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function af(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ex(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lg(e){if(af(e)!==e)throw Error($e(188))}function A4(e){var t=e.alternate;if(!t){if(t=af(e),t===null)throw Error($e(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Lg(s),e;if(o===r)return Lg(s),t;o=o.sibling}throw Error($e(188))}if(n.return!==r.return)n=s,r=o;else{for(var f=!1,d=s.child;d;){if(d===n){f=!0,n=s,r=o;break}if(d===r){f=!0,r=s,n=o;break}d=d.sibling}if(!f){for(d=o.child;d;){if(d===n){f=!0,n=o,r=s;break}if(d===r){f=!0,r=o,n=s;break}d=d.sibling}if(!f)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?e:t}function tx(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=tx(e),t!==null)return t;e=e.sibling}return null}var Jn=Object.assign,S4=Symbol.for("react.element"),qf=Symbol.for("react.transitional.element"),gu=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),R1=Symbol.for("react.profiler"),N4=Symbol.for("react.provider"),ix=Symbol.for("react.consumer"),Ds=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),j1=Symbol.for("react.suspense"),B1=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),k1=Symbol.for("react.activity"),C4=Symbol.for("react.memo_cache_sentinel"),Dg=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=Dg&&e[Dg]||e["@@iterator"],typeof e=="function"?e:null)}var E4=Symbol.for("react.client.reference");function P1(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===E4?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sc:return"Fragment";case R1:return"Profiler";case nx:return"StrictMode";case j1:return"Suspense";case B1:return"SuspenseList";case k1:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case gu:return"Portal";case Ds:return(e.displayName||"Context")+".Provider";case ix:return(e._context.displayName||"Context")+".Consumer";case Kd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:P1(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return P1(e(t))}catch{}}return null}var pu=Array.isArray,kt=Jm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wn=w4.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ml={pending:!1,data:null,method:null,action:null},F1=[],oc=-1;function ds(e){return{current:e}}function tr(e){0>oc||(e.current=F1[oc],F1[oc]=null,oc--)}function si(e,t){oc++,F1[oc]=e.current,e.current=t}var cs=ds(null),Uu=ds(null),To=ds(null),w0=ds(null);function A0(e,t){switch(si(To,t),si(Uu,e),si(cs,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kp(t),e=b3(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tr(cs),si(cs,e)}function _c(){tr(cs),tr(Uu),tr(To)}function U1(e){e.memoizedState!==null&&si(w0,e);var t=cs.current,n=b3(t,e.type);t!==n&&(si(Uu,e),si(cs,n))}function S0(e){Uu.current===e&&(tr(cs),tr(Uu)),w0.current===e&&(tr(w0),Qu._currentValue=ml)}var z1=Object.prototype.hasOwnProperty,$d=Vi.unstable_scheduleCallback,Vh=Vi.unstable_cancelCallback,_4=Vi.unstable_shouldYield,T4=Vi.unstable_requestPaint,us=Vi.unstable_now,I4=Vi.unstable_getCurrentPriorityLevel,rx=Vi.unstable_ImmediatePriority,ax=Vi.unstable_UserBlockingPriority,N0=Vi.unstable_NormalPriority,O4=Vi.unstable_LowPriority,sx=Vi.unstable_IdlePriority,L4=Vi.log,D4=Vi.unstable_setDisableYieldValue,sf=null,oa=null;function So(e){if(typeof L4=="function"&&D4(e),oa&&typeof oa.setStrictMode=="function")try{oa.setStrictMode(sf,e)}catch{}}var la=Math.clz32?Math.clz32:j4,M4=Math.log,R4=Math.LN2;function j4(e){return e>>>=0,e===0?32:31-(M4(e)/R4|0)|0}var Gf=256,Vf=4194304;function fl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sh(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var d=r&134217727;return d!==0?(r=d&~o,r!==0?s=fl(r):(f&=d,f!==0?s=fl(f):n||(n=d&~e,n!==0&&(s=fl(n))))):(d=r&~o,d!==0?s=fl(d):f!==0?s=fl(f):n||(n=r&~e,n!==0&&(s=fl(n)))),s===0?0:t!==0&&t!==s&&!(t&o)&&(o=s&-s,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:s}function of(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function B4(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ox(){var e=Gf;return Gf<<=1,!(Gf&4194048)&&(Gf=256),e}function lx(){var e=Vf;return Vf<<=1,!(Vf&62914560)&&(Vf=4194304),e}function Yh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lf(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function k4(e,t,n,r,s,o){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,m=e.expirationTimes,x=e.hiddenUpdates;for(n=f&~n;0<n;){var N=31-la(n),S=1<<N;d[N]=0,m[N]=-1;var E=x[N];if(E!==null)for(x[N]=null,N=0;N<E.length;N++){var w=E[N];w!==null&&(w.lane&=-536870913)}n&=~S}r!==0&&cx(e,r,0),o!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function cx(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-la(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function ux(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-la(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function e2(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function t2(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function fx(){var e=wn.p;return e!==0?e:(e=window.event,e===void 0?32:O3(e.type))}function P4(e,t){var n=wn.p;try{return wn.p=e,t()}finally{wn.p=n}}var Go=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Go,qr="__reactProps$"+Go,zc="__reactContainer$"+Go,H1="__reactEvents$"+Go,F4="__reactListeners$"+Go,U4="__reactHandles$"+Go,Mg="__reactResources$"+Go,cf="__reactMarker$"+Go;function n2(e){delete e[Sr],delete e[qr],delete e[H1],delete e[F4],delete e[U4]}function lc(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zc]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Up(e);e!==null;){if(n=e[Sr])return n;e=Up(e)}return t}e=n,n=e.parentNode}return null}function Hc(e){if(e=e[Sr]||e[zc]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function mu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($e(33))}function vc(e){var t=e[Mg];return t||(t=e[Mg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $i(e){e[cf]=!0}var hx=new Set,dx={};function jl(e,t){Tc(e,t),Tc(e+"Capture",t)}function Tc(e,t){for(dx[e]=t,e=0;e<t.length;e++)hx.add(t[e])}var z4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rg={},jg={};function H4(e){return z1.call(jg,e)?!0:z1.call(Rg,e)?!1:z4.test(e)?jg[e]=!0:(Rg[e]=!0,!1)}function o0(e,t,n){if(H4(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Yf(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Es(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Wh,Bg;function ec(e){if(Wh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wh=t&&t[1]||"",Bg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wh+e+Bg}var Xh=!1;function Zh(e,t){if(!e||Xh)return"";Xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var S=function(){throw Error()};if(Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(w){var E=w}Reflect.construct(e,[],S)}else{try{S.call()}catch(w){E=w}e.call(S.prototype)}}else{try{throw Error()}catch(w){E=w}(S=e())&&typeof S.catch=="function"&&S.catch(function(){})}}catch(w){if(w&&E&&typeof w.stack=="string")return[w.stack,E.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),f=o[0],d=o[1];if(f&&d){var m=f.split(`
`),x=d.split(`
`);for(s=r=0;r<m.length&&!m[r].includes("DetermineComponentFrameRoot");)r++;for(;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;if(r===m.length||s===x.length)for(r=m.length-1,s=x.length-1;1<=r&&0<=s&&m[r]!==x[s];)s--;for(;1<=r&&0<=s;r--,s--)if(m[r]!==x[s]){if(r!==1||s!==1)do if(r--,s--,0>s||m[r]!==x[s]){var N=`
`+m[r].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=r&&0<=s);break}}}finally{Xh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ec(n):""}function q4(e){switch(e.tag){case 26:case 27:case 5:return ec(e.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 15:return Zh(e.type,!1);case 11:return Zh(e.type.render,!1);case 1:return Zh(e.type,!0);case 31:return ec("Activity");default:return""}}function kg(e){try{var t="";do t+=q4(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G4(e){var t=gx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){r=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function C0(e){e._valueTracker||(e._valueTracker=G4(e))}function px(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function E0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V4=/[\n"\\]/g;function _a(e){return e.replace(V4,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function q1(e,t,n,r,s,o,f,d){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Na(t)):e.value!==""+Na(t)&&(e.value=""+Na(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?G1(e,f,Na(t)):n!=null?G1(e,f,Na(n)):r!=null&&e.removeAttribute("value"),s==null&&o!=null&&(e.defaultChecked=!!o),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Na(d):e.removeAttribute("name")}function mx(e,t,n,r,s,o,f,d){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Na(n):"",t=t!=null?""+Na(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=d?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function G1(e,t,n){t==="number"&&E0(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Na(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xx(e,t,n){if(t!=null&&(t=""+Na(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Na(n):""}function yx(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error($e(92));if(pu(r)){if(1<r.length)throw Error($e(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Na(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Ic(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Y4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pg(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Y4.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function vx(e,t,n){if(t!=null&&typeof t!="object")throw Error($e(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Pg(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&Pg(e,o,t[o])}function i2(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function l0(e){return X4.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var V1=null;function r2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cc=null,wc=null;function Fg(e){var t=Hc(e);if(t&&(e=t.stateNode)){var n=e[qr]||null;e:switch(e=t.stateNode,t.type){case"input":if(q1(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_a(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[qr]||null;if(!s)throw Error($e(90));q1(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&px(r)}break e;case"textarea":xx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&bc(e,!!n.multiple,t,!1)}}}var Qh=!1;function bx(e,t,n){if(Qh)return e(t,n);Qh=!0;try{var r=e(t);return r}finally{if(Qh=!1,(cc!==null||wc!==null)&&(mh(),cc&&(t=cc,e=wc,wc=cc=null,Fg(t),e)))for(t=0;t<e.length;t++)Fg(e[t])}}function zu(e,t){var n=e.stateNode;if(n===null)return null;var r=n[qr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($e(231,t,typeof n));return n}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y1=!1;if(zs)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){Y1=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Y1=!1}var No=null,a2=null,c0=null;function wx(){if(c0)return c0;var e,t=a2,n=t.length,r,s="value"in No?No.value:No.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===s[o-r];r++);return c0=s.slice(e,1<r?1-r:void 0)}function u0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wf(){return!0}function Ug(){return!1}function Gr(e){function t(n,r,s,o,f){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wf:Ug,this.isPropagationStopped=Ug,this}return Jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),t}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=Gr(Bl),uf=Jn({},Bl,{view:0,detail:0}),Z4=Gr(uf),Kh,Jh,au,lh=Jn({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==au&&(au&&e.type==="mousemove"?(Kh=e.screenX-au.screenX,Jh=e.screenY-au.screenY):Jh=Kh=0,au=e),Kh)},movementY:function(e){return"movementY"in e?e.movementY:Jh}}),zg=Gr(lh),Q4=Jn({},lh,{dataTransfer:0}),K4=Gr(Q4),J4=Jn({},uf,{relatedTarget:0}),$h=Gr(J4),$4=Jn({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),ev=Gr($4),tv=Jn({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nv=Gr(tv),iv=Jn({},Bl,{data:0}),Hg=Gr(iv),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sv[e])?!!t[e]:!1}function s2(){return ov}var lv=Jn({},uf,{key:function(e){if(e.key){var t=rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=u0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(e){return e.type==="keypress"?u0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?u0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cv=Gr(lv),uv=Jn({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=Gr(uv),fv=Jn({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),hv=Gr(fv),dv=Jn({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gv=Gr(dv),pv=Jn({},lh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=Gr(pv),xv=Jn({},Bl,{newState:0,oldState:0}),yv=Gr(xv),vv=[9,13,27,32],o2=zs&&"CompositionEvent"in window,vu=null;zs&&"documentMode"in document&&(vu=document.documentMode);var bv=zs&&"TextEvent"in window&&!vu,Ax=zs&&(!o2||vu&&8<vu&&11>=vu),Gg=" ",Vg=!1;function Sx(e,t){switch(e){case"keyup":return vv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function wv(e,t){switch(e){case"compositionend":return Nx(t);case"keypress":return t.which!==32?null:(Vg=!0,Gg);case"textInput":return e=t.data,e===Gg&&Vg?null:e;default:return null}}function Av(e,t){if(uc)return e==="compositionend"||!o2&&Sx(e,t)?(e=wx(),c0=a2=No=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ax&&t.locale!=="ko"?null:t.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sv[e.type]:t==="textarea"}function Cx(e,t,n,r){cc?wc?wc.push(r):wc=[r]:cc=r,t=G0(t,"onChange"),0<t.length&&(n=new oh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bu=null,Hu=null;function Nv(e){x3(e,0)}function ch(e){var t=mu(e);if(px(t))return e}function Wg(e,t){if(e==="change")return t}var Ex=!1;if(zs){var e1;if(zs){var t1="oninput"in document;if(!t1){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),t1=typeof Xg.oninput=="function"}e1=t1}else e1=!1;Ex=e1&&(!document.documentMode||9<document.documentMode)}function Zg(){bu&&(bu.detachEvent("onpropertychange",_x),Hu=bu=null)}function _x(e){if(e.propertyName==="value"&&ch(Hu)){var t=[];Cx(t,Hu,e,r2(e)),bx(Nv,t)}}function Cv(e,t,n){e==="focusin"?(Zg(),bu=t,Hu=n,bu.attachEvent("onpropertychange",_x)):e==="focusout"&&Zg()}function Ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ch(Hu)}function _v(e,t){if(e==="click")return ch(t)}function Tv(e,t){if(e==="input"||e==="change")return ch(t)}function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fa=typeof Object.is=="function"?Object.is:Iv;function qu(e,t){if(fa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!z1.call(t,s)||!fa(e[s],t[s]))return!1}return!0}function Qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kg(e,t){var n=Qg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qg(n)}}function Tx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ix(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=E0(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=E0(e.document)}return t}function l2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ov=zs&&"documentMode"in document&&11>=document.documentMode,fc=null,W1=null,wu=null,X1=!1;function Jg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;X1||fc==null||fc!==E0(r)||(r=fc,"selectionStart"in r&&l2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wu&&qu(wu,r)||(wu=r,r=G0(W1,"onSelect"),0<r.length&&(t=new oh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fc)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hc={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionrun:ul("Transition","TransitionRun"),transitionstart:ul("Transition","TransitionStart"),transitioncancel:ul("Transition","TransitionCancel"),transitionend:ul("Transition","TransitionEnd")},n1={},Ox={};zs&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function kl(e){if(n1[e])return n1[e];if(!hc[e])return e;var t=hc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ox)return n1[e]=t[n];return e}var Lx=kl("animationend"),Dx=kl("animationiteration"),Mx=kl("animationstart"),Lv=kl("transitionrun"),Dv=kl("transitionstart"),Mv=kl("transitioncancel"),Rx=kl("transitionend"),jx=new Map,Z1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Z1.push("scrollEnd");function Wa(e,t){jx.set(e,t),jl(t,[e])}var $g=new WeakMap;function Ta(e,t){if(typeof e=="object"&&e!==null){var n=$g.get(e);return n!==void 0?n:(t={value:e,source:t,stack:kg(t)},$g.set(e,t),t)}return{value:e,source:t,stack:kg(t)}}var Aa=[],dc=0,c2=0;function uh(){for(var e=dc,t=c2=dc=0;t<e;){var n=Aa[t];Aa[t++]=null;var r=Aa[t];Aa[t++]=null;var s=Aa[t];Aa[t++]=null;var o=Aa[t];if(Aa[t++]=null,r!==null&&s!==null){var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}o!==0&&Bx(n,s,o)}}function fh(e,t,n,r){Aa[dc++]=e,Aa[dc++]=t,Aa[dc++]=n,Aa[dc++]=r,c2|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function u2(e,t,n,r){return fh(e,t,n,r),_0(e)}function qc(e,t){return fh(e,null,null,t),_0(e)}function Bx(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(s=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,s&&t!==null&&(s=31-la(n),e=o.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),o):null}function _0(e){if(50<Lu)throw Lu=0,md=null,Error($e(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gc={};function Rv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(e,t,n,r){return new Rv(e,t,n,r)}function f2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ps(e,t){var n=e.alternate;return n===null?(n=ra(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function kx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function f0(e,t,n,r,s,o){var f=0;if(r=e,typeof e=="function")f2(e)&&(f=1);else if(typeof e=="string")f=Bb(e,n,cs.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case k1:return e=ra(31,n,t,s),e.elementType=k1,e.lanes=o,e;case sc:return xl(n.children,s,o,t);case nx:f=8,s|=24;break;case R1:return e=ra(12,n,t,s|2),e.elementType=R1,e.lanes=o,e;case j1:return e=ra(13,n,t,s),e.elementType=j1,e.lanes=o,e;case B1:return e=ra(19,n,t,s),e.elementType=B1,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N4:case Ds:f=10;break e;case ix:f=9;break e;case Kd:f=11;break e;case Jd:f=14;break e;case mo:f=16,r=null;break e}f=29,n=Error($e(130,e===null?"null":typeof e,"")),r=null}return t=ra(f,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function xl(e,t,n,r){return e=ra(7,e,r,t),e.lanes=n,e}function i1(e,t,n){return e=ra(6,e,null,t),e.lanes=n,e}function r1(e,t,n){return t=ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pc=[],mc=0,T0=null,I0=0,Ca=[],Ea=0,yl=null,Ms=1,Rs="";function hl(e,t){pc[mc++]=I0,pc[mc++]=T0,T0=e,I0=t}function Px(e,t,n){Ca[Ea++]=Ms,Ca[Ea++]=Rs,Ca[Ea++]=yl,yl=e;var r=Ms;e=Rs;var s=32-la(r)-1;r&=~(1<<s),n+=1;var o=32-la(t)+s;if(30<o){var f=s-s%5;o=(r&(1<<f)-1).toString(32),r>>=f,s-=f,Ms=1<<32-la(t)+s|n<<s|r,Rs=o+e}else Ms=1<<o|n<<s|r,Rs=e}function h2(e){e.return!==null&&(hl(e,1),Px(e,1,0))}function d2(e){for(;e===T0;)T0=pc[--mc],pc[mc]=null,I0=pc[--mc],pc[mc]=null;for(;e===yl;)yl=Ca[--Ea],Ca[Ea]=null,Rs=Ca[--Ea],Ca[Ea]=null,Ms=Ca[--Ea],Ca[Ea]=null}var Lr=null,vi=null,bn=!1,vl=null,ss=!1,Q1=Error($e(519));function Il(e){var t=Error($e(418,""));throw Gu(Ta(t,e)),Q1}function ep(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Sr]=e,t[qr]=r,n){case"dialog":nn("cancel",t),nn("close",t);break;case"iframe":case"object":case"embed":nn("load",t);break;case"video":case"audio":for(n=0;n<Wu.length;n++)nn(Wu[n],t);break;case"source":nn("error",t);break;case"img":case"image":case"link":nn("error",t),nn("load",t);break;case"details":nn("toggle",t);break;case"input":nn("invalid",t),mx(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),C0(t);break;case"select":nn("invalid",t);break;case"textarea":nn("invalid",t),yx(t,r.value,r.defaultValue,r.children),C0(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||v3(t.textContent,n)?(r.popover!=null&&(nn("beforetoggle",t),nn("toggle",t)),r.onScroll!=null&&nn("scroll",t),r.onScrollEnd!=null&&nn("scrollend",t),r.onClick!=null&&(t.onclick=vh),t=!0):t=!1,t||Il(e)}function tp(e){for(Lr=e.return;Lr;)switch(Lr.tag){case 5:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:Lr=Lr.return}}function su(e){if(e!==Lr)return!1;if(!bn)return tp(e),bn=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ad(e.type,e.memoizedProps)),n=!n),n&&vi&&Il(e),tp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){vi=Va(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}vi=null}}else t===27?(t=vi,Vo(e.type)?(e=Cd,Cd=null,vi=e):vi=t):vi=Lr?Va(e.stateNode.nextSibling):null;return!0}function ff(){vi=Lr=null,bn=!1}function np(){var e=vl;return e!==null&&(Hr===null?Hr=e:Hr.push.apply(Hr,e),vl=null),e}function Gu(e){vl===null?vl=[e]:vl.push(e)}var K1=ds(null),Pl=null,js=null;function yo(e,t,n){si(K1,t._currentValue),t._currentValue=n}function Fs(e){e._currentValue=K1.current,tr(K1)}function J1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $1(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){var f=s.child;o=o.firstContext;e:for(;o!==null;){var d=o;o=s;for(var m=0;m<t.length;m++)if(d.context===t[m]){o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),J1(o.return,n,e),r||(f=null);break e}o=d.next}}else if(s.tag===18){if(f=s.return,f===null)throw Error($e(341));f.lanes|=n,o=f.alternate,o!==null&&(o.lanes|=n),J1(f,n,e),f=null}else f=s.child;if(f!==null)f.return=s;else for(f=s;f!==null;){if(f===e){f=null;break}if(s=f.sibling,s!==null){s.return=f.return,f=s;break}f=f.return}s=f}}function hf(e,t,n,r){e=null;for(var s=t,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var f=s.alternate;if(f===null)throw Error($e(387));if(f=f.memoizedProps,f!==null){var d=s.type;fa(s.pendingProps.value,f.value)||(e!==null?e.push(d):e=[d])}}else if(s===w0.current){if(f=s.alternate,f===null)throw Error($e(387));f.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Qu):e=[Qu])}s=s.return}e!==null&&$1(t,e,n,r),t.flags|=262144}function O0(e){for(e=e.firstContext;e!==null;){if(!fa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ol(e){Pl=e,js=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nr(e){return Fx(Pl,e)}function Xf(e,t){return Pl===null&&Ol(e),Fx(e,t)}function Fx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},js===null){if(e===null)throw Error($e(308));js=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else js=js.next=t;return n}var jv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Bv=Vi.unstable_scheduleCallback,kv=Vi.unstable_NormalPriority,qi={$$typeof:Ds,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function g2(){return{controller:new jv,data:new Map,refCount:0}}function df(e){e.refCount--,e.refCount===0&&Bv(kv,function(){e.controller.abort()})}var Au=null,ed=0,Oc=0,Ac=null;function Pv(e,t){if(Au===null){var n=Au=[];ed=0,Oc=k2(),Ac={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ed++,t.then(ip,ip),t}function ip(){if(--ed===0&&Au!==null){Ac!==null&&(Ac.status="fulfilled");var e=Au;Au=null,Oc=0,Ac=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fv(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var rp=kt.S;kt.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Pv(e,t),rp!==null&&rp(e,t)};var bl=ds(null);function p2(){var e=bl.current;return e!==null?e:Gn.pooledCache}function h0(e,t){t===null?si(bl,bl.current):si(bl,t.pool)}function Ux(){var e=p2();return e===null?null:{parent:qi._currentValue,pool:e}}var gf=Error($e(460)),zx=Error($e(474)),hh=Error($e(542)),td={then:function(){}};function ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zf(){}function Hx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zf,Zf),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,op(e),e;default:if(typeof t.status=="string")t.then(Zf,Zf);else{if(e=Gn,e!==null&&100<e.shellSuspendCounter)throw Error($e(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,op(e),e}throw Su=t,gf}}var Su=null;function sp(){if(Su===null)throw Error($e(459));var e=Su;return Su=null,e}function op(e){if(e===gf||e===hh)throw Error($e(483))}var xo=!1;function m2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,In&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=_0(e),Bx(e,null,n),t}return fh(e,r,t,n),_0(e)}function Nu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ux(e,n)}}function a1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=f:o=o.next=f,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var id=!1;function Cu(){if(id){var e=Ac;if(e!==null)throw e}}function Eu(e,t,n,r){id=!1;var s=e.updateQueue;xo=!1;var o=s.firstBaseUpdate,f=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var m=d,x=m.next;m.next=null,f===null?o=x:f.next=x,f=m;var N=e.alternate;N!==null&&(N=N.updateQueue,d=N.lastBaseUpdate,d!==f&&(d===null?N.firstBaseUpdate=x:d.next=x,N.lastBaseUpdate=m))}if(o!==null){var S=s.baseState;f=0,N=x=m=null,d=o;do{var E=d.lane&-536870913,w=E!==d.lane;if(w?(hn&E)===E:(r&E)===E){E!==0&&E===Oc&&(id=!0),N!==null&&(N=N.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var R=e,M=d;E=t;var H=n;switch(M.tag){case 1:if(R=M.payload,typeof R=="function"){S=R.call(H,S,E);break e}S=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=M.payload,E=typeof R=="function"?R.call(H,S,E):R,E==null)break e;S=Jn({},S,E);break e;case 2:xo=!0}}E=d.callback,E!==null&&(e.flags|=64,w&&(e.flags|=8192),w=s.callbacks,w===null?s.callbacks=[E]:w.push(E))}else w={lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},N===null?(x=N=w,m=S):N=N.next=w,f|=E;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;w=d,d=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);N===null&&(m=S),s.baseState=m,s.firstBaseUpdate=x,s.lastBaseUpdate=N,o===null&&(s.shared.lanes=0),Uo|=f,e.lanes=f,e.memoizedState=S}}function qx(e,t){if(typeof e!="function")throw Error($e(191,e));e.call(t)}function Gx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qx(n[e],t)}var Lc=ds(null),L0=ds(0);function lp(e,t){e=Gs,si(L0,e),si(Lc,t),Gs=e|t.baseLanes}function rd(){si(L0,Gs),si(Lc,Lc.current)}function x2(){Gs=L0.current,tr(Lc),tr(L0)}var Po=0,$t=null,jn=null,ji=null,D0=!1,Sc=!1,Ll=!1,M0=0,Vu=0,Nc=null,Uv=0;function _i(){throw Error($e(321))}function y2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fa(e[n],t[n]))return!1;return!0}function v2(e,t,n,r,s,o){return Po=o,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kt.H=e===null||e.memoizedState===null?w5:A5,Ll=!1,o=n(r,s),Ll=!1,Sc&&(o=Yx(t,n,r,s)),Vx(e),o}function Vx(e){kt.H=R0;var t=jn!==null&&jn.next!==null;if(Po=0,ji=jn=$t=null,D0=!1,Vu=0,Nc=null,t)throw Error($e(300));e===null||er||(e=e.dependencies,e!==null&&O0(e)&&(er=!0))}function Yx(e,t,n,r){$t=e;var s=0;do{if(Sc&&(Nc=null),Vu=0,Sc=!1,25<=s)throw Error($e(301));if(s+=1,ji=jn=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}kt.H=Wv,o=t(n,r)}while(Sc);return o}function zv(){var e=kt.H,t=e.useState()[0];return t=typeof t.then=="function"?pf(t):t,e=e.useState()[0],(jn!==null?jn.memoizedState:null)!==e&&($t.flags|=1024),t}function b2(){var e=M0!==0;return M0=0,e}function w2(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function A2(e){if(D0){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}D0=!1}Po=0,ji=jn=$t=null,Sc=!1,Vu=M0=0,Nc=null}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?$t.memoizedState=ji=e:ji=ji.next=e,ji}function Bi(){if(jn===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=ji===null?$t.memoizedState:ji.next;if(t!==null)ji=t,jn=e;else{if(e===null)throw $t.alternate===null?Error($e(467)):Error($e(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},ji===null?$t.memoizedState=ji=e:ji=ji.next=e}return ji}function S2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pf(e){var t=Vu;return Vu+=1,Nc===null&&(Nc=[]),e=Hx(Nc,e,t),t=$t,(ji===null?t.memoizedState:ji.next)===null&&(t=t.alternate,kt.H=t===null||t.memoizedState===null?w5:A5),e}function dh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pf(e);if(e.$$typeof===Ds)return Nr(e)}throw Error($e(438,String(e)))}function N2(e){var t=null,n=$t.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=$t.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=S2(),$t.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C4;return t.index++,n}function Hs(e,t){return typeof t=="function"?t(e):t}function d0(e){var t=Bi();return C2(t,jn,e)}function C2(e,t,n){var r=e.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(o!==null){if(s!==null){var f=s.next;s.next=o.next,o.next=f}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,s===null)e.memoizedState=o;else{t=s.next;var d=f=null,m=null,x=t,N=!1;do{var S=x.lane&-536870913;if(S!==x.lane?(hn&S)===S:(Po&S)===S){var E=x.revertLane;if(E===0)m!==null&&(m=m.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),S===Oc&&(N=!0);else if((Po&E)===E){x=x.next,E===Oc&&(N=!0);continue}else S={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(d=m=S,f=o):m=m.next=S,$t.lanes|=E,Uo|=E;S=x.action,Ll&&n(o,S),o=x.hasEagerState?x.eagerState:n(o,S)}else E={lane:S,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(d=m=E,f=o):m=m.next=E,$t.lanes|=S,Uo|=S;x=x.next}while(x!==null&&x!==t);if(m===null?f=o:m.next=d,!fa(o,e.memoizedState)&&(er=!0,N&&(n=Ac,n!==null)))throw n;e.memoizedState=o,e.baseState=f,e.baseQueue=m,r.lastRenderedState=o}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function s1(e){var t=Bi(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var f=s=s.next;do o=e(o,f.action),f=f.next;while(f!==s);fa(o,t.memoizedState)||(er=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Wx(e,t,n){var r=$t,s=Bi(),o=bn;if(o){if(n===void 0)throw Error($e(407));n=n()}else n=t();var f=!fa((jn||s).memoizedState,n);f&&(s.memoizedState=n,er=!0),s=s.queue;var d=Qx.bind(null,r,s,e);if(mf(2048,8,d,[e]),s.getSnapshot!==t||f||ji!==null&&ji.memoizedState.tag&1){if(r.flags|=2048,Dc(9,gh(),Zx.bind(null,r,s,n,t),null),Gn===null)throw Error($e(349));o||Po&124||Xx(r,t,n)}return n}function Xx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$t.updateQueue,t===null?(t=S2(),$t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zx(e,t,n,r){t.value=n,t.getSnapshot=r,Kx(t)&&Jx(e)}function Qx(e,t,n){return n(function(){Kx(t)&&Jx(e)})}function Kx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fa(e,n)}catch{return!0}}function Jx(e){var t=qc(e,2);t!==null&&ua(t,e,2)}function ad(e){var t=Ur();if(typeof e=="function"){var n=e;if(e=n(),Ll){So(!0);try{n()}finally{So(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function $x(e,t,n,r){return e.baseState=n,C2(e,jn,typeof r=="function"?r:Hs)}function Hv(e,t,n,r,s){if(ph(e))throw Error($e(485));if(e=t.action,e!==null){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};kt.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,e5(t,o)):(o.next=n.next,t.pending=n.next=o)}}function e5(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=kt.T,f={};kt.T=f;try{var d=n(s,r),m=kt.S;m!==null&&m(f,d),cp(e,t,d)}catch(x){sd(e,t,x)}finally{kt.T=o}}else try{o=n(s,r),cp(e,t,o)}catch(x){sd(e,t,x)}}function cp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){up(e,t,r)},function(r){return sd(e,t,r)}):up(e,t,n)}function up(e,t,n){t.status="fulfilled",t.value=n,t5(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,e5(e,n)))}function sd(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,t5(t),t=t.next;while(t!==r)}e.action=null}function t5(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function n5(e,t){return t}function fp(e,t){if(bn){var n=Gn.formState;if(n!==null){e:{var r=$t;if(bn){if(vi){t:{for(var s=vi,o=ss;s.nodeType!==8;){if(!o){s=null;break t}if(s=Va(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){vi=Va(s.nextSibling),r=s.data==="F!";break e}}Il(r)}r=!1}r&&(t=n[0])}}return n=Ur(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n5,lastRenderedState:t},n.queue=r,n=y5.bind(null,$t,r),r.dispatch=n,r=ad(!1),o=I2.bind(null,$t,!1,r.queue),r=Ur(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=Hv.bind(null,$t,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function hp(e){var t=Bi();return i5(t,jn,e)}function i5(e,t,n){if(t=C2(e,t,n5)[0],e=d0(Hs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=pf(t)}catch(f){throw f===gf?hh:f}else r=t;t=Bi();var s=t.queue,o=s.dispatch;return n!==t.memoizedState&&($t.flags|=2048,Dc(9,gh(),qv.bind(null,s,n),null)),[r,o,e]}function qv(e,t){e.action=t}function dp(e){var t=Bi(),n=jn;if(n!==null)return i5(t,n,e);Bi(),t=t.memoizedState,n=Bi();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Dc(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=$t.updateQueue,t===null&&(t=S2(),$t.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gh(){return{destroy:void 0,resource:void 0}}function r5(){return Bi().memoizedState}function g0(e,t,n,r){var s=Ur();r=r===void 0?null:r,$t.flags|=e,s.memoizedState=Dc(1|t,gh(),n,r)}function mf(e,t,n,r){var s=Bi();r=r===void 0?null:r;var o=s.memoizedState.inst;jn!==null&&r!==null&&y2(r,jn.memoizedState.deps)?s.memoizedState=Dc(t,o,n,r):($t.flags|=e,s.memoizedState=Dc(1|t,o,n,r))}function gp(e,t){g0(8390656,8,e,t)}function a5(e,t){mf(2048,8,e,t)}function s5(e,t){return mf(4,2,e,t)}function o5(e,t){return mf(4,4,e,t)}function l5(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c5(e,t,n){n=n!=null?n.concat([e]):null,mf(4,4,l5.bind(null,t,e),n)}function E2(){}function u5(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&y2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function f5(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&y2(t,r[1]))return r[0];if(r=e(),Ll){So(!0);try{e()}finally{So(!1)}}return n.memoizedState=[r,t],r}function _2(e,t,n){return n===void 0||Po&1073741824?e.memoizedState=t:(e.memoizedState=n,e=t3(),$t.lanes|=e,Uo|=e,n)}function h5(e,t,n,r){return fa(n,t)?n:Lc.current!==null?(e=_2(e,n,r),fa(e,t)||(er=!0),e):Po&42?(e=t3(),$t.lanes|=e,Uo|=e,t):(er=!0,e.memoizedState=n)}function d5(e,t,n,r,s){var o=wn.p;wn.p=o!==0&&8>o?o:8;var f=kt.T,d={};kt.T=d,I2(e,!1,t,n);try{var m=s(),x=kt.S;if(x!==null&&x(d,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var N=Fv(m,r);_u(e,t,N,ca(e))}else _u(e,t,r,ca(e))}catch(S){_u(e,t,{then:function(){},status:"rejected",reason:S},ca())}finally{wn.p=o,kt.T=f}}function Gv(){}function od(e,t,n,r){if(e.tag!==5)throw Error($e(476));var s=g5(e).queue;d5(e,s,t,ml,n===null?Gv:function(){return p5(e),n(r)})}function g5(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ml,baseState:ml,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:ml},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function p5(e){var t=g5(e).next.queue;_u(e,t,{},ca())}function T2(){return Nr(Qu)}function m5(){return Bi().memoizedState}function x5(){return Bi().memoizedState}function Vv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ca();e=Io(n);var r=Oo(t,e,n);r!==null&&(ua(r,t,n),Nu(r,t,n)),t={cache:g2()},e.payload=t;return}t=t.return}}function Yv(e,t,n){var r=ca();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ph(e)?v5(t,n):(n=u2(e,t,n,r),n!==null&&(ua(n,e,r),b5(n,t,r)))}function y5(e,t,n){var r=ca();_u(e,t,n,r)}function _u(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ph(e))v5(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,d=o(f,n);if(s.hasEagerState=!0,s.eagerState=d,fa(d,f))return fh(e,t,s,0),Gn===null&&uh(),!1}catch{}finally{}if(n=u2(e,t,s,r),n!==null)return ua(n,e,r),b5(n,t,r),!0}return!1}function I2(e,t,n,r){if(r={lane:2,revertLane:k2(),action:r,hasEagerState:!1,eagerState:null,next:null},ph(e)){if(t)throw Error($e(479))}else t=u2(e,n,r,2),t!==null&&ua(t,e,2)}function ph(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function v5(e,t){Sc=D0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function b5(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ux(e,n)}}var R0={readContext:Nr,use:dh,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i,useHostTransitionStatus:_i,useFormState:_i,useActionState:_i,useOptimistic:_i,useMemoCache:_i,useCacheRefresh:_i},w5={readContext:Nr,use:dh,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:gp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,g0(4194308,4,l5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return g0(4194308,4,e,t)},useInsertionEffect:function(e,t){g0(4,2,e,t)},useMemo:function(e,t){var n=Ur();t=t===void 0?null:t;var r=e();if(Ll){So(!0);try{e()}finally{So(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ur();if(n!==void 0){var s=n(t);if(Ll){So(!0);try{n(t)}finally{So(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Yv.bind(null,$t,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:function(e){e=ad(e);var t=e.queue,n=y5.bind(null,$t,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:E2,useDeferredValue:function(e,t){var n=Ur();return _2(n,e,t)},useTransition:function(){var e=ad(!1);return e=d5.bind(null,$t,e.queue,!0,!1),Ur().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$t,s=Ur();if(bn){if(n===void 0)throw Error($e(407));n=n()}else{if(n=t(),Gn===null)throw Error($e(349));hn&124||Xx(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,gp(Qx.bind(null,r,o,e),[e]),r.flags|=2048,Dc(9,gh(),Zx.bind(null,r,o,n,t),null),n},useId:function(){var e=Ur(),t=Gn.identifierPrefix;if(bn){var n=Rs,r=Ms;n=(r&~(1<<32-la(r)-1)).toString(32)+n,t=""+t+"R"+n,n=M0++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Uv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:T2,useFormState:fp,useActionState:fp,useOptimistic:function(e){var t=Ur();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=I2.bind(null,$t,!0,n),n.dispatch=t,[e,t]},useMemoCache:N2,useCacheRefresh:function(){return Ur().memoizedState=Vv.bind(null,$t)}},A5={readContext:Nr,use:dh,useCallback:u5,useContext:Nr,useEffect:a5,useImperativeHandle:c5,useInsertionEffect:s5,useLayoutEffect:o5,useMemo:f5,useReducer:d0,useRef:r5,useState:function(){return d0(Hs)},useDebugValue:E2,useDeferredValue:function(e,t){var n=Bi();return h5(n,jn.memoizedState,e,t)},useTransition:function(){var e=d0(Hs)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:pf(e),t]},useSyncExternalStore:Wx,useId:m5,useHostTransitionStatus:T2,useFormState:hp,useActionState:hp,useOptimistic:function(e,t){var n=Bi();return $x(n,jn,e,t)},useMemoCache:N2,useCacheRefresh:x5},Wv={readContext:Nr,use:dh,useCallback:u5,useContext:Nr,useEffect:a5,useImperativeHandle:c5,useInsertionEffect:s5,useLayoutEffect:o5,useMemo:f5,useReducer:s1,useRef:r5,useState:function(){return s1(Hs)},useDebugValue:E2,useDeferredValue:function(e,t){var n=Bi();return jn===null?_2(n,e,t):h5(n,jn.memoizedState,e,t)},useTransition:function(){var e=s1(Hs)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:pf(e),t]},useSyncExternalStore:Wx,useId:m5,useHostTransitionStatus:T2,useFormState:dp,useActionState:dp,useOptimistic:function(e,t){var n=Bi();return jn!==null?$x(n,jn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:N2,useCacheRefresh:x5},Cc=null,Yu=0;function Qf(e){var t=Yu;return Yu+=1,Cc===null&&(Cc=[]),Hx(Cc,e,t)}function ou(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kf(e,t){throw t.$$typeof===S4?Error($e(525)):(e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pp(e){var t=e._init;return t(e._payload)}function S5(e){function t(_,I){if(e){var O=_.deletions;O===null?(_.deletions=[I],_.flags|=16):O.push(I)}}function n(_,I){if(!e)return null;for(;I!==null;)t(_,I),I=I.sibling;return null}function r(_){for(var I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function s(_,I){return _=Ps(_,I),_.index=0,_.sibling=null,_}function o(_,I,O){return _.index=O,e?(O=_.alternate,O!==null?(O=O.index,O<I?(_.flags|=67108866,I):O):(_.flags|=67108866,I)):(_.flags|=1048576,I)}function f(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function d(_,I,O,k){return I===null||I.tag!==6?(I=i1(O,_.mode,k),I.return=_,I):(I=s(I,O),I.return=_,I)}function m(_,I,O,k){var q=O.type;return q===sc?N(_,I,O.props.children,k,O.key):I!==null&&(I.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===mo&&pp(q)===I.type)?(I=s(I,O.props),ou(I,O),I.return=_,I):(I=f0(O.type,O.key,O.props,null,_.mode,k),ou(I,O),I.return=_,I)}function x(_,I,O,k){return I===null||I.tag!==4||I.stateNode.containerInfo!==O.containerInfo||I.stateNode.implementation!==O.implementation?(I=r1(O,_.mode,k),I.return=_,I):(I=s(I,O.children||[]),I.return=_,I)}function N(_,I,O,k,q){return I===null||I.tag!==7?(I=xl(O,_.mode,k,q),I.return=_,I):(I=s(I,O),I.return=_,I)}function S(_,I,O){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=i1(""+I,_.mode,O),I.return=_,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case qf:return O=f0(I.type,I.key,I.props,null,_.mode,O),ou(O,I),O.return=_,O;case gu:return I=r1(I,_.mode,O),I.return=_,I;case mo:var k=I._init;return I=k(I._payload),S(_,I,O)}if(pu(I)||iu(I))return I=xl(I,_.mode,O,null),I.return=_,I;if(typeof I.then=="function")return S(_,Qf(I),O);if(I.$$typeof===Ds)return S(_,Xf(_,I),O);Kf(_,I)}return null}function E(_,I,O,k){var q=I!==null?I.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return q!==null?null:d(_,I,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case qf:return O.key===q?m(_,I,O,k):null;case gu:return O.key===q?x(_,I,O,k):null;case mo:return q=O._init,O=q(O._payload),E(_,I,O,k)}if(pu(O)||iu(O))return q!==null?null:N(_,I,O,k,null);if(typeof O.then=="function")return E(_,I,Qf(O),k);if(O.$$typeof===Ds)return E(_,I,Xf(_,O),k);Kf(_,O)}return null}function w(_,I,O,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return _=_.get(O)||null,d(I,_,""+k,q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case qf:return _=_.get(k.key===null?O:k.key)||null,m(I,_,k,q);case gu:return _=_.get(k.key===null?O:k.key)||null,x(I,_,k,q);case mo:var X=k._init;return k=X(k._payload),w(_,I,O,k,q)}if(pu(k)||iu(k))return _=_.get(O)||null,N(I,_,k,q,null);if(typeof k.then=="function")return w(_,I,O,Qf(k),q);if(k.$$typeof===Ds)return w(_,I,O,Xf(I,k),q);Kf(I,k)}return null}function R(_,I,O,k){for(var q=null,X=null,F=I,L=I=0,j=null;F!==null&&L<O.length;L++){F.index>L?(j=F,F=null):j=F.sibling;var K=E(_,F,O[L],k);if(K===null){F===null&&(F=j);break}e&&F&&K.alternate===null&&t(_,F),I=o(K,I,L),X===null?q=K:X.sibling=K,X=K,F=j}if(L===O.length)return n(_,F),bn&&hl(_,L),q;if(F===null){for(;L<O.length;L++)F=S(_,O[L],k),F!==null&&(I=o(F,I,L),X===null?q=F:X.sibling=F,X=F);return bn&&hl(_,L),q}for(F=r(F);L<O.length;L++)j=w(F,_,L,O[L],k),j!==null&&(e&&j.alternate!==null&&F.delete(j.key===null?L:j.key),I=o(j,I,L),X===null?q=j:X.sibling=j,X=j);return e&&F.forEach(function(z){return t(_,z)}),bn&&hl(_,L),q}function M(_,I,O,k){if(O==null)throw Error($e(151));for(var q=null,X=null,F=I,L=I=0,j=null,K=O.next();F!==null&&!K.done;L++,K=O.next()){F.index>L?(j=F,F=null):j=F.sibling;var z=E(_,F,K.value,k);if(z===null){F===null&&(F=j);break}e&&F&&z.alternate===null&&t(_,F),I=o(z,I,L),X===null?q=z:X.sibling=z,X=z,F=j}if(K.done)return n(_,F),bn&&hl(_,L),q;if(F===null){for(;!K.done;L++,K=O.next())K=S(_,K.value,k),K!==null&&(I=o(K,I,L),X===null?q=K:X.sibling=K,X=K);return bn&&hl(_,L),q}for(F=r(F);!K.done;L++,K=O.next())K=w(F,_,L,K.value,k),K!==null&&(e&&K.alternate!==null&&F.delete(K.key===null?L:K.key),I=o(K,I,L),X===null?q=K:X.sibling=K,X=K);return e&&F.forEach(function(D){return t(_,D)}),bn&&hl(_,L),q}function H(_,I,O,k){if(typeof O=="object"&&O!==null&&O.type===sc&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case qf:e:{for(var q=O.key;I!==null;){if(I.key===q){if(q=O.type,q===sc){if(I.tag===7){n(_,I.sibling),k=s(I,O.props.children),k.return=_,_=k;break e}}else if(I.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===mo&&pp(q)===I.type){n(_,I.sibling),k=s(I,O.props),ou(k,O),k.return=_,_=k;break e}n(_,I);break}else t(_,I);I=I.sibling}O.type===sc?(k=xl(O.props.children,_.mode,k,O.key),k.return=_,_=k):(k=f0(O.type,O.key,O.props,null,_.mode,k),ou(k,O),k.return=_,_=k)}return f(_);case gu:e:{for(q=O.key;I!==null;){if(I.key===q)if(I.tag===4&&I.stateNode.containerInfo===O.containerInfo&&I.stateNode.implementation===O.implementation){n(_,I.sibling),k=s(I,O.children||[]),k.return=_,_=k;break e}else{n(_,I);break}else t(_,I);I=I.sibling}k=r1(O,_.mode,k),k.return=_,_=k}return f(_);case mo:return q=O._init,O=q(O._payload),H(_,I,O,k)}if(pu(O))return R(_,I,O,k);if(iu(O)){if(q=iu(O),typeof q!="function")throw Error($e(150));return O=q.call(O),M(_,I,O,k)}if(typeof O.then=="function")return H(_,I,Qf(O),k);if(O.$$typeof===Ds)return H(_,I,Xf(_,O),k);Kf(_,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,I!==null&&I.tag===6?(n(_,I.sibling),k=s(I,O),k.return=_,_=k):(n(_,I),k=i1(O,_.mode,k),k.return=_,_=k),f(_)):n(_,I)}return function(_,I,O,k){try{Yu=0;var q=H(_,I,O,k);return Cc=null,q}catch(F){if(F===gf||F===hh)throw F;var X=ra(29,F,null,_.mode);return X.lanes=k,X.return=_,X}finally{}}}var Mc=S5(!0),N5=S5(!1),Oa=ds(null),fs=null;function vo(e){var t=e.alternate;si(Gi,Gi.current&1),si(Oa,e),fs===null&&(t===null||Lc.current!==null||t.memoizedState!==null)&&(fs=e)}function C5(e){if(e.tag===22){if(si(Gi,Gi.current),si(Oa,e),fs===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(fs=e)}}else bo()}function bo(){si(Gi,Gi.current),si(Oa,Oa.current)}function Bs(e){tr(Oa),fs===e&&(fs=null),tr(Gi)}var Gi=ds(0);function j0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Nd(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function o1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ld={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ca(),s=Io(r);s.payload=t,n!=null&&(s.callback=n),t=Oo(e,s,r),t!==null&&(ua(t,e,r),Nu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ca(),s=Io(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Oo(e,s,r),t!==null&&(ua(t,e,r),Nu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ca(),r=Io(n);r.tag=2,t!=null&&(r.callback=t),t=Oo(e,r,n),t!==null&&(ua(t,e,n),Nu(t,e,n))}};function mp(e,t,n,r,s,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,f):t.prototype&&t.prototype.isPureReactComponent?!qu(n,r)||!qu(s,o):!0}function xp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function Dl(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Jn({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var B0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function E5(e){B0(e)}function _5(e){console.error(e)}function T5(e){B0(e)}function k0(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function yp(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function cd(e,t,n){return n=Io(n),n.tag=3,n.payload={element:null},n.callback=function(){k0(e,t)},n}function I5(e){return e=Io(e),e.tag=3,e}function O5(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){yp(t,n,r)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){yp(t,n,r),typeof s!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var d=r.stack;this.componentDidCatch(r.value,{componentStack:d!==null?d:""})})}function Xv(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&hf(t,n,s,!0),n=Oa.current,n!==null){switch(n.tag){case 13:return fs===null?xd():n.alternate===null&&bi===0&&(bi=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===td?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),y1(e,r,s)),!1;case 22:return n.flags|=65536,r===td?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),y1(e,r,s)),!1}throw Error($e(435,n.tag))}return y1(e,r,s),xd(),!1}if(bn)return t=Oa.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==Q1&&(e=Error($e(422),{cause:r}),Gu(Ta(e,n)))):(r!==Q1&&(t=Error($e(423),{cause:r}),Gu(Ta(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=Ta(r,n),s=cd(e.stateNode,r,s),a1(e,s),bi!==4&&(bi=2)),!1;var o=Error($e(520),{cause:r});if(o=Ta(o,n),Ou===null?Ou=[o]:Ou.push(o),bi!==4&&(bi=2),t===null)return!0;r=Ta(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=cd(n.stateNode,r,e),a1(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Lo===null||!Lo.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=I5(s),O5(s,e,n,r),a1(n,s),!1}n=n.return}while(n!==null);return!1}var L5=Error($e(461)),er=!1;function cr(e,t,n,r){t.child=e===null?N5(t,null,n,r):Mc(t,e.child,n,r)}function vp(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var f={};for(var d in r)d!=="ref"&&(f[d]=r[d])}else f=r;return Ol(t),r=v2(e,t,n,f,o,s),d=b2(),e!==null&&!er?(w2(e,t,s),qs(e,t,s)):(bn&&d&&h2(t),t.flags|=1,cr(e,t,r,s),t.child)}function bp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!f2(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,D5(e,t,o,r,s)):(e=f0(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!O2(e,s)){var f=o.memoizedProps;if(n=n.compare,n=n!==null?n:qu,n(f,r)&&e.ref===t.ref)return qs(e,t,s)}return t.flags|=1,e=Ps(o,r),e.ref=t.ref,e.return=t,t.child=e}function D5(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(qu(o,r)&&e.ref===t.ref)if(er=!1,t.pendingProps=r=o,O2(e,s))e.flags&131072&&(er=!0);else return t.lanes=e.lanes,qs(e,t,s)}return ud(e,t,n,r,s)}function M5(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return wp(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&h0(t,o!==null?o.cachePool:null),o!==null?lp(t,o):rd(),C5(t);else return t.lanes=t.childLanes=536870912,wp(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(h0(t,o.cachePool),lp(t,o),bo(),t.memoizedState=null):(e!==null&&h0(t,null),rd(),bo());return cr(e,t,s,n),t.child}function wp(e,t,n,r){var s=p2();return s=s===null?null:{parent:qi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&h0(t,null),rd(),C5(t),e!==null&&hf(e,t,r,!0),null}function p0(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($e(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ud(e,t,n,r,s){return Ol(t),n=v2(e,t,n,r,void 0,s),r=b2(),e!==null&&!er?(w2(e,t,s),qs(e,t,s)):(bn&&r&&h2(t),t.flags|=1,cr(e,t,n,s),t.child)}function Ap(e,t,n,r,s,o){return Ol(t),t.updateQueue=null,n=Yx(t,r,n,s),Vx(e),r=b2(),e!==null&&!er?(w2(e,t,o),qs(e,t,o)):(bn&&r&&h2(t),t.flags|=1,cr(e,t,n,o),t.child)}function Sp(e,t,n,r,s){if(Ol(t),t.stateNode===null){var o=gc,f=n.contextType;typeof f=="object"&&f!==null&&(o=Nr(f)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ld,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},m2(t),f=n.contextType,o.context=typeof f=="object"&&f!==null?Nr(f):gc,o.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(o1(t,n,f,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&ld.enqueueReplaceState(o,o.state,null),Eu(t,r,o,s),Cu(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var d=t.memoizedProps,m=Dl(n,d);o.props=m;var x=o.context,N=n.contextType;f=gc,typeof N=="object"&&N!==null&&(f=Nr(N));var S=n.getDerivedStateFromProps;N=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,N||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d||x!==f)&&xp(t,o,r,f),xo=!1;var E=t.memoizedState;o.state=E,Eu(t,r,o,s),Cu(),x=t.memoizedState,d||E!==x||xo?(typeof S=="function"&&(o1(t,n,S,r),x=t.memoizedState),(m=xo||mp(t,n,m,r,E,x,f))?(N||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=f,r=m):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,nd(e,t),f=t.memoizedProps,N=Dl(n,f),o.props=N,S=t.pendingProps,E=o.context,x=n.contextType,m=gc,typeof x=="object"&&x!==null&&(m=Nr(x)),d=n.getDerivedStateFromProps,(x=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==S||E!==m)&&xp(t,o,r,m),xo=!1,E=t.memoizedState,o.state=E,Eu(t,r,o,s),Cu();var w=t.memoizedState;f!==S||E!==w||xo||e!==null&&e.dependencies!==null&&O0(e.dependencies)?(typeof d=="function"&&(o1(t,n,d,r),w=t.memoizedState),(N=xo||mp(t,n,N,r,E,w,m)||e!==null&&e.dependencies!==null&&O0(e.dependencies))?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,m),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,m)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=m,r=N):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,p0(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Mc(t,e.child,null,s),t.child=Mc(t,null,n,s)):cr(e,t,n,s),t.memoizedState=o.state,e=t.child):e=qs(e,t,s),e}function Np(e,t,n,r){return ff(),t.flags|=256,cr(e,t,n,r),t.child}var l1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c1(e){return{baseLanes:e,cachePool:Ux()}}function u1(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ia),e}function R5(e,t,n){var r=t.pendingProps,s=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Gi.current&2)!==0),f&&(s=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(bn){if(s?vo(t):bo(),bn){var d=vi,m;if(m=d){e:{for(m=d,d=ss;m.nodeType!==8;){if(!d){d=null;break e}if(m=Va(m.nextSibling),m===null){d=null;break e}}d=m}d!==null?(t.memoizedState={dehydrated:d,treeContext:yl!==null?{id:Ms,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},m=ra(18,null,null,0),m.stateNode=d,m.return=t,t.child=m,Lr=t,vi=null,m=!0):m=!1}m||Il(t)}if(d=t.memoizedState,d!==null&&(d=d.dehydrated,d!==null))return Nd(d)?t.lanes=32:t.lanes=536870912,null;Bs(t)}return d=r.children,r=r.fallback,s?(bo(),s=t.mode,d=P0({mode:"hidden",children:d},s),r=xl(r,s,n,null),d.return=t,r.return=t,d.sibling=r,t.child=d,s=t.child,s.memoizedState=c1(n),s.childLanes=u1(e,f,n),t.memoizedState=l1,r):(vo(t),fd(t,d))}if(m=e.memoizedState,m!==null&&(d=m.dehydrated,d!==null)){if(o)t.flags&256?(vo(t),t.flags&=-257,t=f1(e,t,n)):t.memoizedState!==null?(bo(),t.child=e.child,t.flags|=128,t=null):(bo(),s=r.fallback,d=t.mode,r=P0({mode:"visible",children:r.children},d),s=xl(s,d,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Mc(t,e.child,null,n),r=t.child,r.memoizedState=c1(n),r.childLanes=u1(e,f,n),t.memoizedState=l1,t=s);else if(vo(t),Nd(d)){if(f=d.nextSibling&&d.nextSibling.dataset,f)var x=f.dgst;f=x,r=Error($e(419)),r.stack="",r.digest=f,Gu({value:r,source:null,stack:null}),t=f1(e,t,n)}else if(er||hf(e,t,n,!1),f=(n&e.childLanes)!==0,er||f){if(f=Gn,f!==null&&(r=n&-n,r=r&42?1:e2(r),r=r&(f.suspendedLanes|n)?0:r,r!==0&&r!==m.retryLane))throw m.retryLane=r,qc(e,r),ua(f,e,r),L5;d.data==="$?"||xd(),t=f1(e,t,n)}else d.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,vi=Va(d.nextSibling),Lr=t,bn=!0,vl=null,ss=!1,e!==null&&(Ca[Ea++]=Ms,Ca[Ea++]=Rs,Ca[Ea++]=yl,Ms=e.id,Rs=e.overflow,yl=t),t=fd(t,r.children),t.flags|=4096);return t}return s?(bo(),s=r.fallback,d=t.mode,m=e.child,x=m.sibling,r=Ps(m,{mode:"hidden",children:r.children}),r.subtreeFlags=m.subtreeFlags&65011712,x!==null?s=Ps(x,s):(s=xl(s,d,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,d=e.child.memoizedState,d===null?d=c1(n):(m=d.cachePool,m!==null?(x=qi._currentValue,m=m.parent!==x?{parent:x,pool:x}:m):m=Ux(),d={baseLanes:d.baseLanes|n,cachePool:m}),s.memoizedState=d,s.childLanes=u1(e,f,n),t.memoizedState=l1,r):(vo(t),n=e.child,e=n.sibling,n=Ps(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function fd(e,t){return t=P0({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function P0(e,t){return e=ra(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function f1(e,t,n){return Mc(t,e.child,null,n),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),J1(e.return,t,n)}function h1(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function j5(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(cr(e,t,r.children,n),r=Gi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,n,t);else if(e.tag===19)Cp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(si(Gi,r),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&j0(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),h1(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&j0(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}h1(t,!0,n,null,o);break;case"together":h1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Uo|=t.lanes,!(n&t.childLanes))if(e!==null){if(hf(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,n=Ps(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ps(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function O2(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&O0(e)))}function Zv(e,t,n){switch(t.tag){case 3:A0(t,t.stateNode.containerInfo),yo(t,qi,e.memoizedState.cache),ff();break;case 27:case 5:U1(t);break;case 4:A0(t,t.stateNode.containerInfo);break;case 10:yo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(vo(t),t.flags|=128,null):n&t.child.childLanes?R5(e,t,n):(vo(t),e=qs(e,t,n),e!==null?e.sibling:null);vo(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(hf(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return j5(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),si(Gi,Gi.current),r)break;return null;case 22:case 23:return t.lanes=0,M5(e,t,n);case 24:yo(t,qi,e.memoizedState.cache)}return qs(e,t,n)}function B5(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)er=!0;else{if(!O2(e,n)&&!(t.flags&128))return er=!1,Zv(e,t,n);er=!!(e.flags&131072)}else er=!1,bn&&t.flags&1048576&&Px(t,I0,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,typeof r=="function")f2(r)?(e=Dl(r,e),t.tag=1,t=Sp(null,t,r,e,n)):(t.tag=0,t=ud(null,t,r,e,n));else{if(r!=null){if(s=r.$$typeof,s===Kd){t.tag=11,t=vp(null,t,r,e,n);break e}else if(s===Jd){t.tag=14,t=bp(null,t,r,e,n);break e}}throw t=P1(r)||r,Error($e(306,t,""))}}return t;case 0:return ud(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=Dl(r,t.pendingProps),Sp(e,t,r,s,n);case 3:e:{if(A0(t,t.stateNode.containerInfo),e===null)throw Error($e(387));r=t.pendingProps;var o=t.memoizedState;s=o.element,nd(e,t),Eu(t,r,null,n);var f=t.memoizedState;if(r=f.cache,yo(t,qi,r),r!==o.cache&&$1(t,[qi],n,!0),Cu(),r=f.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Np(e,t,r,n);break e}else if(r!==s){s=Ta(Error($e(424)),t),Gu(s),t=Np(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(vi=Va(e.firstChild),Lr=t,bn=!0,vl=null,ss=!0,n=N5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ff(),r===s){t=qs(e,t,n);break e}cr(e,t,r,n)}t=t.child}return t;case 26:return p0(e,t),e===null?(n=Hp(t.type,null,t.pendingProps,null))?t.memoizedState=n:bn||(n=t.type,e=t.pendingProps,r=V0(To.current).createElement(n),r[Sr]=t,r[qr]=e,fr(r,n,e),$i(r),t.stateNode=r):t.memoizedState=Hp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return U1(t),e===null&&bn&&(r=t.stateNode=A3(t.type,t.pendingProps,To.current),Lr=t,ss=!0,s=vi,Vo(t.type)?(Cd=s,vi=Va(r.firstChild)):vi=s),cr(e,t,t.pendingProps.children,n),p0(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&bn&&((s=r=vi)&&(r=Sb(r,t.type,t.pendingProps,ss),r!==null?(t.stateNode=r,Lr=t,vi=Va(r.firstChild),ss=!1,s=!0):s=!1),s||Il(t)),U1(t),s=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,r=o.children,Ad(s,o)?r=null:f!==null&&Ad(s,f)&&(t.flags|=32),t.memoizedState!==null&&(s=v2(e,t,zv,null,null,n),Qu._currentValue=s),p0(e,t),cr(e,t,r,n),t.child;case 6:return e===null&&bn&&((e=n=vi)&&(n=Nb(n,t.pendingProps,ss),n!==null?(t.stateNode=n,Lr=t,vi=null,e=!0):e=!1),e||Il(t)),null;case 13:return R5(e,t,n);case 4:return A0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mc(t,null,r,n):cr(e,t,r,n),t.child;case 11:return vp(e,t,t.type,t.pendingProps,n);case 7:return cr(e,t,t.pendingProps,n),t.child;case 8:return cr(e,t,t.pendingProps.children,n),t.child;case 12:return cr(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yo(t,t.type,r.value),cr(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ol(t),s=Nr(s),r=r(s),t.flags|=1,cr(e,t,r,n),t.child;case 14:return bp(e,t,t.type,t.pendingProps,n);case 15:return D5(e,t,t.type,t.pendingProps,n);case 19:return j5(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=P0(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Ps(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return M5(e,t,n);case 24:return Ol(t),r=Nr(qi),e===null?(s=p2(),s===null&&(s=Gn,o=g2(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},m2(t),yo(t,qi,s)):(e.lanes&n&&(nd(e,t),Eu(t,null,null,n),Cu()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),yo(t,qi,r)):(r=o.cache,yo(t,qi,r),r!==s.cache&&$1(t,[qi],n,!0))),cr(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($e(156,t.tag))}function _s(e){e.flags|=4}function Ep(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!C3(t)){if(t=Oa.current,t!==null&&((hn&4194048)===hn?fs!==null:(hn&62914560)!==hn&&!(hn&536870912)||t!==fs))throw Su=td,zx;e.flags|=8192}}function Jf(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?lx():536870912,e.lanes|=t,Rc|=t)}function lu(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qv(e,t,n){var r=t.pendingProps;switch(d2(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(t),null;case 1:return fi(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fs(qi),_c(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(su(t)?_s(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,np())),fi(t),null;case 26:return n=t.memoizedState,e===null?(_s(t),n!==null?(fi(t),Ep(t,n)):(fi(t),t.flags&=-16777217)):n?n!==e.memoizedState?(_s(t),fi(t),Ep(t,n)):(fi(t),t.flags&=-16777217):(e.memoizedProps!==r&&_s(t),fi(t),t.flags&=-16777217),null;case 27:S0(t),n=To.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_s(t);else{if(!r){if(t.stateNode===null)throw Error($e(166));return fi(t),null}e=cs.current,su(t)?ep(t):(e=A3(s,r,n),t.stateNode=e,_s(t))}return fi(t),null;case 5:if(S0(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_s(t);else{if(!r){if(t.stateNode===null)throw Error($e(166));return fi(t),null}if(e=cs.current,su(t))ep(t);else{switch(s=V0(To.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Sr]=t,e[qr]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(fr(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_s(t)}}return fi(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&_s(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error($e(166));if(e=To.current,su(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=Lr,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Sr]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||v3(e.nodeValue,n)),e||Il(t)}else e=V0(e).createTextNode(r),e[Sr]=t,t.stateNode=e}return fi(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=su(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[Sr]=t}else ff(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fi(t),s=!1}else s=np(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Bs(t),t):(Bs(t),null)}if(Bs(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Jf(t,t.updateQueue),fi(t),null;case 4:return _c(),e===null&&P2(t.stateNode.containerInfo),fi(t),null;case 10:return Fs(t.type),fi(t),null;case 19:if(tr(Gi),s=t.memoizedState,s===null)return fi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)lu(s,!1);else{if(bi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=j0(e),o!==null){for(t.flags|=128,lu(s,!1),e=o.updateQueue,t.updateQueue=e,Jf(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)kx(n,e),n=n.sibling;return si(Gi,Gi.current&1|2),t.child}e=e.sibling}s.tail!==null&&us()>U0&&(t.flags|=128,r=!0,lu(s,!1),t.lanes=4194304)}else{if(!r)if(e=j0(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Jf(t,e),lu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return fi(t),null}else 2*us()-s.renderingStartTime>U0&&n!==536870912&&(t.flags|=128,r=!0,lu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=us(),t.sibling=null,e=Gi.current,si(Gi,r?e&1|2:e&1),t):(fi(t),null);case 22:case 23:return Bs(t),x2(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(fi(t),t.subtreeFlags&6&&(t.flags|=8192)):fi(t),n=t.updateQueue,n!==null&&Jf(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&tr(bl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fs(qi),fi(t),null;case 25:return null;case 30:return null}throw Error($e(156,t.tag))}function Kv(e,t){switch(d2(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fs(qi),_c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return S0(t),null;case 13:if(Bs(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));ff()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(Gi),null;case 4:return _c(),null;case 10:return Fs(t.type),null;case 22:case 23:return Bs(t),x2(),e!==null&&tr(bl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fs(qi),null;case 25:return null;default:return null}}function k5(e,t){switch(d2(t),t.tag){case 3:Fs(qi),_c();break;case 26:case 27:case 5:S0(t);break;case 4:_c();break;case 13:Bs(t);break;case 19:tr(Gi);break;case 10:Fs(t.type);break;case 22:case 23:Bs(t),x2(),e!==null&&tr(bl);break;case 24:Fs(qi)}}function xf(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,f=n.inst;r=o(),f.destroy=r}n=n.next}while(n!==s)}}catch(d){Pn(t,t.return,d)}}function Fo(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var o=s.next;r=o;do{if((r.tag&e)===e){var f=r.inst,d=f.destroy;if(d!==void 0){f.destroy=void 0,s=t;var m=n,x=d;try{x()}catch(N){Pn(s,m,N)}}}r=r.next}while(r!==o)}}catch(N){Pn(t,t.return,N)}}function P5(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Gx(t,n)}catch(r){Pn(e,e.return,r)}}}function F5(e,t,n){n.props=Dl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pn(e,t,r)}}function Tu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){Pn(e,t,s)}}function os(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){Pn(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Pn(e,t,s)}else n.current=null}function U5(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Pn(e,e.return,s)}}function d1(e,t,n){try{var r=e.stateNode;yb(r,e.type,n,t),r[qr]=t}catch(s){Pn(e,e.return,s)}}function z5(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vo(e.type)||e.tag===4}function g1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vh));else if(r!==4&&(r===27&&Vo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}function F0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Vo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(F0(e,t,n),e=e.sibling;e!==null;)F0(e,t,n),e=e.sibling}function H5(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);fr(t,r,n),t[Sr]=e,t[qr]=n}catch(o){Pn(e,e.return,o)}}var Ls=!1,Ti=!1,p1=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Ji=null;function Jv(e,t){if(e=e.containerInfo,bd=Z0,e=Ix(e),l2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var f=0,d=-1,m=-1,x=0,N=0,S=e,E=null;t:for(;;){for(var w;S!==n||s!==0&&S.nodeType!==3||(d=f+s),S!==o||r!==0&&S.nodeType!==3||(m=f+r),S.nodeType===3&&(f+=S.nodeValue.length),(w=S.firstChild)!==null;)E=S,S=w;for(;;){if(S===e)break t;if(E===n&&++x===s&&(d=f),E===o&&++N===r&&(m=f),(w=S.nextSibling)!==null)break;S=E,E=S.parentNode}S=w}n=d===-1||m===-1?null:{start:d,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(wd={focusedElem:e,selectionRange:n},Z0=!1,Ji=t;Ji!==null;)if(t=Ji,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ji=e;else for(;Ji!==null;){switch(t=Ji,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var R=Dl(n.type,s,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(R,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(M){Pn(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Sd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($e(163))}if(e=t.sibling,e!==null){e.return=t.return,Ji=e;break}Ji=t.return}}function q5(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:uo(e,n),r&4&&xf(5,n);break;case 1:if(uo(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Pn(n,n.return,f)}else{var s=Dl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Pn(n,n.return,f)}}r&64&&P5(n),r&512&&Tu(n,n.return);break;case 3:if(uo(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Gx(e,t)}catch(f){Pn(n,n.return,f)}}break;case 27:t===null&&r&4&&H5(n);case 26:case 5:uo(e,n),t===null&&r&4&&U5(n),r&512&&Tu(n,n.return);break;case 12:uo(e,n);break;case 13:uo(e,n),r&4&&Y5(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ob.bind(null,n),Cb(e,n))));break;case 22:if(r=n.memoizedState!==null||Ls,!r){t=t!==null&&t.memoizedState!==null||Ti,s=Ls;var o=Ti;Ls=r,(Ti=t)&&!o?po(e,n,(n.subtreeFlags&8772)!==0):uo(e,n),Ls=s,Ti=o}break;case 30:break;default:uo(e,n)}}function G5(e){var t=e.alternate;t!==null&&(e.alternate=null,G5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&n2(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ri=null,zr=!1;function Ts(e,t,n){for(n=n.child;n!==null;)V5(e,t,n),n=n.sibling}function V5(e,t,n){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 26:Ti||os(n,t),Ts(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ti||os(n,t);var r=ri,s=zr;Vo(n.type)&&(ri=n.stateNode,zr=!1),Ts(e,t,n),Du(n.stateNode),ri=r,zr=s;break;case 5:Ti||os(n,t);case 6:if(r=ri,s=zr,ri=null,Ts(e,t,n),ri=r,zr=s,ri!==null)if(zr)try{(ri.nodeType===9?ri.body:ri.nodeName==="HTML"?ri.ownerDocument.body:ri).removeChild(n.stateNode)}catch(o){Pn(n,t,o)}else try{ri.removeChild(n.stateNode)}catch(o){Pn(n,t,o)}break;case 18:ri!==null&&(zr?(e=ri,Fp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$u(e)):Fp(ri,n.stateNode));break;case 4:r=ri,s=zr,ri=n.stateNode.containerInfo,zr=!0,Ts(e,t,n),ri=r,zr=s;break;case 0:case 11:case 14:case 15:Ti||Fo(2,n,t),Ti||Fo(4,n,t),Ts(e,t,n);break;case 1:Ti||(os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&F5(n,t,r)),Ts(e,t,n);break;case 21:Ts(e,t,n);break;case 22:Ti=(r=Ti)||n.memoizedState!==null,Ts(e,t,n),Ti=r;break;default:Ts(e,t,n)}}function Y5(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$u(e)}catch(n){Pn(t,t.return,n)}}function $v(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _p),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _p),t;default:throw Error($e(435,e.tag))}}function m1(e,t){var n=$v(e);t.forEach(function(r){var s=lb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}function $r(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],o=e,f=t,d=f;e:for(;d!==null;){switch(d.tag){case 27:if(Vo(d.type)){ri=d.stateNode,zr=!1;break e}break;case 5:ri=d.stateNode,zr=!1;break e;case 3:case 4:ri=d.stateNode.containerInfo,zr=!0;break e}d=d.return}if(ri===null)throw Error($e(160));V5(o,f,s),ri=null,zr=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)W5(t,e),t=t.sibling}var Ha=null;function W5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$r(t,e),ea(e),r&4&&(Fo(3,e,e.return),xf(3,e),Fo(5,e,e.return));break;case 1:$r(t,e),ea(e),r&512&&(Ti||n===null||os(n,n.return)),r&64&&Ls&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Ha;if($r(t,e),ea(e),r&512&&(Ti||n===null||os(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":o=s.getElementsByTagName("title")[0],(!o||o[cf]||o[Sr]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),fr(o,r,n),o[Sr]=e,$i(o),r=o;break e;case"link":var f=Gp("link","href",s).get(r+(n.href||""));if(f){for(var d=0;d<f.length;d++)if(o=f[d],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(d,1);break t}}o=s.createElement(r),fr(o,r,n),s.head.appendChild(o);break;case"meta":if(f=Gp("meta","content",s).get(r+(n.content||""))){for(d=0;d<f.length;d++)if(o=f[d],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(d,1);break t}}o=s.createElement(r),fr(o,r,n),s.head.appendChild(o);break;default:throw Error($e(468,r))}o[Sr]=e,$i(o),r=o}e.stateNode=r}else Vp(s,e.type,e.stateNode);else e.stateNode=qp(s,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Vp(s,e.type,e.stateNode):qp(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&d1(e,e.memoizedProps,n.memoizedProps)}break;case 27:$r(t,e),ea(e),r&512&&(Ti||n===null||os(n,n.return)),n!==null&&r&4&&d1(e,e.memoizedProps,n.memoizedProps);break;case 5:if($r(t,e),ea(e),r&512&&(Ti||n===null||os(n,n.return)),e.flags&32){s=e.stateNode;try{Ic(s,"")}catch(w){Pn(e,e.return,w)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,d1(e,s,n!==null?n.memoizedProps:s)),r&1024&&(p1=!0);break;case 6:if($r(t,e),ea(e),r&4){if(e.stateNode===null)throw Error($e(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(w){Pn(e,e.return,w)}}break;case 3:if(y0=null,s=Ha,Ha=Y0(t.containerInfo),$r(t,e),Ha=s,ea(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$u(t.containerInfo)}catch(w){Pn(e,e.return,w)}p1&&(p1=!1,X5(e));break;case 4:r=Ha,Ha=Y0(e.stateNode.containerInfo),$r(t,e),ea(e),Ha=r;break;case 12:$r(t,e),ea(e);break;case 13:$r(t,e),ea(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(j2=us()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,m1(e,r)));break;case 22:s=e.memoizedState!==null;var m=n!==null&&n.memoizedState!==null,x=Ls,N=Ti;if(Ls=x||s,Ti=N||m,$r(t,e),Ti=N,Ls=x,ea(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||m||Ls||Ti||dl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){m=n=t;try{if(o=m.stateNode,s)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{d=m.stateNode;var S=m.memoizedProps.style,E=S!=null&&S.hasOwnProperty("display")?S.display:null;d.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(w){Pn(m,m.return,w)}}}else if(t.tag===6){if(n===null){m=t;try{m.stateNode.nodeValue=s?"":m.memoizedProps}catch(w){Pn(m,m.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,m1(e,n))));break;case 19:$r(t,e),ea(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,m1(e,r)));break;case 30:break;case 21:break;default:$r(t,e),ea(e)}}function ea(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(z5(r)){n=r;break}r=r.return}if(n==null)throw Error($e(160));switch(n.tag){case 27:var s=n.stateNode,o=g1(e);F0(e,o,s);break;case 5:var f=n.stateNode;n.flags&32&&(Ic(f,""),n.flags&=-33);var d=g1(e);F0(e,d,f);break;case 3:case 4:var m=n.stateNode.containerInfo,x=g1(e);hd(e,x,m);break;default:throw Error($e(161))}}catch(N){Pn(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X5(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;X5(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function uo(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)q5(e,t.alternate,t),t=t.sibling}function dl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fo(4,t,t.return),dl(t);break;case 1:os(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&F5(t,t.return,n),dl(t);break;case 27:Du(t.stateNode);case 26:case 5:os(t,t.return),dl(t);break;case 22:t.memoizedState===null&&dl(t);break;case 30:dl(t);break;default:dl(t)}e=e.sibling}}function po(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:po(s,o,n),xf(4,o);break;case 1:if(po(s,o,n),r=o,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(x){Pn(r,r.return,x)}if(r=o,s=r.updateQueue,s!==null){var d=r.stateNode;try{var m=s.shared.hiddenCallbacks;if(m!==null)for(s.shared.hiddenCallbacks=null,s=0;s<m.length;s++)qx(m[s],d)}catch(x){Pn(r,r.return,x)}}n&&f&64&&P5(o),Tu(o,o.return);break;case 27:H5(o);case 26:case 5:po(s,o,n),n&&r===null&&f&4&&U5(o),Tu(o,o.return);break;case 12:po(s,o,n);break;case 13:po(s,o,n),n&&f&4&&Y5(s,o);break;case 22:o.memoizedState===null&&po(s,o,n),Tu(o,o.return);break;case 30:break;default:po(s,o,n)}t=t.sibling}}function L2(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&df(n))}function D2(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&df(e))}function is(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z5(e,t,n,r),t=t.sibling}function Z5(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:is(e,t,n,r),s&2048&&xf(9,t);break;case 1:is(e,t,n,r);break;case 3:is(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&df(e)));break;case 12:if(s&2048){is(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,d=o.onPostCommit;typeof d=="function"&&d(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){Pn(t,t.return,m)}}else is(e,t,n,r);break;case 13:is(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?is(e,t,n,r):Iu(e,t):o._visibility&2?is(e,t,n,r):(o._visibility|=2,tc(e,t,n,r,(t.subtreeFlags&10256)!==0)),s&2048&&L2(f,t);break;case 24:is(e,t,n,r),s&2048&&D2(t.alternate,t);break;default:is(e,t,n,r)}}function tc(e,t,n,r,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,f=t,d=n,m=r,x=f.flags;switch(f.tag){case 0:case 11:case 15:tc(o,f,d,m,s),xf(8,f);break;case 23:break;case 22:var N=f.stateNode;f.memoizedState!==null?N._visibility&2?tc(o,f,d,m,s):Iu(o,f):(N._visibility|=2,tc(o,f,d,m,s)),s&&x&2048&&L2(f.alternate,f);break;case 24:tc(o,f,d,m,s),s&&x&2048&&D2(f.alternate,f);break;default:tc(o,f,d,m,s)}t=t.sibling}}function Iu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Iu(n,r),s&2048&&L2(r.alternate,r);break;case 24:Iu(n,r),s&2048&&D2(r.alternate,r);break;default:Iu(n,r)}t=t.sibling}}var xu=8192;function Zl(e){if(e.subtreeFlags&xu)for(e=e.child;e!==null;)Q5(e),e=e.sibling}function Q5(e){switch(e.tag){case 26:Zl(e),e.flags&xu&&e.memoizedState!==null&&Pb(Ha,e.memoizedState,e.memoizedProps);break;case 5:Zl(e);break;case 3:case 4:var t=Ha;Ha=Y0(e.stateNode.containerInfo),Zl(e),Ha=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xu,xu=16777216,Zl(e),xu=t):Zl(e));break;default:Zl(e)}}function K5(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ji=r,$5(r,e)}K5(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)J5(e),e=e.sibling}function J5(e){switch(e.tag){case 0:case 11:case 15:cu(e),e.flags&2048&&Fo(9,e,e.return);break;case 3:cu(e);break;case 12:cu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,m0(e)):cu(e);break;default:cu(e)}}function m0(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ji=r,$5(r,e)}K5(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fo(8,t,t.return),m0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,m0(t));break;default:m0(t)}e=e.sibling}}function $5(e,t){for(;Ji!==null;){var n=Ji;switch(n.tag){case 0:case 11:case 15:Fo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:df(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ji=r;else e:for(n=e;Ji!==null;){r=Ji;var s=r.sibling,o=r.return;if(G5(r),r===n){Ji=null;break e}if(s!==null){s.return=o,Ji=s;break e}Ji=o}}}var eb={getCacheForType:function(e){var t=Nr(qi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},tb=typeof WeakMap=="function"?WeakMap:Map,In=0,Gn=null,rn=null,hn=0,_n=0,ia=null,Co=!1,Gc=!1,M2=!1,Gs=0,bi=0,Uo=0,wl=0,R2=0,Ia=0,Rc=0,Ou=null,Hr=null,dd=!1,j2=0,U0=1/0,z0=null,Lo=null,ur=0,Do=null,jc=null,Ec=0,gd=0,pd=null,e3=null,Lu=0,md=null;function ca(){if(In&2&&hn!==0)return hn&-hn;if(kt.T!==null){var e=Oc;return e!==0?e:k2()}return fx()}function t3(){Ia===0&&(Ia=!(hn&536870912)||bn?ox():536870912);var e=Oa.current;return e!==null&&(e.flags|=32),Ia}function ua(e,t,n){(e===Gn&&(_n===2||_n===9)||e.cancelPendingCommit!==null)&&(Bc(e,0),Eo(e,hn,Ia,!1)),lf(e,n),(!(In&2)||e!==Gn)&&(e===Gn&&(!(In&2)&&(wl|=n),bi===4&&Eo(e,hn,Ia,!1)),gs(e))}function n3(e,t,n){if(In&6)throw Error($e(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||of(e,t),s=r?rb(e,t):x1(e,t,!0),o=r;do{if(s===0){Gc&&!r&&Eo(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!nb(n)){s=x1(e,t,!1),o=!1;continue}if(s===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var d=e;s=Ou;var m=d.current.memoizedState.isDehydrated;if(m&&(Bc(d,f).flags|=256),f=x1(d,f,!1),f!==2){if(M2&&!m){d.errorRecoveryDisabledLanes|=o,wl|=o,s=4;break e}o=Hr,Hr=s,o!==null&&(Hr===null?Hr=o:Hr.push.apply(Hr,o))}s=f}if(o=!1,s!==2)continue}}if(s===1){Bc(e,0),Eo(e,t,0,!0);break}e:{switch(r=e,o=s,o){case 0:case 1:throw Error($e(345));case 4:if((t&4194048)!==t)break;case 6:Eo(r,t,Ia,!Co);break e;case 2:Hr=null;break;case 3:case 5:break;default:throw Error($e(329))}if((t&62914560)===t&&(s=j2+300-us(),10<s)){if(Eo(r,t,Ia,!Co),sh(r,0,!0)!==0)break e;r.timeoutHandle=w3(Tp.bind(null,r,n,Hr,z0,dd,t,Ia,wl,Rc,Co,o,2,-0,0),s);break e}Tp(r,n,Hr,z0,dd,t,Ia,wl,Rc,Co,o,0,-0,0)}}break}while(!0);gs(e)}function Tp(e,t,n,r,s,o,f,d,m,x,N,S,E,w){if(e.timeoutHandle=-1,S=t.subtreeFlags,(S&8192||(S&16785408)===16785408)&&(Zu={stylesheets:null,count:0,unsuspend:kb},Q5(t),S=Fb(),S!==null)){e.cancelPendingCommit=S(Op.bind(null,e,t,o,n,r,s,f,d,m,N,1,E,w)),Eo(e,o,f,!x);return}Op(e,t,o,n,r,s,f,d,m)}function nb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!fa(o(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Eo(e,t,n,r){t&=~R2,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-la(s),f=1<<o;r[o]=-1,s&=~f}n!==0&&cx(e,n,t)}function mh(){return In&6?!0:(yf(0),!1)}function B2(){if(rn!==null){if(_n===0)var e=rn.return;else e=rn,js=Pl=null,A2(e),Cc=null,Yu=0,e=rn;for(;e!==null;)k5(e.alternate,e),e=e.return;rn=null}}function Bc(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,bb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),B2(),Gn=e,rn=n=Ps(e.current,null),hn=t,_n=0,ia=null,Co=!1,Gc=of(e,t),M2=!1,Rc=Ia=R2=wl=Uo=bi=0,Hr=Ou=null,dd=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-la(r),o=1<<s;t|=e[s],r&=~o}return Gs=t,uh(),n}function i3(e,t){$t=null,kt.H=R0,t===gf||t===hh?(t=sp(),_n=3):t===zx?(t=sp(),_n=4):_n=t===L5?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ia=t,rn===null&&(bi=1,k0(e,Ta(t,e.current)))}function r3(){var e=kt.H;return kt.H=R0,e===null?R0:e}function a3(){var e=kt.A;return kt.A=eb,e}function xd(){bi=4,Co||(hn&4194048)!==hn&&Oa.current!==null||(Gc=!0),!(Uo&134217727)&&!(wl&134217727)||Gn===null||Eo(Gn,hn,Ia,!1)}function x1(e,t,n){var r=In;In|=2;var s=r3(),o=a3();(Gn!==e||hn!==t)&&(z0=null,Bc(e,t)),t=!1;var f=bi;e:do try{if(_n!==0&&rn!==null){var d=rn,m=ia;switch(_n){case 8:B2(),f=6;break e;case 3:case 2:case 9:case 6:Oa.current===null&&(t=!0);var x=_n;if(_n=0,ia=null,xc(e,d,m,x),n&&Gc){f=0;break e}break;default:x=_n,_n=0,ia=null,xc(e,d,m,x)}}ib(),f=bi;break}catch(N){i3(e,N)}while(!0);return t&&e.shellSuspendCounter++,js=Pl=null,In=r,kt.H=s,kt.A=o,rn===null&&(Gn=null,hn=0,uh()),f}function ib(){for(;rn!==null;)s3(rn)}function rb(e,t){var n=In;In|=2;var r=r3(),s=a3();Gn!==e||hn!==t?(z0=null,U0=us()+500,Bc(e,t)):Gc=of(e,t);e:do try{if(_n!==0&&rn!==null){t=rn;var o=ia;t:switch(_n){case 1:_n=0,ia=null,xc(e,t,o,1);break;case 2:case 9:if(ap(o)){_n=0,ia=null,Ip(t);break}t=function(){_n!==2&&_n!==9||Gn!==e||(_n=7),gs(e)},o.then(t,t);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:ap(o)?(_n=0,ia=null,Ip(t)):(_n=0,ia=null,xc(e,t,o,7));break;case 5:var f=null;switch(rn.tag){case 26:f=rn.memoizedState;case 5:case 27:var d=rn;if(!f||C3(f)){_n=0,ia=null;var m=d.sibling;if(m!==null)rn=m;else{var x=d.return;x!==null?(rn=x,xh(x)):rn=null}break t}}_n=0,ia=null,xc(e,t,o,5);break;case 6:_n=0,ia=null,xc(e,t,o,6);break;case 8:B2(),bi=6;break e;default:throw Error($e(462))}}ab();break}catch(N){i3(e,N)}while(!0);return js=Pl=null,kt.H=r,kt.A=s,In=n,rn!==null?0:(Gn=null,hn=0,uh(),bi)}function ab(){for(;rn!==null&&!_4();)s3(rn)}function s3(e){var t=B5(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?xh(e):rn=t}function Ip(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ap(n,t,t.pendingProps,t.type,void 0,hn);break;case 11:t=Ap(n,t,t.pendingProps,t.type.render,t.ref,hn);break;case 5:A2(t);default:k5(n,t),t=rn=kx(t,Gs),t=B5(n,t,Gs)}e.memoizedProps=e.pendingProps,t===null?xh(e):rn=t}function xc(e,t,n,r){js=Pl=null,A2(t),Cc=null,Yu=0;var s=t.return;try{if(Xv(e,s,t,n,hn)){bi=1,k0(e,Ta(n,e.current)),rn=null;return}}catch(o){if(s!==null)throw rn=s,o;bi=1,k0(e,Ta(n,e.current)),rn=null;return}t.flags&32768?(bn||r===1?e=!0:Gc||hn&536870912?e=!1:(Co=e=!0,(r===2||r===9||r===3||r===6)&&(r=Oa.current,r!==null&&r.tag===13&&(r.flags|=16384))),o3(t,e)):xh(t)}function xh(e){var t=e;do{if(t.flags&32768){o3(t,Co);return}e=t.return;var n=Qv(t.alternate,t,Gs);if(n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);bi===0&&(bi=5)}function o3(e,t){do{var n=Kv(e.alternate,e);if(n!==null){n.flags&=32767,rn=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){rn=e;return}rn=e=n}while(e!==null);bi=6,rn=null}function Op(e,t,n,r,s,o,f,d,m){e.cancelPendingCommit=null;do yh();while(ur!==0);if(In&6)throw Error($e(327));if(t!==null){if(t===e.current)throw Error($e(177));if(o=t.lanes|t.childLanes,o|=c2,k4(e,n,o,f,d,m),e===Gn&&(rn=Gn=null,hn=0),jc=t,Do=e,Ec=n,gd=o,pd=s,e3=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,cb(N0,function(){return h3(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=kt.T,kt.T=null,s=wn.p,wn.p=2,f=In,In|=4;try{Jv(e,t,n)}finally{In=f,wn.p=s,kt.T=r}}ur=1,l3(),c3(),u3()}}function l3(){if(ur===1){ur=0;var e=Do,t=jc,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=kt.T,kt.T=null;var r=wn.p;wn.p=2;var s=In;In|=4;try{W5(t,e);var o=wd,f=Ix(e.containerInfo),d=o.focusedElem,m=o.selectionRange;if(f!==d&&d&&d.ownerDocument&&Tx(d.ownerDocument.documentElement,d)){if(m!==null&&l2(d)){var x=m.start,N=m.end;if(N===void 0&&(N=x),"selectionStart"in d)d.selectionStart=x,d.selectionEnd=Math.min(N,d.value.length);else{var S=d.ownerDocument||document,E=S&&S.defaultView||window;if(E.getSelection){var w=E.getSelection(),R=d.textContent.length,M=Math.min(m.start,R),H=m.end===void 0?M:Math.min(m.end,R);!w.extend&&M>H&&(f=H,H=M,M=f);var _=Kg(d,M),I=Kg(d,H);if(_&&I&&(w.rangeCount!==1||w.anchorNode!==_.node||w.anchorOffset!==_.offset||w.focusNode!==I.node||w.focusOffset!==I.offset)){var O=S.createRange();O.setStart(_.node,_.offset),w.removeAllRanges(),M>H?(w.addRange(O),w.extend(I.node,I.offset)):(O.setEnd(I.node,I.offset),w.addRange(O))}}}}for(S=[],w=d;w=w.parentNode;)w.nodeType===1&&S.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<S.length;d++){var k=S[d];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Z0=!!bd,wd=bd=null}finally{In=s,wn.p=r,kt.T=n}}e.current=t,ur=2}}function c3(){if(ur===2){ur=0;var e=Do,t=jc,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=kt.T,kt.T=null;var r=wn.p;wn.p=2;var s=In;In|=4;try{q5(e,t.alternate,t)}finally{In=s,wn.p=r,kt.T=n}}ur=3}}function u3(){if(ur===4||ur===3){ur=0,T4();var e=Do,t=jc,n=Ec,r=e3;t.subtreeFlags&10256||t.flags&10256?ur=5:(ur=0,jc=Do=null,f3(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Lo=null),t2(n),t=t.stateNode,oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=kt.T,s=wn.p,wn.p=2,kt.T=null;try{for(var o=e.onRecoverableError,f=0;f<r.length;f++){var d=r[f];o(d.value,{componentStack:d.stack})}}finally{kt.T=t,wn.p=s}}Ec&3&&yh(),gs(e),s=e.pendingLanes,n&4194090&&s&42?e===md?Lu++:(Lu=0,md=e):Lu=0,yf(0)}}function f3(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,df(t)))}function yh(e){return l3(),c3(),u3(),h3()}function h3(){if(ur!==5)return!1;var e=Do,t=gd;gd=0;var n=t2(Ec),r=kt.T,s=wn.p;try{wn.p=32>n?32:n,kt.T=null,n=pd,pd=null;var o=Do,f=Ec;if(ur=0,jc=Do=null,Ec=0,In&6)throw Error($e(331));var d=In;if(In|=4,J5(o.current),Z5(o,o.current,f,n),In=d,yf(0,!1),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(sf,o)}catch{}return!0}finally{wn.p=s,kt.T=r,f3(e,t)}}function Lp(e,t,n){t=Ta(n,t),t=cd(e.stateNode,t,2),e=Oo(e,t,2),e!==null&&(lf(e,2),gs(e))}function Pn(e,t,n){if(e.tag===3)Lp(e,e,n);else for(;t!==null;){if(t.tag===3){Lp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lo===null||!Lo.has(r))){e=Ta(n,e),n=I5(2),r=Oo(t,n,2),r!==null&&(O5(n,r,t,e),lf(r,2),gs(r));break}}t=t.return}}function y1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(M2=!0,s.add(n),e=sb.bind(null,e,t,n),t.then(e,e))}function sb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Gn===e&&(hn&n)===n&&(bi===4||bi===3&&(hn&62914560)===hn&&300>us()-j2?!(In&2)&&Bc(e,0):R2|=n,Rc===hn&&(Rc=0)),gs(e)}function d3(e,t){t===0&&(t=lx()),e=qc(e,t),e!==null&&(lf(e,t),gs(e))}function ob(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d3(e,n)}function lb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error($e(314))}r!==null&&r.delete(t),d3(e,n)}function cb(e,t){return $d(e,t)}var H0=null,nc=null,yd=!1,q0=!1,v1=!1,Al=0;function gs(e){e!==nc&&e.next===null&&(nc===null?H0=nc=e:nc=nc.next=e),q0=!0,yd||(yd=!0,fb())}function yf(e,t){if(!v1&&q0){v1=!0;do for(var n=!1,r=H0;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var o=0;else{var f=r.suspendedLanes,d=r.pingedLanes;o=(1<<31-la(42|e)+1)-1,o&=s&~(f&~d),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Dp(r,o))}else o=hn,o=sh(r,r===Gn?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||of(r,o)||(n=!0,Dp(r,o));r=r.next}while(n);v1=!1}}function ub(){g3()}function g3(){q0=yd=!1;var e=0;Al!==0&&(vb()&&(e=Al),Al=0);for(var t=us(),n=null,r=H0;r!==null;){var s=r.next,o=p3(r,t);o===0?(r.next=null,n===null?H0=s:n.next=s,s===null&&(nc=n)):(n=r,(e!==0||o&3)&&(q0=!0)),r=s}yf(e)}function p3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-la(o),d=1<<f,m=s[f];m===-1?(!(d&n)||d&r)&&(s[f]=B4(d,t)):m<=t&&(e.expiredLanes|=d),o&=~d}if(t=Gn,n=hn,n=sh(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(_n===2||_n===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Vh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||of(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Vh(r),t2(n)){case 2:case 8:n=ax;break;case 32:n=N0;break;case 268435456:n=sx;break;default:n=N0}return r=m3.bind(null,e),n=$d(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Vh(r),e.callbackPriority=2,e.callbackNode=null,2}function m3(e,t){if(ur!==0&&ur!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yh()&&e.callbackNode!==n)return null;var r=hn;return r=sh(e,e===Gn?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(n3(e,r,t),p3(e,us()),e.callbackNode!=null&&e.callbackNode===n?m3.bind(null,e):null)}function Dp(e,t){if(yh())return null;n3(e,t,!0)}function fb(){wb(function(){In&6?$d(rx,ub):g3()})}function k2(){return Al===0&&(Al=ox()),Al}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:l0(""+e)}function Rp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hb(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var o=Mp((s[qr]||null).action),f=r.submitter;f&&(t=(t=f[qr]||null)?Mp(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var d=new oh("action","action",null,r,s);e.push({event:d,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Al!==0){var m=f?Rp(s,f):new FormData(s);od(n,{pending:!0,data:m,method:s.method,action:o},null,m)}}else typeof o=="function"&&(d.preventDefault(),m=f?Rp(s,f):new FormData(s),od(n,{pending:!0,data:m,method:s.method,action:o},o,m))},currentTarget:s}]})}}for(var b1=0;b1<Z1.length;b1++){var w1=Z1[b1],db=w1.toLowerCase(),gb=w1[0].toUpperCase()+w1.slice(1);Wa(db,"on"+gb)}Wa(Lx,"onAnimationEnd");Wa(Dx,"onAnimationIteration");Wa(Mx,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(Lv,"onTransitionRun");Wa(Dv,"onTransitionStart");Wa(Mv,"onTransitionCancel");Wa(Rx,"onTransitionEnd");Tc("onMouseEnter",["mouseout","mouseover"]);Tc("onMouseLeave",["mouseout","mouseover"]);Tc("onPointerEnter",["pointerout","pointerover"]);Tc("onPointerLeave",["pointerout","pointerover"]);jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function x3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var f=r.length-1;0<=f;f--){var d=r[f],m=d.instance,x=d.currentTarget;if(d=d.listener,m!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=x;try{o(s)}catch(N){B0(N)}s.currentTarget=null,o=m}else for(f=0;f<r.length;f++){if(d=r[f],m=d.instance,x=d.currentTarget,d=d.listener,m!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=x;try{o(s)}catch(N){B0(N)}s.currentTarget=null,o=m}}}}function nn(e,t){var n=t[H1];n===void 0&&(n=t[H1]=new Set);var r=e+"__bubble";n.has(r)||(y3(t,e,2,!1),n.add(r))}function A1(e,t,n){var r=0;t&&(r|=4),y3(n,e,r,t)}var $f="_reactListening"+Math.random().toString(36).slice(2);function P2(e){if(!e[$f]){e[$f]=!0,hx.forEach(function(n){n!=="selectionchange"&&(pb.has(n)||A1(n,!1,e),A1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$f]||(t[$f]=!0,A1("selectionchange",!1,t))}}function y3(e,t,n,r){switch(O3(t)){case 2:var s=Hb;break;case 8:s=qb;break;default:s=H2}n=s.bind(null,t,n,e),s=void 0,!Y1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function S1(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var d=r.stateNode.containerInfo;if(d===s)break;if(f===4)for(f=r.return;f!==null;){var m=f.tag;if((m===3||m===4)&&f.stateNode.containerInfo===s)return;f=f.return}for(;d!==null;){if(f=lc(d),f===null)return;if(m=f.tag,m===5||m===6||m===26||m===27){r=o=f;continue e}d=d.parentNode}}r=r.return}bx(function(){var x=o,N=r2(n),S=[];e:{var E=jx.get(e);if(E!==void 0){var w=oh,R=e;switch(e){case"keypress":if(u0(n)===0)break e;case"keydown":case"keyup":w=cv;break;case"focusin":R="focus",w=$h;break;case"focusout":R="blur",w=$h;break;case"beforeblur":case"afterblur":w=$h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=K4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=hv;break;case Lx:case Dx:case Mx:w=ev;break;case Rx:w=gv;break;case"scroll":case"scrollend":w=Z4;break;case"wheel":w=mv;break;case"copy":case"cut":case"paste":w=nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=qg;break;case"toggle":case"beforetoggle":w=yv}var M=(t&4)!==0,H=!M&&(e==="scroll"||e==="scrollend"),_=M?E!==null?E+"Capture":null:E;M=[];for(var I=x,O;I!==null;){var k=I;if(O=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||O===null||_===null||(k=zu(I,_),k!=null&&M.push(Xu(I,k,O))),H)break;I=I.return}0<M.length&&(E=new w(E,R,null,n,N),S.push({event:E,listeners:M}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",E&&n!==V1&&(R=n.relatedTarget||n.fromElement)&&(lc(R)||R[zc]))break e;if((w||E)&&(E=N.window===N?N:(E=N.ownerDocument)?E.defaultView||E.parentWindow:window,w?(R=n.relatedTarget||n.toElement,w=x,R=R?lc(R):null,R!==null&&(H=af(R),M=R.tag,R!==H||M!==5&&M!==27&&M!==6)&&(R=null)):(w=null,R=x),w!==R)){if(M=zg,k="onMouseLeave",_="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(M=qg,k="onPointerLeave",_="onPointerEnter",I="pointer"),H=w==null?E:mu(w),O=R==null?E:mu(R),E=new M(k,I+"leave",w,n,N),E.target=H,E.relatedTarget=O,k=null,lc(N)===x&&(M=new M(_,I+"enter",R,n,N),M.target=O,M.relatedTarget=H,k=M),H=k,w&&R)t:{for(M=w,_=R,I=0,O=M;O;O=Ql(O))I++;for(O=0,k=_;k;k=Ql(k))O++;for(;0<I-O;)M=Ql(M),I--;for(;0<O-I;)_=Ql(_),O--;for(;I--;){if(M===_||_!==null&&M===_.alternate)break t;M=Ql(M),_=Ql(_)}M=null}else M=null;w!==null&&jp(S,E,w,M,!1),R!==null&&H!==null&&jp(S,H,R,M,!0)}}e:{if(E=x?mu(x):window,w=E.nodeName&&E.nodeName.toLowerCase(),w==="select"||w==="input"&&E.type==="file")var q=Wg;else if(Yg(E))if(Ex)q=Tv;else{q=Ev;var X=Cv}else w=E.nodeName,!w||w.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?x&&i2(x.elementType)&&(q=Wg):q=_v;if(q&&(q=q(e,x))){Cx(S,q,n,N);break e}X&&X(e,E,x),e==="focusout"&&x&&E.type==="number"&&x.memoizedProps.value!=null&&G1(E,"number",E.value)}switch(X=x?mu(x):window,e){case"focusin":(Yg(X)||X.contentEditable==="true")&&(fc=X,W1=x,wu=null);break;case"focusout":wu=W1=fc=null;break;case"mousedown":X1=!0;break;case"contextmenu":case"mouseup":case"dragend":X1=!1,Jg(S,n,N);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Jg(S,n,N)}var F;if(o2)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else uc?Sx(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Ax&&n.locale!=="ko"&&(uc||L!=="onCompositionStart"?L==="onCompositionEnd"&&uc&&(F=wx()):(No=N,a2="value"in No?No.value:No.textContent,uc=!0)),X=G0(x,L),0<X.length&&(L=new Hg(L,e,null,n,N),S.push({event:L,listeners:X}),F?L.data=F:(F=Nx(n),F!==null&&(L.data=F)))),(F=bv?wv(e,n):Av(e,n))&&(L=G0(x,"onBeforeInput"),0<L.length&&(X=new Hg("onBeforeInput","beforeinput",null,n,N),S.push({event:X,listeners:L}),X.data=F)),hb(S,e,x,n,N)}x3(S,t)})}function Xu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function G0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=zu(e,n),s!=null&&r.unshift(Xu(e,s,o)),s=zu(e,t),s!=null&&r.push(Xu(e,s,o))),e.tag===3)return r;e=e.return}return[]}function Ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jp(e,t,n,r,s){for(var o=t._reactName,f=[];n!==null&&n!==r;){var d=n,m=d.alternate,x=d.stateNode;if(d=d.tag,m!==null&&m===r)break;d!==5&&d!==26&&d!==27||x===null||(m=x,s?(x=zu(n,o),x!=null&&f.unshift(Xu(n,x,m))):s||(x=zu(n,o),x!=null&&f.push(Xu(n,x,m)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var mb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function Bp(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(xb,"")}function v3(e,t){return t=Bp(t),Bp(e)===t}function vh(){}function Rn(e,t,n,r,s,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ic(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ic(e,""+r);break;case"className":Yf(e,"class",r);break;case"tabIndex":Yf(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Yf(e,n,r);break;case"style":vx(e,r,o);break;case"data":if(t!=="object"){Yf(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=l0(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Rn(e,t,"name",s.name,s,null),Rn(e,t,"formEncType",s.formEncType,s,null),Rn(e,t,"formMethod",s.formMethod,s,null),Rn(e,t,"formTarget",s.formTarget,s,null)):(Rn(e,t,"encType",s.encType,s,null),Rn(e,t,"method",s.method,s,null),Rn(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=l0(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=vh);break;case"onScroll":r!=null&&nn("scroll",e);break;case"onScrollEnd":r!=null&&nn("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($e(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error($e(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=l0(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":nn("beforetoggle",e),nn("toggle",e),o0(e,"popover",r);break;case"xlinkActuate":Es(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Es(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Es(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Es(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Es(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Es(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Es(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Es(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Es(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":o0(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=W4.get(n)||n,o0(e,n,r))}}function vd(e,t,n,r,s,o){switch(n){case"style":vx(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($e(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error($e(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ic(e,r):(typeof r=="number"||typeof r=="bigint")&&Ic(e,""+r);break;case"onScroll":r!=null&&nn("scroll",e);break;case"onScrollEnd":r!=null&&nn("scrollend",e);break;case"onClick":r!=null&&(e.onclick=vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),o=e[qr]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,s),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):o0(e,n,r)}}}function fr(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nn("error",e),nn("load",e);var r=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(f!=null)switch(o){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($e(137,t));default:Rn(e,t,o,f,n,null)}}s&&Rn(e,t,"srcSet",n.srcSet,n,null),r&&Rn(e,t,"src",n.src,n,null);return;case"input":nn("invalid",e);var d=o=f=s=null,m=null,x=null;for(r in n)if(n.hasOwnProperty(r)){var N=n[r];if(N!=null)switch(r){case"name":s=N;break;case"type":f=N;break;case"checked":m=N;break;case"defaultChecked":x=N;break;case"value":o=N;break;case"defaultValue":d=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error($e(137,t));break;default:Rn(e,t,r,N,n,null)}}mx(e,o,d,m,x,f,s,!1),C0(e);return;case"select":nn("invalid",e),r=f=o=null;for(s in n)if(n.hasOwnProperty(s)&&(d=n[s],d!=null))switch(s){case"value":o=d;break;case"defaultValue":f=d;break;case"multiple":r=d;default:Rn(e,t,s,d,n,null)}t=o,n=f,e.multiple=!!r,t!=null?bc(e,!!r,t,!1):n!=null&&bc(e,!!r,n,!0);return;case"textarea":nn("invalid",e),o=s=r=null;for(f in n)if(n.hasOwnProperty(f)&&(d=n[f],d!=null))switch(f){case"value":r=d;break;case"defaultValue":s=d;break;case"children":o=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error($e(91));break;default:Rn(e,t,f,d,n,null)}yx(e,r,s,o),C0(e);return;case"option":for(m in n)if(n.hasOwnProperty(m)&&(r=n[m],r!=null))switch(m){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Rn(e,t,m,r,n,null)}return;case"dialog":nn("beforetoggle",e),nn("toggle",e),nn("cancel",e),nn("close",e);break;case"iframe":case"object":nn("load",e);break;case"video":case"audio":for(r=0;r<Wu.length;r++)nn(Wu[r],e);break;case"image":nn("error",e),nn("load",e);break;case"details":nn("toggle",e);break;case"embed":case"source":case"link":nn("error",e),nn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in n)if(n.hasOwnProperty(x)&&(r=n[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error($e(137,t));default:Rn(e,t,x,r,n,null)}return;default:if(i2(t)){for(N in n)n.hasOwnProperty(N)&&(r=n[N],r!==void 0&&vd(e,t,N,r,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!=null&&Rn(e,t,d,r,n,null))}function yb(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,f=null,d=null,m=null,x=null,N=null;for(w in n){var S=n[w];if(n.hasOwnProperty(w)&&S!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":m=S;default:r.hasOwnProperty(w)||Rn(e,t,w,null,r,S)}}for(var E in r){var w=r[E];if(S=n[E],r.hasOwnProperty(E)&&(w!=null||S!=null))switch(E){case"type":o=w;break;case"name":s=w;break;case"checked":x=w;break;case"defaultChecked":N=w;break;case"value":f=w;break;case"defaultValue":d=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error($e(137,t));break;default:w!==S&&Rn(e,t,E,w,r,S)}}q1(e,f,d,m,x,N,o,s);return;case"select":w=f=d=E=null;for(o in n)if(m=n[o],n.hasOwnProperty(o)&&m!=null)switch(o){case"value":break;case"multiple":w=m;default:r.hasOwnProperty(o)||Rn(e,t,o,null,r,m)}for(s in r)if(o=r[s],m=n[s],r.hasOwnProperty(s)&&(o!=null||m!=null))switch(s){case"value":E=o;break;case"defaultValue":d=o;break;case"multiple":f=o;default:o!==m&&Rn(e,t,s,o,r,m)}t=d,n=f,r=w,E!=null?bc(e,!!n,E,!1):!!r!=!!n&&(t!=null?bc(e,!!n,t,!0):bc(e,!!n,n?[]:"",!1));return;case"textarea":w=E=null;for(d in n)if(s=n[d],n.hasOwnProperty(d)&&s!=null&&!r.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Rn(e,t,d,null,r,s)}for(f in r)if(s=r[f],o=n[f],r.hasOwnProperty(f)&&(s!=null||o!=null))switch(f){case"value":E=s;break;case"defaultValue":w=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($e(91));break;default:s!==o&&Rn(e,t,f,s,r,o)}xx(e,E,w);return;case"option":for(var R in n)if(E=n[R],n.hasOwnProperty(R)&&E!=null&&!r.hasOwnProperty(R))switch(R){case"selected":e.selected=!1;break;default:Rn(e,t,R,null,r,E)}for(m in r)if(E=r[m],w=n[m],r.hasOwnProperty(m)&&E!==w&&(E!=null||w!=null))switch(m){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Rn(e,t,m,E,r,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)E=n[M],n.hasOwnProperty(M)&&E!=null&&!r.hasOwnProperty(M)&&Rn(e,t,M,null,r,E);for(x in r)if(E=r[x],w=n[x],r.hasOwnProperty(x)&&E!==w&&(E!=null||w!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error($e(137,t));break;default:Rn(e,t,x,E,r,w)}return;default:if(i2(t)){for(var H in n)E=n[H],n.hasOwnProperty(H)&&E!==void 0&&!r.hasOwnProperty(H)&&vd(e,t,H,void 0,r,E);for(N in r)E=r[N],w=n[N],!r.hasOwnProperty(N)||E===w||E===void 0&&w===void 0||vd(e,t,N,E,r,w);return}}for(var _ in n)E=n[_],n.hasOwnProperty(_)&&E!=null&&!r.hasOwnProperty(_)&&Rn(e,t,_,null,r,E);for(S in r)E=r[S],w=n[S],!r.hasOwnProperty(S)||E===w||E==null&&w==null||Rn(e,t,S,E,r,w)}var bd=null,wd=null;function V0(e){return e.nodeType===9?e:e.ownerDocument}function kp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b3(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var N1=null;function vb(){var e=window.event;return e&&e.type==="popstate"?e===N1?!1:(N1=e,!0):(N1=null,!1)}var w3=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(Ab)}:w3;function Ab(e){setTimeout(function(){throw e})}function Vo(e){return e==="head"}function Fp(e,t){var n=t,r=0,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var f=e.ownerDocument;if(n&1&&Du(f.documentElement),n&2&&Du(f.body),n&4)for(n=f.head,Du(n),f=n.firstChild;f;){var d=f.nextSibling,m=f.nodeName;f[cf]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=d}}if(s===0){e.removeChild(o),$u(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);$u(t)}function Sd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Sd(n),n2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sb(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[cf])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Va(e.nextSibling),e===null)break}return null}function Nb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Va(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Cd=null;function Up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function A3(e,t,n){switch(t=V0(n),e){case"html":if(e=t.documentElement,!e)throw Error($e(452));return e;case"head":if(e=t.head,!e)throw Error($e(453));return e;case"body":if(e=t.body,!e)throw Error($e(454));return e;default:throw Error($e(451))}}function Du(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);n2(e)}var La=new Map,zp=new Set;function Y0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vs=wn.d;wn.d={f:Eb,r:_b,D:Tb,C:Ib,L:Ob,m:Lb,X:Mb,S:Db,M:Rb};function Eb(){var e=Vs.f(),t=mh();return e||t}function _b(e){var t=Hc(e);t!==null&&t.tag===5&&t.type==="form"?p5(t):Vs.r(e)}var Vc=typeof document>"u"?null:document;function S3(e,t,n){var r=Vc;if(r&&typeof t=="string"&&t){var s=_a(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),zp.has(s)||(zp.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),fr(t,"link",e),$i(t),r.head.appendChild(t)))}}function Tb(e){Vs.D(e),S3("dns-prefetch",e,null)}function Ib(e,t){Vs.C(e,t),S3("preconnect",e,t)}function Ob(e,t,n){Vs.L(e,t,n);var r=Vc;if(r&&e&&t){var s='link[rel="preload"][as="'+_a(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+_a(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+_a(n.imageSizes)+'"]')):s+='[href="'+_a(e)+'"]';var o=s;switch(t){case"style":o=kc(e);break;case"script":o=Yc(e)}La.has(o)||(e=Jn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),La.set(o,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(vf(o))||t==="script"&&r.querySelector(bf(o))||(t=r.createElement("link"),fr(t,"link",e),$i(t),r.head.appendChild(t)))}}function Lb(e,t){Vs.m(e,t);var n=Vc;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+_a(r)+'"][href="'+_a(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Yc(e)}if(!La.has(o)&&(e=Jn({rel:"modulepreload",href:e},t),La.set(o,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bf(o)))return}r=n.createElement("link"),fr(r,"link",e),$i(r),n.head.appendChild(r)}}}function Db(e,t,n){Vs.S(e,t,n);var r=Vc;if(r&&e){var s=vc(r).hoistableStyles,o=kc(e);t=t||"default";var f=s.get(o);if(!f){var d={loading:0,preload:null};if(f=r.querySelector(vf(o)))d.loading=5;else{e=Jn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=La.get(o))&&F2(e,n);var m=f=r.createElement("link");$i(m),fr(m,"link",e),m._p=new Promise(function(x,N){m.onload=x,m.onerror=N}),m.addEventListener("load",function(){d.loading|=1}),m.addEventListener("error",function(){d.loading|=2}),d.loading|=4,x0(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:d},s.set(o,f)}}}function Mb(e,t){Vs.X(e,t);var n=Vc;if(n&&e){var r=vc(n).hoistableScripts,s=Yc(e),o=r.get(s);o||(o=n.querySelector(bf(s)),o||(e=Jn({src:e,async:!0},t),(t=La.get(s))&&U2(e,t),o=n.createElement("script"),$i(o),fr(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function Rb(e,t){Vs.M(e,t);var n=Vc;if(n&&e){var r=vc(n).hoistableScripts,s=Yc(e),o=r.get(s);o||(o=n.querySelector(bf(s)),o||(e=Jn({src:e,async:!0,type:"module"},t),(t=La.get(s))&&U2(e,t),o=n.createElement("script"),$i(o),fr(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function Hp(e,t,n,r){var s=(s=To.current)?Y0(s):null;if(!s)throw Error($e(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=kc(n.href),n=vc(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=kc(n.href);var o=vc(s).hoistableStyles,f=o.get(e);if(f||(s=s.ownerDocument||s,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=s.querySelector(vf(e)))&&!o._p&&(f.instance=o,f.state.loading=5),La.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},La.set(e,n),o||jb(s,e,n,f.state))),t&&r===null)throw Error($e(528,""));return f}if(t&&r!==null)throw Error($e(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Yc(n),n=vc(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error($e(444,e))}}function kc(e){return'href="'+_a(e)+'"'}function vf(e){return'link[rel="stylesheet"]['+e+"]"}function N3(e){return Jn({},e,{"data-precedence":e.precedence,precedence:null})}function jb(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),fr(t,"link",n),$i(t),e.head.appendChild(t))}function Yc(e){return'[src="'+_a(e)+'"]'}function bf(e){return"script[async]"+e}function qp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+_a(n.href)+'"]');if(r)return t.instance=r,$i(r),r;var s=Jn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$i(r),fr(r,"style",s),x0(r,n.precedence,e),t.instance=r;case"stylesheet":s=kc(n.href);var o=e.querySelector(vf(s));if(o)return t.state.loading|=4,t.instance=o,$i(o),o;r=N3(n),(s=La.get(s))&&F2(r,s),o=(e.ownerDocument||e).createElement("link"),$i(o);var f=o;return f._p=new Promise(function(d,m){f.onload=d,f.onerror=m}),fr(o,"link",r),t.state.loading|=4,x0(o,n.precedence,e),t.instance=o;case"script":return o=Yc(n.src),(s=e.querySelector(bf(o)))?(t.instance=s,$i(s),s):(r=n,(s=La.get(o))&&(r=Jn({},n),U2(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),$i(s),fr(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error($e(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,x0(r,n.precedence,e));return t.instance}function x0(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,f=0;f<r.length;f++){var d=r[f];if(d.dataset.precedence===t)o=d;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function F2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function U2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var y0=null;function Gp(e,t,n){if(y0===null){var r=new Map,s=y0=new Map;s.set(n,r)}else s=y0,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[cf]||o[Sr]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var d=r.get(f);d?d.push(o):r.set(f,[o])}}return r}function Vp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Bb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function C3(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Zu=null;function kb(){}function Pb(e,t,n){if(Zu===null)throw Error($e(475));var r=Zu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=kc(n.href),o=e.querySelector(vf(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=W0.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,$i(o);return}o=e.ownerDocument||e,n=N3(n),(s=La.get(s))&&F2(n,s),o=o.createElement("link"),$i(o);var f=o;f._p=new Promise(function(d,m){f.onload=d,f.onerror=m}),fr(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=W0.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Fb(){if(Zu===null)throw Error($e(475));var e=Zu;return e.stylesheets&&e.count===0&&Ed(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ed(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function W0(){if(this.count--,this.count===0){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var X0=null;function Ed(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,X0=new Map,t.forEach(Ub,e),X0=null,W0.call(e))}function Ub(e,t){if(!(t.state.loading&4)){var n=X0.get(e);if(n)var r=n.get(null);else{n=new Map,X0.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var f=s[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),r=f)}r&&n.set(null,r)}s=t.instance,f=s.getAttribute("data-precedence"),o=n.get(f)||r,o===r&&n.set(null,s),n.set(f,s),this.count++,r=W0.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Qu={$$typeof:Ds,Provider:null,Consumer:null,_currentValue:ml,_currentValue2:ml,_threadCount:0};function zb(e,t,n,r,s,o,f,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.hiddenUpdates=Yh(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function E3(e,t,n,r,s,o,f,d,m,x,N,S){return e=new zb(e,t,n,f,d,m,x,S),t=1,o===!0&&(t|=24),o=ra(3,null,null,t),e.current=o,o.stateNode=e,t=g2(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},m2(o),e}function _3(e){return e?(e=gc,e):gc}function T3(e,t,n,r,s,o){s=_3(s),r.context===null?r.context=s:r.pendingContext=s,r=Io(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Oo(e,r,t),n!==null&&(ua(n,e,t),Nu(n,e,t))}function Yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function z2(e,t){Yp(e,t),(e=e.alternate)&&Yp(e,t)}function I3(e){if(e.tag===13){var t=qc(e,67108864);t!==null&&ua(t,e,67108864),z2(e,67108864)}}var Z0=!0;function Hb(e,t,n,r){var s=kt.T;kt.T=null;var o=wn.p;try{wn.p=2,H2(e,t,n,r)}finally{wn.p=o,kt.T=s}}function qb(e,t,n,r){var s=kt.T;kt.T=null;var o=wn.p;try{wn.p=8,H2(e,t,n,r)}finally{wn.p=o,kt.T=s}}function H2(e,t,n,r){if(Z0){var s=_d(r);if(s===null)S1(e,t,r,Q0,n),Wp(e,r);else if(Vb(s,e,t,n,r))r.stopPropagation();else if(Wp(e,r),t&4&&-1<Gb.indexOf(e)){for(;s!==null;){var o=Hc(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=fl(o.pendingLanes);if(f!==0){var d=o;for(d.pendingLanes|=2,d.entangledLanes|=2;f;){var m=1<<31-la(f);d.entanglements[1]|=m,f&=~m}gs(o),!(In&6)&&(U0=us()+500,yf(0))}}break;case 13:d=qc(o,2),d!==null&&ua(d,o,2),mh(),z2(o,2)}if(o=_d(r),o===null&&S1(e,t,r,Q0,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else S1(e,t,r,null,n)}}function _d(e){return e=r2(e),q2(e)}var Q0=null;function q2(e){if(Q0=null,e=lc(e),e!==null){var t=af(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ex(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Q0=e,null}function O3(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I4()){case rx:return 2;case ax:return 8;case N0:case O4:return 32;case sx:return 268435456;default:return 32}default:return 32}}var Td=!1,Mo=null,Ro=null,jo=null,Ku=new Map,Ju=new Map,wo=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wp(e,t){switch(e){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(t.pointerId)}}function uu(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Hc(t),t!==null&&I3(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vb(e,t,n,r,s){switch(t){case"focusin":return Mo=uu(Mo,e,t,n,r,s),!0;case"dragenter":return Ro=uu(Ro,e,t,n,r,s),!0;case"mouseover":return jo=uu(jo,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ku.set(o,uu(Ku.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ju.set(o,uu(Ju.get(o)||null,e,t,n,r,s)),!0}return!1}function L3(e){var t=lc(e.target);if(t!==null){var n=af(t);if(n!==null){if(t=n.tag,t===13){if(t=ex(n),t!==null){e.blockedOn=t,P4(e.priority,function(){if(n.tag===13){var r=ca();r=e2(r);var s=qc(n,r);s!==null&&ua(s,n,r),z2(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function v0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_d(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);V1=r,n.target.dispatchEvent(r),V1=null}else return t=Hc(n),t!==null&&I3(t),e.blockedOn=n,!1;t.shift()}return!0}function Xp(e,t,n){v0(e)&&n.delete(t)}function Yb(){Td=!1,Mo!==null&&v0(Mo)&&(Mo=null),Ro!==null&&v0(Ro)&&(Ro=null),jo!==null&&v0(jo)&&(jo=null),Ku.forEach(Xp),Ju.forEach(Xp)}function e0(e,t){e.blockedOn===t&&(e.blockedOn=null,Td||(Td=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,Yb)))}var t0=null;function Zp(e){t0!==e&&(t0=e,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,function(){t0===e&&(t0=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(q2(r||n)===null)continue;break}var o=Hc(n);o!==null&&(e.splice(t,3),t-=3,od(o,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function $u(e){function t(m){return e0(m,e)}Mo!==null&&e0(Mo,e),Ro!==null&&e0(Ro,e),jo!==null&&e0(jo,e),Ku.forEach(t),Ju.forEach(t);for(var n=0;n<wo.length;n++){var r=wo[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wo.length&&(n=wo[0],n.blockedOn===null);)L3(n),n.blockedOn===null&&wo.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],f=s[qr]||null;if(typeof o=="function")f||Zp(n);else if(f){var d=null;if(o&&o.hasAttribute("formAction")){if(s=o,f=o[qr]||null)d=f.formAction;else if(q2(s)!==null)continue}else d=f.action;typeof d=="function"?n[r+1]=d:(n.splice(r,3),r-=3),Zp(n)}}}function G2(e){this._internalRoot=e}bh.prototype.render=G2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));var n=t.current,r=ca();T3(n,r,e,t,null,null)};bh.prototype.unmount=G2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;T3(e.current,2,null,e,null,null),mh(),t[zc]=null}};function bh(e){this._internalRoot=e}bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=fx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wo.length&&t!==0&&t<wo[n].priority;n++);wo.splice(n,0,e),n===0&&L3(e)}};var Qp=Jm.version;if(Qp!=="19.1.1")throw Error($e(527,Qp,"19.1.1"));wn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=A4(t),e=e!==null?tx(e):null,e=e===null?null:e.stateNode,e};var Wb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:kt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{sf=n0.inject(Wb),oa=n0}catch{}}rh.createRoot=function(e,t){if(!$m(e))throw Error($e(299));var n=!1,r="",s=E5,o=_5,f=T5,d=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(d=t.unstable_transitionCallbacks)),t=E3(e,1,!1,null,null,n,r,s,o,f,d,null),e[zc]=t.current,P2(e),new G2(t)};rh.hydrateRoot=function(e,t,n){if(!$m(e))throw Error($e(299));var r=!1,s="",o=E5,f=_5,d=T5,m=null,x=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(m=n.unstable_transitionCallbacks),n.formState!==void 0&&(x=n.formState)),t=E3(e,1,!0,t,n??null,r,s,o,f,d,m,x),t.context=_3(null),n=t.current,r=ca(),r=e2(r),s=Io(r),s.callback=null,Oo(n,s,r),n=r,t.current.lanes=n,lf(t,n),gs(t),e[zc]=t.current,P2(e),new bh(t)};rh.version="19.1.1";function D3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D3)}catch(e){console.error(e)}}D3(),Ym.exports=rh;var Xb=Ym.exports;const Zb=nh(Xb);var dt=(e=>(e.CLIENT="Client",e.COURIER="Courier",e.ASSIGNING_USER="Assigning User",e.SUPER_USER="Super User",e.ADMIN="Administrator",e))(dt||{}),gt=(e=>(e.PENDING_ASSIGNMENT="Pending Assignment",e.ASSIGNED_TO_COURIER="Assigned to Courier",e.PICKED_UP="Picked Up",e.IN_TRANSIT="In Transit",e.OUT_FOR_DELIVERY="Out for Delivery",e.DELIVERED="Delivered",e.DELIVERY_FAILED="Delivery Failed",e.RETURN_REQUESTED="Return Requested",e.RETURN_IN_PROGRESS="Return in Progress",e.RETURNED="Returned",e))(gt||{}),Sa=(e=>(e.COD="Cash on Delivery",e.INSTAPAY="InstaPay",e.WALLET="Wallet",e))(Sa||{}),Ga=(e=>(e.CAIRO_DOWNTOWN="Cairo - Downtown (El Alfy)",e.CAIRO_HELIOPOLIS_SHERATON="Cairo - Heliopolis (Sheraton)",e.CAIRO_HELIOPOLIS_HEGAZ="Cairo - Heliopolis (Hegaz Square)",e.CAIRO_HELIOPOLIS_ROXY="Cairo - Heliopolis (Roxy)",e.CAIRO_HELIOPOLIS_SARAY="Cairo - Heliopolis (Saray El Qobba)",e.CAIRO_HELIOPOLIS_SUDAN="Cairo - Heliopolis (Misr w Sudan)",e.CAIRO_NASR_CITY_10TH="Cairo - Nasr City (10th District)",e.CAIRO_NASR_CITY_ABBAS="Cairo - Nasr City (Abbas El Akkad)",e.CAIRO_NASR_CITY_TAYARAN="Cairo - Nasr City (Tayaran St)",e.CAIRO_NASR_CITY_MAKRAM="Cairo - Nasr City (Makram Ebeid)",e.CAIRO_REHAB="Cairo - Rehab City",e.CAIRO_REHAB_SHELL="Cairo - Rehab City (Chill Out)",e.CAIRO_NEW_CAIRO_GOLDEN="Cairo - New Cairo (Golden Square)",e.CAIRO_NEW_CAIRO_SILVER="Cairo - New Cairo (Silver Star)",e.CAIRO_NEW_CAIRO_1ST="Cairo - New Cairo (1st Settlement)",e.CAIRO_NEW_CAIRO_90TH="Cairo - New Cairo (90th St)",e.CAIRO_MAADI_9="Cairo - Maadi (Street 9)",e.CAIRO_MAADI_ZAHRA="Cairo - Maadi (Zahraa)",e.CAIRO_MOKATTAM="Cairo - Mokattam",e.CAIRO_SHOROUK="Cairo - Shorouk City",e.CAIRO_MADINATY="Cairo - Madinaty",e.CAIRO_OBOUR="Cairo - Obour City",e.CAIRO_SHUBRA="Cairo - Shubra",e.CAIRO_TALAAT_HARB="Cairo - Talaat Harb",e.CAIRO_HELWAN="Cairo - Helwan",e.CAIRO_AIN_SHAMS="Cairo - Ain Shams",e.GIZA_HARAM="Giza - Haram",e.GIZA_FAISAL="Giza - Faisal",e.GIZA_FAISAL_MATBAA="Giza - Faisal (Matbaa)",e.GIZA_IMBABA="Giza - Imbaba",e.GIZA_HADAYEK_AHRAM="Giza - Hadayek El Ahram",e.GIZA_HADAYEK_AHRAM_2="Giza - Hadayek El Ahram 2",e.GIZA_SHEIKH_ZAYED="Giza - Sheikh Zayed",e.GIZA_DAHSHOUR="Giza - Dahshur Link",e.GIZA_MOHANDISEEN="Giza - Mohandiseen",e.GIZA_MANIL="Giza - Manial",e.GIZA_OCTOBER_HOSARY="Giza - 6th of October (Hosary)",e.GIZA_DOKKI="Giza - Dokki",e.GIZA_OCTOBER_MOTAMAYEZ="Giza - 6th of October (Motamayez)",e.ALEXANDRIA_RAML="Alexandria - Raml Station",e.ALEXANDRIA_LAURENT="Alexandria - Laurent",e.ALEXANDRIA_SMOUHA="Alexandria - Smouha",e.ALEXANDRIA_ASAFRA="Alexandria - Asafra",e.OTHER_SHUBIN_KOM="Other - Shibin El Kom",e.OTHER_PORT_SAID="Other - Port Said",e.OTHER_MANSOURA_UNIVERSITY="Other - Mansoura (University)",e.OTHER_MANSOURA_GEISH="Other - Mansoura (El Geish)",e.OTHER_TANTA="Other - Tanta",e.OTHER_ISMAILIA="Other - Ismailia",e.OTHER_ZAGAZIG="Other - Zagazig",e.OTHER_SUEZ="Other - Suez",e.OTHER_MAHALLA="Other - Mahalla",e.OTHER_ASSIUT="Other - Assiut",e.OTHER_MARINA="Other - Marina",e.OTHER_HURGHADA="Other - Hurghada",e.OTHER_MATROUH="Other - Matrouh",e))(Ga||{}),ic=(e=>(e.STANDARD="Standard",e.URGENT="Urgent",e.EXPRESS="Express",e))(ic||{}),Id=(e=>(e.DEPOSIT="Deposit",e.PAYMENT="Payment",e))(Id||{}),K0=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e))(K0||{}),Sl=(e=>(e.COMMISSION="Commission",e.PENALTY="Penalty",e.BONUS="Bonus",e.WITHDRAWAL_REQUEST="Withdrawal Request",e.WITHDRAWAL_PROCESSED="Withdrawal Processed",e))(Sl||{}),Us=(e=>(e.PENDING="Pending",e.PROCESSED="Processed",e.FAILED="Failed",e))(Us||{});const M3=Rl.createContext(null),di=()=>{const e=Rl.useContext(M3);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},lr=async(e,t={})=>{const n=await fetch(`http://localhost:3001${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!n.ok){const s=await n.json();throw new Error(s.error||`Server error: ${n.statusText}`)}const r=n.headers.get("content-type");if(r&&r.includes("application/json"))return n.json()},Qb=({children:e})=>{const[t,n]=We.useState(null),[r,s]=We.useState([]),[o,f]=We.useState([]),[d,m]=We.useState([]),[x,N]=We.useState([]),[S,E]=We.useState({}),[w,R]=We.useState([]),[M,H]=We.useState([]),[_,I]=We.useState([]),[O]=We.useState({baseCommissionRate:30,penaltyAmount:10,consecutiveFailureLimit:3,performanceThreshold:2}),[k,q]=We.useState(!1),X=We.useCallback((Oe,Se)=>{const ze=Date.now();R(ct=>[...ct,{id:ze,message:Oe,type:Se}]),setTimeout(()=>R(ct=>ct.filter(ot=>ot.id!==ze)),5e3)},[]),F=We.useCallback(async()=>{if(t){q(!0);try{const Oe=await lr("/api/data");s(Oe.users||[]),f(Oe.shipments||[]),m(Oe.clientTransactions||[]),N(Oe.notifications||[]),H(Oe.courierStats||[]),I(Oe.courierTransactions||[])}catch(Oe){X(`Failed to load data: ${Oe.message}`,"error"),j()}finally{q(!1)}}},[X,t]),L=We.useCallback(async(Oe,Se)=>{q(!0);try{const ze=await lr("/api/login",{method:"POST",body:JSON.stringify({email:Oe,password:Se})});return n(ze),X(`Welcome back, ${ze.name}!`,"success"),!0}catch(ze){return X(ze.message,"error"),n(null),!1}finally{q(!1)}},[X]);Rl.useEffect(()=>{t&&F()},[t,F]);const j=We.useCallback(()=>{X("You have been logged out.","info"),n(null),s([]),f([]),m([]),N([]),H([]),I([])},[X]),K=We.useCallback(async(Oe,Se,ze)=>{try{await Oe,X(Se,"success"),await F()}catch(ct){X(`${ze}: ${ct.message}`,"error")}},[X,F]),z=We.useCallback(Oe=>K(lr("/api/users",{method:"POST",body:JSON.stringify(Oe)}),`User "${Oe.name}" created successfully.`,"Failed to create user"),[K]),D=We.useCallback(async(Oe,Se,ze=!1)=>{try{await lr(`/api/users/${Oe}`,{method:"PUT",body:JSON.stringify(Se)}),ze||X("User updated successfully.","success"),await F()}catch(ct){ze||X(`Update failed: ${ct.message}`,"error")}},[X,F]),ne=We.useCallback(Oe=>K(lr(`/api/users/${Oe}`,{method:"DELETE"}),"User removed successfully.","Failed to remove user"),[K]),ae=We.useCallback((Oe,Se)=>K(lr(`/api/users/${Oe}/password`,{method:"PUT",body:JSON.stringify({password:Se})}),"Password reset successfully.","Failed to reset password"),[K]),le=We.useCallback(async Oe=>{if(!t)return;const Se={...Oe,clientId:t.id,clientName:t.name,clientFlatRateFee:t.flatRateFee};await K(lr("/api/shipments",{method:"POST",body:JSON.stringify(Se)}),"Shipment created successfully!","Failed to create shipment")},[t,K]),$=We.useCallback((Oe,Se,ze)=>K(lr(`/api/shipments/${Oe}/status`,{method:"PUT",body:JSON.stringify({status:Se,...ze})}),`Shipment ${Oe} updated to ${Se}.`,"Failed to update status"),[K]),Q=We.useCallback(async(Oe,Se)=>{try{return await lr(`/api/shipments/${Oe}/assign`,{method:"PUT",body:JSON.stringify({courierId:Se})}),X(`Shipment ${Oe} assigned.`,"success"),await F(),!0}catch(ze){return X(ze.message,"error"),!1}},[X,F]),ue=We.useCallback(async(Oe,Se)=>{await Q(Oe,Se)},[Q]),oe=We.useCallback(async(Oe,Se)=>{try{return await $(Oe,gt.RETURN_REQUESTED),await Q(Oe,Se)}catch(ze){return X(`Failed to assign return: ${ze.message}`,"error"),!1}},[$,Q,X]),ye=async(Oe,Se)=>K(lr(`/api/shipments/${Oe}/fees`,{method:"PUT",body:JSON.stringify(Se)}),"Shipment fees updated.","Failed to update fees"),xe=We.useCallback(async Oe=>{E(Se=>({...Se,[Oe]:"sending"}));try{await lr(`/api/notifications/${Oe}/resend`,{method:"POST"}),X("Notification resent successfully.","success"),await F(),E(Se=>({...Se,[Oe]:"sent"}))}catch(Se){X(Se.message,"error"),E(ze=>({...ze,[Oe]:"failed"}))}},[X,F]),U=(Oe,Se)=>K(lr(`/api/couriers/${Oe}/settings`,{method:"PUT",body:JSON.stringify(Se)}),"Courier settings updated.","Failed to update settings"),Z=(Oe,Se,ze)=>K(lr(`/api/couriers/${Oe}/penalty`,{method:"POST",body:JSON.stringify({amount:Se,description:ze})}),"Penalty applied successfully.","Failed to apply penalty"),ie=(Oe,Se)=>K(lr("/api/couriers/payouts",{method:"POST",body:JSON.stringify({courierId:Oe,amount:Se})}),"Payout request submitted.","Failed to submit payout request"),fe=Oe=>K(lr(`/api/payouts/${Oe}/process`,{method:"PUT"}),"Payout processed successfully.","Failed to process payout"),ce=(Oe,Se)=>K(lr(`/api/clients/${Oe}/flatrate`,{method:"PUT",body:JSON.stringify({flatRateFee:Se})}),"Client's flat rate updated.","Failed to update flat rate"),_e=(Oe,Se)=>K(lr(`/api/clients/${Oe}/taxcard`,{method:"PUT",body:JSON.stringify({taxCardNumber:Se})}),"Client's tax card number updated.","Failed to update tax card"),be=We.useMemo(()=>{if(!t)return 0;const Oe=d.filter(Se=>Se.userId===t.id).reduce((Se,ze)=>Se+ze.amount,0);return isNaN(Oe)?0:Oe},[d,t]),Ee=We.useMemo(()=>t?{...t,walletBalance:be}:null,[t,be]),Ye=We.useMemo(()=>M.map(Oe=>{const Se=_.filter(pt=>pt.courierId===Oe.courierId),ze=o.filter(pt=>pt.courierId===Oe.courierId&&(pt.status===gt.DELIVERED||pt.status===gt.RETURNED)).length,ct=o.filter(pt=>pt.courierId===Oe.courierId&&pt.status===gt.DELIVERY_FAILED).length,ot=Se.filter(pt=>(pt.type===Sl.COMMISSION||pt.type===Sl.BONUS)&&pt.status===Us.PROCESSED).reduce((pt,Lt)=>pt+Lt.amount,0),At=Se.filter(pt=>pt.status===Us.PROCESSED).reduce((pt,Lt)=>pt+Lt.amount,0),yt=Se.filter(pt=>pt.type===Sl.WITHDRAWAL_REQUEST&&pt.status===Us.PENDING).reduce((pt,Lt)=>pt+Lt.amount,0);return{...Oe,deliveriesCompleted:ze,deliveriesFailed:ct,totalEarnings:ot,currentBalance:At,pendingEarnings:Math.max(0,At+yt)}}),[M,_,o]),ke=We.useCallback((Oe,Se)=>{const ze=o.find(ot=>ot.id.toLowerCase()===Oe.toLowerCase());if(!ze)return null;const ct=r.find(ot=>ot.id===ze.clientId);return ze.recipientPhone===Se||(ct==null?void 0:ct.phone)===Se?ze:null},[o,r]),et=We.useCallback(Oe=>Oe.role===dt.ADMIN,[]),qe=We.useCallback(Oe=>Oe.role===dt.ADMIN||Oe.role===dt.SUPER_USER,[]),st=We.useCallback(Oe=>{var Se;return((Se=r.find(ze=>ze.id===Oe))==null?void 0:Se.taxCardNumber)||""},[r]),Me=We.useCallback(Oe=>{const Se=Ye.find(ze=>ze.courierId===Oe);return!Se||!O?!1:!Se.isRestricted&&Se.performanceRating>=O.performanceThreshold&&Se.consecutiveFailures<O.consecutiveFailureLimit},[Ye,O]),me=We.useCallback((Oe,Se)=>{let ze=Se.commissionType===K0.PERCENTAGE?Oe.price*(Se.commissionValue/100):Se.commissionValue;return Math.round(ze*100)/100},[]),ft=We.useCallback(()=>{const Oe=o.filter(ot=>ot.status===gt.DELIVERED),Se=Oe.reduce((ot,At)=>ot+At.price,0),ze=Oe.reduce((ot,At)=>ot+(At.clientFlatRateFee||0),0),ct=Oe.reduce((ot,At)=>ot+(At.courierCommission||0),0);return{grossRevenue:Se,netRevenue:ze-ct,totalClientFees:ze,totalCourierPayouts:ct,totalOrders:Oe.length,taxCarNumber:""}},[o]),Ge=We.useCallback(()=>r.filter(Oe=>Oe.role===dt.CLIENT).map(Oe=>{const Se=o.filter(ze=>ze.clientId===Oe.id&&ze.status===gt.DELIVERED);return{clientId:Oe.id,clientName:Oe.name,totalOrders:Se.length,orderSum:Se.reduce((ze,ct)=>ze+ct.packageValue,0),flatRateFee:Oe.flatRateFee||0}}),[r,o]),Pe=We.useMemo(()=>({currentUser:Ee,users:r,shipments:o,clientTransactions:d,toasts:w,notifications:x,notificationStatus:S,courierStats:Ye,courierTransactions:_,financialSettings:O,isLoading:k,login:L,logout:j,addShipment:le,updateShipmentStatus:$,updateShipmentFees:ye,assignShipmentToCourier:Q,addUser:z,updateUser:D,removeUser:ne,resetPassword:ae,addToast:X,assignReturn:oe,reassignCourier:ue,resendNotification:xe,canCourierReceiveAssignment:Me,updateCourierSettings:U,applyManualPenalty:Z,processCourierPayout:fe,requestCourierPayout:ie,trackShipment:ke,updateClientFlatRate:ce,updateClientTaxCard:_e,getTaxCardNumber:st,getAdminFinancials:ft,getClientFinancials:Ge,canAccessAdminFinancials:et,canCreateUsers:qe,calculateCommission:me}),[Ee,r,o,d,w,x,S,Ye,_,O,k,L,j,le,$,ye,Q,z,D,ne,ae,X,oe,ue,xe,Me,U,Z,fe,ie,ke,ce,_e,st,ft,Ge,et,qe,me]);return p.jsx(M3.Provider,{value:Pe,children:e})},Kb=e=>new Promise((t,n)=>{if(window.google&&window.google.maps)return t();const r=document.getElementById("google-maps-script");if(r){const o=()=>{t(),r.removeEventListener("load",o)};r.addEventListener("load",o);return}const s=document.createElement("script");s.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`,s.id="google-maps-script",s.async=!0,s.defer=!0,s.onload=()=>t(),s.onerror=()=>{const o=document.getElementById("google-maps-script");o&&document.head.removeChild(o),n(new Error("Google Maps script failed to load. Check API key & network."))},document.head.appendChild(s)}),Jb=(e,t)=>{We.useEffect(()=>{if(e)Kb(e).catch(n=>{console.error(n.message),t(n.message,"error")});else{const n="Maps API key is missing. Map features are disabled.";console.warn(n),t(n,"error")}},[e,t])},$b=()=>{const{currentUser:e,updateUser:t,addToast:n}=di();return We.useEffect(()=>{if(!e||e.role!==dt.COURIER)return;let r=null;return"geolocation"in navigator?r=navigator.geolocation.watchPosition(s=>{const o={lat:s.coords.latitude,lng:s.coords.longitude};t(e.id,{location:o},!0)},s=>{console.error("Error getting location:",s),s.code===s.PERMISSION_DENIED&&n("Location permission denied. Tracking is disabled.","error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):n("Geolocation is not supported by your browser.","error"),()=>{r!==null&&navigator.geolocation.clearWatch(r)}},[e,t,n]),null},ef=({className:e="w-10 h-10"})=>p.jsxs("svg",{viewBox:"0 0 128 128",className:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("rect",{width:"128",height:"128",rx:"32",fill:"url(#paint0_linear_1_2)"}),p.jsx("path",{d:"M41.8732 104L73.4475 56.4028H53.0337L86.1268 24L54.5525 71.5972H74.9663L41.8732 104Z",fill:"white"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"paint0_linear_1_2",x1:"0",y1:"0",x2:"128",y2:"128",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4338ca"}),p.jsx("stop",{offset:"1",stopColor:"#6366f1"})]})})]}),fu=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Nl=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),Bo=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),Mu=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m-6 10h6"})}),Od=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.122-1.28-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.122-1.28.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Pc=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),ew=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Ru=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),J0=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),V2=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),wf=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),wh=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),tw=({className:e="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Kp=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),Ah=({className:e="w-5 h-5"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),R3=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),nw=({className:e="w-5 h-5"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),j3=({className:e="w-5 h-5"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4v-3l1.258-1.258a6 6 0 015.742-10.485A6 6 0 0115 7z"})}),iw=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})}),Fc=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),tf=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l4-4m-4 4l4 4"})}),rw=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Y2=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jp=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),aw=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v1m6 11v1m-6-16v1m12 11v1M4 12H3m10 6H3m10-12H3m18 12h-1M4 20v-1m0-6V3m0 18v-1M20 4v1m0 12v1M4 4h1m15 15h1M4 8h1m15 7h1m-6-4h.01M12 12h.01M8 12h.01M12 16h.01M16 12h.01M16 16h.01M8 16h.01M12 8h.01M16 8h.01M8 8h.01"})}),Ld=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),B3=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),b0=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 14v3m-3-3h6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),sw=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),ow=({className:e="w-6 h-6"})=>p.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l4-4m0 0l4 4m-4-4v12"})}),lw=({toast:e})=>{const t={success:"bg-green-600",error:"bg-red-600",info:"bg-primary-600"},n={success:p.jsx(wf,{className:"w-6 h-6 text-white"}),error:p.jsx(wh,{className:"w-6 h-6 text-white"}),info:p.jsx(tw,{className:"w-6 h-6 text-white"})};return p.jsxs("div",{className:`flex items-center gap-4 text-white p-4 pr-6 rounded-xl shadow-2xl animate-fade-in-up ${t[e.type]}`,children:[n[e.type],p.jsx("p",{className:"font-medium",children:e.message})]})},cw=()=>{const{toasts:e}=di();return p.jsx("div",{className:"fixed bottom-8 right-8 z-[100] space-y-3",children:e.map(t=>p.jsx(lw,{toast:t},t.id))})},uw=({onTrackPackageClick:e})=>{const{login:t}=di(),[n,r]=We.useState(""),[s,o]=We.useState(""),f=d=>{d.preventDefault(),t(n,s)};return p.jsxs("div",{className:"min-h-screen w-full lg:grid lg:grid-cols-2",children:[p.jsxs("div",{className:"relative hidden lg:flex flex-col items-center justify-center p-12 bg-login-image text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-60"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx(ef,{className:"w-28 h-28 mx-auto"}),p.jsx("h1",{className:"mt-6 text-4xl font-bold tracking-tight",children:"Flash Express"}),p.jsx("p",{className:"mt-3 text-lg text-slate-300",children:"Your world, delivered faster."})]})]}),p.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12 lg:p-16 bg-slate-50",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"lg:hidden text-center mb-8",children:[p.jsx(ef,{className:"w-20 h-20 mx-auto"}),p.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Flash Express"})]}),p.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Login"}),p.jsx("p",{className:"mt-2 text-slate-600",children:"Enter your credentials to access your account."}),p.jsxs("form",{onSubmit:f,className:"mt-8 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:p.jsx(B3,{className:"h-5 w-5 text-slate-400"})}),p.jsx("input",{id:"email",type:"email",value:n,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"you@example.com",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:p.jsx(j3,{className:"h-5 w-5 text-slate-400"})}),p.jsx("input",{id:"password",type:"password",value:s,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"",required:!0})]})]}),p.jsx("button",{type:"submit",className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300",children:"Login"})]}),p.jsxs("p",{className:"text-center text-sm text-slate-500 mt-8",children:["Test with: ",p.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"admin@flash.com"})," / ",p.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"password123"})]}),p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-300"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-slate-50 text-slate-500",children:"or"})})]}),p.jsx("div",{className:"mt-6",children:p.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-300",children:[p.jsx(Nl,{className:"h-5 w-5"}),"Track Your Shipment"]})})]})]})})]})},fw=({role:e,activeView:t,setActiveView:n})=>{const s={[dt.CLIENT]:[{name:"Dashboard",icon:p.jsx(fu,{}),view:"dashboard"},{name:"My Shipments",icon:p.jsx(Nl,{}),view:"shipments"},{name:"Create Shipment",icon:p.jsx(V2,{}),view:"create"},{name:"Wallet",icon:p.jsx(Pc,{}),view:"wallet"},{name:"Financials",icon:p.jsx(Ru,{}),view:"financials"},{name:"My Profile",icon:p.jsx(Y2,{}),view:"profile"}],[dt.COURIER]:[{name:"Dashboard",icon:p.jsx(fu,{}),view:"dashboard"},{name:"My Tasks",icon:p.jsx(J0,{}),view:"tasks"},{name:"My Earnings",icon:p.jsx(b0,{}),view:"courier-financials"}],[dt.ASSIGNING_USER]:[{name:"Dashboard",icon:p.jsx(fu,{}),view:"dashboard"},{name:"Assign Shipments",icon:p.jsx(Bo,{}),view:"assign"},{name:"Live Map",icon:p.jsx(Mu,{}),view:"map"}],[dt.SUPER_USER]:[{name:"Dashboard",icon:p.jsx(fu,{}),view:"dashboard"},{name:"Live Map",icon:p.jsx(Mu,{}),view:"map"},{name:"All Shipments",icon:p.jsx(Nl,{}),view:"shipments"},{name:"Assign Shipments",icon:p.jsx(Bo,{}),view:"assign"},{name:"Manage Returns",icon:p.jsx(tf,{}),view:"returns"},{name:"User Management",icon:p.jsx(Od,{}),view:"users"},{name:"Client Analytics",icon:p.jsx(Jp,{}),view:"client-analytics"},{name:"Courier Performance",icon:p.jsx(b0,{}),view:"courier-performance"},{name:"Financials",icon:p.jsx(Ru,{}),view:"financials"},{name:"Notifications Log",icon:p.jsx(Ld,{}),view:"notifications"}],[dt.ADMIN]:[{name:"Dashboard",icon:p.jsx(fu,{}),view:"dashboard"},{name:"Live Map",icon:p.jsx(Mu,{}),view:"map"},{name:"All Shipments",icon:p.jsx(Nl,{}),view:"shipments"},{name:"Assign Shipments",icon:p.jsx(Bo,{}),view:"assign"},{name:"Manage Returns",icon:p.jsx(tf,{}),view:"returns"},{name:"User Management",icon:p.jsx(Od,{}),view:"users"},{name:"Client Analytics",icon:p.jsx(Jp,{}),view:"client-analytics"},{name:"Courier Performance",icon:p.jsx(b0,{}),view:"courier-performance"},{name:"Admin Financials",icon:p.jsx(Ru,{}),view:"admin-financials"},{name:"Notifications Log",icon:p.jsx(Ld,{}),view:"notifications"}]}[e]||[];return p.jsxs("aside",{className:"w-64 bg-slate-800 text-slate-300 flex flex-col flex-shrink-0",children:[p.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-700",children:[p.jsx(ef,{className:"w-9 h-9"}),p.jsx("div",{children:p.jsx("h1",{className:"text-lg font-bold text-white",children:"Flash Express"})})]}),p.jsx("nav",{className:"flex-1 p-4 space-y-1.5",children:s.map(o=>p.jsxs("button",{onClick:()=>n(o.view),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-md text-left transition ${t===o.view?"bg-primary-600 text-white font-semibold":"hover:bg-slate-700 hover:text-white"}`,children:[Rl.cloneElement(o.icon,{className:"w-6 h-6"}),p.jsx("span",{className:"text-sm font-medium",children:o.name})]},o.name))})]})},hw=({onLogout:e,user:t,onNavigate:n})=>{const{notifications:r,notificationStatus:s}=di(),[o,f]=We.useState(!1),d=We.useRef(null),m=r.filter(x=>s[x.id]==="failed");return We.useEffect(()=>{const x=N=>{d.current&&!d.current.contains(N.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),p.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 p-4 flex justify-between items-center z-20 sticky top-0",children:[p.jsxs("div",{className:"text-lg font-bold text-slate-800",children:[t.role," Portal"]}),p.jsxs("div",{className:"flex items-center gap-4",children:[t.role===dt.ADMIN&&p.jsxs("div",{className:"relative",ref:d,children:[p.jsxs("button",{onClick:()=>f(x=>!x),className:"p-2 rounded-full hover:bg-slate-100 transition relative",children:[p.jsx(Ld,{className:"w-6 h-6 text-slate-600"}),m.length>0&&p.jsxs("span",{className:"absolute top-0 right-0 flex h-3 w-3",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),o&&p.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-slate-200 overflow-hidden",children:[p.jsxs("div",{className:"p-3 font-semibold text-slate-800 border-b border-slate-200",children:["Notifications (",m.length," failed)"]}),p.jsx("div",{className:"max-h-80 overflow-y-auto",children:m.length>0?m.map(x=>p.jsxs("div",{className:"p-3 hover:bg-slate-50 border-b border-slate-100 last:border-b-0",children:[p.jsxs("p",{className:"text-sm font-medium text-red-800",children:["Failed to send to ",x.recipient]}),p.jsx("p",{className:"text-sm text-slate-600 truncate",children:x.message.split(`

`)[0]})]},x.id)):p.jsx("p",{className:"text-sm text-slate-500 p-4 text-center",children:"No delivery failures."})}),p.jsx("div",{className:"p-2 bg-slate-50 border-t border-slate-200",children:p.jsx("button",{onClick:()=>{f(!1),n("notifications")},className:"w-full text-center text-sm font-semibold text-primary-600 hover:text-primary-800 py-1",children:"View Full Log"})})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-semibold text-slate-800",children:t.name}),p.jsx("p",{className:"text-xs text-slate-500",children:t.email})]}),p.jsx("button",{onClick:e,title:"Logout",className:"p-2 rounded-full hover:bg-red-50 transition",children:p.jsx(ew,{className:"w-6 h-6 text-red-500"})})]})]})]})},zi=({title:e,value:t,icon:n,color:r,onClick:s})=>p.jsxs("div",{className:`bg-white p-5 rounded-xl shadow-sm flex items-center justify-between border-l-4 ${s?"cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition-all duration-300":""}`,style:{borderColor:r},onClick:s,children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),p.jsx("p",{className:"text-3xl font-bold text-slate-800",children:t})]}),p.jsx("div",{className:"p-3 rounded-lg bg-opacity-10",style:{color:r,backgroundColor:`${r}1A`},children:Rl.cloneElement(n,{className:"w-7 h-7"})})]}),$p=({setActiveView:e})=>{const{currentUser:t,shipments:n,users:r}=di();if(!t)return null;const s=n.filter(x=>x.clientId===t.id),o=n.filter(x=>x.courierId===t.id),f=()=>{var x;return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsx(zi,{title:"Total Shipments",value:s.length,icon:p.jsx(Nl,{className:"w-7 h-7"}),color:"#3b82f6",onClick:()=>e("shipments")}),p.jsx(zi,{title:"In Transit",value:s.filter(N=>[gt.IN_TRANSIT,gt.OUT_FOR_DELIVERY].includes(N.status)).length,icon:p.jsx(Bo,{className:"w-7 h-7"}),color:"#8b5cf6"}),p.jsx(zi,{title:"Wallet Balance",value:`${((x=t.walletBalance)==null?void 0:x.toFixed(2))??0} EGP`,icon:p.jsx(Pc,{className:"w-7 h-7"}),color:"#22c55e",onClick:()=>e("wallet")})]})},d=()=>{const x=o.filter(N=>N.status===gt.DELIVERED&&N.paymentMethod===Sa.COD).reduce((N,S)=>N+S.price,0);return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsx(zi,{title:"Assigned Today",value:o.filter(N=>new Date(N.creationDate).toDateString()===new Date().toDateString()).length,icon:p.jsx(J0,{className:"w-7 h-7"}),color:"#3b82f6"}),p.jsx(zi,{title:"Pending Deliveries",value:o.filter(N=>N.status===gt.OUT_FOR_DELIVERY).length,icon:p.jsx(Bo,{className:"w-7 h-7"}),color:"#06b6d4",onClick:()=>e("tasks")}),p.jsx(zi,{title:"COD Collected",value:`${x.toFixed(2)} EGP`,icon:p.jsx(Pc,{className:"w-7 h-7"}),color:"#16a34a"})]})},m=()=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(zi,{title:"Total Shipments",value:n.length,icon:p.jsx(Nl,{className:"w-7 h-7"}),color:"#3b82f6",onClick:t.role===dt.ADMIN?()=>e("shipments"):void 0}),p.jsx(zi,{title:"Total Clients",value:r.filter(x=>x.role===dt.CLIENT).length,icon:p.jsx(Od,{className:"w-7 h-7"}),color:"#8b5cf6",onClick:t.role===dt.ADMIN?()=>e("client-analytics"):void 0}),p.jsx(zi,{title:"Pending Assignment",value:n.filter(x=>x.status===gt.PENDING_ASSIGNMENT).length,icon:p.jsx(J0,{className:"w-7 h-7"}),color:"#f97316",onClick:()=>e("assign")}),p.jsx(zi,{title:"Total Revenue",value:`${n.filter(x=>x.status===gt.DELIVERED).reduce((x,N)=>x+N.price,0).toFixed(2)} EGP`,icon:p.jsx(Ru,{className:"w-7 h-7"}),color:"#16a34a",onClick:t.role===dt.ADMIN?()=>e("financials"):void 0})]});return p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:["Welcome back, ",t.name.split(" ")[0],"!"]}),t.role===dt.CLIENT&&f(),t.role===dt.COURIER&&d(),(t.role===dt.ADMIN||t.role===dt.ASSIGNING_USER)&&m()]})},dw="modulepreload",gw=function(e){return"/"+e},em={},Dd=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(n.map(m=>{if(m=gw(m),m in em)return;em[m]=!0;const x=m.endsWith(".css"),N=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${N}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":dw,x||(S.as="script"),S.crossOrigin="",S.href=m,d&&S.setAttribute("nonce",d),document.head.appendChild(S),x)return new Promise((E,w)=>{S.addEventListener("load",E),S.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return s.then(f=>{for(const d of f||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}var Ar=Uint8Array,sa=Uint16Array,W2=Int32Array,Sh=new Ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nh=new Ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Md=new Ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k3=function(e,t){for(var n=new sa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new W2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)s[o]=o-n[r]<<5|r;return{b:n,r:s}},P3=k3(Sh,2),F3=P3.b,Rd=P3.r;F3[28]=258,Rd[258]=28;var U3=k3(Nh,0),pw=U3.b,tm=U3.r,jd=new sa(32768);for(var Kn=0;Kn<32768;++Kn){var fo=(Kn&43690)>>1|(Kn&21845)<<1;fo=(fo&52428)>>2|(fo&13107)<<2,fo=(fo&61680)>>4|(fo&3855)<<4,jd[Kn]=((fo&65280)>>8|(fo&255)<<8)>>1}var hs=function(e,t,n){for(var r=e.length,s=0,o=new sa(t);s<r;++s)e[s]&&++o[e[s]-1];var f=new sa(t);for(s=1;s<t;++s)f[s]=f[s-1]+o[s-1]<<1;var d;if(n){d=new sa(1<<t);var m=15-t;for(s=0;s<r;++s)if(e[s])for(var x=s<<4|e[s],N=t-e[s],S=f[e[s]-1]++<<N,E=S|(1<<N)-1;S<=E;++S)d[jd[S]>>m]=x}else for(d=new sa(r),s=0;s<r;++s)e[s]&&(d[s]=jd[f[e[s]-1]++]>>15-e[s]);return d},zo=new Ar(288);for(var Kn=0;Kn<144;++Kn)zo[Kn]=8;for(var Kn=144;Kn<256;++Kn)zo[Kn]=9;for(var Kn=256;Kn<280;++Kn)zo[Kn]=7;for(var Kn=280;Kn<288;++Kn)zo[Kn]=8;var nf=new Ar(32);for(var Kn=0;Kn<32;++Kn)nf[Kn]=5;var mw=hs(zo,9,0),xw=hs(zo,9,1),yw=hs(nf,5,0),vw=hs(nf,5,1),C1=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Fa=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},E1=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},X2=function(e){return(e+7)/8|0},z3=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ar(e.subarray(t,n))},bw=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(e,t,n){var r=new Error(t||bw[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,za),!n)throw r;return r},ww=function(e,t,n,r){var s=e.length,o=0;if(!s||t.f&&!t.l)return n||new Ar(0);var f=!n,d=f||t.i!=2,m=t.i;f&&(n=new Ar(s*3));var x=function(ke){var et=n.length;if(ke>et){var qe=new Ar(Math.max(et*2,ke));qe.set(n),n=qe}},N=t.f||0,S=t.p||0,E=t.b||0,w=t.l,R=t.d,M=t.m,H=t.n,_=s*8;do{if(!w){N=Fa(e,S,1);var I=Fa(e,S+1,3);if(S+=3,I)if(I==1)w=xw,R=vw,M=9,H=5;else if(I==2){var X=Fa(e,S,31)+257,F=Fa(e,S+10,15)+4,L=X+Fa(e,S+5,31)+1;S+=14;for(var j=new Ar(L),K=new Ar(19),z=0;z<F;++z)K[Md[z]]=Fa(e,S+z*3,7);S+=F*3;for(var D=C1(K),ne=(1<<D)-1,ae=hs(K,D,1),z=0;z<L;){var le=ae[Fa(e,S,ne)];S+=le&15;var O=le>>4;if(O<16)j[z++]=O;else{var $=0,Q=0;for(O==16?(Q=3+Fa(e,S,3),S+=2,$=j[z-1]):O==17?(Q=3+Fa(e,S,7),S+=3):O==18&&(Q=11+Fa(e,S,127),S+=7);Q--;)j[z++]=$}}var ue=j.subarray(0,X),oe=j.subarray(X);M=C1(ue),H=C1(oe),w=hs(ue,M,1),R=hs(oe,H,1)}else za(1);else{var O=X2(S)+4,k=e[O-4]|e[O-3]<<8,q=O+k;if(q>s){m&&za(0);break}d&&x(E+k),n.set(e.subarray(O,q),E),t.b=E+=k,t.p=S=q*8,t.f=N;continue}if(S>_){m&&za(0);break}}d&&x(E+131072);for(var ye=(1<<M)-1,xe=(1<<H)-1,U=S;;U=S){var $=w[E1(e,S)&ye],Z=$>>4;if(S+=$&15,S>_){m&&za(0);break}if($||za(2),Z<256)n[E++]=Z;else if(Z==256){U=S,w=null;break}else{var ie=Z-254;if(Z>264){var z=Z-257,fe=Sh[z];ie=Fa(e,S,(1<<fe)-1)+F3[z],S+=fe}var ce=R[E1(e,S)&xe],_e=ce>>4;ce||za(3),S+=ce&15;var oe=pw[_e];if(_e>3){var fe=Nh[_e];oe+=E1(e,S)&(1<<fe)-1,S+=fe}if(S>_){m&&za(0);break}d&&x(E+131072);var be=E+ie;if(E<oe){var Ee=o-oe,Ye=Math.min(oe,be);for(Ee+E<0&&za(3);E<Ye;++E)n[E]=r[Ee+E]}for(;E<be;++E)n[E]=n[E-oe]}}t.l=w,t.p=U,t.b=E,t.f=N,w&&(N=1,t.m=M,t.d=R,t.n=H)}while(!N);return E!=n.length&&f?z3(n,0,E):n.subarray(0,E)},Is=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},hu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},_1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,o=n.slice();if(!s)return{t:q3,l:0};if(s==1){var f=new Ar(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(q,X){return q.f-X.f}),n.push({s:-1,f:25001});var d=n[0],m=n[1],x=0,N=1,S=2;for(n[0]={s:-1,f:d.f+m.f,l:d,r:m};N!=s-1;)d=n[n[x].f<n[S].f?x++:S++],m=n[x!=N&&n[x].f<n[S].f?x++:S++],n[N++]={s:-1,f:d.f+m.f,l:d,r:m};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var w=new sa(E+1),R=Bd(n[N-1],w,0);if(R>t){var r=0,M=0,H=R-t,_=1<<H;for(o.sort(function(X,F){return w[F.s]-w[X.s]||X.f-F.f});r<s;++r){var I=o[r].s;if(w[I]>t)M+=_-(1<<R-w[I]),w[I]=t;else break}for(M>>=H;M>0;){var O=o[r].s;w[O]<t?M-=1<<t-w[O]++-1:++r}for(;r>=0&&M;--r){var k=o[r].s;w[k]==t&&(--w[k],++M)}R=t}return{t:new Ar(w),l:R}},Bd=function(e,t,n){return e.s==-1?Math.max(Bd(e.l,t,n+1),Bd(e.r,t,n+1)):t[e.s]=n},nm=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new sa(++t),r=0,s=e[0],o=1,f=function(m){n[r++]=m},d=1;d<=t;++d)if(e[d]==s&&d!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)f(32754);o>2&&(f(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(f(s),--o;o>6;o-=6)f(8304);o>2&&(f(o-3<<5|8208),o=0)}for(;o--;)f(s);o=1,s=e[d]}return{c:n.subarray(0,r),n:t}},du=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},H3=function(e,t,n){var r=n.length,s=X2(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var o=0;o<r;++o)e[s+o+4]=n[o];return(s+4+r)*8},im=function(e,t,n,r,s,o,f,d,m,x,N){Is(t,N++,n),++s[256];for(var S=_1(s,15),E=S.t,w=S.l,R=_1(o,15),M=R.t,H=R.l,_=nm(E),I=_.c,O=_.n,k=nm(M),q=k.c,X=k.n,F=new sa(19),L=0;L<I.length;++L)++F[I[L]&31];for(var L=0;L<q.length;++L)++F[q[L]&31];for(var j=_1(F,7),K=j.t,z=j.l,D=19;D>4&&!K[Md[D-1]];--D);var ne=x+5<<3,ae=du(s,zo)+du(o,nf)+f,le=du(s,E)+du(o,M)+f+14+3*D+du(F,K)+2*F[16]+3*F[17]+7*F[18];if(m>=0&&ne<=ae&&ne<=le)return H3(t,N,e.subarray(m,m+x));var $,Q,ue,oe;if(Is(t,N,1+(le<ae)),N+=2,le<ae){$=hs(E,w,0),Q=E,ue=hs(M,H,0),oe=M;var ye=hs(K,z,0);Is(t,N,O-257),Is(t,N+5,X-1),Is(t,N+10,D-4),N+=14;for(var L=0;L<D;++L)Is(t,N+3*L,K[Md[L]]);N+=3*D;for(var xe=[I,q],U=0;U<2;++U)for(var Z=xe[U],L=0;L<Z.length;++L){var ie=Z[L]&31;Is(t,N,ye[ie]),N+=K[ie],ie>15&&(Is(t,N,Z[L]>>5&127),N+=Z[L]>>12)}}else $=mw,Q=zo,ue=yw,oe=nf;for(var L=0;L<d;++L){var fe=r[L];if(fe>255){var ie=fe>>18&31;hu(t,N,$[ie+257]),N+=Q[ie+257],ie>7&&(Is(t,N,fe>>23&31),N+=Sh[ie]);var ce=fe&31;hu(t,N,ue[ce]),N+=oe[ce],ce>3&&(hu(t,N,fe>>5&8191),N+=Nh[ce])}else hu(t,N,$[fe]),N+=Q[fe]}return hu(t,N,$[256]),N+Q[256]},Aw=new W2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q3=new Ar(0),Sw=function(e,t,n,r,s,o){var f=o.z||e.length,d=new Ar(r+f+5*(1+Math.ceil(f/7e3))+s),m=d.subarray(r,d.length-s),x=o.l,N=(o.r||0)&7;if(t){N&&(m[0]=o.r>>3);for(var S=Aw[t-1],E=S>>13,w=S&8191,R=(1<<n)-1,M=o.p||new sa(32768),H=o.h||new sa(R+1),_=Math.ceil(n/3),I=2*_,O=function(st){return(e[st]^e[st+1]<<_^e[st+2]<<I)&R},k=new W2(25e3),q=new sa(288),X=new sa(32),F=0,L=0,j=o.i||0,K=0,z=o.w||0,D=0;j+2<f;++j){var ne=O(j),ae=j&32767,le=H[ne];if(M[ae]=le,H[ne]=ae,z<=j){var $=f-j;if((F>7e3||K>24576)&&($>423||!x)){N=im(e,m,0,k,q,X,L,K,D,j-D,N),K=F=L=0,D=j;for(var Q=0;Q<286;++Q)q[Q]=0;for(var Q=0;Q<30;++Q)X[Q]=0}var ue=2,oe=0,ye=w,xe=ae-le&32767;if($>2&&ne==O(j-xe))for(var U=Math.min(E,$)-1,Z=Math.min(32767,j),ie=Math.min(258,$);xe<=Z&&--ye&&ae!=le;){if(e[j+ue]==e[j+ue-xe]){for(var fe=0;fe<ie&&e[j+fe]==e[j+fe-xe];++fe);if(fe>ue){if(ue=fe,oe=xe,fe>U)break;for(var ce=Math.min(xe,fe-2),_e=0,Q=0;Q<ce;++Q){var be=j-xe+Q&32767,Ee=M[be],Ye=be-Ee&32767;Ye>_e&&(_e=Ye,le=be)}}}ae=le,le=M[ae],xe+=ae-le&32767}if(oe){k[K++]=268435456|Rd[ue]<<18|tm[oe];var ke=Rd[ue]&31,et=tm[oe]&31;L+=Sh[ke]+Nh[et],++q[257+ke],++X[et],z=j+ue,++F}else k[K++]=e[j],++q[e[j]]}}for(j=Math.max(j,z);j<f;++j)k[K++]=e[j],++q[e[j]];N=im(e,m,x,k,q,X,L,K,D,j-D,N),x||(o.r=N&7|m[N/8|0]<<3,N-=7,o.h=H,o.p=M,o.i=j,o.w=z)}else{for(var j=o.w||0;j<f+x;j+=65535){var qe=j+65535;qe>=f&&(m[N/8|0]=x,qe=f),N=H3(m,N+1,e.subarray(j,qe))}o.i=f}return z3(d,0,r+X2(N)+s)},G3=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,o=n.length|0,f=0;f!=o;){for(var d=Math.min(f+2655,o);f<d;++f)s+=r+=n[f];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Nw=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),f=new Ar(o.length+e.length);f.set(o),f.set(e,o.length),e=f,s.w=o.length}return Sw(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},V3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Cw=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=G3();s.p(t.dictionary),V3(e,2,s.d())}},Ew=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&za(6,"invalid zlib data"),(e[1]>>5&1)==1&&za(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function kd(e,t){t||(t={});var n=G3();n.p(e);var r=Nw(e,t,t.dictionary?6:2,4);return Cw(r,t),V3(r,r.length-4,n.d()),r}function _w(e,t){return ww(e.subarray(Ew(e),-4),{i:2},t,t)}var Tw=typeof TextDecoder<"u"&&new TextDecoder,Iw=0;try{Tw.decode(q3,{stream:!0}),Iw=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function T1(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var kn={log:T1,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):T1.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):T1(e))}};function I1(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){gl(r.response,t,n)},r.onerror=function(){kn.error("could not download file")},r.send()}function rm(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function i0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ju,Pd,gl=jt.saveAs||((typeof window>"u"?"undefined":On(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=jt.URL||jt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?rm(s.href)?I1(e,t,n):i0(s,s.target="_blank"):i0(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){i0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(rm(e))I1(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){i0(r)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:On(o)!=="object"&&(kn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return I1(e,t,n);var s=e.type==="application/octet-stream",o=/constructor/i.test(jt.HTMLElement)||jt.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&o)&&(typeof FileReader>"u"?"undefined":On(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var N=d.result;N=f?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=N:location=N,r=null},d.readAsDataURL(e)}else{var m=jt.URL||jt.webkitURL,x=m.createObjectURL(e);r?r.location=x:location.href=x,r=null,setTimeout(function(){m.revokeObjectURL(x)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,o=n[r].process,f=s.exec(e);f&&(t=o(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),m=this.g.toString(16),x=this.b.toString(16);return d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),x.length==1&&(x="0"+x),"#"+d+m+x}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function O1(e,t){var n=e[0],r=e[1],s=e[2],o=e[3];n=yr(n,r,s,o,t[0],7,-680876936),o=yr(o,n,r,s,t[1],12,-389564586),s=yr(s,o,n,r,t[2],17,606105819),r=yr(r,s,o,n,t[3],22,-1044525330),n=yr(n,r,s,o,t[4],7,-176418897),o=yr(o,n,r,s,t[5],12,1200080426),s=yr(s,o,n,r,t[6],17,-1473231341),r=yr(r,s,o,n,t[7],22,-45705983),n=yr(n,r,s,o,t[8],7,1770035416),o=yr(o,n,r,s,t[9],12,-1958414417),s=yr(s,o,n,r,t[10],17,-42063),r=yr(r,s,o,n,t[11],22,-1990404162),n=yr(n,r,s,o,t[12],7,1804603682),o=yr(o,n,r,s,t[13],12,-40341101),s=yr(s,o,n,r,t[14],17,-1502002290),n=vr(n,r=yr(r,s,o,n,t[15],22,1236535329),s,o,t[1],5,-165796510),o=vr(o,n,r,s,t[6],9,-1069501632),s=vr(s,o,n,r,t[11],14,643717713),r=vr(r,s,o,n,t[0],20,-373897302),n=vr(n,r,s,o,t[5],5,-701558691),o=vr(o,n,r,s,t[10],9,38016083),s=vr(s,o,n,r,t[15],14,-660478335),r=vr(r,s,o,n,t[4],20,-405537848),n=vr(n,r,s,o,t[9],5,568446438),o=vr(o,n,r,s,t[14],9,-1019803690),s=vr(s,o,n,r,t[3],14,-187363961),r=vr(r,s,o,n,t[8],20,1163531501),n=vr(n,r,s,o,t[13],5,-1444681467),o=vr(o,n,r,s,t[2],9,-51403784),s=vr(s,o,n,r,t[7],14,1735328473),n=br(n,r=vr(r,s,o,n,t[12],20,-1926607734),s,o,t[5],4,-378558),o=br(o,n,r,s,t[8],11,-2022574463),s=br(s,o,n,r,t[11],16,1839030562),r=br(r,s,o,n,t[14],23,-35309556),n=br(n,r,s,o,t[1],4,-1530992060),o=br(o,n,r,s,t[4],11,1272893353),s=br(s,o,n,r,t[7],16,-155497632),r=br(r,s,o,n,t[10],23,-1094730640),n=br(n,r,s,o,t[13],4,681279174),o=br(o,n,r,s,t[0],11,-358537222),s=br(s,o,n,r,t[3],16,-722521979),r=br(r,s,o,n,t[6],23,76029189),n=br(n,r,s,o,t[9],4,-640364487),o=br(o,n,r,s,t[12],11,-421815835),s=br(s,o,n,r,t[15],16,530742520),n=wr(n,r=br(r,s,o,n,t[2],23,-995338651),s,o,t[0],6,-198630844),o=wr(o,n,r,s,t[7],10,1126891415),s=wr(s,o,n,r,t[14],15,-1416354905),r=wr(r,s,o,n,t[5],21,-57434055),n=wr(n,r,s,o,t[12],6,1700485571),o=wr(o,n,r,s,t[3],10,-1894986606),s=wr(s,o,n,r,t[10],15,-1051523),r=wr(r,s,o,n,t[1],21,-2054922799),n=wr(n,r,s,o,t[8],6,1873313359),o=wr(o,n,r,s,t[15],10,-30611744),s=wr(s,o,n,r,t[6],15,-1560198380),r=wr(r,s,o,n,t[13],21,1309151649),n=wr(n,r,s,o,t[4],6,-145523070),o=wr(o,n,r,s,t[11],10,-1120210379),s=wr(s,o,n,r,t[2],15,718787259),r=wr(r,s,o,n,t[9],21,-343485551),e[0]=_o(n,e[0]),e[1]=_o(r,e[1]),e[2]=_o(s,e[2]),e[3]=_o(o,e[3])}function Ch(e,t,n,r,s,o){return t=_o(_o(t,e),_o(r,o)),_o(t<<s|t>>>32-s,n)}function yr(e,t,n,r,s,o,f){return Ch(t&n|~t&r,e,t,s,o,f)}function vr(e,t,n,r,s,o,f){return Ch(t&r|n&~r,e,t,s,o,f)}function br(e,t,n,r,s,o,f){return Ch(t^n^r,e,t,s,o,f)}function wr(e,t,n,r,s,o,f){return Ch(n^(t|~r),e,t,s,o,f)}function W3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)O1(r,Ow(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(O1(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,O1(r,s),r}function Ow(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ju=jt.atob.bind(jt),Pd=jt.btoa.bind(jt);var am="0123456789abcdef".split("");function Lw(e){for(var t="",n=0;n<4;n++)t+=am[e>>8*n+4&15]+am[e>>8*n&15];return t}function Dw(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Fd(e){return W3(e).map(Dw).join("")}var Mw=function(e){for(var t=0;t<e.length;t++)e[t]=Lw(e[t]);return e.join("")}(W3("hello"))!="5d41402abc4b2a76b9719d911017c592";function _o(e,t){if(Mw){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ud(e,t){var n,r,s,o;if(e!==n){for(var f=(s=e,o=1+(256/e.length>>0),new Array(o+1).join(s)),d=[],m=0;m<256;m++)d[m]=m;var x=0;for(m=0;m<256;m++){var N=d[m];x=(x+N+f.charCodeAt(m))%256,d[m]=d[x],d[x]=N}n=e,r=d}else d=r;var S=t.length,E=0,w=0,R="";for(m=0;m<S;m++)w=(w+(N=d[E=(E+1)%256]))%256,d[E]=d[w],d[w]=N,f=d[(d[E]+d[w])%256],R+=String.fromCharCode(t.charCodeAt(m)^f);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sm={print:4,modify:8,copy:16,"annot-forms":32};function rc(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(d){if(sm.perm!==void 0)throw new Error("Invalid permission: "+d);s+=sm[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),f=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,f),this.P=-(1+(255^s)),this.encryptionKey=Fd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ud(this.encryptionKey,this.padding)}function ac(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function om(e){if(On(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!s],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[n]){var f=t[n][o];try{f[0].apply(e,r)}catch(d){jt.console&&kn.error("jsPDF PubSub Error",d.message,d)}f[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rf(e){if(!(this instanceof rf))return new rf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function X3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ao(e,t,n,r,s){if(!(this instanceof Ao))return new Ao(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,X3.call(this,r,s)}function pl(e,t,n,r,s){if(!(this instanceof pl))return new pl(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,X3.call(this,r,s)}function Rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],f=[],d=1,m=16,x="S",N=null;On(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,o=e.compress||e.compressPdf||o,(N=e.encryption||null)!==null&&(N.userPassword=N.userPassword||"",N.ownerPassword=N.ownerPassword||"",N.userPermissions=N.userPermissions||[]),d=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(m=e.floatPrecision),x=e.defaultPathOperation||"S"),f=e.filters||(o===!0?["FlateEncode"]:f),r=r||"mm",n=(""+(n||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,E={},w={internal:{},__private__:{}};w.__private__.PubSub=om;var R="1.3",M=w.__private__.getPdfVersion=function(){return R};w.__private__.setPdfVersion=function(A){R=A};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return H};var _=w.__private__.getPageFormat=function(A){return H[A]};s=s||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},O=I.COMPAT;function k(){this.saveGraphicsState(),me(new Ct(lt,0,0,-lt,0,mr()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),x="n",O=I.ADVANCED}function q(){this.restoreGraphicsState(),x="S",O=I.COMPAT}var X=w.__private__.combineFontStyleAndFontWeight=function(A,W){if(A=="bold"&&W=="normal"||A=="bold"&&W==400||A=="normal"&&W=="italic"||A=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(A=W==400||W==="normal"?A==="italic"?"italic":"normal":W!=700&&W!=="bold"||A!=="normal"?(W==700?"bold":W)+""+A:"bold"),A};w.advancedAPI=function(A){var W=O===I.COMPAT;return W&&k.call(this),typeof A!="function"||(A(this),W&&q.call(this)),this},w.compatAPI=function(A){var W=O===I.ADVANCED;return W&&q.call(this),typeof A!="function"||(A(this),W&&k.call(this)),this},w.isAdvancedAPI=function(){return O===I.ADVANCED};var F,L=function(A){if(O!==I.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=w.roundToPrecision=w.__private__.roundToPrecision=function(A,W){var de=t||W;if(isNaN(A)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(de).replace(/0+$/,"")};F=w.hpf=w.__private__.hpf=typeof m=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return j(A,m)}:m==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return j(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return j(A,16)};var K=w.f2=w.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return j(A,2)},z=w.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return j(A,3)},D=w.scale=w.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return O===I.COMPAT?A*lt:O===I.ADVANCED?A:void 0},ne=function(A){return O===I.COMPAT?mr()-A:O===I.ADVANCED?A:void 0},ae=function(A){return D(ne(A))};w.__private__.setPrecision=w.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var le,$="00000000000000000000000000000000",Q=w.__private__.getFileId=function(){return $},ue=w.__private__.setFileId=function(A){return $=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),N!==null&&(Ni=new rc(N.userPermissions,N.userPassword,N.ownerPassword,$)),$};w.setFileId=function(A){return ue(A),this},w.getFileId=function(){return Q()};var oe=w.__private__.convertDateToPDFDate=function(A){var W=A.getTimezoneOffset(),de=W<0?"+":"-",we=Math.floor(Math.abs(W/60)),De=Math.abs(W%60),Ve=[de,ie(we),"'",ie(De),"'"].join("");return["D:",A.getFullYear(),ie(A.getMonth()+1),ie(A.getDate()),ie(A.getHours()),ie(A.getMinutes()),ie(A.getSeconds()),Ve].join("")},ye=w.__private__.convertPDFDateToDate=function(A){var W=parseInt(A.substr(2,4),10),de=parseInt(A.substr(6,2),10)-1,we=parseInt(A.substr(8,2),10),De=parseInt(A.substr(10,2),10),Ve=parseInt(A.substr(12,2),10),Je=parseInt(A.substr(14,2),10);return new Date(W,de,we,De,Ve,Je,0)},xe=w.__private__.setCreationDate=function(A){var W;if(A===void 0&&(A=new Date),A instanceof Date)W=oe(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=A}return le=W},U=w.__private__.getCreationDate=function(A){var W=le;return A==="jsDate"&&(W=ye(le)),W};w.setCreationDate=function(A){return xe(A),this},w.getCreationDate=function(A){return U(A)};var Z,ie=w.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},fe=w.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ce=0,_e=[],be=[],Ee=0,Ye=[],ke=[],et=!1,qe=be,st=function(){ce=0,Ee=0,be=[],_e=[],Ye=[],hr=Ln(),Er=Ln()};w.__private__.setCustomOutputDestination=function(A){et=!0,qe=A};var Me=function(A){et||(qe=A)};w.__private__.resetCustomOutputDestination=function(){et=!1,qe=be};var me=w.__private__.out=function(A){return A=A.toString(),Ee+=A.length+1,qe.push(A),qe},ft=w.__private__.write=function(A){return me(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Ge=w.__private__.getArrayBuffer=function(A){for(var W=A.length,de=new ArrayBuffer(W),we=new Uint8Array(de);W--;)we[W]=A.charCodeAt(W);return de},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Pe};var Oe=e.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(A){return Oe=O===I.ADVANCED?A/lt:A,this};var Se,ze=w.__private__.getFontSize=w.getFontSize=function(){return O===I.COMPAT?Oe:Oe*lt},ct=e.R2L||!1;w.__private__.setR2L=w.setR2L=function(A){return ct=A,this},w.__private__.getR2L=w.getR2L=function(){return ct};var ot,At=w.__private__.setZoomMode=function(A){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Se=A;else if(isNaN(A)){if(W.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Se=A}else Se=parseInt(A,10)};w.__private__.getZoomMode=function(){return Se};var yt,pt=w.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');ot=A};w.__private__.getPageMode=function(){return ot};var Lt=w.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');yt=A};w.__private__.getLayoutMode=function(){return yt},w.__private__.setDisplayMode=w.setDisplayMode=function(A,W,de){return At(A),Lt(W),pt(de),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(A){if(Object.keys(bt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[A]},w.__private__.getDocumentProperties=function(){return bt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(A){for(var W in bt)bt.hasOwnProperty(W)&&A[W]&&(bt[W]=A[W]);return this},w.__private__.setDocumentProperty=function(A,W){if(Object.keys(bt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[A]=W};var Gt,lt,Sn,Tt,at,Pt={},Dt={},dn=[],an={},Da={},Vn={},Vt={},nr=null,Yn=0,Ft=[],Wt=new om(w),Ma=e.hotfixes||[],un={},ir={},Cr=[],Ct=function A(W,de,we,De,Ve,Je){if(!(this instanceof A))return new A(W,de,we,De,Ve,Je);isNaN(W)&&(W=1),isNaN(de)&&(de=0),isNaN(we)&&(we=0),isNaN(De)&&(De=1),isNaN(Ve)&&(Ve=0),isNaN(Je)&&(Je=0),this._matrix=[W,de,we,De,Ve,Je]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(A)},Ct.prototype.multiply=function(A){var W=A.sx*this.sx+A.shy*this.shx,de=A.sx*this.shy+A.shy*this.sy,we=A.shx*this.sx+A.sy*this.shx,De=A.shx*this.shy+A.sy*this.sy,Ve=A.tx*this.sx+A.ty*this.shx+this.tx,Je=A.tx*this.shy+A.ty*this.sy+this.ty;return new Ct(W,de,we,De,Ve,Je)},Ct.prototype.decompose=function(){var A=this.sx,W=this.shy,de=this.shx,we=this.sy,De=this.tx,Ve=this.ty,Je=Math.sqrt(A*A+W*W),mt=(A/=Je)*de+(W/=Je)*we;de-=A*mt,we-=W*mt;var It=Math.sqrt(de*de+we*we);return mt/=It,A*(we/=It)<W*(de/=It)&&(A=-A,W=-W,mt=-mt,Je=-Je),{scale:new Ct(Je,0,0,It,0,0),translate:new Ct(1,0,0,1,De,Ve),rotate:new Ct(A,W,-W,A,0,0),skew:new Ct(1,0,mt,1,0,0)}},Ct.prototype.toString=function(A){return this.join(" ")},Ct.prototype.inversed=function(){var A=this.sx,W=this.shy,de=this.shx,we=this.sy,De=this.tx,Ve=this.ty,Je=1/(A*we-W*de),mt=we*Je,It=-W*Je,Ut=-de*Je,zt=A*Je;return new Ct(mt,It,Ut,zt,-mt*De-Ut*Ve,-It*De-zt*Ve)},Ct.prototype.applyToPoint=function(A){var W=A.x*this.sx+A.y*this.shx+this.tx,de=A.x*this.shy+A.y*this.sy+this.ty;return new Ks(W,de)},Ct.prototype.applyToRectangle=function(A){var W=this.applyToPoint(A),de=this.applyToPoint(new Ks(A.x+A.w,A.y+A.h));return new sl(W.x,W.y,de.x-W.x,de.y-W.y)},Ct.prototype.clone=function(){var A=this.sx,W=this.shy,de=this.shx,we=this.sy,De=this.tx,Ve=this.ty;return new Ct(A,W,de,we,De,Ve)},w.Matrix=Ct;var Yr=w.matrixMult=function(A,W){return W.multiply(A)},Yi=new Ct(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Yi;var Wi=function(A,W){if(!Da[A]){var de=(W instanceof Ao?"Sh":"P")+(Object.keys(an).length+1).toString(10);W.id=de,Da[A]=de,an[de]=W,Wt.publish("addPattern",W)}};w.ShadingPattern=Ao,w.TilingPattern=pl,w.addShadingPattern=function(A,W){return L("addShadingPattern()"),Wi(A,W),this},w.beginTilingPattern=function(A){L("beginTilingPattern()"),Js(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},w.endTilingPattern=function(A,W){L("endTilingPattern()"),W.stream=ke[Z].join(`
`),Wi(A,W),Wt.publish("endTilingPattern",W),Cr.pop().restore()};var fn=w.__private__.newObject=function(){var A=Ln();return Fn(A,!0),A},Ln=w.__private__.newObjectDeferred=function(){return ce++,_e[ce]=function(){return Ee},ce},Fn=function(A,W){return W=typeof W=="boolean"&&W,_e[A]=Ee,W&&me(A+" 0 obj"),A},xt=w.__private__.newAdditionalObject=function(){var A={objId:Ln(),content:""};return Ye.push(A),A},hr=Ln(),Er=Ln(),Un=w.__private__.decodeColorString=function(A){var W=A.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var de=parseFloat(W[0]);W=[de,de,de,"r"]}for(var we="#",De=0;De<3;De++)we+=("0"+Math.floor(255*parseFloat(W[De])).toString(16)).slice(-2);return we},Xi=w.__private__.encodeColorString=function(A){var W;typeof A=="string"&&(A={ch1:A});var de=A.ch1,we=A.ch2,De=A.ch3,Ve=A.ch4,Je=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var mt=new Y3(de);if(mt.ok)de=mt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var It=parseInt(de.substr(1),16);de=It>>16&255,we=It>>8&255,De=255&It}if(we===void 0||Ve===void 0&&de===we&&we===De)if(typeof de=="string")W=de+" "+Je[0];else switch(A.precision){case 2:W=K(de/255)+" "+Je[0];break;case 3:default:W=z(de/255)+" "+Je[0]}else if(Ve===void 0||On(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return W=["1.","1.","1.",Je[1]].join(" ");if(typeof de=="string")W=[de,we,De,Je[1]].join(" ");else switch(A.precision){case 2:W=[K(de/255),K(we/255),K(De/255),Je[1]].join(" ");break;default:case 3:W=[z(de/255),z(we/255),z(De/255),Je[1]].join(" ")}}else if(typeof de=="string")W=[de,we,De,Ve,Je[2]].join(" ");else switch(A.precision){case 2:W=[K(de),K(we),K(De),K(Ve),Je[2]].join(" ");break;case 3:default:W=[z(de),z(we),z(De),z(Ve),Je[2]].join(" ")}return W},_r=w.__private__.getFilters=function(){return f},rr=w.__private__.putStream=function(A){var W=(A=A||{}).data||"",de=A.filters||_r(),we=A.alreadyAppliedFilters||[],De=A.addLength1||!1,Ve=W.length,Je=A.objectId,mt=function(Zi){return Zi};if(N!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");N!==null&&(mt=Ni.encryptor(Je,0));var It={};de===!0&&(de=["FlateEncode"]);var Ut=A.additionalKeyValues||[],zt=(It=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(W,de):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(It.data.length!==0&&(Ut.push({key:"Length",value:It.data.length}),De===!0&&Ut.push({key:"Length1",value:Ve})),zt.length!=0)if(zt.split("/").length-1==1)Ut.push({key:"Filter",value:zt});else{Ut.push({key:"Filter",value:"["+zt+"]"});for(var tn=0;tn<Ut.length;tn+=1)if(Ut[tn].key==="DecodeParms"){for(var Zn=[],Nn=0;Nn<It.reverseChain.split("/").length-1;Nn+=1)Zn.push("null");Zn.push(Ut[tn].value),Ut[tn].value="["+Zn.join(" ")+"]"}}me("<<");for(var ti=0;ti<Ut.length;ti++)me("/"+Ut[ti].key+" "+Ut[ti].value);me(">>"),It.data.length!==0&&(me("stream"),me(mt(It.data)),me("endstream"))},wi=w.__private__.putPage=function(A){var W=A.number,de=A.data,we=A.objId,De=A.contentsObjId;Fn(we,!0),me("<</Type /Page"),me("/Parent "+A.rootDictionaryObjId+" 0 R"),me("/Resources "+A.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(F(A.mediaBox.bottomLeftX))+" "+parseFloat(F(A.mediaBox.bottomLeftY))+" "+F(A.mediaBox.topRightX)+" "+F(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&me("/CropBox ["+F(A.cropBox.bottomLeftX)+" "+F(A.cropBox.bottomLeftY)+" "+F(A.cropBox.topRightX)+" "+F(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&me("/BleedBox ["+F(A.bleedBox.bottomLeftX)+" "+F(A.bleedBox.bottomLeftY)+" "+F(A.bleedBox.topRightX)+" "+F(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&me("/TrimBox ["+F(A.trimBox.bottomLeftX)+" "+F(A.trimBox.bottomLeftY)+" "+F(A.trimBox.topRightX)+" "+F(A.trimBox.topRightY)+"]"),A.artBox!==null&&me("/ArtBox ["+F(A.artBox.bottomLeftX)+" "+F(A.artBox.bottomLeftY)+" "+F(A.artBox.topRightX)+" "+F(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&me("/UserUnit "+A.userUnit),Wt.publish("putPage",{objId:we,pageContext:Ft[W],pageNumber:W,page:de}),me("/Contents "+De+" 0 R"),me(">>"),me("endobj");var Ve=de.join(`
`);return O===I.ADVANCED&&(Ve+=`
Q`),Fn(De,!0),rr({data:Ve,filters:_r(),objectId:De}),me("endobj"),we},ms=w.__private__.putPages=function(){var A,W,de=[];for(A=1;A<=Yn;A++)Ft[A].objId=Ln(),Ft[A].contentsObjId=Ln();for(A=1;A<=Yn;A++)de.push(wi({number:A,data:ke[A],objId:Ft[A].objId,contentsObjId:Ft[A].contentsObjId,mediaBox:Ft[A].mediaBox,cropBox:Ft[A].cropBox,bleedBox:Ft[A].bleedBox,trimBox:Ft[A].trimBox,artBox:Ft[A].artBox,userUnit:Ft[A].userUnit,rootDictionaryObjId:hr,resourceDictionaryObjId:Er}));Fn(hr,!0),me("<</Type /Pages");var we="/Kids [";for(W=0;W<Yn;W++)we+=de[W]+" 0 R ";me(we+"]"),me("/Count "+Yn),me(">>"),me("endobj"),Wt.publish("postPutPages")},Ys=function(A){Wt.publish("putFont",{font:A,out:me,newObject:fn,putStream:rr}),A.isAlreadyPutted!==!0&&(A.objectNumber=fn(),me("<<"),me("/Type /Font"),me("/BaseFont /"+ac(A.postScriptName)),me("/Subtype /Type1"),typeof A.encoding=="string"&&me("/Encoding /"+A.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},ar=function(){for(var A in Pt)Pt.hasOwnProperty(A)&&(S===!1||S===!0&&E.hasOwnProperty(A))&&Ys(Pt[A])},gi=function(A){A.objectNumber=fn();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[F(A.x),F(A.y),F(A.x+A.width),F(A.y+A.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var de=A.pages[1].join(`
`);rr({data:de,additionalKeyValues:W,objectId:A.objectNumber}),me("endobj")},yn=function(){for(var A in un)un.hasOwnProperty(A)&&gi(un[A])},Yo=function(A,W){var de,we=[],De=1/(W-1);for(de=0;de<1;de+=De)we.push(de);if(we.push(1),A[0].offset!=0){var Ve={offset:0,color:A[0].color};A.unshift(Ve)}if(A[A.length-1].offset!=1){var Je={offset:1,color:A[A.length-1].color};A.push(Je)}for(var mt="",It=0,Ut=0;Ut<we.length;Ut++){for(de=we[Ut];de>A[It+1].offset;)It++;var zt=A[It].offset,tn=(de-zt)/(A[It+1].offset-zt),Zn=A[It].color,Nn=A[It+1].color;mt+=fe(Math.round((1-tn)*Zn[0]+tn*Nn[0]).toString(16))+fe(Math.round((1-tn)*Zn[1]+tn*Nn[1]).toString(16))+fe(Math.round((1-tn)*Zn[2]+tn*Nn[2]).toString(16))}return mt.trim()},ha=function(A,W){W||(W=21);var de=fn(),we=Yo(A.colors,W),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+W+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rr({data:we,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),me("endobj"),A.objectNumber=fn(),me("<< /ShadingType "+A.type),me("/ColorSpace /DeviceRGB");var Ve="/Coords ["+F(parseFloat(A.coords[0]))+" "+F(parseFloat(A.coords[1]))+" ";A.type===2?Ve+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3])):Ve+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3]))+" "+F(parseFloat(A.coords[4]))+" "+F(parseFloat(A.coords[5])),me(Ve+="]"),A.matrix&&me("/Matrix ["+A.matrix.toString()+"]"),me("/Function "+de+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Wo=function(A,W){var de=Ln(),we=fn();W.push({resourcesOid:de,objectOid:we}),A.objectNumber=we;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+A.boundingBox.map(F).join(" ")+"]"}),De.push({key:"XStep",value:F(A.xStep)}),De.push({key:"YStep",value:F(A.yStep)}),De.push({key:"Resources",value:de+" 0 R"}),A.matrix&&De.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),rr({data:A.stream,additionalKeyValues:De,objectId:A.objectNumber}),me("endobj")},Qe=function(A){var W;for(W in an)an.hasOwnProperty(W)&&(an[W]instanceof Ao?ha(an[W]):an[W]instanceof pl&&Wo(an[W],A))},Ul=function(A){for(var W in A.objectNumber=fn(),me("<<"),A)switch(W){case"opacity":me("/ca "+K(A[W]));break;case"stroke-opacity":me("/CA "+K(A[W]))}me(">>"),me("endobj")},zn=function(){var A;for(A in Vn)Vn.hasOwnProperty(A)&&Ul(Vn[A])},da=function(){for(var A in me("/XObject <<"),un)un.hasOwnProperty(A)&&un[A].objectNumber>=0&&me("/"+A+" "+un[A].objectNumber+" 0 R");Wt.publish("putXobjectDict"),me(">>")},Wc=function(){Ni.oid=fn(),me("<<"),me("/Filter /Standard"),me("/V "+Ni.v),me("/R "+Ni.r),me("/U <"+Ni.toHexString(Ni.U)+">"),me("/O <"+Ni.toHexString(Ni.O)+">"),me("/P "+Ni.P),me(">>"),me("endobj")},on=function(){for(var A in me("/Font <<"),Pt)Pt.hasOwnProperty(A)&&(S===!1||S===!0&&E.hasOwnProperty(A))&&me("/"+A+" "+Pt[A].objectNumber+" 0 R");me(">>")},ln=function(){if(Object.keys(an).length>0){for(var A in me("/Shading <<"),an)an.hasOwnProperty(A)&&an[A]instanceof Ao&&an[A].objectNumber>=0&&me("/"+A+" "+an[A].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),me(">>")}},Xt=function(A){if(Object.keys(an).length>0){for(var W in me("/Pattern <<"),an)an.hasOwnProperty(W)&&an[W]instanceof w.TilingPattern&&an[W].objectNumber>=0&&an[W].objectNumber<A&&me("/"+W+" "+an[W].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),me(">>")}},Xo=function(){if(Object.keys(Vn).length>0){var A;for(A in me("/ExtGState <<"),Vn)Vn.hasOwnProperty(A)&&Vn[A].objectNumber>=0&&me("/"+A+" "+Vn[A].objectNumber+" 0 R");Wt.publish("putGStateDict"),me(">>")}},Wn=function(A){Fn(A.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),on(),ln(),Xt(A.objectOid),Xo(),da(),me(">>"),me("endobj")},Ws=function(){var A=[];ar(),zn(),yn(),Qe(A),Wt.publish("putResources"),A.forEach(Wn),Wn({resourcesOid:Er,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources")},$n=function(){Wt.publish("putAdditionalObjects");for(var A=0;A<Ye.length;A++){var W=Ye[A];Fn(W.objId,!0),me(W.content),me("endobj")}Wt.publish("postPutAdditionalObjects")},Wr=function(A){Dt[A.fontName]=Dt[A.fontName]||{},Dt[A.fontName][A.fontStyle]=A.id},Zo=function(A,W,de,we,De){var Ve={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:A,fontName:W,fontStyle:de,encoding:we,isStandardFont:De||!1,metadata:{}};return Wt.publish("addFont",{font:Ve,instance:this}),Pt[Ve.id]=Ve,Wr(Ve),Ve.id},Xn=function(A){for(var W=0,de=Pe.length;W<de;W++){var we=Zo.call(this,A[W][0],A[W][1],A[W][2],Pe[W][3],!0);S===!1&&(E[we]=!0);var De=A[W][0].split("-");Wr({id:we,fontName:De[0],fontStyle:De[1]||""})}Wt.publish("addFonts",{fonts:Pt,dictionary:Dt})},Di=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(we){var W=we.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var de="Error in function "+W.split(`
`)[0].split("<")[0]+": "+we.message;if(!jt.console)throw new Error(de);jt.console.error(de,we),jt.alert&&alert(de)}},A.foo.bar=A,A.foo},Xs=function(A,W){var de,we,De,Ve,Je,mt,It,Ut,zt;if(De=(W=W||{}).sourceEncoding||"Unicode",Je=W.outputEncoding,(W.autoencode||Je)&&Pt[Gt].metadata&&Pt[Gt].metadata[De]&&Pt[Gt].metadata[De].encoding&&(Ve=Pt[Gt].metadata[De].encoding,!Je&&Pt[Gt].encoding&&(Je=Pt[Gt].encoding),!Je&&Ve.codePages&&(Je=Ve.codePages[0]),typeof Je=="string"&&(Je=Ve[Je]),Je)){for(It=!1,mt=[],de=0,we=A.length;de<we;de++)(Ut=Je[A.charCodeAt(de)])?mt.push(String.fromCharCode(Ut)):mt.push(A[de]),mt[de].charCodeAt(0)>>8&&(It=!0);A=mt.join("")}for(de=A.length;It===void 0&&de!==0;)A.charCodeAt(de-1)>>8&&(It=!0),de--;if(!It)return A;for(mt=W.noBOM?[]:[254,255],de=0,we=A.length;de<we;de++){if((zt=(Ut=A.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(zt),mt.push(Ut-(zt<<8))}return String.fromCharCode.apply(void 0,mt)},Ai=w.__private__.pdfEscape=w.pdfEscape=function(A,W){return Xs(A,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xn=w.__private__.beginPage=function(A){ke[++Yn]=[],Ft[Yn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},he(Yn),Me(ke[Z])},Si=function(A,W){var de,we,De;switch(n=W||n,typeof A=="string"&&(de=_(A.toLowerCase()),Array.isArray(de)&&(we=de[0],De=de[1])),Array.isArray(A)&&(we=A[0]*lt,De=A[1]*lt),isNaN(we)&&(we=s[0],De=s[1]),(we>14400||De>14400)&&(kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),De=Math.min(14400,De)),s=[we,De],n.substr(0,1)){case"l":De>we&&(s=[De,we]);break;case"p":we>De&&(s=[De,we])}xn(s),ki(ja),me(jr),li!==0&&me(li+" J"),Ja!==0&&me(Ja+" j"),Wt.publish("addPage",{pageNumber:Yn})},Re=function(A){A>0&&A<=Yn&&(ke.splice(A,1),Ft.splice(A,1),Yn--,Z>Yn&&(Z=Yn),this.setPage(Z))},he=function(A){A>0&&A<=Yn&&(Z=A)},Et=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return ke.length-1},oi=function(A,W,de){var we,De=void 0;return de=de||{},A=A!==void 0?A:Pt[Gt].fontName,W=W!==void 0?W:Pt[Gt].fontStyle,we=A.toLowerCase(),Dt[we]!==void 0&&Dt[we][W]!==void 0?De=Dt[we][W]:Dt[A]!==void 0&&Dt[A][W]!==void 0?De=Dt[A][W]:de.disableWarning===!1&&kn.warn("Unable to look up font label for font '"+A+"', '"+W+"'. Refer to getFontList() for available fonts."),De||de.noFallback||(De=Dt.times[W])==null&&(De=Dt.times.normal),De},dr=w.__private__.putInfo=function(){var A=fn(),W=function(we){return we};for(var de in N!==null&&(W=Ni.encryptor(A,0)),me("<<"),me("/Producer ("+Ai(W("jsPDF "+Rt.version))+")"),bt)bt.hasOwnProperty(de)&&bt[de]&&me("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+Ai(W(bt[de]))+")");me("/CreationDate ("+Ai(W(le))+")"),me(">>"),me("endobj")},Qo=w.__private__.putCatalog=function(A){var W=(A=A||{}).rootDictionaryObjId||hr;switch(fn(),me("<<"),me("/Type /Catalog"),me("/Pages "+W+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Se;de.substr(de.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&me("/OpenAction [3 0 R /XYZ null null "+K(Se)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}ot&&me("/PageMode /"+ot),Wt.publish("putCatalog"),me(">>"),me("endobj")},Ko=w.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(ce+1)),me("/Root "+ce+" 0 R"),me("/Info "+(ce-1)+" 0 R"),N!==null&&me("/Encrypt "+Ni.oid+" 0 R"),me("/ID [ <"+$+"> <"+$+"> ]"),me(">>")},gr=w.__private__.putHeader=function(){me("%PDF-"+R),me("%")},Ot=w.__private__.putXRef=function(){var A="0000000000";me("xref"),me("0 "+(ce+1)),me("0000000000 65535 f ");for(var W=1;W<=ce;W++)typeof _e[W]=="function"?me((A+_e[W]()).slice(-10)+" 00000 n "):_e[W]!==void 0?me((A+_e[W]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},gn=w.__private__.buildDocument=function(){st(),Me(be),Wt.publish("buildDocument"),gr(),ms(),$n(),Ws(),N!==null&&Wc(),dr(),Qo();var A=Ee;return Ot(),Ko(),me("startxref"),me(""+A),me("%%EOF"),Me(ke[Z]),be.join(`
`)},xs=w.__private__.getBlob=function(A){return new Blob([Ge(A)],{type:"application/pdf"})},Zs=w.output=w.__private__.output=Di(function(A,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",A){case void 0:return gn();case"save":w.save(W.filename);break;case"arraybuffer":return Ge(gn());case"blob":return xs(gn());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(xs(gn()))||void 0;kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",we=gn();try{de=Pd(we)}catch{de=Pd(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+W.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(De=W.pdfObjectUrl,Ve="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",mt=jt.open();return mt!==null&&mt.document.write(Je),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Ut=jt.open();if(Ut!==null){Ut.document.write(It);var zt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=W.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Zn=jt.open();if(Zn!==null&&(Zn.document.write(tn),Zn.document.title=W.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",W);default:return null}}),Qs=function(A){return Array.isArray(Ma)===!0&&Ma.indexOf(A)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=Qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var Ni=null;xe(),ue();var Jo=function(A){return N!==null?Ni.encryptor(A,0):function(W){return W}},zl=w.__private__.getPageInfo=w.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[A].objId,pageNumber:A,pageContext:Ft[A]}},Nt=w.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Ft)if(Ft[W].objId===A)break;return zl(W)},ys=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Ft[Z].objId,pageNumber:Z,pageContext:Ft[Z]}};w.addPage=function(){return Si.apply(this,arguments),this},w.setPage=function(){return he.apply(this,arguments),Me.call(this,ke[Z]),this},w.insertPage=function(A){return this.addPage(),this.movePage(Z,A),this},w.movePage=function(A,W){var de,we;if(A>W){de=ke[A],we=Ft[A];for(var De=A;De>W;De--)ke[De]=ke[De-1],Ft[De]=Ft[De-1];ke[W]=de,Ft[W]=we,this.setPage(W)}else if(A<W){de=ke[A],we=Ft[A];for(var Ve=A;Ve<W;Ve++)ke[Ve]=ke[Ve+1],Ft[Ve]=Ft[Ve+1];ke[W]=de,Ft[W]=we,this.setPage(W)}return this},w.deletePage=function(){return Re.apply(this,arguments),this},w.__private__.text=w.text=function(A,W,de,we,De){var Ve,Je,mt,It,Ut,zt,tn,Zn,Nn,ti=(we=we||{}).scope||this;if(typeof A=="number"&&typeof W=="number"&&(typeof de=="string"||Array.isArray(de))){var Zi=de;de=W,W=A,A=Zi}if(arguments[3]instanceof Ct?(L("The transform parameter of text() with a Matrix value"),Nn=De):(mt=arguments[4],It=arguments[5],On(tn=arguments[3])==="object"&&tn!==null||(typeof mt=="string"&&(It=mt,mt=null),typeof tn=="string"&&(It=tn,tn=null),typeof tn=="number"&&(mt=tn,tn=null),we={flags:tn,angle:mt,align:It})),isNaN(W)||isNaN(de)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return ti;var ni="",Zr=!1,pi=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Qa,Tr=ti.internal.scaleFactor;function sr(Hn){return Hn=Hn.split("	").join(Array(we.TabLen||9).join(" ")),Ai(Hn,tn)}function $s(Hn){for(var qn,Ei=Hn.concat(),Ui=[],As=Ei.length;As--;)typeof(qn=Ei.shift())=="string"?Ui.push(qn):Array.isArray(Hn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Ui.push(qn[0]):Ui.push([qn[0],qn[1],qn[2]]);return Ui}function xr(Hn,qn){var Ei;if(typeof Hn=="string")Ei=qn(Hn)[0];else if(Array.isArray(Hn)){for(var Ui,As,Qc=Hn.concat(),Gl=[],Af=Qc.length;Af--;)typeof(Ui=Qc.shift())=="string"?Gl.push(qn(Ui)[0]):Array.isArray(Ui)&&typeof Ui[0]=="string"&&(As=qn(Ui[0],Ui[1],Ui[2]),Gl.push([As[0],As[1],As[2]]));Ei=Gl}return Ei}var eo=!1,bs=!0;if(typeof A=="string")eo=!0;else if(Array.isArray(A)){var ll=A.concat();Je=[];for(var ws,Dn=ll.length;Dn--;)(typeof(ws=ll.shift())!="string"||Array.isArray(ws)&&typeof ws[0]!="string")&&(bs=!1);eo=bs}if(eo===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var to=Oe/ti.internal.scaleFactor,ts=to*(pi-1);switch(we.baseline){case"bottom":de-=ts;break;case"top":de+=to-ts;break;case"hanging":de+=to-2*ts;break;case"middle":de+=to/2-ts}if((zt=we.maxWidth||0)>0&&(typeof A=="string"?A=ti.splitTextToSize(A,zt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Hn,qn){return Hn.concat(ti.splitTextToSize(qn,zt))},[]))),Ve={text:A,x:W,y:de,options:we,mutex:{pdfEscape:Ai,activeFontKey:Gt,fonts:Pt,activeFontSize:Oe}},Wt.publish("preProcessText",Ve),A=Ve.text,mt=(we=Ve.options).angle,!(Nn instanceof Ct)&&mt&&typeof mt=="number"){mt*=Math.PI/180,we.rotationDirection===0&&(mt=-mt),O===I.ADVANCED&&(mt=-mt);var xa=Math.cos(mt),Jt=Math.sin(mt);Nn=new Ct(xa,Jt,-Jt,xa,0,0)}else mt&&mt instanceof Ct&&(Nn=mt);O!==I.ADVANCED||Nn||(Nn=Yi),(Ut=we.charSpace||Fe)!==void 0&&(ni+=F(D(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=we.horizontalScale)!==void 0&&(ni+=F(100*Zn)+` Tz
`),we.lang;var Pi=-1,V=we.renderingMode!==void 0?we.renderingMode:we.stroke,i=ti.internal.getCurrentPageInfo().pageContext;switch(V){case 0:case!1:case"fill":Pi=0;break;case 1:case!0:case"stroke":Pi=1;break;case 2:case"fillThenStroke":Pi=2;break;case 3:case"invisible":Pi=3;break;case 4:case"fillAndAddForClipping":Pi=4;break;case 5:case"strokeAndAddPathForClipping":Pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pi=6;break;case 7:case"addToPathForClipping":Pi=7}var a=i.usedRenderingMode!==void 0?i.usedRenderingMode:-1;Pi!==-1?ni+=Pi+` Tr
`:a!==-1&&(ni+=`0 Tr
`),Pi!==-1&&(i.usedRenderingMode=Pi),It=we.align||"left";var l,c=Oe*pi,u=ti.internal.pageSize.getWidth(),h=Pt[Gt];Ut=we.charSpace||Fe,zt=we.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},we.flags);var y=[],b=function(Hn){return ti.getStringUnitWidth(Hn,{font:h,charSpace:Ut,fontSize:Oe,doKerning:!1})*Oe/Tr};if(Object.prototype.toString.call(A)==="[object Array]"){var C;Je=$s(A),It!=="left"&&(l=Je.map(b));var P,G=0;if(It==="right"){W-=l[0],A=[],Dn=Je.length;for(var ee=0;ee<Dn;ee++)ee===0?(P=ma(W),C=Ba(de)):(P=D(G-l[ee]),C=-c),A.push([Je[ee],P,C]),G=l[ee]}else if(It==="center"){W-=l[0]/2,A=[],Dn=Je.length;for(var ge=0;ge<Dn;ge++)ge===0?(P=ma(W),C=Ba(de)):(P=D((G-l[ge])/2),C=-c),A.push([Je[ge],P,C]),G=l[ge]}else if(It==="left"){A=[],Dn=Je.length;for(var ve=0;ve<Dn;ve++)A.push(Je[ve])}else if(It==="justify"&&h.encoding==="Identity-H"){A=[],Dn=Je.length,zt=zt!==0?zt:u;for(var Ae=0,Ie=0;Ie<Dn;Ie++)if(C=Ie===0?Ba(de):-c,P=Ie===0?ma(W):Ae,Ie<Dn-1){var Ue=D((zt-l[Ie])/(Je[Ie].split(" ").length-1)),tt=Je[Ie].split(" ");A.push([tt[0]+" ",P,C]),Ae=0;for(var rt=1;rt<tt.length;rt++){var nt=(b(tt[rt-1]+" "+tt[rt])-b(tt[rt]))*Tr+Ue;rt==tt.length-1?A.push([tt[rt],nt,0]):A.push([tt[rt]+" ",nt,0]),Ae-=nt}}else A.push([Je[Ie],P,C]);A.push(["",Ae,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Dn=Je.length,zt=zt!==0?zt:u,Ie=0;Ie<Dn;Ie++)C=Ie===0?Ba(de):-c,P=Ie===0?ma(W):0,Ie<Dn-1?y.push(F(D((zt-l[Ie])/(Je[Ie].split(" ").length-1)))):y.push(0),A.push([Je[Ie],P,C])}}var Qt=typeof we.R2L=="boolean"?we.R2L:ct;Qt===!0&&(A=xr(A,function(Hn,qn,Ei){return[Hn.split("").reverse().join(""),qn,Ei]})),Ve={text:A,x:W,y:de,options:we,mutex:{pdfEscape:Ai,activeFontKey:Gt,fonts:Pt,activeFontSize:Oe}},Wt.publish("postProcessText",Ve),A=Ve.text,Zr=Ve.mutex.isHex||!1;var Bt=Pt[Gt].encoding;Bt!=="WinAnsiEncoding"&&Bt!=="StandardEncoding"||(A=xr(A,function(Hn,qn,Ei){return[sr(Hn),qn,Ei]})),Je=$s(A),A=[];for(var mi,Fi,ui,cn=0,ii=1,Ci=Array.isArray(Je[0])?ii:cn,Ir="",ya=function(Hn,qn,Ei){var Ui="";return Ei instanceof Ct?(Ei=typeof we.angle=="number"?Yr(Ei,new Ct(1,0,0,1,Hn,qn)):Yr(new Ct(1,0,0,1,Hn,qn),Ei),O===I.ADVANCED&&(Ei=Yr(new Ct(1,0,0,-1,0,0),Ei)),Ui=Ei.join(" ")+` Tm
`):Ui=F(Hn)+" "+F(qn)+` Td
`,Ui},Br=0;Br<Je.length;Br++){switch(Ir="",Ci){case ii:ui=(Zr?"<":"(")+Je[Br][0]+(Zr?">":")"),mi=parseFloat(Je[Br][1]),Fi=parseFloat(Je[Br][2]);break;case cn:ui=(Zr?"<":"(")+Je[Br]+(Zr?">":")"),mi=ma(W),Fi=Ba(de)}y!==void 0&&y[Br]!==void 0&&(Ir=y[Br]+` Tw
`),Br===0?A.push(Ir+ya(mi,Fi,Nn)+ui):Ci===cn?A.push(Ir+ui):Ci===ii&&A.push(Ir+ya(mi,Fi,Nn)+ui)}A=Ci===cn?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var kr=`BT
/`;return kr+=Gt+" "+Oe+` Tf
`,kr+=F(Oe*pi)+` TL
`,kr+=pr+`
`,kr+=ni,kr+=A,me(kr+="ET"),E[Gt]=!0,ti};var ga=w.__private__.clip=w.clip=function(A){return me(A==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ga("evenodd")},w.__private__.discardPath=w.discardPath=function(){return me("n"),this};var _t=w.__private__.isValidStyle=function(A){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(W=!0),W};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(A){return _t(A)&&(x=A),this};var Hl=w.__private__.getStyle=w.getStyle=function(A){var W=x;switch(A){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=A}return W},Ht=w.close=function(){return me("h"),this};w.stroke=function(){return me("S"),this},w.fill=function(A){return ei("f",A),this},w.fillEvenOdd=function(A){return ei("f*",A),this},w.fillStroke=function(A){return ei("B",A),this},w.fillStrokeEvenOdd=function(A){return ei("B*",A),this};var ei=function(A,W){On(W)==="object"?ql(W,A):me(A)},$o=function(A){A===null||O===I.ADVANCED&&A===void 0||(A=Hl(A),me(A))};function el(A,W,de,we,De){var Ve=new pl(W||this.boundingBox,de||this.xStep,we||this.yStep,this.gState,De||this.matrix);Ve.stream=this.stream;var Je=A+"$$"+this.cloneIndex+++"$$";return Wi(Je,Ve),Ve}var ql=function(A,W){var de=Da[A.key],we=an[de];if(we instanceof Ao)me("q"),me(Ra(W)),we.gState&&w.setGState(we.gState),me(A.matrix.toString()+" cm"),me("/"+de+" sh"),me("Q");else if(we instanceof pl){var De=new Ct(1,0,0,-1,0,mr());A.matrix&&(De=De.multiply(A.matrix||Yi),de=el.call(we,A.key,A.boundingBox,A.xStep,A.yStep,De).id),me("q"),me("/Pattern cs"),me("/"+de+" scn"),we.gState&&w.setGState(we.gState),me(W),me("Q")}},Ra=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},tl=w.moveTo=function(A,W){return me(F(D(A))+" "+F(ae(W))+" m"),this},Xr=w.lineTo=function(A,W){return me(F(D(A))+" "+F(ae(W))+" l"),this},Rr=w.curveTo=function(A,W,de,we,De,Ve){return me([F(D(A)),F(ae(W)),F(D(de)),F(ae(we)),F(D(De)),F(ae(Ve)),"c"].join(" ")),this};w.__private__.line=w.line=function(A,W,de,we,De){if(isNaN(A)||isNaN(W)||isNaN(de)||isNaN(we)||!_t(De))throw new Error("Invalid arguments passed to jsPDF.line");return O===I.COMPAT?this.lines([[de-A,we-W]],A,W,[1,1],De||"S"):this.lines([[de-A,we-W]],A,W,[1,1]).stroke()},w.__private__.lines=w.lines=function(A,W,de,we,De,Ve){var Je,mt,It,Ut,zt,tn,Zn,Nn,ti,Zi,ni,Zr;if(typeof A=="number"&&(Zr=de,de=W,W=A,A=Zr),we=we||[1,1],Ve=Ve||!1,isNaN(W)||isNaN(de)||!Array.isArray(A)||!Array.isArray(we)||!_t(De)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(tl(W,de),Je=we[0],mt=we[1],Ut=A.length,Zi=W,ni=de,It=0;It<Ut;It++)(zt=A[It]).length===2?(Zi=zt[0]*Je+Zi,ni=zt[1]*mt+ni,Xr(Zi,ni)):(tn=zt[0]*Je+Zi,Zn=zt[1]*mt+ni,Nn=zt[2]*Je+Zi,ti=zt[3]*mt+ni,Zi=zt[4]*Je+Zi,ni=zt[5]*mt+ni,Rr(tn,Zn,Nn,ti,Zi,ni));return Ve&&Ht(),$o(De),this},w.path=function(A){for(var W=0;W<A.length;W++){var de=A[W],we=de.c;switch(de.op){case"m":tl(we[0],we[1]);break;case"l":Xr(we[0],we[1]);break;case"c":Rr.apply(this,we);break;case"h":Ht()}}return this},w.__private__.rect=w.rect=function(A,W,de,we,De){if(isNaN(A)||isNaN(W)||isNaN(de)||isNaN(we)||!_t(De))throw new Error("Invalid arguments passed to jsPDF.rect");return O===I.COMPAT&&(we=-we),me([F(D(A)),F(ae(W)),F(D(de)),F(D(we)),"re"].join(" ")),$o(De),this},w.__private__.triangle=w.triangle=function(A,W,de,we,De,Ve,Je){if(isNaN(A)||isNaN(W)||isNaN(de)||isNaN(we)||isNaN(De)||isNaN(Ve)||!_t(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-A,we-W],[De-de,Ve-we],[A-De,W-Ve]],A,W,[1,1],Je,!0),this},w.__private__.roundedRect=w.roundedRect=function(A,W,de,we,De,Ve,Je){if(isNaN(A)||isNaN(W)||isNaN(de)||isNaN(we)||isNaN(De)||isNaN(Ve)||!_t(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*de),Ve=Math.min(Ve,.5*we),this.lines([[de-2*De,0],[De*mt,0,De,Ve-Ve*mt,De,Ve],[0,we-2*Ve],[0,Ve*mt,-De*mt,Ve,-De,Ve],[2*De-de,0],[-De*mt,0,-De,-Ve*mt,-De,-Ve],[0,2*Ve-we],[0,-Ve*mt,De*mt,-Ve,De,-Ve]],A+De,W,[1,1],Je,!0),this},w.__private__.ellipse=w.ellipse=function(A,W,de,we,De){if(isNaN(A)||isNaN(W)||isNaN(de)||isNaN(we)||!_t(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*de,Je=4/3*(Math.SQRT2-1)*we;return tl(A+de,W),Rr(A+de,W-Je,A+Ve,W-we,A,W-we),Rr(A-Ve,W-we,A-de,W-Je,A-de,W),Rr(A-de,W+Je,A-Ve,W+we,A,W+we),Rr(A+Ve,W+we,A+de,W+Je,A+de,W),$o(De),this},w.__private__.circle=w.circle=function(A,W,de,we){if(isNaN(A)||isNaN(W)||isNaN(de)||!_t(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,W,de,de,we)},w.setFont=function(A,W,de){return de&&(W=X(W,de)),Gt=oi(A,W,{disableWarning:!1}),this};var vs=w.__private__.getFont=w.getFont=function(){return Pt[oi.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var A,W,de={};for(A in Dt)if(Dt.hasOwnProperty(A))for(W in de[A]=[],Dt[A])Dt[A].hasOwnProperty(W)&&de[A].push(W);return de},w.addFont=function(A,W,de,we,De){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(de=X(de,we)),De=De||"Identity-H",Zo.call(this,A,W,de,De)};var Qa,ja=e.lineWidth||.200025,pa=w.__private__.getLineWidth=w.getLineWidth=function(){return ja},ki=w.__private__.setLineWidth=w.setLineWidth=function(A){return ja=A,me(F(D(A))+" w"),this};w.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(A,W){if(A=A||[],W=W||0,isNaN(W)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(de){return F(D(de))}).join(" "),W=F(D(W)),me("["+A+"] "+W+" d"),this};var nl=w.__private__.getLineHeight=w.getLineHeight=function(){return Oe*Qa};w.__private__.getLineHeight=w.getLineHeight=function(){return Oe*Qa};var il=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Qa=A),this},rl=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Qa};il(e.lineHeight);var ma=w.__private__.getHorizontalCoordinate=function(A){return D(A)},Ba=w.__private__.getVerticalCoordinate=function(A){return O===I.ADVANCED?A:Ft[Z].mediaBox.topRightY-Ft[Z].mediaBox.bottomLeftY-D(A)},Xc=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(A){return F(ma(A))},en=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(A){return F(Ba(A))},jr=e.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Un(jr)},w.__private__.setStrokeColor=w.setDrawColor=function(A,W,de,we){return jr=Xi({ch1:A,ch2:W,ch3:de,ch4:we,pdfColorType:"draw",precision:2}),me(jr),this};var Ka=e.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Un(Ka)},w.__private__.setFillColor=w.setFillColor=function(A,W,de,we){return Ka=Xi({ch1:A,ch2:W,ch3:de,ch4:we,pdfColorType:"fill",precision:2}),me(Ka),this};var pr=e.textColor||"0 g",Zc=w.__private__.getTextColor=w.getTextColor=function(){return Un(pr)};w.__private__.setTextColor=w.setTextColor=function(A,W,de,we){return pr=Xi({ch1:A,ch2:W,ch3:de,ch4:we,pdfColorType:"text",precision:3}),this};var Fe=e.charSpace,Yt=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Fe||0)};w.__private__.setCharSpace=w.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fe=A,this};var li=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(A){var W=w.CapJoinStyles[A];if(W===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=W,me(W+" J"),this};var Ja=0;w.__private__.setLineJoin=w.setLineJoin=function(A){var W=w.CapJoinStyles[A];if(W===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ja=W,me(W+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(F(D(A))+" M"),this},w.GState=rf,w.setGState=function(A){(A=typeof A=="string"?Vn[Vt[A]]:al(null,A)).equals(nr)||(me("/"+A.id+" gs"),nr=A)};var al=function(A,W){if(!A||!Vt[A]){var de=!1;for(var we in Vn)if(Vn.hasOwnProperty(we)&&Vn[we].equals(W)){de=!0;break}if(de)W=Vn[we];else{var De="GS"+(Object.keys(Vn).length+1).toString(10);Vn[De]=W,W.id=De}return A&&(Vt[A]=W.id),Wt.publish("addGState",W),W}};w.addGState=function(A,W){return al(A,W),this},w.saveGraphicsState=function(){return me("q"),dn.push({key:Gt,size:Oe,color:pr}),this},w.restoreGraphicsState=function(){me("Q");var A=dn.pop();return Gt=A.key,Oe=A.size,pr=A.color,nr=null,this},w.setCurrentTransformationMatrix=function(A){return me(A.toString()+" cm"),this},w.comment=function(A){return me("#"+A),this};var Ks=function(A,W){var de=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Ve){isNaN(Ve)||(de=parseFloat(Ve))}});var we=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ve){isNaN(Ve)||(we=parseFloat(Ve))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ve){De=Ve.toString()}}),this},sl=function(A,W,de,we){Ks.call(this,A,W),this.type="rect";var De=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(Je){isNaN(Je)||(De=parseFloat(Je))}});var Ve=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(Je){isNaN(Je)||(Ve=parseFloat(Je))}}),this},ol=function(){this.page=Yn,this.currentPage=Z,this.pages=ke.slice(0),this.pagesContext=Ft.slice(0),this.x=Sn,this.y=Tt,this.matrix=at,this.width=An(Z),this.height=mr(Z),this.outputDestination=qe,this.id="",this.objectNumber=-1};ol.prototype.restore=function(){Yn=this.page,Z=this.currentPage,Ft=this.pagesContext,ke=this.pages,Sn=this.x,Tt=this.y,at=this.matrix,es(Z,this.width),pn(Z,this.height),qe=this.outputDestination};var Js=function(A,W,de,we,De){Cr.push(new ol),Yn=Z=0,ke=[],Sn=A,Tt=W,at=De,xn([de,we])},ci=function(A){if(ir[A])Cr.pop().restore();else{var W=new ol,de="Xo"+(Object.keys(un).length+1).toString(10);W.id=de,ir[A]=de,un[de]=W,Wt.publish("addFormObject",W),Cr.pop().restore()}};for(var $a in w.beginFormObject=function(A,W,de,we,De){return Js(A,W,de,we,De),this},w.endFormObject=function(A){return ci(A),this},w.doFormObject=function(A,W){var de=un[ir[A]];return me("q"),me(W.toString()+" cm"),me("/"+de.id+" Do"),me("Q"),this},w.getFormObject=function(A){var W=un[ir[A]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},w.save=function(A,W){return A=A||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(gl(xs(gn()),A),typeof gl.unload=="function"&&jt.setTimeout&&setTimeout(gl.unload,911),this):new Promise(function(de,we){try{var De=gl(xs(gn()),A);typeof gl.unload=="function"&&jt.setTimeout&&setTimeout(gl.unload,911),de(De)}catch(Ve){we(Ve.message)}})},Rt.API)Rt.API.hasOwnProperty($a)&&($a==="events"&&Rt.API.events.length?function(A,W){var de,we,De;for(De=W.length-1;De!==-1;De--)de=W[De][0],we=W[De][1],A.subscribe.apply(A,[de].concat(typeof we=="function"?[we]:we))}(Wt,Rt.API.events):w[$a]=Rt.API[$a]);var An=w.getPageWidth=function(A){return(Ft[A=A||Z].mediaBox.topRightX-Ft[A].mediaBox.bottomLeftX)/lt},es=w.setPageWidth=function(A,W){Ft[A].mediaBox.topRightX=W*lt+Ft[A].mediaBox.bottomLeftX},mr=w.getPageHeight=function(A){return(Ft[A=A||Z].mediaBox.topRightY-Ft[A].mediaBox.bottomLeftY)/lt},pn=w.setPageHeight=function(A,W){Ft[A].mediaBox.topRightY=W*lt+Ft[A].mediaBox.bottomLeftY};return w.internal={pdfEscape:Ai,getStyle:Hl,getFont:vs,getFontSize:ze,getCharSpace:Yt,getTextColor:Zc,getLineHeight:nl,getLineHeightFactor:rl,getLineWidth:pa,write:ft,getHorizontalCoordinate:ma,getVerticalCoordinate:Ba,getCoordinateString:Xc,getVerticalCoordinateString:en,collections:{},newObject:fn,newAdditionalObject:xt,newObjectDeferred:Ln,newObjectDeferredBegin:Fn,getFilters:_r,putStream:rr,events:Wt,scaleFactor:lt,pageSize:{getWidth:function(){return An(Z)},setWidth:function(A){es(Z,A)},getHeight:function(){return mr(Z)},setHeight:function(A){pn(Z,A)}},encryptionOptions:N,encryption:Ni,getEncryptor:Jo,output:Zs,getNumberOfPages:Et,pages:ke,out:me,f2:K,f3:z,getPageInfo:zl,getPageInfoByObjId:Nt,getCurrentPageInfo:ys,getPDFVersion:M,Point:Ks,Rectangle:sl,Matrix:Ct,hasHotfix:Qs},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return An(Z)},set:function(A){es(Z,A)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return mr(Z)},set:function(A){pn(Z,A)},enumerable:!0,configurable:!0}),Xn.call(w,Pe),Gt="F1",Si(s,n),Wt.publish("initialized"),w}rc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},rc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},rc.prototype.processOwnerPassword=function(e,t){return Ud(Fd(t).substr(0,5),e)},rc.prototype.encryptor=function(e,t){var n=Fd(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ud(n,r)}},rf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||On(e)!==On(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="2.5.2";var yi=Rt.API,Z2=1,Fl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(e){return e.toFixed(2)},ho=function(e){return e.toFixed(5)};yi.__acroform__={};var Vr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},lm=function(e){return e*Z2},rs=function(e){var t=new Q3,n=St.internal.getHeight(e)||0,r=St.internal.getWidth(e)||0;return t.BBox=[0,0,Number(qt(r)),Number(qt(n))],t},Rw=yi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},jw=yi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Bw=yi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ii=yi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bw(e,t-1)},Oi=yi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rw(e,t-1)},Li=yi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jw(e,t-1)},kw=yi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],o=e[1],f=e[2],d=e[3],m={};return m.lowerLeft_X=n(s)||0,m.lowerLeft_Y=r(o+d)||0,m.upperRight_X=n(s+f)||0,m.upperRight_Y=r(o)||0,[Number(qt(m.lowerLeft_X)),Number(qt(m.lowerLeft_Y)),Number(qt(m.upperRight_X)),Number(qt(m.upperRight_Y))]},Pw=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=zd(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+qt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=rs(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},zd=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(z){return z.split(`
`)}):s.map(function(z){return[z]});var o=n,f=St.internal.getHeight(e)||0;f=f<0?-f:f;var d=St.internal.getWidth(e)||0;d=d<0?-d:d;var m=function(z,D,ne){if(z+1<s.length){var ae=D+" "+s[z+1][0];return r0(ae,e,ne).width<=d-4}return!1};o++;e:for(;o>0;){t="",o--;var x,N,S=r0("3",e,o).height,E=e.multiline?f-o:(f-S)/2,w=E+=2,R=0,M=0,H=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+r0(t,e,o=12).width+", FieldWidth:"+d+`
`;break}for(var _="",I=0,O=0;O<s.length;O++)if(s.hasOwnProperty(O)){var k=!1;if(s[O].length!==1&&H!==s[O].length-1){if((S+2)*(I+2)+2>f)continue e;_+=s[O][H],k=!0,M=O,O--}else{_=(_+=s[O][H]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var q=parseInt(O),X=m(q,_,o),F=O>=s.length-1;if(X&&!F){_+=" ",H=0;continue}if(X||F){if(F)M=q;else if(e.multiline&&(S+2)*(I+2)+2>f)continue e}else{if(!e.multiline||(S+2)*(I+2)+2>f)continue e;M=q}}for(var L="",j=R;j<=M;j++){var K=s[j];if(e.multiline){if(j===M){L+=K[H]+" ",H=(H+1)%K.length;continue}if(j===R){L+=K[K.length-1]+" ";continue}}L+=K[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,N=r0(L,e,o).width,e.textAlign){case"right":x=d-N-2;break;case"center":x=(d-N)/2;break;case"left":default:x=2}t+=qt(x)+" "+qt(w)+` Td
`,t+="("+Fl(L)+`) Tj
`,t+=-qt(x)+` 0 Td
`,w=-(o+2),N=0,R=k?M:M+1,I++,_=""}break}return r.text=t,r.fontSize=o,r},r0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Fw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uw=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},zw=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),On(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},Hw=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Xa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Fw)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new K3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&Uw(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var o=!r;for(var f in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(f)){var d=r[f],m=[],x=d.Rect;if(d.Rect&&(d.Rect=kw(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=St.createDefaultAppearanceStream(d),On(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(m=d.getKeyValueListForStream()),d.Rect=x,d.hasAppearanceStream&&!d.appearanceStreamContent){var N=Pw(d);m.push({key:"AP",value:"<</N "+N+">>"}),s.internal.acroformPlugin.xForms.push(N)}if(d.appearanceStreamContent){var S="";for(var E in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(E)){var w=d.appearanceStreamContent[E];if(S+="/"+E+" ",S+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var f in w)if(w.hasOwnProperty(f)){var R=w[f];typeof R=="function"&&(R=R.call(s,d)),S+="/"+f+" "+R+" ",s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R)}}else typeof(R=w)=="function"&&(R=R.call(s,d)),S+="/"+f+" "+R,s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R);S+=">>"}m.push({key:"AP",value:`<<
`+S+">>"})}s.internal.putStream({additionalKeyValues:m,objectId:d.objId}),s.internal.out("endobj")}o&&zw(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Z3=yi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(f){return f};if(Array.isArray(e)){for(var s="[",o=0;o<e.length;o++)switch(o!==0&&(s+=" "),On(e[o])){case"boolean":case"number":case"object":s+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Fl(r(e[o].toString()))+")"):s+=e[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},L1=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Fl(r(e))+")"},ls=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ls.prototype.toString=function(){return this.objId+" 0 R"},ls.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ls.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Z3(s,this.objId,this.scope)}):s instanceof ls?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Q3=function(){ls.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Vr(Q3,ls);var K3=function(){ls.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Fl(n(e))+")"}},set:function(n){e=n}})};Vr(K3,ls);var Xa=function e(){ls.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(t,3)},set:function(_){_?this.F=Oi(t,3):this.F=Li(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $0)return;o="FieldObject"+e.FieldNum++}var _=function(I){return I};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Fl(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(_){m=_}});var x=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return x===void 0?50/Z2:x},set:function(_){x=_}});var N="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return N},set:function(_){N=_}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof $0||this instanceof ko))return L1(S,this.objId,this.scope)},set:function(_){_=_.toString(),S=_}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Hi?E:L1(E,this.objId,this.scope)},set:function(_){_=_.toString(),E=this instanceof Hi?_:_.substr(0,1)==="("?Kl(_.substr(1,_.length-2)):Kl(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi?Kl(E.substr(1,E.length-1)):E},set:function(_){_=_.toString(),E=this instanceof Hi?"/"+_:_}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Hi?w:L1(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=this instanceof Hi?_:_.substr(0,1)==="("?Kl(_.substr(1,_.length-2)):Kl(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi?Kl(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof Hi?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(_){_=!!_,M=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(_){R=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(_){_?this.Ff=Oi(this.Ff,1):this.Ff=Li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(_){_?this.Ff=Oi(this.Ff,2):this.Ff=Li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(_){_?this.Ff=Oi(this.Ff,3):this.Ff=Li(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(H!==null)return H},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');H=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(H){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:H=2;break;case"center":case 1:H=1;break;case"left":case 0:default:H=0}}})};Vr(Xa,ls);var Cl=function(){Xa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z3(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(o,f,d){d||(d=1);for(var m,x=[];m=f.exec(o);)x.push(m[d]);return x}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(n){n?this.Ff=Oi(this.Ff,18):this.Ff=Li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Oi(this.Ff,19):this.Ff=Li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(n){n?(this.Ff=Oi(this.Ff,20),t.sort()):this.Ff=Li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(n){n?this.Ff=Oi(this.Ff,22):this.Ff=Li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(n){n?this.Ff=Oi(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(n){n?this.Ff=Oi(this.Ff,27):this.Ff=Li(this.Ff,27)}}),this.hasAppearanceStream=!1};Vr(Cl,Xa);var El=function(){Cl.call(this),this.fontName="helvetica",this.combo=!1};Vr(El,Cl);var _l=function(){El.call(this),this.combo=!0};Vr(_l,El);var Bu=function(){_l.call(this),this.edit=!0};Vr(Bu,_l);var Hi=function(){Xa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(n){n?this.Ff=Oi(this.Ff,15):this.Ff=Li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(n){n?this.Ff=Oi(this.Ff,16):this.Ff=Li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(n){n?this.Ff=Oi(this.Ff,17):this.Ff=Li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(n){n?this.Ff=Oi(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Fl(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){On(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Vr(Hi,Xa);var ku=function(){Hi.call(this),this.pushButton=!0};Vr(ku,Hi);var Tl=function(){Hi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Vr(Tl,Hi);var $0=function(){var e,t;Xa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,f=[];for(o in f.push("<<"),r)f.push("/"+o+" ("+Fl(s(r[o]))+")");return f.push(">>"),f.join(`
`)},set:function(s){On(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vr($0,Xa),Tl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Tl.prototype.createOption=function(e){var t=new $0;return t.Parent=this,t.optionName=e,this.Kids.push(t),qw.call(this.scope,t),t};var Pu=function(){Hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Vr(Pu,Hi);var ko=function(){Xa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(t){t?this.Ff=Oi(this.Ff,13):this.Ff=Li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(t){t?this.Ff=Oi(this.Ff,21):this.Ff=Li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(t){t?this.Ff=Oi(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(t){t?this.Ff=Oi(this.Ff,24):this.Ff=Li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(t){t?this.Ff=Oi(this.Ff,25):this.Ff=Li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(t){t?this.Ff=Oi(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vr(ko,Xa);var Fu=function(){ko.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(e){e?this.Ff=Oi(this.Ff,14):this.Ff=Li(this.Ff,14)}}),this.password=!0};Vr(Fu,ko);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=zd(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+qt(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],o=St.internal.getHeight(e),f=St.internal.getWidth(e),d=zd(e,e.caption);return s.push("1 g"),s.push("0 0 "+qt(f)+" "+qt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+qt(f-1)+" "+qt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+qt(d.fontSize)+" Tf "+r),s.push(d.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Circle.YesNormal,t.D[e]=St.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=St.internal.Bezier_C,o=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ho(St.internal.getWidth(e)/2)+" "+ho(St.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*St.internal.Bezier_C).toFixed(5)),f=Number((r*St.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(St.internal.getWidth(e)/2)+" "+ho(St.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ho(St.internal.getWidth(e)/2)+" "+ho(St.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+f+" "+f+" "+r+" 0 "+r+" c"),n.push("-"+f+" "+r+" -"+r+" "+f+" -"+r+" 0 c"),n.push("-"+r+" -"+f+" -"+f+" -"+r+" 0 -"+r+" c"),n.push(f+" -"+r+" "+r+" -"+f+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*St.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(St.internal.getWidth(e)/2)+" "+ho(St.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Cross.YesNormal,t.D[e]=St.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=St.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+qt(St.internal.getWidth(e)-2)+" "+qt(St.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),n.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),n.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),n.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=St.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qt(St.internal.getWidth(e)-2)+" "+qt(St.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(n.x1.x)+" "+qt(n.x1.y)+" m"),r.push(qt(n.x2.x)+" "+qt(n.x2.y)+" l"),r.push(qt(n.x4.x)+" "+qt(n.x4.y)+" m"),r.push(qt(n.x3.x)+" "+qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};St.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=St.internal.getWidth(e),n=St.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},St.internal.getWidth=function(e){var t=0;return On(e)==="object"&&(t=lm(e.Rect[2])),t},St.internal.getHeight=function(e){var t=0;return On(e)==="object"&&(t=lm(e.Rect[3])),t};var qw=yi.addField=function(e){if(Hw(this,e),!(e instanceof Xa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};yi.AcroFormChoiceField=Cl,yi.AcroFormListBox=El,yi.AcroFormComboBox=_l,yi.AcroFormEditBox=Bu,yi.AcroFormButton=Hi,yi.AcroFormPushButton=ku,yi.AcroFormRadioButton=Tl,yi.AcroFormCheckBox=Pu,yi.AcroFormTextField=ko,yi.AcroFormPasswordField=Fu,yi.AcroFormAppearance=St,yi.AcroForm={ChoiceField:Cl,ListBox:El,ComboBox:_l,EditBox:Bu,Button:Hi,PushButton:ku,RadioButton:Tl,CheckBox:Pu,TextField:ko,PasswordField:Fu,Appearance:St},Rt.AcroForm={ChoiceField:Cl,ListBox:El,ComboBox:_l,EditBox:Bu,Button:Hi,PushButton:ku,RadioButton:Tl,CheckBox:Pu,TextField:ko,PasswordField:Fu,Appearance:St};var Gw=Rt.AcroForm;function J3(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(z,D){var ne,ae,le,$,Q,ue=t;if((D=D||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(X(z))for(Q in n)for(le=n[Q],ne=0;ne<le.length;ne+=1){for($=!0,ae=0;ae<le[ne].length;ae+=1)if(le[ne][ae]!==void 0&&le[ne][ae]!==z[ae]){$=!1;break}if($===!0){ue=Q;break}}else for(Q in n)for(le=n[Q],ne=0;ne<le.length;ne+=1){for($=!0,ae=0;ae<le[ne].length;ae+=1)if(le[ne][ae]!==void 0&&le[ne][ae]!==z.charCodeAt(ae)){$=!1;break}if($===!0){ue=Q;break}}return ue===t&&D!==t&&(ue=D),ue},s=function z(D){for(var ne=this.internal.write,ae=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:D.width}),$.push({key:"Height",value:D.height}),D.colorSpace===H.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===H.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var Q="",ue=0,oe=D.transparency.length;ue<oe;ue++)Q+=D.transparency[ue]+" "+D.transparency[ue]+" ";$.push({key:"Mask",value:"["+Q+"]"})}D.sMask!==void 0&&$.push({key:"SMask",value:D.objectId+1+" 0 R"});var ye=D.filter!==void 0?["/"+D.filter]:void 0;if(ae({data:D.data,additionalKeyValues:$,alreadyAppliedFilters:ye,objectId:D.objectId}),ne("endobj"),"sMask"in D&&D.sMask!==void 0){var xe="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,U={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:xe,data:D.sMask};"filter"in D&&(U.filter=D.filter),z.call(this,U)}if(D.colorSpace===H.INDEXED){var Z=this.internal.newObject();ae({data:L(new Uint8Array(D.palette)),objectId:Z}),ne("endobj")}},o=function(){var z=this.internal.collections.addImage_images;for(var D in z)s.call(this,z[D])},f=function(){var z,D=this.internal.collections.addImage_images,ne=this.internal.write;for(var ae in D)ne("/I"+(z=D[ae]).index,z.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",f))},m=function(){var z=this.internal.collections.addImage_images;return d.call(this),z},x=function(){return Object.keys(this.internal.collections.addImage_images).length},N=function(z){return typeof e["process"+z.toUpperCase()]=="function"},S=function(z){return On(z)==="object"&&z.nodeType===1},E=function(z,D){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var ne=""+z.getAttribute("src");if(ne.indexOf("data:image/")===0)return ju(unescape(ne).split("base64,").pop());var ae=e.loadFile(ne,!0);if(ae!==void 0)return ae}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var le;switch(D){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return ju(z.toDataURL(le,1).split("base64,").pop())}},w=function(z){var D=this.internal.collections.addImage_images;if(D){for(var ne in D)if(z===D[ne].alias)return D[ne]}},R=function(z,D,ne){return z||D||(z=-96,D=-96),z<0&&(z=-1*ne.width*72/z/this.internal.scaleFactor),D<0&&(D=-1*ne.height*72/D/this.internal.scaleFactor),z===0&&(z=D*ne.width/ne.height),D===0&&(D=z*ne.height/ne.width),[z,D]},M=function(z,D,ne,ae,le,$){var Q=R.call(this,ne,ae,le),ue=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ye=m.call(this);if(ne=Q[0],ae=Q[1],ye[le.index]=le,$){$*=Math.PI/180;var xe=Math.cos($),U=Math.sin($),Z=function(fe){return fe.toFixed(4)},ie=[Z(xe),Z(U),Z(-1*U),Z(xe),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ue(z),oe(D+ae),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([ue(ne),"0","0",ue(ae),"0","0","cm"].join(" "))):this.internal.write([ue(ne),"0","0",ue(ae),ue(z),oe(D+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},H=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(z){var D,ne,ae=0;if(typeof z=="string")for(ne=z.length,D=0;D<ne;D++)ae=(ae<<5)-ae+z.charCodeAt(D),ae|=0;else if(X(z))for(ne=z.byteLength/2,D=0;D<ne;D++)ae=(ae<<5)-ae+z[D],ae|=0;return ae},O=e.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var D=!0;return z.length===0&&(D=!1),z.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(D=!1),D},k=e.__addimage__.extractImageFromDataUrl=function(z){var D=(z=z||"").split("base64,"),ne=null;if(D.length===2){var ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(D[0]);Array.isArray(ae)&&(ne={mimeType:ae[1],charset:ae[2],data:D[1]})}return ne},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(z){return q()&&z instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(z){return q()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(z){for(var D=z.length,ne=new Uint8Array(D),ae=0;ae<D;ae++)ne[ae]=z.charCodeAt(ae);return ne},L=e.__addimage__.arrayBufferToBinaryString=function(z){for(var D="",ne=X(z)?z:new Uint8Array(z),ae=0;ae<ne.length;ae+=8192)D+=String.fromCharCode.apply(null,ne.subarray(ae,ae+8192));return D};e.addImage=function(){var z,D,ne,ae,le,$,Q,ue,oe;if(typeof arguments[1]=="number"?(D=t,ne=arguments[1],ae=arguments[2],le=arguments[3],$=arguments[4],Q=arguments[5],ue=arguments[6],oe=arguments[7]):(D=arguments[1],ne=arguments[2],ae=arguments[3],le=arguments[4],$=arguments[5],Q=arguments[6],ue=arguments[7],oe=arguments[8]),On(z=arguments[0])==="object"&&!S(z)&&"imageData"in z){var ye=z;z=ye.imageData,D=ye.format||D||t,ne=ye.x||ne||0,ae=ye.y||ae||0,le=ye.w||ye.width||le,$=ye.h||ye.height||$,Q=ye.alias||Q,ue=ye.compression||ue,oe=ye.rotation||ye.angle||oe}var xe=this.internal.getFilters();if(ue===void 0&&xe.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(ne)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var U=j.call(this,z,D,Q,ue);return M.call(this,ne,ae,le,$,U,oe),this};var j=function(z,D,ne,ae){var le,$,Q;if(typeof z=="string"&&r(z)===t){z=unescape(z);var ue=K(z,!1);(ue!==""||(ue=e.loadFile(z,!0))!==void 0)&&(z=ue)}if(S(z)&&(z=E(z,D)),D=r(z,D),!N(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((Q=ne)==null||Q.length===0)&&(ne=function(oe){return typeof oe=="string"||X(oe)?I(oe):X(oe.data)?I(oe.data):null}(z)),(le=w.call(this,ne))||(q()&&(z instanceof Uint8Array||D==="RGBA"||($=z,z=F(z))),le=this["process"+D.toUpperCase()](z,x.call(this),ne,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:_.NONE}(ae),$)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},K=e.__addimage__.convertBase64ToBinaryString=function(z,D){var ne;D=typeof D!="boolean"||D;var ae,le="";if(typeof z=="string"){ae=(ne=k(z))!==null?ne.data:z;try{le=ju(ae)}catch($){if(D)throw O(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};e.getImageProperties=function(z){var D,ne,ae="";if(S(z)&&(z=E(z)),typeof z=="string"&&r(z)===t&&((ae=K(z,!1))===""&&(ae=e.loadFile(z)||""),z=ae),ne=r(z),!N(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(!q()||z instanceof Uint8Array||(z=F(z)),!(D=this["process"+ne.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=ne,D}})(Rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,o,f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(n.objId),x=n.pageContext.annotations,N=!1,S=0;S<x.length&&!N;S++)switch((r=x[S]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(N=!0);break;case"reference":case"text":case"freetext":N=!0}if(N!=0){this.internal.write("/Annots [");for(var E=0;E<x.length;E++){r=x[E];var w=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(M.objId),I=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+w(_(r.contents))+")",o+=" /Popup "+H.objId+" 0 R",o+=" /P "+m.objId+" 0 R",o+=" /T ("+w(_(I))+") >>",M.content=o;var O=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+f(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(o+=" /Open true"),o+=" >>",H.content=o,this.internal.write(M.objId,"0 R",H.objId,"0 R");break;case"freetext":s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(R(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var X=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+X+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,o,f){var d=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:m(n),y:x(r),w:m(n+s),h:x(r+o)},options:f,type:"link"})},e.textWithLink=function(n,r,s,o){var f,d,m=this.getTextWidth(n),x=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var N=this.splitTextToSize(n,d).length;f=Math.ceil(x*N)}else d=m,f=x;return this.text(n,r,s,o),s+=.2*x,o.align==="center"&&(r-=m/2),o.align==="right"&&(r-=m),this.link(r,s-x,d,f,o),m},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},d=e.__arabicParser__.isArabicEndLetter=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(M){return f(M)&&s.indexOf(M.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=1};var x=e.__arabicParser__.arabicLetterHasFinalForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=3};var N=e.__arabicParser__.arabicLetterHasMedialForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(M){var H=0,_=n,I="",O=0;for(H=0;H<M.length;H+=1)_[M.charCodeAt(H)]!==void 0?(O++,typeof(_=_[M.charCodeAt(H)])=="number"&&(I+=String.fromCharCode(_),_=n,O=0),H===M.length-1&&(_=n,I+=M.charAt(H-(O-1)),H-=O-1,O=0)):(_=n,I+=M.charAt(H-O),H-=O,O=0);return I};e.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(M,H,_){return f(M)?o(M)===!1?-1:!x(M)||!f(H)&&!f(_)||!f(_)&&d(H)||d(M)&&!f(H)||d(M)&&m(H)||d(M)&&d(H)?0:N(M)&&f(H)&&!d(H)&&f(_)&&x(_)?3:d(M)||!f(_)?1:2:-1},w=function(M){var H=0,_=0,I=0,O="",k="",q="",X=(M=M||"").split("\\s+"),F=[];for(H=0;H<X.length;H+=1){for(F.push(""),_=0;_<X[H].length;_+=1)O=X[H][_],k=X[H][_-1],q=X[H][_+1],f(O)?(I=E(O,k,q),F[H]+=I!==-1?String.fromCharCode(t[O.charCodeAt(0)][I]):O):F[H]+=O;F[H]=S(F[H])}return F.join(" ")},R=e.__arabicParser__.processArabic=e.processArabic=function(){var M,H=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(H)){var I=0;for(_=[],I=0;I<H.length;I+=1)Array.isArray(H[I])?_.push([w(H[I][0]),H[I][1],H[I][2]]):_.push([w(H[I])]);M=_}else M=w(H);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};e.events.push(["preProcessText",R])}(Rt.API),Rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(d){f=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(M){m=M}});var x=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return x},set:function(M){x=M}});var N=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return N},set:function(M){N=M}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(M){S=M}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(M){E=M}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(M){R=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return r.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},e.getTextDimensions=function(m,x){r.call(this);var N=(x=x||{}).fontSize||this.getFontSize(),S=x.font||this.getFont(),E=x.scaleFactor||this.internal.scaleFactor,w=0,R=0,M=0,H=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var _=x.maxWidth;_>0?typeof m=="string"?m=this.splitTextToSize(m,_):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(O,k){return O.concat(H.splitTextToSize(k,_))},[])):m=Array.isArray(m)?m:[m];for(var I=0;I<m.length;I++)w<(M=this.getStringUnitWidth(m[I],{font:S})*N)&&(w=M);return w!==0&&(R=m.length),{w:w/=E,h:Math.max((R*N*this.getLineHeightFactor()-N*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var m;m=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var x=this.internal.__cell__.lastCell,N=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return x.lineNumber!==void 0&&(x.lineNumber===m.lineNumber?(m.x=(x.x||0)+(x.width||0),m.y=x.y||0):x.y+x.height+m.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=S.top,w&&E&&(this.printHeaderRow(m.lineNumber,!0),m.y+=E[0].height)):m.y=x.y+x.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,n===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-N,m.y+N,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+N,{align:"center",baseline:"top",maxWidth:m.width-N-N}):this.text(m.text,m.x+N,m.y+N,{align:"left",baseline:"top",maxWidth:m.width-N-N})),this.internal.__cell__.lastCell=m,this};e.table=function(m,x,N,S,E){if(r.call(this),!N)throw new Error("No data for PDF table.");var w,R,M,H,_=[],I=[],O=[],k={},q={},X=[],F=[],L=(E=E||{}).autoSize||!1,j=E.printHeaders!==!1,K=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,z=E.margins||Object.assign({width:this.getPageWidth()},t),D=typeof E.padding=="number"?E.padding:3,ne=E.headerBackgroundColor||"#c8c8c8",ae=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=ae,this.setFontSize(K),S==null)I=_=Object.keys(N[0]),O=_.map(function(){return"left"});else if(Array.isArray(S)&&On(S[0])==="object")for(_=S.map(function(ye){return ye.name}),I=S.map(function(ye){return ye.prompt||ye.name||""}),O=S.map(function(ye){return ye.align||"left"}),w=0;w<S.length;w+=1)q[S[w].name]=S[w].width*(19.049976/25.4);else Array.isArray(S)&&typeof S[0]=="string"&&(I=_=S,O=_.map(function(){return"left"}));if(L||Array.isArray(S)&&typeof S[0]=="string")for(w=0;w<_.length;w+=1){for(k[H=_[w]]=N.map(function(ye){return ye[H]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(I[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=k[H],this.setFont(void 0,"normal"),M=0;M<R.length;M+=1)X.push(this.getTextDimensions(R[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[H]=Math.max.apply(null,X)+D+D,X=[]}if(j){var le={};for(w=0;w<_.length;w+=1)le[_[w]]={},le[_[w]].text=I[w],le[_[w]].align=O[w];var $=d.call(this,le,q);F=_.map(function(ye){return new o(m,x,q[ye],$,le[ye].text,void 0,le[ye].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var Q=S.reduce(function(ye,xe){return ye[xe.name]=xe.align,ye},{});for(w=0;w<N.length;w+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:w,data:N[w]},this);var ue=d.call(this,N[w],q);for(M=0;M<_.length;M+=1){var oe=N[w][_[M]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:w,col:M,data:oe},this),f.call(this,new o(m,x,q[_[M]],ue,oe,w+2,Q[_[M]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=x,this};var d=function(m,x){var N=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(m).map(function(w){var R=m[w];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,x[w]-N-N)},this).map(function(w){return this.getLineHeightFactor()*w.length*S/E+N+N},this).reduce(function(w,R){return Math.max(w,R)},0)};e.setTableHeaderRow=function(m){r.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,x){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var N;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){N=this.internal.__cell__.tableHeaderRow[w].clone(),x&&(N.y=this.internal.__cell__.margins.top||0,E.push(N)),N.lineNumber=m;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,N),this.setTextColor(R)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(Rt.API);var $3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ey=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Hd=J3(ey),ty=[100,200,300,400,500,600,700,800,900],Vw=J3(ty);function qd(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return $3[o=o||"normal"]?o:"normal"}(e.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(o){return typeof Hd[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function cm(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Yw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},um={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ww(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Yw,n.genericFontFamilies||{}),o=null,f=null,d=0;d<t.length;++d)if(s[(o=qd(t[d])).family]&&(o.family=s[o.family]),e.hasOwnProperty(o.family)){f=e[o.family];break}if(!(f=f||e[r]))throw new Error("Could not find a font-family for the rule '"+fm(o)+"' and default family '"+r+"'.");if(f=function(m,x){if(x[m])return x[m];var N=Hd[m],S=N<=Hd.normal?-1:1,E=cm(x,ey,N,S);if(!E)throw new Error("Could not find a matching font-stretch value for "+m);return E}(o.stretch,f),f=function(m,x){if(x[m])return x[m];for(var N=$3[m],S=0;S<N.length;++S)if(x[N[S]])return x[N[S]];throw new Error("Could not find a matching font-style for "+m)}(o.style,f),!(f=function(m,x){if(x[m])return x[m];if(m===400&&x[500])return x[500];if(m===500&&x[400])return x[400];var N=Vw[m],S=cm(x,ty,N,m<400?-1:1);if(!S)throw new Error("Could not find a matching font-weight for value "+m);return S}(o.weight,f)))throw new Error("Failed to resolve a font for the rule '"+fm(o)+"'.");return f}function hm(e){return e.trimLeft()}function Xw(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Zw(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var a0,dm,gm,D1=["times"];(function(e){var t,n,r,s,o,f,d,m,x,N=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new m,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new f,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new f,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,f=this.internal.Point,d=this.internal.Rectangle,m=this.internal.Matrix,x=new N}]);var S=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=U;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Me){ie=!!Me}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(Me){fe=!!Me}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Me){isNaN(Me)||(ce=Me)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Me){isNaN(Me)||(_e=Me)}}),Object.defineProperty(this,"margin",{get:function(){return x.margin},set:function(Me){var me;typeof Me=="number"?me=[Me,Me,Me,Me]:((me=new Array(4))[0]=Me[0],me[1]=Me.length>=2?Me[1]:me[0],me[2]=Me.length>=3?Me[2]:me[0],me[3]=Me.length>=4?Me[3]:me[1]),x.margin=me}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Me){be=Me}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Me){Ee=Me}});var Ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ye},set:function(Me){Ye=Me}}),Object.defineProperty(this,"ctx",{get:function(){return x},set:function(Me){Me instanceof N&&(x=Me)}}),Object.defineProperty(this,"path",{get:function(){return x.path},set:function(Me){x.path=Me}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Me){ke=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var me;me=E(Me),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var me=E(Me);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var et=null;function qe(Me,me){if(et===null){var ft=function(Ge){var Pe=[];return Object.keys(Ge).forEach(function(Oe){Ge[Oe].forEach(function(Se){var ze=null;switch(Se){case"bold":ze={family:Oe,weight:"bold"};break;case"italic":ze={family:Oe,style:"italic"};break;case"bolditalic":ze={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:Oe}}ze!==null&&(ze.ref={name:Oe,style:Se},Pe.push(ze))})}),Pe}(Me.getFontList());et=function(Ge){for(var Pe={},Oe=0;Oe<Ge.length;++Oe){var Se=qd(Ge[Oe]),ze=Se.family,ct=Se.stretch,ot=Se.style,At=Se.weight;Pe[ze]=Pe[ze]||{},Pe[ze][ct]=Pe[ze][ct]||{},Pe[ze][ct][ot]=Pe[ze][ct][ot]||{},Pe[ze][ct][ot][At]=Se}return Pe}(ft.concat(me))}return et}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(Me){et=null,st=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var me;if(this.ctx.font=Me,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var ft=me[1],Ge=(me[2],me[3]),Pe=me[4],Oe=(me[5],me[6]),Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(Se==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var ze=function(bt){var Gt,lt,Sn=[],Tt=bt.trim();if(Tt==="")return D1;if(Tt in um)return[um[Tt]];for(;Tt!=="";){switch(lt=null,Gt=(Tt=hm(Tt)).charAt(0)){case'"':case"'":lt=Xw(Tt.substring(1),Gt);break;default:lt=Zw(Tt)}if(lt===null||(Sn.push(lt[0]),(Tt=hm(lt[1]))!==""&&Tt.charAt(0)!==","))return D1;Tt=Tt.replace(/^,/,"")}return Sn}(Oe);if(this.fontFaces){var ct=Ww(qe(this.pdf,this.fontFaces),ze.map(function(bt){return{family:bt,stretch:"normal",weight:Ge,style:ft}}));this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var ot="";(Ge==="bold"||parseInt(Ge,10)>=700||ft==="bold")&&(ot="bold"),ft==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var At="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<ze.length;pt++){if(this.pdf.internal.getFont(ze[pt],ot,{noFallback:!0,disableWarning:!0})!==void 0){At=ze[pt];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(ze[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=ze[pt],ot="bold";else if(this.pdf.internal.getFont(ze[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=ze[pt],ot="normal";break}}if(At===""){for(var Lt=0;Lt<ze.length;Lt++)if(yt[ze[Lt]]){At=yt[ze[Lt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};S.prototype.setLineDash=function(U){this.lineDash=U},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){k.call(this,"fill",!1)},S.prototype.stroke=function(){k.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(U,Z){if(isNaN(U)||isNaN(Z))throw kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new f(U,Z));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new f(U,Z)},S.prototype.closePath=function(){var U=new f(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&On(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){U=new f(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(U.x,U.y)},S.prototype.lineTo=function(U,Z){if(isNaN(U)||isNaN(Z))throw kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new f(U,Z));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new f(ie.x,ie.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},S.prototype.quadraticCurveTo=function(U,Z,ie,fe){if(isNaN(ie)||isNaN(fe)||isNaN(U)||isNaN(Z))throw kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new f(ie,fe)),_e=this.ctx.transform.applyToPoint(new f(U,Z));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new f(ce.x,ce.y)},S.prototype.bezierCurveTo=function(U,Z,ie,fe,ce,_e){if(isNaN(ce)||isNaN(_e)||isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe))throw kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new f(ce,_e)),Ee=this.ctx.transform.applyToPoint(new f(U,Z)),Ye=this.ctx.transform.applyToPoint(new f(ie,fe));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Ye.x,y2:Ye.y,x:be.x,y:be.y}),this.ctx.lastPoint=new f(be.x,be.y)},S.prototype.arc=function(U,Z,ie,fe,ce,_e){if(isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe)||isNaN(ce))throw kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new f(U,Z));U=be.x,Z=be.y;var Ee=this.ctx.transform.applyToPoint(new f(0,ie)),Ye=this.ctx.transform.applyToPoint(new f(0,0));ie=Math.sqrt(Math.pow(Ee.x-Ye.x,2)+Math.pow(Ee.y-Ye.y,2))}Math.abs(ce-fe)>=2*Math.PI&&(fe=0,ce=2*Math.PI),this.path.push({type:"arc",x:U,y:Z,radius:ie,startAngle:fe,endAngle:ce,counterclockwise:_e})},S.prototype.arcTo=function(U,Z,ie,fe,ce){throw new Error("arcTo not implemented.")},S.prototype.rect=function(U,Z,ie,fe){if(isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe))throw kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Z),this.lineTo(U+ie,Z),this.lineTo(U+ie,Z+fe),this.lineTo(U,Z+fe),this.lineTo(U,Z),this.lineTo(U+ie,Z),this.lineTo(U,Z)},S.prototype.fillRect=function(U,Z,ie,fe){if(isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe))throw kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Z,ie,fe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},S.prototype.strokeRect=function(U,Z,ie,fe){if(isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe))throw kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(U,Z,ie,fe),this.stroke())},S.prototype.clearRect=function(U,Z,ie,fe){if(isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe))throw kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Z,ie,fe))},S.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new N(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},S.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(U){var Z,ie,fe,ce;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Z=0,ie=0,fe=0,ce=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(_e!==null)Z=parseInt(_e[1]),ie=parseInt(_e[2]),fe=parseInt(_e[3]),ce=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Z=parseInt(_e[1]),ie=parseInt(_e[2]),fe=parseInt(_e[3]),ce=parseFloat(_e[4]);else{if(ce=1,typeof U=="string"&&U.charAt(0)!=="#"){var be=new Y3(U);U=be.ok?be.toHex():"#000000"}U.length===4?(Z=U.substring(1,2),Z+=Z,ie=U.substring(2,3),ie+=ie,fe=U.substring(3,4),fe+=fe):(Z=U.substring(1,3),ie=U.substring(3,5),fe=U.substring(5,7)),Z=parseInt(Z,16),ie=parseInt(ie,16),fe=parseInt(fe,16)}}return{r:Z,g:ie,b:fe,a:ce,style:U}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(U,Z,ie,fe){if(isNaN(Z)||isNaN(ie)||typeof U!="string")throw kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!w.call(this)){var ce=ue(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;D.call(this,{text:U,x:Z,y:ie,scale:_e,angle:ce,align:this.textAlign,maxWidth:fe})}},S.prototype.strokeText=function(U,Z,ie,fe){if(isNaN(Z)||isNaN(ie)||typeof U!="string")throw kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){fe=isNaN(fe)?void 0:fe;var ce=ue(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;D.call(this,{text:U,x:Z,y:ie,scale:_e,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:fe})}},S.prototype.measureText=function(U){if(typeof U!="string")throw kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ie=this.pdf.internal.scaleFactor,fe=Z.internal.getFontSize(),ce=Z.getStringUnitWidth(U)*fe/Z.internal.scaleFactor,_e=function(be){var Ee=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new _e({width:ce*=Math.round(96*ie/72*1e4)/1e4})},S.prototype.scale=function(U,Z){if(isNaN(U)||isNaN(Z))throw kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new m(U,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},S.prototype.rotate=function(U){if(isNaN(U))throw kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new m(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},S.prototype.translate=function(U,Z){if(isNaN(U)||isNaN(Z))throw kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new m(1,0,0,1,U,Z);this.ctx.transform=this.ctx.transform.multiply(ie)},S.prototype.transform=function(U,Z,ie,fe,ce,_e){if(isNaN(U)||isNaN(Z)||isNaN(ie)||isNaN(fe)||isNaN(ce)||isNaN(_e))throw kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new m(U,Z,ie,fe,ce,_e);this.ctx.transform=this.ctx.transform.multiply(be)},S.prototype.setTransform=function(U,Z,ie,fe,ce,_e){U=isNaN(U)?1:U,Z=isNaN(Z)?0:Z,ie=isNaN(ie)?0:ie,fe=isNaN(fe)?1:fe,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?0:_e,this.ctx.transform=new m(U,Z,ie,fe,ce,_e)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(U,Z,ie,fe,ce,_e,be,Ee,Ye){var ke=this.pdf.getImageProperties(U),et=1,qe=1,st=1,Me=1;fe!==void 0&&Ee!==void 0&&(st=Ee/fe,Me=Ye/ce,et=ke.width/fe*Ee/fe,qe=ke.height/ce*Ye/ce),_e===void 0&&(_e=Z,be=ie,Z=0,ie=0),fe!==void 0&&Ee===void 0&&(Ee=fe,Ye=ce),fe===void 0&&Ee===void 0&&(Ee=ke.width,Ye=ke.height);for(var me,ft=this.ctx.transform.decompose(),Ge=ue(ft.rotate.shx),Pe=new m,Oe=(Pe=(Pe=(Pe=Pe.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new d(_e-Z*st,be-ie*Me,fe*et,ce*qe)),Se=H.call(this,Oe),ze=[],ct=0;ct<Se.length;ct+=1)ze.indexOf(Se[ct])===-1&&ze.push(Se[ct]);if(O(ze),this.autoPaging)for(var ot=ze[0],At=ze[ze.length-1],yt=ot;yt<At+1;yt++){this.pdf.setPage(yt);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=yt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=yt===1?0:bt+(yt-2)*Gt;if(this.ctx.clip_path.length!==0){var Sn=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(me,this.posX+this.margin[3],-lt+Lt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Sn}var Tt=JSON.parse(JSON.stringify(Oe));Tt=I([Tt],this.posX+this.margin[3],-lt+Lt+this.ctx.prevPageLastElemOffset)[0];var at=(yt>ot||yt<At)&&M.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Gt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,Ge),at&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ge)};var H=function(U,Z,ie){var fe=[];Z=Z||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":fe.push(Math.floor((U.y+ce)/ie)+1);break;case"arc":fe.push(Math.floor((U.y+ce-U.radius)/ie)+1),fe.push(Math.floor((U.y+ce+U.radius)/ie)+1);break;case"qct":var _e=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);fe.push(Math.floor((_e.y+ce)/ie)+1),fe.push(Math.floor((_e.y+_e.h+ce)/ie)+1);break;case"bct":var be=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);fe.push(Math.floor((be.y+ce)/ie)+1),fe.push(Math.floor((be.y+be.h+ce)/ie)+1);break;case"rect":fe.push(Math.floor((U.y+ce)/ie)+1),fe.push(Math.floor((U.y+U.h+ce)/ie)+1)}for(var Ee=0;Ee<fe.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<fe[Ee];)_.call(this);return fe},_=function(){var U=this.fillStyle,Z=this.strokeStyle,ie=this.font,fe=this.lineCap,ce=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Z,this.font=ie,this.lineCap=fe,this.lineWidth=ce,this.lineJoin=_e},I=function(U,Z,ie){for(var fe=0;fe<U.length;fe++)switch(U[fe].type){case"bct":U[fe].x2+=Z,U[fe].y2+=ie;case"qct":U[fe].x1+=Z,U[fe].y1+=ie;case"mt":case"lt":case"arc":default:U[fe].x+=Z,U[fe].y+=ie}return U},O=function(U){return U.sort(function(Z,ie){return Z-ie})},k=function(U,Z){for(var ie,fe,ce=this.fillStyle,_e=this.strokeStyle,be=this.lineCap,Ee=this.lineWidth,Ye=Math.abs(Ee*this.ctx.transform.scaleX),ke=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),st=[],Me=0;Me<qe.length;Me++)if(qe[Me].x!==void 0)for(var me=H.call(this,qe[Me]),ft=0;ft<me.length;ft+=1)st.indexOf(me[ft])===-1&&st.push(me[ft]);for(var Ge=0;Ge<st.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<st[Ge];)_.call(this);if(O(st),this.autoPaging)for(var Pe=st[0],Oe=st[st.length-1],Se=Pe;Se<Oe+1;Se++){this.pdf.setPage(Se),this.fillStyle=ce,this.strokeStyle=_e,this.lineCap=be,this.lineWidth=Ye,this.lineJoin=ke;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Se===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Se===1?0:ot+(Se-2)*At;if(this.ctx.clip_path.length!==0){var pt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ie,this.posX+this.margin[3],-yt+ct+this.ctx.prevPageLastElemOffset),q.call(this,U,!0),this.path=pt}if(fe=JSON.parse(JSON.stringify(et)),this.path=I(fe,this.posX+this.margin[3],-yt+ct+this.ctx.prevPageLastElemOffset),Z===!1||Se===0){var Lt=(Se>Pe||Se<Oe)&&M.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,At,null).clip().discardPath()),q.call(this,U,Z),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Ye,q.call(this,U,Z),this.lineWidth=Ee;this.path=et},q=function(U,Z){if((U!=="stroke"||Z||!R.call(this))&&(U==="stroke"||Z||!w.call(this))){for(var ie,fe,ce=[],_e=this.path,be=0;be<_e.length;be++){var Ee=_e[be];switch(Ee.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Ye=ce.length;if(_e[be-1]&&!isNaN(_e[be-1].x)&&(ie=[Ee.x-_e[be-1].x,Ee.y-_e[be-1].y],Ye>0)){for(;Ye>=0;Ye--)if(ce[Ye-1].close!==!0&&ce[Ye-1].begin!==!0){ce[Ye-1].deltas.push(ie),ce[Ye-1].abs.push(Ee);break}}break;case"bct":ie=[Ee.x1-_e[be-1].x,Ee.y1-_e[be-1].y,Ee.x2-_e[be-1].x,Ee.y2-_e[be-1].y,Ee.x-_e[be-1].x,Ee.y-_e[be-1].y],ce[ce.length-1].deltas.push(ie);break;case"qct":var ke=_e[be-1].x+2/3*(Ee.x1-_e[be-1].x),et=_e[be-1].y+2/3*(Ee.y1-_e[be-1].y),qe=Ee.x+2/3*(Ee.x1-Ee.x),st=Ee.y+2/3*(Ee.y1-Ee.y),Me=Ee.x,me=Ee.y;ie=[ke-_e[be-1].x,et-_e[be-1].y,qe-_e[be-1].x,st-_e[be-1].y,Me-_e[be-1].x,me-_e[be-1].y],ce[ce.length-1].deltas.push(ie);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ee)}}fe=Z?null:U==="stroke"?"stroke":"fill";for(var ft=!1,Ge=0;Ge<ce.length;Ge++)if(ce[Ge].arc)for(var Pe=ce[Ge].abs,Oe=0;Oe<Pe.length;Oe++){var Se=Pe[Oe];Se.type==="arc"?L.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,Z,!ft):ne.call(this,Se.x,Se.y),ft=!0}else if(ce[Ge].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ce[Ge].begin!==!0){var ze=ce[Ge].start.x,ct=ce[Ge].start.y;ae.call(this,ce[Ge].deltas,ze,ct),ft=!0}fe&&j.call(this,fe),Z&&K.call(this)}},X=function(U){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ie;case"top":return U+Z-ie;case"hanging":return U+Z-2*ie;case"middle":return U+Z/2-ie;case"ideographic":return U;case"alphabetic":default:return U}},F=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Z,ie){this.colorStops.push([Z,ie])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,Z,ie,fe,ce,_e,be,Ee,Ye){for(var ke=$.call(this,ie,fe,ce,_e),et=0;et<ke.length;et++){var qe=ke[et];et===0&&(Ye?z.call(this,qe.x1+U,qe.y1+Z):ne.call(this,qe.x1+U,qe.y1+Z)),le.call(this,U,Z,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}Ee?K.call(this):j.call(this,be)},j=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(U,Z){this.pdf.internal.out(n(U)+" "+r(Z)+" m")},D=function(U){var Z;switch(U.align){case"right":case"end":Z="right";break;case"center":Z="center";break;case"left":case"start":default:Z="left"}var ie=this.pdf.getTextDimensions(U.text),fe=X.call(this,U.y),ce=F.call(this,fe)-ie.h,_e=this.ctx.transform.applyToPoint(new f(U.x,fe)),be=this.ctx.transform.decompose(),Ee=new m;Ee=(Ee=(Ee=Ee.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Ye,ke,et,qe=this.ctx.transform.applyToRectangle(new d(U.x,fe,ie.w,ie.h)),st=Ee.applyToRectangle(new d(U.x,ce,ie.w,ie.h)),Me=H.call(this,st),me=[],ft=0;ft<Me.length;ft+=1)me.indexOf(Me[ft])===-1&&me.push(Me[ft]);if(O(me),this.autoPaging)for(var Ge=me[0],Pe=me[me.length-1],Oe=Ge;Oe<Pe+1;Oe++){this.pdf.setPage(Oe);var Se=Oe===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],ot=ct-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],yt=At-this.margin[3],pt=Oe===1?0:ze+(Oe-2)*ot;if(this.ctx.clip_path.length!==0){var Lt=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ye,this.posX+this.margin[3],-1*pt+Se),q.call(this,"fill",!0),this.path=Lt}var bt=I([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-pt+Se+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*U.scale),et=this.lineWidth,this.lineWidth=et*U.scale);var Gt=this.autoPaging!=="text";if(Gt||bt.y+bt.h<=ct){if(Gt||bt.y>=Se&&bt.x<=At){var lt=Gt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||At-bt.x)[0],Sn=I([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-pt+Se+this.ctx.prevPageLastElemOffset)[0],Tt=Gt&&(Oe>Ge||Oe<Pe)&&M.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,ot,null).clip().discardPath()),this.pdf.text(lt,Sn.x,Sn.y,{angle:U.angle,align:Z,renderingMode:U.renderingMode}),Tt&&this.pdf.restoreGraphicsState()}}else bt.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-bt.y);U.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=et)}else U.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*U.scale),et=this.lineWidth,this.lineWidth=et*U.scale),this.pdf.text(U.text,_e.x+this.posX,_e.y+this.posY,{angle:U.angle,align:Z,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=et)},ne=function(U,Z,ie,fe){ie=ie||0,fe=fe||0,this.pdf.internal.out(n(U+ie)+" "+r(Z+fe)+" l")},ae=function(U,Z,ie){return this.pdf.lines(U,Z,ie,null,null)},le=function(U,Z,ie,fe,ce,_e,be,Ee){this.pdf.internal.out([t(s(ie+U)),t(o(fe+Z)),t(s(ce+U)),t(o(_e+Z)),t(s(be+U)),t(o(Ee+Z)),"c"].join(" "))},$=function(U,Z,ie,fe){for(var ce=2*Math.PI,_e=Math.PI/2;Z>ie;)Z-=ce;var be=Math.abs(ie-Z);be<ce&&fe&&(be=ce-be);for(var Ee=[],Ye=fe?-1:1,ke=Z;be>1e-5;){var et=ke+Ye*Math.min(be,_e);Ee.push(Q.call(this,U,ke,et)),be-=Math.abs(et-ke),ke=et}return Ee},Q=function(U,Z,ie){var fe=(ie-Z)/2,ce=U*Math.cos(fe),_e=U*Math.sin(fe),be=ce,Ee=-_e,Ye=be*be+Ee*Ee,ke=Ye+be*ce+Ee*_e,et=4/3*(Math.sqrt(2*Ye*ke)-ke)/(be*_e-Ee*ce),qe=be-et*Ee,st=Ee+et*be,Me=qe,me=-st,ft=fe+Z,Ge=Math.cos(ft),Pe=Math.sin(ft);return{x1:U*Math.cos(Z),y1:U*Math.sin(Z),x2:qe*Ge-st*Pe,y2:qe*Pe+st*Ge,x3:Me*Ge-me*Pe,y3:Me*Pe+me*Ge,x4:U*Math.cos(ie),y4:U*Math.sin(ie)}},ue=function(U){return 180*U/Math.PI},oe=function(U,Z,ie,fe,ce,_e){var be=U+.5*(ie-U),Ee=Z+.5*(fe-Z),Ye=ce+.5*(ie-ce),ke=_e+.5*(fe-_e),et=Math.min(U,ce,be,Ye),qe=Math.max(U,ce,be,Ye),st=Math.min(Z,_e,Ee,ke),Me=Math.max(Z,_e,Ee,ke);return new d(et,st,qe-et,Me-st)},ye=function(U,Z,ie,fe,ce,_e,be,Ee){var Ye,ke,et,qe,st,Me,me,ft,Ge,Pe,Oe,Se,ze,ct,ot=ie-U,At=fe-Z,yt=ce-ie,pt=_e-fe,Lt=be-ce,bt=Ee-_e;for(ke=0;ke<41;ke++)Ge=(me=(et=U+(Ye=ke/40)*ot)+Ye*((st=ie+Ye*yt)-et))+Ye*(st+Ye*(ce+Ye*Lt-st)-me),Pe=(ft=(qe=Z+Ye*At)+Ye*((Me=fe+Ye*pt)-qe))+Ye*(Me+Ye*(_e+Ye*bt-Me)-ft),ke==0?(Oe=Ge,Se=Pe,ze=Ge,ct=Pe):(Oe=Math.min(Oe,Ge),Se=Math.min(Se,Pe),ze=Math.max(ze,Ge),ct=Math.max(ct,Pe));return new d(Math.round(Oe),Math.round(Se),Math.round(ze-Oe),Math.round(ct-Se))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Z,ie=(U=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Z}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(Rt.API),function(e){var t=function(o){var f,d,m,x,N,S,E,w,R,M;for(d=[],m=0,x=(o+=f="\0\0\0\0".slice(o.length%4||4)).length;x>m;m+=4)(N=(o.charCodeAt(m)<<24)+(o.charCodeAt(m+1)<<16)+(o.charCodeAt(m+2)<<8)+o.charCodeAt(m+3))!==0?(S=(N=((N=((N=((N=(N-(M=N%85))/85)-(R=N%85))/85)-(w=N%85))/85)-(E=N%85))/85)%85,d.push(S+33,E+33,w+33,R+33,M+33)):d.push(122);return function(H,_){for(var I=_;I>0;I--)H.pop()}(d,f.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var f,d,m,x,N,S=String,E="length",w=255,R="charCodeAt",M="slice",H="replace";for(o[M](-2),o=o[M](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),m=[],x=0,N=(o+=f="uuuuu"[M](o[E]%5||5))[E];N>x;x+=5)d=52200625*(o[R](x)-33)+614125*(o[R](x+1)-33)+7225*(o[R](x+2)-33)+85*(o[R](x+3)-33)+(o[R](x+4)-33),m.push(w&d>>24,w&d>>16,w&d>>8,w&d);return function(_,I){for(var O=I;O>0;O--)_.pop()}(m,f[E]),S.fromCharCode.apply(S,m)},r=function(o){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),f.test(o)===!1)return"";for(var d="",m=0;m<o.length;m+=2)d+=String.fromCharCode("0x"+(o[m]+o[m+1]));return d},s=function(o){for(var f=new Uint8Array(o.length),d=o.length;d--;)f[d]=o.charCodeAt(d);return o=(f=kd(f)).reduce(function(m,x){return m+String.fromCharCode(x)},"")};e.processDataByFilters=function(o,f){var d=0,m=o||"",x=[];for(typeof(f=f||[])=="string"&&(f=[f]),d=0;d<f.length;d+=1)switch(f[d]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=r(m),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(N){return("0"+N.charCodeAt().toString(16)).slice(-2)}).join("")+">",x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=s(m),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[d]+'" is not implemented')}return{data:m,reverseChain:x.reverse().join(" ")}}}(Rt.API),function(e){e.loadFile=function(t,n,r){return function(s,o,f){o=o!==!1,f=typeof f=="function"?f:function(){};var d=void 0;try{d=function(m,x,N){var S=new XMLHttpRequest,E=0,w=function(R){var M=R.length,H=[],_=String.fromCharCode;for(E=0;E<M;E+=1)H.push(_(255&R.charCodeAt(E)));return H.join("")};if(S.open("GET",m,!x),S.overrideMimeType("text/plain; charset=x-user-defined"),x===!1&&(S.onload=function(){S.status===200?N(w(this.responseText)):N(void 0)}),S.send(null),x&&S.status===200)return w(S.responseText)}(s,o,f)}catch{}return d}(t,n,r)},e.loadImageFile=e.loadFile}(Rt.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Dd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function n(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Dd(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var r=function(f){var d=On(f);return d==="undefined"?"undefined":d==="string"||f instanceof String?"string":d==="number"||f instanceof Number?"number":d==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(f,d){var m=document.createElement(f);for(var x in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[x]=d.style[x];return m},o=function f(d){var m=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),x=f.convert(Promise.resolve(),m);return x=(x=x.setProgress(1,f,1,[f])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(f,d){return f.__proto__=d||o.prototype,f},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(f,d){return this.then(function(){switch(d=d||function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(n).then(function(m){return this.set({src:s("div",{innerHTML:f,dompurify:m})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},o.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function m(x,N){for(var S=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),E=x.firstChild;E;E=E.nextSibling)N!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||S.appendChild(m(E,N));return x.nodeType===1&&(x.nodeName==="CANVAS"?(S.width=x.width,S.height=x.height,S.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(S.value=x.value),S.addEventListener("load",function(){S.scrollTop=x.scrollTop,S.scrollLeft=x.scrollLeft},!0)),S}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var m=this.opt.jsPDF,x=this.opt.fontFaces,N=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:N,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=x,x)for(var E=0;E<x.length;++E){var w=x[E],R=w.src.find(function(M){return M.format==="truetype"});R&&m.addFont(R.url,w.ref.name,w.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,m.context2d.save(!0),d(this.prop.container,S)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(f,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(f,d):this.outputPdf(f,d)},o.prototype.outputPdf=function(f,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,d)})},o.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},o.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(f){if(r(f)!=="object")return this;var d=Object.keys(f||{}).map(function(m){if(m in o.template.prop)return function(){this.prop[m]=f[m]};switch(m){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[m]=f[m]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(f,d){return this.then(function(){var m=f in o.template.prop?this.prop[f]:this.opt[f];return d?d(m):m})},o.prototype.setMargin=function(f){return this.then(function(){switch(r(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},o.prototype.setPageSize=function(f){function d(m,x){return Math.floor(m*x/72*96)}return this.then(function(){(f=f||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:d(f.inner.width,f.k),height:d(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},o.prototype.setProgress=function(f,d,m,x){return f!=null&&(this.progress.val=f),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(f,d,m,x){return this.setProgress(f?this.progress.val+f:null,d||null,m?this.progress.n+m:null,x?this.progress.stack.concat(x):null)},o.prototype.then=function(f,d){var m=this;return this.thenCore(f,d,function(x,N){return m.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(S){return m.updateProgress(null,x),S}).then(x,N).then(function(S){return m.updateProgress(1),S})})},o.prototype.thenCore=function(f,d,m){m=m||Promise.prototype.then,f&&(f=f.bind(this)),d&&(d=d.bind(this));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),N=m.call(x,f,d);return o.convert(N,this.__proto__)},o.prototype.thenExternal=function(f,d){return Promise.prototype.then.call(this,f,d)},o.prototype.thenList=function(f){var d=this;return f.forEach(function(m){d=d.thenCore(m)}),d},o.prototype.catch=function(f){f&&(f=f.bind(this));var d=Promise.prototype.catch.call(this,f);return o.convert(d,this)},o.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},o.prototype.error=function(f){return this.then(function(){throw new Error(f)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Rt.getPageSize=function(f,d,m){if(On(f)==="object"){var x=f;f=x.orientation,d=x.unit||d,m=x.format||m}d=d||"mm",m=m||"a4",f=(""+(f||"P")).toLowerCase();var N,S=(""+m).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":N=1;break;case"mm":N=72/25.4;break;case"cm":N=72/2.54;break;case"in":N=72;break;case"px":N=.75;break;case"pc":case"em":N=12;break;case"ex":N=6;break;default:throw"Invalid unit: "+d}var w,R=0,M=0;if(E.hasOwnProperty(S))R=E[S][1]/N,M=E[S][0]/N;else try{R=m[1],M=m[0]}catch{throw new Error("Invalid format: "+m)}if(f==="p"||f==="portrait")f="p",M>R&&(w=M,M=R,R=w);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",R>M&&(w=M,M=R,R=w)}return{width:M,height:R,unit:d,k:N,orientation:f}},e.html=function(f,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(qd):null;var m=new o(d);return d.worker?m:m.from(f).doCallback()}}(Rt.API),Rt.API.addJS=function(e){return gm=e,this.internal.events.subscribe("postPutResources",function(){a0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(a0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){a0!==void 0&&dm!==void 0&&this.internal.out("/Names <</JavaScript "+a0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var f=s[o],d=r.exec(f);if(d!=null){var m=d[1];n.internal.newObjectDeferredBegin(m,!1)}n.internal.write(f)}if(this.outline.createNamedDestinations){var x=this.internal.pages.length,N=[];for(o=0;o<x;o++){var S=n.internal.newObject();N.push(S);var E=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<N.length;o++)n.internal.write("(page_"+(o+1)+")"+N[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,o){var f={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(f),f},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var f=r.children[o];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var d=this.count=this.count_r({count:0},f);if(d>0&&this.line("/Count "+d),f.options&&f.options.pageNumber){var m=n.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var x=0;x<r.children.length;x++)this.renderItems(r.children[x])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(Rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,o,f,d){var m,x=this.decode.DCT_DECODE,N=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=f||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(m=function(S){for(var E,w=256*S.charCodeAt(4)+S.charCodeAt(5),R=S.length,M={width:0,height:0,numcomponents:1},H=4;H<R;H+=2){if(H+=w,t.indexOf(S.charCodeAt(H+1))!==-1){E=256*S.charCodeAt(H+5)+S.charCodeAt(H+6),M={width:256*S.charCodeAt(H+7)+S.charCodeAt(H+8),height:E,numcomponents:S.charCodeAt(H+9)};break}w=256*S.charCodeAt(H+2)+S.charCodeAt(H+3)}return M}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}N={data:n,width:m.width,height:m.height,colorSpace:d,bitsPerComponent:8,filter:x,index:r,alias:s}}return N}}(Rt.API);var Jl,s0,pm,mm,xm,Qw=function(){var e,t,n;function r(o){var f,d,m,x,N,S,E,w,R,M,H,_,I,O;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},S=null;;){switch(f=this.readUInt32(),R=(function(){var k,q;for(q=[],k=0;k<4;++k)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":S&&this.animation.frames.push(S),this.pos+=4,S={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},N=this.readUInt16(),x=this.readUInt16()||100,S.delay=1e3*N/x,S.disposeOp=this.data[this.pos++],S.blendOp=this.data[this.pos++],S.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,f-=4),o=(S!=null?S.data:void 0)||this.imgData,_=0;0<=f?_<f:_>f;0<=f?++_:--_)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((M=m-this.transparency.indexed.length)>0)for(I=0;0<=M?I<M:I>M;0<=M?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":E=(H=this.read(f)).indexOf(0),w=String.fromCharCode.apply(String,H.slice(0,E)),this.text[w]=String.fromCharCode.apply(String,H.slice(E+1));break;case"IEND":return S&&this.animation.frames.push(S),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var f,d;for(d=[],f=0;0<=o?f<o:f>o;0<=o?++f:--f)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var f=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*f),m=0,x=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function N(S,E,w,R){var M,H,_,I,O,k,q,X,F,L,j,K,z,D,ne,ae,le,$,Q,ue,oe,ye=Math.ceil((x.width-S)/w),xe=Math.ceil((x.height-E)/R),U=x.width==ye&&x.height==xe;for(D=f*ye,K=U?d:new Uint8Array(D*xe),k=o.length,z=0,H=0;z<xe&&m<k;){switch(o[m++]){case 0:for(I=le=0;le<D;I=le+=1)K[H++]=o[m++];break;case 1:for(I=$=0;$<D;I=$+=1)M=o[m++],O=I<f?0:K[H-f],K[H++]=(M+O)%256;break;case 2:for(I=Q=0;Q<D;I=Q+=1)M=o[m++],_=(I-I%f)/f,ne=z&&K[(z-1)*D+_*f+I%f],K[H++]=(ne+M)%256;break;case 3:for(I=ue=0;ue<D;I=ue+=1)M=o[m++],_=(I-I%f)/f,O=I<f?0:K[H-f],ne=z&&K[(z-1)*D+_*f+I%f],K[H++]=(M+Math.floor((O+ne)/2))%256;break;case 4:for(I=oe=0;oe<D;I=oe+=1)M=o[m++],_=(I-I%f)/f,O=I<f?0:K[H-f],z===0?ne=ae=0:(ne=K[(z-1)*D+_*f+I%f],ae=_&&K[(z-1)*D+(_-1)*f+I%f]),q=O+ne-ae,X=Math.abs(q-O),L=Math.abs(q-ne),j=Math.abs(q-ae),F=X<=L&&X<=j?O:L<=j?ne:ae,K[H++]=(M+F)%256;break;default:throw new Error("Invalid filter algorithm: "+o[m-1])}if(!U){var Z=((E+z*R)*x.width+S)*f,ie=z*D;for(I=0;I<ye;I+=1){for(var fe=0;fe<f;fe+=1)d[Z++]=K[ie++];Z+=(w-1)*f}}z++}}return o=_w(o),x.interlaceMethod==1?(N(0,0,8,8),N(4,0,8,8),N(0,4,4,8),N(2,0,4,4),N(0,2,2,4),N(1,0,2,2),N(0,1,1,2)):N(0,0,1,1),d},r.prototype.decodePalette=function(){var o,f,d,m,x,N,S,E,w;for(d=this.palette,N=this.transparency.indexed||[],x=new Uint8Array((N.length||0)+d.length),m=0,o=0,f=S=0,E=d.length;S<E;f=S+=3)x[m++]=d[f],x[m++]=d[f+1],x[m++]=d[f+2],x[m++]=(w=N[o++])!=null?w:255;return x},r.prototype.copyToImageData=function(o,f){var d,m,x,N,S,E,w,R,M,H,_;if(m=this.colors,M=null,d=this.hasAlphaChannel,this.palette.length&&(M=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),m=4,d=!0),R=(x=o.data||o).length,S=M||f,N=E=0,m===1)for(;N<R;)w=M?4*f[N/4]:E,H=S[w++],x[N++]=H,x[N++]=H,x[N++]=H,x[N++]=d?S[w++]:255,E=w;else for(;N<R;)w=M?4*f[N/4]:E,x[N++]=S[w++],x[N++]=S[w++],x[N++]=S[w++],x[N++]=d?S[w++]:255,E=w},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{t=jt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(o){var f;if(s()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(f=new Image).src=t.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var f,d,m,x,N,S,E,w;if(this.animation){for(w=[],d=N=0,S=(E=this.animation.frames).length;N<S;d=++N)f=E[d],m=o.createImageData(f.width,f.height),x=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(m,x),f.imageData=m,w.push(f.image=e(m));return w}},r.prototype.renderFrame=function(o,f){var d,m,x;return d=(m=this.animation.frames)[f],x=m[f-1],f===0&&o.clearRect(0,0,this.width,this.height),(x!=null?x.disposeOp:void 0)===1?o.clearRect(x.xOffset,x.yOffset,x.width,x.height):(x!=null?x.disposeOp:void 0)===2&&o.putImageData(x.imageData,x.xOffset,x.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(o){var f,d,m,x,N,S,E=this;return d=0,S=this.animation,x=S.numFrames,m=S.frames,N=S.numPlays,(f=function(){var w,R;if(w=d++%x,R=m[w],E.renderFrame(o,w),x>1&&d/x<N)return E.animation._timeout=setTimeout(f,R.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var f,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,f=o.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(d=f.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),f.putImageData(d,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Kw(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],o=s>>7,f=1<<(7&s)+1;e[t++],e[t++];var d=null,m=null;o&&(d=t,m=f,t+=3*f);var x=!0,N=[],S=0,E=null,w=0,R=null;for(this.width=n,this.height=r;x&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,R=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=e[t++];S=e[t++]|e[t++]<<8,E=e[t++],!(1&M)&&(E=null),w=M>>2&7,t++;break;case 254:for(;;){if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var H=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,O=e[t++]|e[t++]<<8,k=e[t++],q=k>>6&1,X=1<<(7&k)+1,F=d,L=m,j=!1;k>>7&&(j=!0,F=t,L=X,t+=3*X);var K=t;for(t++;;){var z;if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}N.push({x:H,y:_,width:I,height:O,has_local_palette:j,palette_offset:F,palette_size:L,data_offset:K,data_length:t-K,transparent_index:E,interlaced:!!q,delay:S,disposal:w});break;case 59:x=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return N.length},this.loopCount=function(){return R},this.frameInfo=function(D){if(D<0||D>=N.length)throw new Error("Frame index out of range.");return N[D]},this.decodeAndBlitFrameBGRA=function(D,ne){var ae=this.frameInfo(D),le=ae.width*ae.height,$=new Uint8Array(le);ym(e,ae.data_offset,$,le);var Q=ae.palette_offset,ue=ae.transparent_index;ue===null&&(ue=256);var oe=ae.width,ye=n-oe,xe=oe,U=4*(ae.y*n+ae.x),Z=4*((ae.y+ae.height)*n+ae.x),ie=U,fe=4*ye;ae.interlaced===!0&&(fe+=4*n*7);for(var ce=8,_e=0,be=$.length;_e<be;++_e){var Ee=$[_e];if(xe===0&&(xe=oe,(ie+=fe)>=Z&&(fe=4*ye+4*n*(ce-1),ie=U+(oe+ye)*(ce<<1),ce>>=1)),Ee===ue)ie+=4;else{var Ye=e[Q+3*Ee],ke=e[Q+3*Ee+1],et=e[Q+3*Ee+2];ne[ie++]=et,ne[ie++]=ke,ne[ie++]=Ye,ne[ie++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(D,ne){var ae=this.frameInfo(D),le=ae.width*ae.height,$=new Uint8Array(le);ym(e,ae.data_offset,$,le);var Q=ae.palette_offset,ue=ae.transparent_index;ue===null&&(ue=256);var oe=ae.width,ye=n-oe,xe=oe,U=4*(ae.y*n+ae.x),Z=4*((ae.y+ae.height)*n+ae.x),ie=U,fe=4*ye;ae.interlaced===!0&&(fe+=4*n*7);for(var ce=8,_e=0,be=$.length;_e<be;++_e){var Ee=$[_e];if(xe===0&&(xe=oe,(ie+=fe)>=Z&&(fe=4*ye+4*n*(ce-1),ie=U+(oe+ye)*(ce<<1),ce>>=1)),Ee===ue)ie+=4;else{var Ye=e[Q+3*Ee],ke=e[Q+3*Ee+1],et=e[Q+3*Ee+2];ne[ie++]=Ye,ne[ie++]=ke,ne[ie++]=et,ne[ie++]=255}--xe}}}function ym(e,t,n,r){for(var s=e[t++],o=1<<s,f=o+1,d=f+1,m=s+1,x=(1<<m)-1,N=0,S=0,E=0,w=e[t++],R=new Int32Array(4096),M=null;;){for(;N<16&&w!==0;)S|=e[t++]<<N,N+=8,w===1?w=e[t++]:--w;if(N<m)break;var H=S&x;if(S>>=m,N-=m,H!==o){if(H===f)break;for(var _=H<d?H:M,I=0,O=_;O>o;)O=R[O]>>8,++I;var k=O;if(E+I+(_!==H?1:0)>r)return void kn.log("Warning, gif stream longer than expected.");n[E++]=k;var q=E+=I;for(_!==H&&(n[E++]=k),O=_;I--;)O=R[O],n[--q]=255&O,O>>=8;M!==null&&d<4096&&(R[d++]=M<<8|k,d>=x+1&&m<12&&(++m,x=x<<1|1)),M=H}else d=f+1,x=(1<<(m=s+1))-1,M=null}return E!==r&&kn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function M1(e){var t,n,r,s,o,f=Math.floor,d=new Array(64),m=new Array(64),x=new Array(64),N=new Array(64),S=new Array(65535),E=new Array(65535),w=new Array(64),R=new Array(64),M=[],H=0,_=7,I=new Array(64),O=new Array(64),k=new Array(64),q=new Array(256),X=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(U,Z){for(var ie=0,fe=0,ce=new Array,_e=1;_e<=16;_e++){for(var be=1;be<=U[_e];be++)ce[Z[fe]]=[],ce[Z[fe]][0]=ie,ce[Z[fe]][1]=_e,fe++,ie++;ie*=2}return ce}function Q(U){for(var Z=U[0],ie=U[1]-1;ie>=0;)Z&1<<ie&&(H|=1<<_),ie--,--_<0&&(H==255?(ue(255),ue(0)):ue(H),_=7,H=0)}function ue(U){M.push(U)}function oe(U){ue(U>>8&255),ue(255&U)}function ye(U,Z,ie,fe,ce){for(var _e,be=ce[0],Ee=ce[240],Ye=function(Pe,Oe){var Se,ze,ct,ot,At,yt,pt,Lt,bt,Gt,lt=0;for(bt=0;bt<8;++bt){Se=Pe[lt],ze=Pe[lt+1],ct=Pe[lt+2],ot=Pe[lt+3],At=Pe[lt+4],yt=Pe[lt+5],pt=Pe[lt+6];var Sn=Se+(Lt=Pe[lt+7]),Tt=Se-Lt,at=ze+pt,Pt=ze-pt,Dt=ct+yt,dn=ct-yt,an=ot+At,Da=ot-At,Vn=Sn+an,Vt=Sn-an,nr=at+Dt,Yn=at-Dt;Pe[lt]=Vn+nr,Pe[lt+4]=Vn-nr;var Ft=.707106781*(Yn+Vt);Pe[lt+2]=Vt+Ft,Pe[lt+6]=Vt-Ft;var Wt=.382683433*((Vn=Da+dn)-(Yn=Pt+Tt)),Ma=.5411961*Vn+Wt,un=1.306562965*Yn+Wt,ir=.707106781*(nr=dn+Pt),Cr=Tt+ir,Ct=Tt-ir;Pe[lt+5]=Ct+Ma,Pe[lt+3]=Ct-Ma,Pe[lt+1]=Cr+un,Pe[lt+7]=Cr-un,lt+=8}for(lt=0,bt=0;bt<8;++bt){Se=Pe[lt],ze=Pe[lt+8],ct=Pe[lt+16],ot=Pe[lt+24],At=Pe[lt+32],yt=Pe[lt+40],pt=Pe[lt+48];var Yr=Se+(Lt=Pe[lt+56]),Yi=Se-Lt,Wi=ze+pt,fn=ze-pt,Ln=ct+yt,Fn=ct-yt,xt=ot+At,hr=ot-At,Er=Yr+xt,Un=Yr-xt,Xi=Wi+Ln,_r=Wi-Ln;Pe[lt]=Er+Xi,Pe[lt+32]=Er-Xi;var rr=.707106781*(_r+Un);Pe[lt+16]=Un+rr,Pe[lt+48]=Un-rr;var wi=.382683433*((Er=hr+Fn)-(_r=fn+Yi)),ms=.5411961*Er+wi,Ys=1.306562965*_r+wi,ar=.707106781*(Xi=Fn+fn),gi=Yi+ar,yn=Yi-ar;Pe[lt+40]=yn+ms,Pe[lt+24]=yn-ms,Pe[lt+8]=gi+Ys,Pe[lt+56]=gi-Ys,lt++}for(bt=0;bt<64;++bt)Gt=Pe[bt]*Oe[bt],w[bt]=Gt>0?Gt+.5|0:Gt-.5|0;return w}(U,Z),ke=0;ke<64;++ke)R[F[ke]]=Ye[ke];var et=R[0]-ie;ie=R[0],et==0?Q(fe[0]):(Q(fe[E[_e=32767+et]]),Q(S[_e]));for(var qe=63;qe>0&&R[qe]==0;)qe--;if(qe==0)return Q(be),ie;for(var st,Me=1;Me<=qe;){for(var me=Me;R[Me]==0&&Me<=qe;)++Me;var ft=Me-me;if(ft>=16){st=ft>>4;for(var Ge=1;Ge<=st;++Ge)Q(Ee);ft&=15}_e=32767+R[Me],Q(ce[(ft<<4)+E[_e]]),Q(S[_e]),Me++}return qe!=63&&Q(be),ie}function xe(U){U=Math.min(Math.max(U,1),100),o!=U&&(function(Z){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var ce=f((ie[fe]*Z+50)/100);ce=Math.min(Math.max(ce,1),255),d[F[fe]]=ce}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Ee=f((_e[be]*Z+50)/100);Ee=Math.min(Math.max(Ee,1),255),m[F[be]]=Ee}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,et=0;et<8;et++)for(var qe=0;qe<8;qe++)x[ke]=1/(d[F[ke]]*Ye[et]*Ye[qe]*8),N[ke]=1/(m[F[ke]]*Ye[et]*Ye[qe]*8),ke++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),o=U)}this.encode=function(U,Z){Z&&xe(Z),M=new Array,H=0,_=7,oe(65496),oe(65504),oe(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),oe(1),oe(1),ue(0),ue(0),function(){oe(65499),oe(132),ue(0);for(var ze=0;ze<64;ze++)ue(d[ze]);ue(1);for(var ct=0;ct<64;ct++)ue(m[ct])}(),function(ze,ct){oe(65472),oe(17),ue(8),oe(ct),oe(ze),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)}(U.width,U.height),function(){oe(65476),oe(418),ue(0);for(var ze=0;ze<16;ze++)ue(L[ze+1]);for(var ct=0;ct<=11;ct++)ue(j[ct]);ue(16);for(var ot=0;ot<16;ot++)ue(K[ot+1]);for(var At=0;At<=161;At++)ue(z[At]);ue(1);for(var yt=0;yt<16;yt++)ue(D[yt+1]);for(var pt=0;pt<=11;pt++)ue(ne[pt]);ue(17);for(var Lt=0;Lt<16;Lt++)ue(ae[Lt+1]);for(var bt=0;bt<=161;bt++)ue(le[bt])}(),oe(65498),oe(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var ie=0,fe=0,ce=0;H=0,_=7,this.encode.displayName="_encode_";for(var _e,be,Ee,Ye,ke,et,qe,st,Me,me=U.data,ft=U.width,Ge=U.height,Pe=4*ft,Oe=0;Oe<Ge;){for(_e=0;_e<Pe;){for(ke=Pe*Oe+_e,qe=-1,st=0,Me=0;Me<64;Me++)et=ke+(st=Me>>3)*Pe+(qe=4*(7&Me)),Oe+st>=Ge&&(et-=Pe*(Oe+1+st-Ge)),_e+qe>=Pe&&(et-=_e+qe-Pe+4),be=me[et++],Ee=me[et++],Ye=me[et++],I[Me]=(X[be]+X[Ee+256>>0]+X[Ye+512>>0]>>16)-128,O[Me]=(X[be+768>>0]+X[Ee+1024>>0]+X[Ye+1280>>0]>>16)-128,k[Me]=(X[be+1280>>0]+X[Ee+1536>>0]+X[Ye+1792>>0]>>16)-128;ie=ye(I,x,ie,t,r),fe=ye(O,N,fe,n,s),ce=ye(k,N,ce,n,s),_e+=32}Oe+=8}if(_>=0){var Se=[];Se[1]=_+1,Se[0]=(1<<_+1)-1,Q(Se)}return oe(65497),new Uint8Array(M)},e=e||50,function(){for(var U=String.fromCharCode,Z=0;Z<256;Z++)q[Z]=U(Z)}(),t=$(L,j),n=$(D,ne),r=$(K,z),s=$(ae,le),function(){for(var U=1,Z=2,ie=1;ie<=15;ie++){for(var fe=U;fe<Z;fe++)E[32767+fe]=ie,S[32767+fe]=[],S[32767+fe][1]=ie,S[32767+fe][0]=fe;for(var ce=-(Z-1);ce<=-U;ce++)E[32767+ce]=ie,S[32767+ce]=[],S[32767+ce][1]=ie,S[32767+ce][0]=Z-1+ce;U<<=1,Z<<=1}}(),function(){for(var U=0;U<256;U++)X[U]=19595*U,X[U+256>>0]=38470*U,X[U+512>>0]=7471*U+32768,X[U+768>>0]=-11059*U,X[U+1024>>0]=-21709*U,X[U+1280>>0]=32768*U+8421375,X[U+1536>>0]=-27439*U,X[U+1792>>0]=-5329*U}(),xe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ua(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vm(e){function t(L){if(!L)throw Error("assert :P")}function n(L,j,K){for(var z=0;4>z;z++)if(L[j+z]!=K.charCodeAt(z))return!0;return!1}function r(L,j,K,z,D){for(var ne=0;ne<D;ne++)L[j+ne]=K[z+ne]}function s(L,j,K,z){for(var D=0;D<z;D++)L[j+D]=K}function o(L){return new Int32Array(L)}function f(L,j){for(var K=[],z=0;z<L;z++)K.push(new j);return K}function d(L,j){var K=[];return function z(D,ne,ae){for(var le=ae[ne],$=0;$<le&&(D.push(ae.length>ne+1?[]:new j),!(ae.length<ne+1));$++)z(D[$],ne+1,ae)}(K,0,L),K}var m=function(){var L=this;function j(g,v){for(var T=1<<v-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function K(g,v,T,B,Y){t(!(B%T));do g[v+(B-=T)]=Y;while(0<B)}function z(g,v,T,B,Y){if(t(2328>=Y),512>=Y)var J=o(512);else if((J=o(Y))==null)return 0;return function(te,re,se,pe,Ne,je){var Be,Le,Ke=re,He=1<<se,Ce=o(16),Te=o(16);for(t(Ne!=0),t(pe!=null),t(te!=null),t(0<se),Le=0;Le<Ne;++Le){if(15<pe[Le])return 0;++Ce[pe[Le]]}if(Ce[0]==Ne)return 0;for(Te[1]=0,Be=1;15>Be;++Be){if(Ce[Be]>1<<Be)return 0;Te[Be+1]=Te[Be]+Ce[Be]}for(Le=0;Le<Ne;++Le)Be=pe[Le],0<pe[Le]&&(je[Te[Be]++]=Le);if(Te[15]==1)return(pe=new D).g=0,pe.value=je[0],K(te,Ke,1,He,pe),He;var Xe,it=-1,Ze=He-1,vt=0,ut=1,Mt=1,ht=1<<se;for(Le=0,Be=1,Ne=2;Be<=se;++Be,Ne<<=1){if(ut+=Mt<<=1,0>(Mt-=Ce[Be]))return 0;for(;0<Ce[Be];--Ce[Be])(pe=new D).g=Be,pe.value=je[Le++],K(te,Ke+vt,Ne,ht,pe),vt=j(vt,Be)}for(Be=se+1,Ne=2;15>=Be;++Be,Ne<<=1){if(ut+=Mt<<=1,0>(Mt-=Ce[Be]))return 0;for(;0<Ce[Be];--Ce[Be]){if(pe=new D,(vt&Ze)!=it){for(Ke+=ht,Xe=1<<(it=Be)-se;15>it&&!(0>=(Xe-=Ce[it]));)++it,Xe<<=1;He+=ht=1<<(Xe=it-se),te[re+(it=vt&Ze)].g=Xe+se,te[re+it].value=Ke-re-it}pe.g=Be-se,pe.value=je[Le++],K(te,Ke+(vt>>se),Ne,ht,pe),vt=j(vt,Be)}}return ut!=2*Te[15]-1?0:He}(g,v,T,B,Y,J)}function D(){this.value=this.g=0}function ne(){this.value=this.g=0}function ae(){this.G=f(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Dn,ne)}function le(g,v,T,B){t(g!=null),t(v!=null),t(2147483648>B),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=T,g.Jd=v,g.Yc=T+B,g.Zc=4<=B?T+B-4+1:T,_e(g)}function $(g,v){for(var T=0;0<v--;)T|=Ee(g,128)<<v;return T}function Q(g,v){var T=$(g,v);return be(g)?-T:T}function ue(g,v,T,B){var Y,J=0;for(t(g!=null),t(v!=null),t(4294967288>B),g.Sb=B,g.Ra=0,g.u=0,g.h=0,4<B&&(B=4),Y=0;Y<B;++Y)J+=v[T+Y]<<8*Y;g.Ra=J,g.bb=B,g.oa=v,g.pa=T}function oe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<xa-8>>>0,++g.bb,g.u-=8;ie(g)&&(g.h=1,g.u=0)}function ye(g,v){if(t(0<=v),!g.h&&v<=ts){var T=Z(g)&to[v];return g.u+=v,oe(g),T}return g.h=1,g.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(g){return g.Ra>>>(g.u&xa-1)>>>0}function ie(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>xa}function fe(g,v){g.u=v,g.h=ie(g)}function ce(g){g.u>=Jt&&(t(g.u>=Jt),oe(g))}function _e(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function be(g){return $(g,1)}function Ee(g,v){var T=g.Ca;0>g.b&&_e(g);var B=g.b,Y=T*v>>>8,J=(g.I>>>B>Y)+0;for(J?(T-=Y,g.I-=Y+1<<B>>>0):T=Y+1,B=T,Y=0;256<=B;)Y+=8,B>>=8;return B=7^Y+Pi[B],g.b-=B,g.Ca=(T<<B)-1,J}function Ye(g,v,T){g[v+0]=T>>24&255,g[v+1]=T>>16&255,g[v+2]=T>>8&255,g[v+3]=T>>0&255}function ke(g,v){return g[v+0]<<0|g[v+1]<<8}function et(g,v){return ke(g,v)|g[v+2]<<16}function qe(g,v){return ke(g,v)|ke(g,v+2)<<16}function st(g,v){var T=1<<v;return t(g!=null),t(0<v),g.X=o(T),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function Me(g,v){t(g!=null),t(v!=null),t(g.Xa==v.Xa),r(v.X,0,g.X,0,1<<v.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function ft(g,v,T,B){t(T!=null),t(B!=null);var Y=T[0],J=B[0];return Y==0&&(Y=(g*J+v/2)/v),J==0&&(J=(v*Y+g/2)/g),0>=Y||0>=J?0:(T[0]=Y,B[0]=J,1)}function Ge(g,v){return g+(1<<v)-1>>>v}function Pe(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function Oe(g,v){L[v]=function(T,B,Y,J,te,re,se){var pe;for(pe=0;pe<te;++pe){var Ne=L[g](re[se+pe-1],Y,J+pe);re[se+pe]=Pe(T[B+pe],Ne)}}}function Se(){this.ud=this.hd=this.jd=0}function ze(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function ct(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ot(g,v){return ct(g+(g-v+.5>>1))}function At(g,v,T){return Math.abs(v-T)-Math.abs(g-T)}function yt(g,v,T,B,Y,J,te){for(B=J[te-1],T=0;T<Y;++T)J[te+T]=B=Pe(g[v+T],B)}function pt(g,v,T,B,Y){var J;for(J=0;J<T;++J){var te=g[v+J],re=te>>8&255,se=16711935&(se=(se=16711935&te)+((re<<16)+re));B[Y+J]=(4278255360&te)+se>>>0}}function Lt(g,v){v.jd=g>>0&255,v.hd=g>>8&255,v.ud=g>>16&255}function bt(g,v,T,B,Y,J){var te;for(te=0;te<B;++te){var re=v[T+te],se=re>>>8,pe=re,Ne=255&(Ne=(Ne=re>>>16)+((g.jd<<24>>24)*(se<<24>>24)>>>5));pe=255&(pe=(pe=pe+((g.hd<<24>>24)*(se<<24>>24)>>>5))+((g.ud<<24>>24)*(Ne<<24>>24)>>>5)),Y[J+te]=(4278255360&re)+(Ne<<16)+pe}}function Gt(g,v,T,B,Y){L[v]=function(J,te,re,se,pe,Ne,je,Be,Le){for(se=je;se<Be;++se)for(je=0;je<Le;++je)pe[Ne++]=Y(re[B(J[te++])])},L[g]=function(J,te,re,se,pe,Ne,je){var Be=8>>J.b,Le=J.Ea,Ke=J.K[0],He=J.w;if(8>Be)for(J=(1<<J.b)-1,He=(1<<Be)-1;te<re;++te){var Ce,Te=0;for(Ce=0;Ce<Le;++Ce)Ce&J||(Te=B(se[pe++])),Ne[je++]=Y(Ke[Te&He]),Te>>=Be}else L["VP8LMapColor"+T](se,pe,Ke,He,Ne,je,te,re,Le)}}function lt(g,v,T,B,Y){for(T=v+T;v<T;){var J=g[v++];B[Y++]=J>>16&255,B[Y++]=J>>8&255,B[Y++]=J>>0&255}}function Sn(g,v,T,B,Y){for(T=v+T;v<T;){var J=g[v++];B[Y++]=J>>16&255,B[Y++]=J>>8&255,B[Y++]=J>>0&255,B[Y++]=J>>24&255}}function Tt(g,v,T,B,Y){for(T=v+T;v<T;){var J=(te=g[v++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;B[Y++]=J,B[Y++]=te}}function at(g,v,T,B,Y){for(T=v+T;v<T;){var J=(te=g[v++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;B[Y++]=J,B[Y++]=te}}function Pt(g,v,T,B,Y){for(T=v+T;v<T;){var J=g[v++];B[Y++]=J>>0&255,B[Y++]=J>>8&255,B[Y++]=J>>16&255}}function Dt(g,v,T,B,Y,J){if(J==0)for(T=v+T;v<T;)Ye(B,((J=g[v++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),Y+=32;else r(B,Y,g,v,T)}function dn(g,v){L[v][0]=L[g+"0"],L[v][1]=L[g+"1"],L[v][2]=L[g+"2"],L[v][3]=L[g+"3"],L[v][4]=L[g+"4"],L[v][5]=L[g+"5"],L[v][6]=L[g+"6"],L[v][7]=L[g+"7"],L[v][8]=L[g+"8"],L[v][9]=L[g+"9"],L[v][10]=L[g+"10"],L[v][11]=L[g+"11"],L[v][12]=L[g+"12"],L[v][13]=L[g+"13"],L[v][14]=L[g+"0"],L[v][15]=L[g+"0"]}function an(g){return g==Ih||g==Oh||g==Tf||g==Lh}function Da(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Da,this.f.kb=new Vn,this.sd=null}function nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Wt(g,v){var T=g.T,B=v.ba.f.RGBA,Y=B.eb,J=B.fb+g.ka*B.A,te=ba[v.ba.S],re=g.y,se=g.O,pe=g.f,Ne=g.N,je=g.ea,Be=g.W,Le=v.cc,Ke=v.dc,He=v.Mc,Ce=v.Nc,Te=g.ka,Xe=g.ka+g.T,it=g.U,Ze=it+1>>1;for(Te==0?te(re,se,null,null,pe,Ne,je,Be,pe,Ne,je,Be,Y,J,null,null,it):(te(v.ec,v.fc,re,se,Le,Ke,He,Ce,pe,Ne,je,Be,Y,J-B.A,Y,J,it),++T);Te+2<Xe;Te+=2)Le=pe,Ke=Ne,He=je,Ce=Be,Ne+=g.Rc,Be+=g.Rc,J+=2*B.A,te(re,(se+=2*g.fa)-g.fa,re,se,Le,Ke,He,Ce,pe,Ne,je,Be,Y,J-B.A,Y,J,it);return se+=g.fa,g.j+Xe<g.o?(r(v.ec,v.fc,re,se,it),r(v.cc,v.dc,pe,Ne,Ze),r(v.Mc,v.Nc,je,Be,Ze),T--):1&Xe||te(re,se,null,null,pe,Ne,je,Be,pe,Ne,je,Be,Y,J+B.A,null,null,it),T}function Ma(g,v,T){var B=g.F,Y=[g.J];if(B!=null){var J=g.U,te=v.ba.S,re=te==_f||te==Tf;v=v.ba.f.RGBA;var se=[0],pe=g.ka;se[0]=g.T,g.Kb&&(pe==0?--se[0]:(--pe,Y[0]-=g.width),g.j+g.ka+g.T==g.o&&(se[0]=g.o-g.j-pe));var Ne=v.eb;pe=v.fb+pe*v.A,g=qn(B,Y[0],g.width,J,se,Ne,pe+(re?0:3),v.A),t(T==se),g&&an(te)&&kr(Ne,pe,re,J,se,v.A)}return 0}function un(g){var v=g.ma,T=v.ba.S,B=11>T,Y=T==Cf||T==Ef||T==_f||T==Th||T==12||an(T);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!bs(v.Oa,g,Y?11:12))return 0;if(Y&&an(T)&&Je(),g.da)alert("todo:use_scaling");else{if(B){if(v.Ib=Ft,g.Kb){if(T=g.U+1>>1,v.memory=o(g.U+2*T),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+T,v.Ib=Wt,Je()}}else alert("todo:EmitYUV");Y&&(v.Jb=Ma,B&&De())}if(B&&!lg){for(g=0;256>g;++g)Dy[g]=89858*(g-128)+Of>>If,jy[g]=-22014*(g-128)+Of,Ry[g]=-45773*(g-128),My[g]=113618*(g-128)+Of>>If;for(g=Jc;g<Rh;++g)v=76283*(g-16)+Of>>If,By[g-Jc]=pi(v,255),ky[g-Jc]=pi(v+8>>4,15);lg=1}return 1}function ir(g){var v=g.ma,T=g.U,B=g.T;return t(!(1&g.ka)),0>=T||0>=B?0:(T=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,T),v.Dc+=T,1)}function Cr(g){g.ma.memory=null}function Ct(g,v,T,B){return ye(g,8)!=47?0:(v[0]=ye(g,14)+1,T[0]=ye(g,14)+1,B[0]=ye(g,1),ye(g,3)!=0?0:!g.h)}function Yr(g,v){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+ye(v,T)+1}function Yi(g,v){return 120<v?v-120:1<=(T=((T=yy[v-1])>>4)*g+(8-(15&T)))?T:1;var T}function Wi(g,v,T){var B=Z(T),Y=g[v+=255&B].g-8;return 0<Y&&(fe(T,T.u+8),B=Z(T),v+=g[v].value,v+=B&(1<<Y)-1),fe(T,T.u+g[v].g),g[v].value}function fn(g,v,T){return T.g+=g.g,T.value+=g.value<<v>>>0,t(8>=T.g),g.g}function Ln(g,v,T){var B=g.xc;return t((v=B==0?0:g.vc[g.md*(T>>B)+(v>>B)])<g.Wb),g.Ya[v]}function Fn(g,v,T,B){var Y=g.ab,J=g.c*v,te=g.C;v=te+v;var re=T,se=B;for(B=g.Ta,T=g.Ua;0<Y--;){var pe=g.gc[Y],Ne=te,je=v,Be=re,Le=se,Ke=(se=B,re=T,pe.Ea);switch(t(Ne<je),t(je<=pe.nc),pe.hc){case 2:a(Be,Le,(je-Ne)*Ke,se,re);break;case 0:var He=Ne,Ce=je,Te=se,Xe=re,it=(ht=pe).Ea;He==0&&(V(Be,Le,null,null,1,Te,Xe),yt(Be,Le+1,0,0,it-1,Te,Xe+1),Le+=it,Xe+=it,++He);for(var Ze=1<<ht.b,vt=Ze-1,ut=Ge(it,ht.b),Mt=ht.K,ht=ht.w+(He>>ht.b)*ut;He<Ce;){var vn=Mt,Cn=ht,mn=1;for(i(Be,Le,Te,Xe-it,1,Te,Xe);mn<it;){var sn=(mn&~vt)+Ze;sn>it&&(sn=it),(0,y[vn[Cn++]>>8&15])(Be,Le+ +mn,Te,Xe+mn-it,sn-mn,Te,Xe+mn),mn=sn}Le+=it,Xe+=it,++He&vt||(ht+=ut)}je!=pe.nc&&r(se,re-Ke,se,re+(je-Ne-1)*Ke,Ke);break;case 1:for(Ke=Be,Ce=Le,it=(Be=pe.Ea)-(Xe=Be&~(Te=(Le=1<<pe.b)-1)),He=Ge(Be,pe.b),Ze=pe.K,pe=pe.w+(Ne>>pe.b)*He;Ne<je;){for(vt=Ze,ut=pe,Mt=new Se,ht=Ce+Xe,vn=Ce+Be;Ce<ht;)Lt(vt[ut++],Mt),b(Mt,Ke,Ce,Le,se,re),Ce+=Le,re+=Le;Ce<vn&&(Lt(vt[ut++],Mt),b(Mt,Ke,Ce,it,se,re),Ce+=it,re+=it),++Ne&Te||(pe+=He)}break;case 3:if(Be==se&&Le==re&&0<pe.b){for(Ce=se,Be=Ke=re+(je-Ne)*Ke-(Xe=(je-Ne)*Ge(pe.Ea,pe.b)),Le=se,Te=re,He=[],Xe=(it=Xe)-1;0<=Xe;--Xe)He[Xe]=Le[Te+Xe];for(Xe=it-1;0<=Xe;--Xe)Ce[Be+Xe]=He[Xe];l(pe,Ne,je,se,Ke,se,re)}else l(pe,Ne,je,Be,Le,se,re)}re=B,se=T}se!=T&&r(B,T,re,se,J)}function xt(g,v){var T=g.V,B=g.Ba+g.c*g.C,Y=v-g.C;if(t(v<=g.l.o),t(16>=Y),0<Y){var J=g.l,te=g.Ta,re=g.Ua,se=J.width;if(Fn(g,Y,T,B),Y=re=[re],t((T=g.C)<(B=v)),t(J.v<J.va),B>J.o&&(B=J.o),T<J.j){var pe=J.j-T;T=J.j,Y[0]+=pe*se}if(T>=B?T=0:(Y[0]+=4*J.v,J.ka=T-J.j,J.U=J.va-J.v,J.T=B-T,T=1),T){if(re=re[0],11>(T=g.ca).S){var Ne=T.f.RGBA,je=(B=T.S,Y=J.U,J=J.T,pe=Ne.eb,Ne.A),Be=J;for(Ne=Ne.fb+g.Ma*Ne.A;0<Be--;){var Le=te,Ke=re,He=Y,Ce=pe,Te=Ne;switch(B){case Nf:C(Le,Ke,He,Ce,Te);break;case Cf:P(Le,Ke,He,Ce,Te);break;case Ih:P(Le,Ke,He,Ce,Te),kr(Ce,Te,0,He,1,0);break;case $2:ge(Le,Ke,He,Ce,Te);break;case Ef:Dt(Le,Ke,He,Ce,Te,1);break;case Oh:Dt(Le,Ke,He,Ce,Te,1),kr(Ce,Te,0,He,1,0);break;case _f:Dt(Le,Ke,He,Ce,Te,0);break;case Tf:Dt(Le,Ke,He,Ce,Te,0),kr(Ce,Te,1,He,1,0);break;case Th:G(Le,Ke,He,Ce,Te);break;case Lh:G(Le,Ke,He,Ce,Te),Hn(Ce,Te,He,1,0);break;case eg:ee(Le,Ke,He,Ce,Te);break;default:t(0)}re+=se,Ne+=je}g.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=T.height)}}g.C=v,t(g.C<=g.i)}function hr(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var T=g.Ya[v].G,B=g.Ya[v].H;if(0<T[1][B[1]+0].g||0<T[2][B[2]+0].g||0<T[3][B[3]+0].g)return 0}return 1}function Er(g,v,T,B,Y,J){if(g.Z!=0){var te=g.qd,re=g.rd;for(t(io[g.Z]!=null);v<T;++v)io[g.Z](te,re,B,Y,B,Y,J),te=B,re=Y,Y+=J;g.qd=te,g.rd=re}}function Un(g,v){var T=g.l.ma,B=T.Z==0||T.Z==1?g.l.j:g.C;if(B=g.C<B?B:g.C,t(v<=g.l.o),v>B){var Y=g.l.width,J=T.ca,te=T.tb+Y*B,re=g.V,se=g.Ba+g.c*B,pe=g.gc;t(g.ab==1),t(pe[0].hc==3),u(pe[0],B,v,re,se,J,te),Er(T,B,v,J,te,Y)}g.C=g.Ma=v}function Xi(g,v,T,B,Y,J,te){var re=g.$/B,se=g.$%B,pe=g.m,Ne=g.s,je=T+g.$,Be=je;Y=T+B*Y;var Le=T+B*J,Ke=280+Ne.ua,He=g.Pb?re:16777216,Ce=0<Ne.ua?Ne.Wa:null,Te=Ne.wc,Xe=je<Le?Ln(Ne,se,re):null;t(g.C<J),t(Le<=Y);var it=!1;e:for(;;){for(;it||je<Le;){var Ze=0;if(re>=He){var vt=je-T;t((He=g).Pb),He.wd=He.m,He.xd=vt,0<He.s.ua&&Me(He.s.Wa,He.s.vb),He=re+by}if(se&Te||(Xe=Ln(Ne,se,re)),t(Xe!=null),Xe.Qb&&(v[je]=Xe.qb,it=!0),!it)if(ce(pe),Xe.jc){Ze=pe,vt=v;var ut=je,Mt=Xe.pd[Z(Ze)&Dn-1];t(Xe.jc),256>Mt.g?(fe(Ze,Ze.u+Mt.g),vt[ut]=Mt.value,Ze=0):(fe(Ze,Ze.u+Mt.g-256),t(256<=Mt.value),Ze=Mt.value),Ze==0&&(it=!0)}else Ze=Wi(Xe.G[0],Xe.H[0],pe);if(pe.h)break;if(it||256>Ze){if(!it)if(Xe.nd)v[je]=(Xe.qb|Ze<<8)>>>0;else{if(ce(pe),it=Wi(Xe.G[1],Xe.H[1],pe),ce(pe),vt=Wi(Xe.G[2],Xe.H[2],pe),ut=Wi(Xe.G[3],Xe.H[3],pe),pe.h)break;v[je]=(ut<<24|it<<16|Ze<<8|vt)>>>0}if(it=!1,++je,++se>=B&&(se=0,++re,te!=null&&re<=J&&!(re%16)&&te(g,re),Ce!=null))for(;Be<je;)Ze=v[Be++],Ce.X[(506832829*Ze&4294967295)>>>Ce.Mb]=Ze}else if(280>Ze){if(Ze=Yr(Ze-256,pe),vt=Wi(Xe.G[4],Xe.H[4],pe),ce(pe),vt=Yi(B,vt=Yr(vt,pe)),pe.h)break;if(je-T<vt||Y-je<Ze)break e;for(ut=0;ut<Ze;++ut)v[je+ut]=v[je+ut-vt];for(je+=Ze,se+=Ze;se>=B;)se-=B,++re,te!=null&&re<=J&&!(re%16)&&te(g,re);if(t(je<=Y),se&Te&&(Xe=Ln(Ne,se,re)),Ce!=null)for(;Be<je;)Ze=v[Be++],Ce.X[(506832829*Ze&4294967295)>>>Ce.Mb]=Ze}else{if(!(Ze<Ke))break e;for(it=Ze-280,t(Ce!=null);Be<je;)Ze=v[Be++],Ce.X[(506832829*Ze&4294967295)>>>Ce.Mb]=Ze;Ze=je,t(!(it>>>(vt=Ce).Xa)),v[Ze]=vt.X[it],it=!0}it||t(pe.h==ie(pe))}if(g.Pb&&pe.h&&je<Y)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Me(g.s.vb,g.s.Wa);else{if(pe.h)break e;te!=null&&te(g,re>J?J:re),g.a=0,g.$=je-T}return 1}return g.a=3,0}function _r(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,t(g!=null)}function rr(){var g=new ci;return g==null?null:(g.a=0,g.xb=ig,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),a=pt,b=bt,C=lt,P=Sn,G=Tt,ee=at,ge=Pt,L.VP8LMapColor32b=c,L.VP8LMapColor8b=h,g)}function wi(g,v,T,B,Y){var J=1,te=[g],re=[v],se=B.m,pe=B.s,Ne=null,je=0;e:for(;;){if(T)for(;J&&ye(se,1);){var Be=te,Le=re,Ke=B,He=1,Ce=Ke.m,Te=Ke.gc[Ke.ab],Xe=ye(Ce,2);if(Ke.Oc&1<<Xe)J=0;else{switch(Ke.Oc|=1<<Xe,Te.hc=Xe,Te.Ea=Be[0],Te.nc=Le[0],Te.K=[null],++Ke.ab,t(4>=Ke.ab),Xe){case 0:case 1:Te.b=ye(Ce,3)+2,He=wi(Ge(Te.Ea,Te.b),Ge(Te.nc,Te.b),0,Ke,Te.K),Te.K=Te.K[0];break;case 3:var it,Ze=ye(Ce,8)+1,vt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(Be[0]=Ge(Te.Ea,vt),Te.b=vt,it=He=wi(Ze,1,0,Ke,Te.K)){var ut,Mt=Ze,ht=Te,vn=1<<(8>>ht.b),Cn=o(vn);if(Cn==null)it=0;else{var mn=ht.K[0],sn=ht.w;for(Cn[0]=ht.K[0][0],ut=1;ut<1*Mt;++ut)Cn[ut]=Pe(mn[sn+ut],Cn[ut-1]);for(;ut<4*vn;++ut)Cn[ut]=0;ht.K[0]=null,ht.K[0]=Cn,it=1}}He=it;break;case 2:break;default:t(0)}J=He}}if(te=te[0],re=re[0],J&&ye(se,1)&&!(J=1<=(je=ye(se,4))&&11>=je)){B.a=3;break e}var Bn;if(Bn=J)t:{var Mn,Zt,Mi,Pr=B,Ri=te,Fr=re,En=je,Kr=T,Jr=Pr.m,Qi=Pr.s,or=[null],Or=1,wa=0,ns=vy[En];n:for(;;){if(Kr&&ye(Jr,1)){var Ki=ye(Jr,3)+2,Ns=Ge(Ri,Ki),cl=Ge(Fr,Ki),Vl=Ns*cl;if(!wi(Ns,cl,0,Pr,or))break n;for(or=or[0],Qi.xc=Ki,Mn=0;Mn<Vl;++Mn){var ro=or[Mn]>>8&65535;or[Mn]=ro,ro>=Or&&(Or=ro+1)}}if(Jr.h)break n;for(Zt=0;5>Zt;++Zt){var xi=tg[Zt];!Zt&&0<En&&(xi+=1<<En),wa<xi&&(wa=xi)}var jh=f(Or*ns,D),fg=Or,hg=f(fg,ae);if(hg==null)var Df=null;else t(65536>=fg),Df=hg;var $c=o(wa);if(Df==null||$c==null||jh==null){Pr.a=1;break n}var Mf=jh;for(Mn=Mi=0;Mn<Or;++Mn){var Pa=Df[Mn],Yl=Pa.G,Wl=Pa.H,dg=0,Rf=1,gg=0;for(Zt=0;5>Zt;++Zt){xi=tg[Zt],Yl[Zt]=Mf,Wl[Zt]=Mi,!Zt&&0<En&&(xi+=1<<En);r:{var jf,Bh=xi,Bf=Pr,eu=$c,Uy=Mf,zy=Mi,kh=0,ao=Bf.m,Hy=ye(ao,1);if(s(eu,0,0,Bh),Hy){var qy=ye(ao,1)+1,Gy=ye(ao,1),pg=ye(ao,Gy==0?1:8);eu[pg]=1,qy==2&&(eu[pg=ye(ao,8)]=1);var kf=1}else{var mg=o(19),xg=ye(ao,4)+4;if(19<xg){Bf.a=3;var Pf=0;break r}for(jf=0;jf<xg;++jf)mg[xy[jf]]=ye(ao,3);var Ph=void 0,tu=void 0,yg=Bf,Vy=mg,Ff=Bh,vg=eu,Fh=0,so=yg.m,bg=8,wg=f(128,D);i:for(;z(wg,0,7,Vy,19);){if(ye(so,1)){var Yy=2+2*ye(so,3);if((Ph=2+ye(so,Yy))>Ff)break i}else Ph=Ff;for(tu=0;tu<Ff&&Ph--;){ce(so);var Ag=wg[0+(127&Z(so))];fe(so,so.u+Ag.g);var Xl=Ag.value;if(16>Xl)vg[tu++]=Xl,Xl!=0&&(bg=Xl);else{var Wy=Xl==16,Sg=Xl-16,Xy=py[Sg],Ng=ye(so,gy[Sg])+Xy;if(tu+Ng>Ff)break i;for(var Zy=Wy?bg:0;0<Ng--;)vg[tu++]=Zy}}Fh=1;break i}Fh||(yg.a=3),kf=Fh}(kf=kf&&!ao.h)&&(kh=z(Uy,zy,8,eu,Bh)),kf&&kh!=0?Pf=kh:(Bf.a=3,Pf=0)}if(Pf==0)break n;if(Rf&&my[Zt]==1&&(Rf=Mf[Mi].g==0),dg+=Mf[Mi].g,Mi+=Pf,3>=Zt){var nu,Uh=$c[0];for(nu=1;nu<xi;++nu)$c[nu]>Uh&&(Uh=$c[nu]);gg+=Uh}}if(Pa.nd=Rf,Pa.Qb=0,Rf&&(Pa.qb=(Yl[3][Wl[3]+0].value<<24|Yl[1][Wl[1]+0].value<<16|Yl[2][Wl[2]+0].value)>>>0,dg==0&&256>Yl[0][Wl[0]+0].value&&(Pa.Qb=1,Pa.qb+=Yl[0][Wl[0]+0].value<<8)),Pa.jc=!Pa.Qb&&6>gg,Pa.jc){var Uf,Cs=Pa;for(Uf=0;Uf<Dn;++Uf){var oo=Uf,lo=Cs.pd[oo],zf=Cs.G[0][Cs.H[0]+oo];256<=zf.value?(lo.g=zf.g+256,lo.value=zf.value):(lo.g=0,lo.value=0,oo>>=fn(zf,8,lo),oo>>=fn(Cs.G[1][Cs.H[1]+oo],16,lo),oo>>=fn(Cs.G[2][Cs.H[2]+oo],0,lo),fn(Cs.G[3][Cs.H[3]+oo],24,lo))}}}Qi.vc=or,Qi.Wb=Or,Qi.Ya=Df,Qi.yc=jh,Bn=1;break t}Bn=0}if(!(J=Bn)){B.a=3;break e}if(0<je){if(pe.ua=1<<je,!st(pe.Wa,je)){B.a=1,J=0;break e}}else pe.ua=0;var zh=B,Cg=te,Qy=re,Hh=zh.s,qh=Hh.xc;if(zh.c=Cg,zh.i=Qy,Hh.md=Ge(Cg,qh),Hh.wc=qh==0?-1:(1<<qh)-1,T){B.xb=_y;break e}if((Ne=o(te*re))==null){B.a=1,J=0;break e}J=(J=Xi(B,Ne,0,te,re,re,null))&&!se.h;break e}return J?(Y!=null?Y[0]=Ne:(t(Ne==null),t(T)),B.$=0,T||_r(pe)):_r(pe),J}function ms(g,v){var T=g.c*g.i,B=T+v+16*v;return t(g.c<=v),g.V=o(B),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+v,1)}function Ys(g,v){var T=g.C,B=v-T,Y=g.V,J=g.Ba+g.c*T;for(t(v<=g.l.o);0<B;){var te=16<B?16:B,re=g.l.ma,se=g.l.width,pe=se*te,Ne=re.ca,je=re.tb+se*T,Be=g.Ta,Le=g.Ua;Fn(g,te,Y,J),Ei(Be,Le,Ne,je,pe),Er(re,T,T+te,Ne,je,se),B-=te,Y+=te*g.c,T+=te}t(T==v),g.C=g.Ma=v}function ar(){this.ub=this.yd=this.td=this.Rb=0}function gi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Yo(){this.Yb=function(){var g=[];return function v(T,B,Y){for(var J=Y[B],te=0;te<J&&(T.push(Y.length>B+1?[]:0),!(Y.length<B+1));te++)v(T[te],B+1,Y)}(g,0,[3,11]),g}()}function ha(){this.jb=o(3),this.Wc=d([4,8],Yo),this.Xc=d([4,17],Yo)}function Wo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Qe(){this.ld=this.La=this.dd=this.tc=0}function Ul(){this.Na=this.la=0}function zn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function da(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qe),this.Y=0,this.ya=Array(new da),this.aa=0,this.l=new Xt}function on(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ln(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new ar,this.Kc=new gi,this.ed=new Wo,this.Qa=new yn,this.Ic=this.$c=this.Aa=0,this.D=new Wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,xe),this.ia=0,this.pb=f(4,zn),this.Pa=new ha,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new on),this.Hd=0,this.rb=Array(new Ul),this.sb=0,this.wa=Array(new Qe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new da),this.L=this.aa=0,this.gd=d([4,2],Qe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xo(){var g=new ln;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Kc||(Kc=Wr)),g}function Wn(g,v,T){return g.a==0&&(g.a=v,g.sc=T,g.cb=0),0}function Ws(g,v,T){return 3<=T&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function $n(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return Wn(g,2,"null VP8Io passed to VP8GetHeaders()");var T=v.data,B=v.w,Y=v.ha;if(4>Y)return Wn(g,7,"Truncated header.");var J=T[B+0]|T[B+1]<<8|T[B+2]<<16,te=g.Od;if(te.Rb=!(1&J),te.td=J>>1&7,te.yd=J>>4&1,te.ub=J>>5,3<te.td)return Wn(g,3,"Incorrect keyframe parameters.");if(!te.yd)return Wn(g,4,"Frame not displayable.");B+=3,Y-=3;var re=g.Kc;if(te.Rb){if(7>Y)return Wn(g,7,"cannot parse picture header");if(!Ws(T,B,Y))return Wn(g,3,"Bad code word");re.c=16383&(T[B+4]<<8|T[B+3]),re.Td=T[B+4]>>6,re.i=16383&(T[B+6]<<8|T[B+5]),re.Ud=T[B+6]>>6,B+=7,Y-=7,g.za=re.c+15>>4,g.Ub=re.i+15>>4,v.width=re.c,v.height=re.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((J=g.Pa).jb,0,255,J.jb.length),t((J=g.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,s(J.Zb,0,0,J.Zb.length),s(J.Lb,0,0,J.Lb)}if(te.ub>Y)return Wn(g,7,"bad partition length");le(J=g.m,T,B,te.ub),B+=te.ub,Y-=te.ub,te.Rb&&(re.Ld=be(J),re.Kd=be(J)),re=g.Qa;var se,pe=g.Pa;if(t(J!=null),t(re!=null),re.Cb=be(J),re.Cb){if(re.Bb=be(J),be(J)){for(re.Fb=be(J),se=0;4>se;++se)re.Zb[se]=be(J)?Q(J,7):0;for(se=0;4>se;++se)re.Lb[se]=be(J)?Q(J,6):0}if(re.Bb)for(se=0;3>se;++se)pe.jb[se]=be(J)?$(J,8):255}else re.Bb=0;if(J.Ka)return Wn(g,3,"cannot parse segment header");if((re=g.ed).zd=be(J),re.Tb=$(J,6),re.wb=$(J,3),re.Pc=be(J),re.Pc&&be(J)){for(pe=0;4>pe;++pe)be(J)&&(re.vd[pe]=Q(J,6));for(pe=0;4>pe;++pe)be(J)&&(re.od[pe]=Q(J,6))}if(g.L=re.Tb==0?0:re.zd?1:2,J.Ka)return Wn(g,3,"cannot parse filter header");var Ne=Y;if(Y=se=B,B=se+Ne,re=Ne,g.Xb=(1<<$(g.m,2))-1,Ne<3*(pe=g.Xb))T=7;else{for(se+=3*pe,re-=3*pe,Ne=0;Ne<pe;++Ne){var je=T[Y+0]|T[Y+1]<<8|T[Y+2]<<16;je>re&&(je=re),le(g.Jc[+Ne],T,se,je),se+=je,re-=je,Y+=3}le(g.Jc[+pe],T,se,re),T=se<B?0:5}if(T!=0)return Wn(g,T,"cannot parse partitions");for(T=$(se=g.m,7),Y=be(se)?Q(se,4):0,B=be(se)?Q(se,4):0,re=be(se)?Q(se,4):0,pe=be(se)?Q(se,4):0,se=be(se)?Q(se,4):0,Ne=g.Qa,je=0;4>je;++je){if(Ne.Cb){var Be=Ne.Zb[je];Ne.Fb||(Be+=T)}else{if(0<je){g.pb[je]=g.pb[0];continue}Be=T}var Le=g.pb[je];Le.Sc[0]=Dh[pi(Be+Y,127)],Le.Sc[1]=Mh[pi(Be+0,127)],Le.Eb[0]=2*Dh[pi(Be+B,127)],Le.Eb[1]=101581*Mh[pi(Be+re,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=Dh[pi(Be+pe,117)],Le.Qc[1]=Mh[pi(Be+se,127)],Le.lc=Be+se}if(!te.Rb)return Wn(g,4,"Not a key frame.");for(be(J),te=g.Pa,T=0;4>T;++T){for(Y=0;8>Y;++Y)for(B=0;3>B;++B)for(re=0;11>re;++re)pe=Ee(J,Cy[T][Y][B][re])?$(J,8):Sy[T][Y][B][re],te.Wc[T][Y].Yb[B][re]=pe;for(Y=0;17>Y;++Y)te.Xc[T][Y]=te.Wc[T][Ey[Y]]}return g.kc=be(J),g.kc&&(g.Bd=$(J,8)),g.cb=1}function Wr(g,v,T,B,Y,J,te){var re=v[Y].Yb[T];for(T=0;16>Y;++Y){if(!Ee(g,re[T+0]))return Y;for(;!Ee(g,re[T+1]);)if(re=v[++Y].Yb[0],T=0,Y==16)return 16;var se=v[Y+1].Yb;if(Ee(g,re[T+2])){var pe=g,Ne=0;if(Ee(pe,(Be=re)[(je=T)+3]))if(Ee(pe,Be[je+6])){for(re=0,je=2*(Ne=Ee(pe,Be[je+8]))+(Be=Ee(pe,Be[je+9+Ne])),Ne=0,Be=wy[je];Be[re];++re)Ne+=Ne+Ee(pe,Be[re]);Ne+=3+(8<<je)}else Ee(pe,Be[je+7])?(Ne=7+2*Ee(pe,165),Ne+=Ee(pe,145)):Ne=5+Ee(pe,159);else Ne=Ee(pe,Be[je+4])?3+Ee(pe,Be[je+5]):2;re=se[2]}else Ne=1,re=se[1];se=te+Ay[Y],0>(pe=g).b&&_e(pe);var je,Be=pe.b,Le=(je=pe.Ca>>1)-(pe.I>>Be)>>31;--pe.b,pe.Ca+=Le,pe.Ca|=1,pe.I-=(je+1&Le)<<Be,J[se]=((Ne^Le)-Le)*B[(0<Y)+0]}return 16}function Zo(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Xn(g,v){if(g==null)return 0;if(v==null)return Wn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!$n(g,v))return 0;if(t(g.cb),v.ac==null||v.ac(v)){v.ob&&(g.L=0);var T=Lf[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=v.v-T>>4,g.zb=v.j-T>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=v.o+15+T>>4,g.Hb=v.va+15+T>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var B=g.ed;for(T=0;4>T;++T){var Y;if(g.Qa.Cb){var J=g.Qa.Lb[T];g.Qa.Fb||(J+=B.Tb)}else J=B.Tb;for(Y=0;1>=Y;++Y){var te=g.gd[T][Y],re=J;if(B.Pc&&(re+=B.vd[0],Y&&(re+=B.od[0])),0<(re=0>re?0:63<re?63:re)){var se=re;0<B.wb&&(se=4<B.wb?se>>2:se>>1)>9-B.wb&&(se=9-B.wb),1>se&&(se=1),te.dd=se,te.tc=2*re+se,te.ld=40<=re?2:15<=re?1:0}else te.tc=0;te.La=Y}}}T=0}else Wn(g,6,"Frame setup failed"),T=g.a;if(T=T==0){if(T){g.$c=0,0<g.Aa||(g.Ic=Fy);e:{T=g.Ic,B=4*(se=g.za);var pe=32*se,Ne=se+1,je=0<g.L?se*(0<g.Aa?2:1):0,Be=(g.Aa==2?2:1)*se;if((te=B+832+(Y=3*(16*T+Lf[g.L])/2*pe)+(J=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=te)T=0;else{if(te>g.Vb){if(g.Vb=0,g.Ec=o(te),g.Fc=0,g.Ec==null){T=Wn(g,1,"no memory during frame initialization.");break e}g.Vb=te}te=g.Ec,re=g.Fc,g.Ac=te,g.Bc=re,re+=B,g.Gd=f(pe,on),g.Hd=0,g.rb=f(Ne+1,Ul),g.sb=1,g.wa=je?f(je,Qe):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=se),t(!0),g.oc=te,g.pc=re,re+=832,g.ya=f(Be,da),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=se),g.R=16*se,g.B=8*se,se=(pe=Lf[g.L])*g.R,pe=pe/2*g.B,g.sa=te,g.ta=re+se,g.qa=g.sa,g.ra=g.ta+16*T*g.R+pe,g.Ha=g.qa,g.Ia=g.ra+8*T*g.B+pe,g.$c=0,re+=Y,g.mb=J?te:null,g.nb=J?re:null,t(re+J<=g.Fc+g.Vb),Zo(g),s(g.Ac,g.Bc,0,B),T=1}}if(T){if(v.ka=0,v.y=g.sa,v.O=g.ta,v.f=g.qa,v.N=g.ra,v.ea=g.Ha,v.Vd=g.Ia,v.fa=g.R,v.Rc=g.B,v.F=null,v.J=0,!Af){for(T=-255;255>=T;++T)Ui[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)As[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Qc[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Gl[255+T]=0>T?0:255<T?255:T;Af=1}ve=dr,Ae=Re,Ue=he,tt=Et,rt=oi,Ie=Si,nt=Ka,Qt=pr,Bt=Yt,mi=li,Fi=Zc,ui=Fe,cn=Ja,ii=al,Ci=rl,Ir=ma,ya=Ba,Br=Xc,ka[0]=_t,ka[1]=Ko,ka[2]=ys,ka[3]=ga,ka[4]=Hl,ka[5]=ei,ka[6]=Ht,ka[7]=$o,ka[8]=ql,ka[9]=el,no[0]=Qs,no[1]=Ot,no[2]=gn,no[3]=xs,no[4]=Ni,no[5]=Jo,no[6]=zl,Ss[0]=Rr,Ss[1]=gr,Ss[2]=Ra,Ss[3]=tl,Ss[4]=Qa,Ss[5]=vs,Ss[6]=ja,T=1}else T=0}T&&(T=function(Le,Ke){for(Le.M=0;Le.M<Le.Va;++Le.M){var He,Ce=Le.Jc[Le.M&Le.Xb],Te=Le.m,Xe=Le;for(He=0;He<Xe.za;++He){var it=Te,Ze=Xe,vt=Ze.Ac,ut=Ze.Bc+4*He,Mt=Ze.zc,ht=Ze.ya[Ze.aa+He];if(Ze.Qa.Bb?ht.$b=Ee(it,Ze.Pa.jb[0])?2+Ee(it,Ze.Pa.jb[2]):Ee(it,Ze.Pa.jb[1]):ht.$b=0,Ze.kc&&(ht.Ad=Ee(it,Ze.Bd)),ht.Za=!Ee(it,145)+0,ht.Za){var vn=ht.Ob,Cn=0;for(Ze=0;4>Ze;++Ze){var mn,sn=Mt[0+Ze];for(mn=0;4>mn;++mn){sn=Ny[vt[ut+mn]][sn];for(var Bn=ng[Ee(it,sn[0])];0<Bn;)Bn=ng[2*Bn+Ee(it,sn[Bn])];sn=-Bn,vt[ut+mn]=sn}r(vn,Cn,vt,ut,4),Cn+=4,Mt[0+Ze]=sn}}else sn=Ee(it,156)?Ee(it,128)?1:3:Ee(it,163)?2:0,ht.Ob[0]=sn,s(vt,ut,sn,4),s(Mt,0,sn,4);ht.Dd=Ee(it,142)?Ee(it,114)?Ee(it,183)?1:3:2:0}if(Xe.m.Ka)return Wn(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(Xe=Ce,it=(Te=Le).rb[Te.sb-1],vt=Te.rb[Te.sb+Te.ja],He=Te.ya[Te.aa+Te.ja],ut=Te.kc?He.Ad:0)it.la=vt.la=0,He.Za||(it.Na=vt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Mn,Zt;if(it=vt,vt=Xe,ut=Te.Pa.Xc,Mt=Te.ya[Te.aa+Te.ja],ht=Te.pb[Mt.$b],Ze=Mt.ad,vn=0,Cn=Te.rb[Te.sb-1],sn=mn=0,s(Ze,vn,0,384),Mt.Za)var Mi=0,Pr=ut[3];else{Bn=o(16);var Ri=it.Na+Cn.Na;if(Ri=Kc(vt,ut[1],Ri,ht.Eb,0,Bn,0),it.Na=Cn.Na=(0<Ri)+0,1<Ri)ve(Bn,0,Ze,vn);else{var Fr=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)Ze[vn+Bn]=Fr}Mi=1,Pr=ut[0]}var En=15&it.la,Kr=15&Cn.la;for(Bn=0;4>Bn;++Bn){var Jr=1&Kr;for(Fr=Zt=0;4>Fr;++Fr)En=En>>1|(Jr=(Ri=Kc(vt,Pr,Ri=Jr+(1&En),ht.Sc,Mi,Ze,vn))>Mi)<<7,Zt=Zt<<2|(3<Ri?3:1<Ri?2:Ze[vn+0]!=0),vn+=16;En>>=4,Kr=Kr>>1|Jr<<7,mn=(mn<<8|Zt)>>>0}for(Pr=En,Mi=Kr>>4,Mn=0;4>Mn;Mn+=2){for(Zt=0,En=it.la>>4+Mn,Kr=Cn.la>>4+Mn,Bn=0;2>Bn;++Bn){for(Jr=1&Kr,Fr=0;2>Fr;++Fr)Ri=Jr+(1&En),En=En>>1|(Jr=0<(Ri=Kc(vt,ut[2],Ri,ht.Qc,0,Ze,vn)))<<3,Zt=Zt<<2|(3<Ri?3:1<Ri?2:Ze[vn+0]!=0),vn+=16;En>>=2,Kr=Kr>>1|Jr<<5}sn|=Zt<<4*Mn,Pr|=En<<4<<Mn,Mi|=(240&Kr)<<Mn}it.la=Pr,Cn.la=Mi,Mt.Hc=mn,Mt.Gc=sn,Mt.ia=43690&sn?0:ht.ia,ut=!(mn|sn)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[He.$b][He.Za],Te.wa[Te.Y+Te.ja].La|=!ut),Xe.Ka)return Wn(Le,7,"Premature end-of-file encountered.")}if(Zo(Le),Te=Ke,Xe=1,He=(Ce=Le).D,it=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(He.M=Ce.M,He.uc=it,xr(Ce,He),Xe=1,He=(Zt=Ce.D).Nb,it=(sn=Lf[Ce.L])*Ce.R,vt=sn/2*Ce.B,Bn=16*He*Ce.R,Fr=8*He*Ce.B,ut=Ce.sa,Mt=Ce.ta-it+Bn,ht=Ce.qa,Ze=Ce.ra-vt+Fr,vn=Ce.Ha,Cn=Ce.Ia-vt+Fr,Kr=(En=Zt.M)==0,mn=En>=Ce.Va-1,Ce.Aa==2&&xr(Ce,Zt),Zt.uc)for(Jr=(Ri=Ce).D.M,t(Ri.D.uc),Zt=Ri.yb;Zt<Ri.Hb;++Zt){Mi=Zt,Pr=Jr;var Qi=(or=(xi=Ri).D).Nb;Mn=xi.R;var or=or.wa[or.Y+Mi],Or=xi.sa,wa=xi.ta+16*Qi*Mn+16*Mi,ns=or.dd,Ki=or.tc;if(Ki!=0)if(t(3<=Ki),xi.L==1)0<Mi&&Ir(Or,wa,Mn,Ki+4),or.La&&Br(Or,wa,Mn,Ki),0<Pr&&Ci(Or,wa,Mn,Ki+4),or.La&&ya(Or,wa,Mn,Ki);else{var Ns=xi.B,cl=xi.qa,Vl=xi.ra+8*Qi*Ns+8*Mi,ro=xi.Ha,xi=xi.Ia+8*Qi*Ns+8*Mi;Qi=or.ld,0<Mi&&(Qt(Or,wa,Mn,Ki+4,ns,Qi),mi(cl,Vl,ro,xi,Ns,Ki+4,ns,Qi)),or.La&&(ui(Or,wa,Mn,Ki,ns,Qi),ii(cl,Vl,ro,xi,Ns,Ki,ns,Qi)),0<Pr&&(nt(Or,wa,Mn,Ki+4,ns,Qi),Bt(cl,Vl,ro,xi,Ns,Ki+4,ns,Qi)),or.La&&(Fi(Or,wa,Mn,Ki,ns,Qi),cn(cl,Vl,ro,xi,Ns,Ki,ns,Qi))}}if(Ce.ia&&alert("todo:DitherRow"),Te.put!=null){if(Zt=16*En,En=16*(En+1),Kr?(Te.y=Ce.sa,Te.O=Ce.ta+Bn,Te.f=Ce.qa,Te.N=Ce.ra+Fr,Te.ea=Ce.Ha,Te.W=Ce.Ia+Fr):(Zt-=sn,Te.y=ut,Te.O=Mt,Te.f=ht,Te.N=Ze,Te.ea=vn,Te.W=Cn),mn||(En-=sn),En>Te.o&&(En=Te.o),Te.F=null,Te.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&Zt<En&&(Te.J=pn(Ce,Te,Zt,En-Zt),Te.F=Ce.mb,Te.F==null&&Te.F.length==0)){Xe=Wn(Ce,3,"Could not decode alpha data.");break e}Zt<Te.j&&(sn=Te.j-Zt,Zt=Te.j,t(!(1&sn)),Te.O+=Ce.R*sn,Te.N+=Ce.B*(sn>>1),Te.W+=Ce.B*(sn>>1),Te.F!=null&&(Te.J+=Te.width*sn)),Zt<En&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Zt-Te.j,Te.U=Te.va-Te.v,Te.T=En-Zt,Xe=Te.put(Te))}He+1!=Ce.Ic||mn||(r(Ce.sa,Ce.ta-it,ut,Mt+16*Ce.R,it),r(Ce.qa,Ce.ra-vt,ht,Ze+8*Ce.B,vt),r(Ce.Ha,Ce.Ia-vt,vn,Cn+8*Ce.B,vt))}if(!Xe)return Wn(Le,6,"Output aborted.")}return 1}(g,v)),v.bc!=null&&v.bc(v),T&=1}return T?(g.cb=0,T):0}function Di(g,v,T,B,Y){Y=g[v+T+32*B]+(Y>>3),g[v+T+32*B]=-256&Y?0>Y?0:255:Y}function Xs(g,v,T,B,Y,J){Di(g,v,0,T,B+Y),Di(g,v,1,T,B+J),Di(g,v,2,T,B-J),Di(g,v,3,T,B-Y)}function Ai(g){return(20091*g>>16)+g}function xn(g,v,T,B){var Y,J=0,te=o(16);for(Y=0;4>Y;++Y){var re=g[v+0]+g[v+8],se=g[v+0]-g[v+8],pe=(35468*g[v+4]>>16)-Ai(g[v+12]),Ne=Ai(g[v+4])+(35468*g[v+12]>>16);te[J+0]=re+Ne,te[J+1]=se+pe,te[J+2]=se-pe,te[J+3]=re-Ne,J+=4,v++}for(Y=J=0;4>Y;++Y)re=(g=te[J+0]+4)+te[J+8],se=g-te[J+8],pe=(35468*te[J+4]>>16)-Ai(te[J+12]),Di(T,B,0,0,re+(Ne=Ai(te[J+4])+(35468*te[J+12]>>16))),Di(T,B,1,0,se+pe),Di(T,B,2,0,se-pe),Di(T,B,3,0,re-Ne),J++,B+=32}function Si(g,v,T,B){var Y=g[v+0]+4,J=35468*g[v+4]>>16,te=Ai(g[v+4]),re=35468*g[v+1]>>16;Xs(T,B,0,Y+te,g=Ai(g[v+1]),re),Xs(T,B,1,Y+J,g,re),Xs(T,B,2,Y-J,g,re),Xs(T,B,3,Y-te,g,re)}function Re(g,v,T,B,Y){xn(g,v,T,B),Y&&xn(g,v+16,T,B+4)}function he(g,v,T,B){Ae(g,v+0,T,B,1),Ae(g,v+32,T,B+128,1)}function Et(g,v,T,B){var Y;for(g=g[v+0]+4,Y=0;4>Y;++Y)for(v=0;4>v;++v)Di(T,B,v,Y,g)}function oi(g,v,T,B){g[v+0]&&tt(g,v+0,T,B),g[v+16]&&tt(g,v+16,T,B+4),g[v+32]&&tt(g,v+32,T,B+128),g[v+48]&&tt(g,v+48,T,B+128+4)}function dr(g,v,T,B){var Y,J=o(16);for(Y=0;4>Y;++Y){var te=g[v+0+Y]+g[v+12+Y],re=g[v+4+Y]+g[v+8+Y],se=g[v+4+Y]-g[v+8+Y],pe=g[v+0+Y]-g[v+12+Y];J[0+Y]=te+re,J[8+Y]=te-re,J[4+Y]=pe+se,J[12+Y]=pe-se}for(Y=0;4>Y;++Y)te=(g=J[0+4*Y]+3)+J[3+4*Y],re=J[1+4*Y]+J[2+4*Y],se=J[1+4*Y]-J[2+4*Y],pe=g-J[3+4*Y],T[B+0]=te+re>>3,T[B+16]=pe+se>>3,T[B+32]=te-re>>3,T[B+48]=pe-se>>3,B+=64}function Qo(g,v,T){var B,Y=v-32,J=Qr,te=255-g[Y-1];for(B=0;B<T;++B){var re,se=J,pe=te+g[v-1];for(re=0;re<T;++re)g[v+re]=se[pe+g[Y+re]];v+=32}}function Ko(g,v){Qo(g,v,4)}function gr(g,v){Qo(g,v,8)}function Ot(g,v){Qo(g,v,16)}function gn(g,v){var T;for(T=0;16>T;++T)r(g,v+32*T,g,v-32,16)}function xs(g,v){var T;for(T=16;0<T;--T)s(g,v,g[v-1],16),v+=32}function Zs(g,v,T){var B;for(B=0;16>B;++B)s(v,T+32*B,g,16)}function Qs(g,v){var T,B=16;for(T=0;16>T;++T)B+=g[v-1+32*T]+g[v+T-32];Zs(B>>5,g,v)}function Ni(g,v){var T,B=8;for(T=0;16>T;++T)B+=g[v-1+32*T];Zs(B>>4,g,v)}function Jo(g,v){var T,B=8;for(T=0;16>T;++T)B+=g[v+T-32];Zs(B>>4,g,v)}function zl(g,v){Zs(128,g,v)}function Nt(g,v,T){return g+2*v+T+2>>2}function ys(g,v){var T,B=v-32;for(B=new Uint8Array([Nt(g[B-1],g[B+0],g[B+1]),Nt(g[B+0],g[B+1],g[B+2]),Nt(g[B+1],g[B+2],g[B+3]),Nt(g[B+2],g[B+3],g[B+4])]),T=0;4>T;++T)r(g,v+32*T,B,0,B.length)}function ga(g,v){var T=g[v-1],B=g[v-1+32],Y=g[v-1+64],J=g[v-1+96];Ye(g,v+0,16843009*Nt(g[v-1-32],T,B)),Ye(g,v+32,16843009*Nt(T,B,Y)),Ye(g,v+64,16843009*Nt(B,Y,J)),Ye(g,v+96,16843009*Nt(Y,J,J))}function _t(g,v){var T,B=4;for(T=0;4>T;++T)B+=g[v+T-32]+g[v-1+32*T];for(B>>=3,T=0;4>T;++T)s(g,v+32*T,B,4)}function Hl(g,v){var T=g[v-1+0],B=g[v-1+32],Y=g[v-1+64],J=g[v-1-32],te=g[v+0-32],re=g[v+1-32],se=g[v+2-32],pe=g[v+3-32];g[v+0+96]=Nt(B,Y,g[v-1+96]),g[v+1+96]=g[v+0+64]=Nt(T,B,Y),g[v+2+96]=g[v+1+64]=g[v+0+32]=Nt(J,T,B),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=Nt(te,J,T),g[v+3+64]=g[v+2+32]=g[v+1+0]=Nt(re,te,J),g[v+3+32]=g[v+2+0]=Nt(se,re,te),g[v+3+0]=Nt(pe,se,re)}function Ht(g,v){var T=g[v+1-32],B=g[v+2-32],Y=g[v+3-32],J=g[v+4-32],te=g[v+5-32],re=g[v+6-32],se=g[v+7-32];g[v+0+0]=Nt(g[v+0-32],T,B),g[v+1+0]=g[v+0+32]=Nt(T,B,Y),g[v+2+0]=g[v+1+32]=g[v+0+64]=Nt(B,Y,J),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=Nt(Y,J,te),g[v+3+32]=g[v+2+64]=g[v+1+96]=Nt(J,te,re),g[v+3+64]=g[v+2+96]=Nt(te,re,se),g[v+3+96]=Nt(re,se,se)}function ei(g,v){var T=g[v-1+0],B=g[v-1+32],Y=g[v-1+64],J=g[v-1-32],te=g[v+0-32],re=g[v+1-32],se=g[v+2-32],pe=g[v+3-32];g[v+0+0]=g[v+1+64]=J+te+1>>1,g[v+1+0]=g[v+2+64]=te+re+1>>1,g[v+2+0]=g[v+3+64]=re+se+1>>1,g[v+3+0]=se+pe+1>>1,g[v+0+96]=Nt(Y,B,T),g[v+0+64]=Nt(B,T,J),g[v+0+32]=g[v+1+96]=Nt(T,J,te),g[v+1+32]=g[v+2+96]=Nt(J,te,re),g[v+2+32]=g[v+3+96]=Nt(te,re,se),g[v+3+32]=Nt(re,se,pe)}function $o(g,v){var T=g[v+0-32],B=g[v+1-32],Y=g[v+2-32],J=g[v+3-32],te=g[v+4-32],re=g[v+5-32],se=g[v+6-32],pe=g[v+7-32];g[v+0+0]=T+B+1>>1,g[v+1+0]=g[v+0+64]=B+Y+1>>1,g[v+2+0]=g[v+1+64]=Y+J+1>>1,g[v+3+0]=g[v+2+64]=J+te+1>>1,g[v+0+32]=Nt(T,B,Y),g[v+1+32]=g[v+0+96]=Nt(B,Y,J),g[v+2+32]=g[v+1+96]=Nt(Y,J,te),g[v+3+32]=g[v+2+96]=Nt(J,te,re),g[v+3+64]=Nt(te,re,se),g[v+3+96]=Nt(re,se,pe)}function el(g,v){var T=g[v-1+0],B=g[v-1+32],Y=g[v-1+64],J=g[v-1+96];g[v+0+0]=T+B+1>>1,g[v+2+0]=g[v+0+32]=B+Y+1>>1,g[v+2+32]=g[v+0+64]=Y+J+1>>1,g[v+1+0]=Nt(T,B,Y),g[v+3+0]=g[v+1+32]=Nt(B,Y,J),g[v+3+32]=g[v+1+64]=Nt(Y,J,J),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=J}function ql(g,v){var T=g[v-1+0],B=g[v-1+32],Y=g[v-1+64],J=g[v-1+96],te=g[v-1-32],re=g[v+0-32],se=g[v+1-32],pe=g[v+2-32];g[v+0+0]=g[v+2+32]=T+te+1>>1,g[v+0+32]=g[v+2+64]=B+T+1>>1,g[v+0+64]=g[v+2+96]=Y+B+1>>1,g[v+0+96]=J+Y+1>>1,g[v+3+0]=Nt(re,se,pe),g[v+2+0]=Nt(te,re,se),g[v+1+0]=g[v+3+32]=Nt(T,te,re),g[v+1+32]=g[v+3+64]=Nt(B,T,te),g[v+1+64]=g[v+3+96]=Nt(Y,B,T),g[v+1+96]=Nt(J,Y,B)}function Ra(g,v){var T;for(T=0;8>T;++T)r(g,v+32*T,g,v-32,8)}function tl(g,v){var T;for(T=0;8>T;++T)s(g,v,g[v-1],8),v+=32}function Xr(g,v,T){var B;for(B=0;8>B;++B)s(v,T+32*B,g,8)}function Rr(g,v){var T,B=8;for(T=0;8>T;++T)B+=g[v+T-32]+g[v-1+32*T];Xr(B>>4,g,v)}function vs(g,v){var T,B=4;for(T=0;8>T;++T)B+=g[v+T-32];Xr(B>>3,g,v)}function Qa(g,v){var T,B=4;for(T=0;8>T;++T)B+=g[v-1+32*T];Xr(B>>3,g,v)}function ja(g,v){Xr(128,g,v)}function pa(g,v,T){var B=g[v-T],Y=g[v+0],J=3*(Y-B)+_h[1020+g[v-2*T]-g[v+T]],te=Sf[112+(J+4>>3)];g[v-T]=Qr[255+B+Sf[112+(J+3>>3)]],g[v+0]=Qr[255+Y-te]}function ki(g,v,T,B){var Y=g[v+0],J=g[v+T];return va[255+g[v-2*T]-g[v-T]]>B||va[255+J-Y]>B}function nl(g,v,T,B){return 4*va[255+g[v-T]-g[v+0]]+va[255+g[v-2*T]-g[v+T]]<=B}function il(g,v,T,B,Y){var J=g[v-3*T],te=g[v-2*T],re=g[v-T],se=g[v+0],pe=g[v+T],Ne=g[v+2*T],je=g[v+3*T];return 4*va[255+re-se]+va[255+te-pe]>B?0:va[255+g[v-4*T]-J]<=Y&&va[255+J-te]<=Y&&va[255+te-re]<=Y&&va[255+je-Ne]<=Y&&va[255+Ne-pe]<=Y&&va[255+pe-se]<=Y}function rl(g,v,T,B){var Y=2*B+1;for(B=0;16>B;++B)nl(g,v+B,T,Y)&&pa(g,v+B,T)}function ma(g,v,T,B){var Y=2*B+1;for(B=0;16>B;++B)nl(g,v+B*T,1,Y)&&pa(g,v+B*T,1)}function Ba(g,v,T,B){var Y;for(Y=3;0<Y;--Y)rl(g,v+=4*T,T,B)}function Xc(g,v,T,B){var Y;for(Y=3;0<Y;--Y)ma(g,v+=4,T,B)}function en(g,v,T,B,Y,J,te,re){for(J=2*J+1;0<Y--;){if(il(g,v,T,J,te))if(ki(g,v,T,re))pa(g,v,T);else{var se=g,pe=v,Ne=T,je=se[pe-2*Ne],Be=se[pe-Ne],Le=se[pe+0],Ke=se[pe+Ne],He=se[pe+2*Ne],Ce=27*(Xe=_h[1020+3*(Le-Be)+_h[1020+je-Ke]])+63>>7,Te=18*Xe+63>>7,Xe=9*Xe+63>>7;se[pe-3*Ne]=Qr[255+se[pe-3*Ne]+Xe],se[pe-2*Ne]=Qr[255+je+Te],se[pe-Ne]=Qr[255+Be+Ce],se[pe+0]=Qr[255+Le-Ce],se[pe+Ne]=Qr[255+Ke-Te],se[pe+2*Ne]=Qr[255+He-Xe]}v+=B}}function jr(g,v,T,B,Y,J,te,re){for(J=2*J+1;0<Y--;){if(il(g,v,T,J,te))if(ki(g,v,T,re))pa(g,v,T);else{var se=g,pe=v,Ne=T,je=se[pe-Ne],Be=se[pe+0],Le=se[pe+Ne],Ke=Sf[112+((He=3*(Be-je))+4>>3)],He=Sf[112+(He+3>>3)],Ce=Ke+1>>1;se[pe-2*Ne]=Qr[255+se[pe-2*Ne]+Ce],se[pe-Ne]=Qr[255+je+He],se[pe+0]=Qr[255+Be-Ke],se[pe+Ne]=Qr[255+Le-Ce]}v+=B}}function Ka(g,v,T,B,Y,J){en(g,v,T,1,16,B,Y,J)}function pr(g,v,T,B,Y,J){en(g,v,1,T,16,B,Y,J)}function Zc(g,v,T,B,Y,J){var te;for(te=3;0<te;--te)jr(g,v+=4*T,T,1,16,B,Y,J)}function Fe(g,v,T,B,Y,J){var te;for(te=3;0<te;--te)jr(g,v+=4,1,T,16,B,Y,J)}function Yt(g,v,T,B,Y,J,te,re){en(g,v,Y,1,8,J,te,re),en(T,B,Y,1,8,J,te,re)}function li(g,v,T,B,Y,J,te,re){en(g,v,1,Y,8,J,te,re),en(T,B,1,Y,8,J,te,re)}function Ja(g,v,T,B,Y,J,te,re){jr(g,v+4*Y,Y,1,8,J,te,re),jr(T,B+4*Y,Y,1,8,J,te,re)}function al(g,v,T,B,Y,J,te,re){jr(g,v+4,1,Y,8,J,te,re),jr(T,B+4,1,Y,8,J,te,re)}function Ks(){this.ba=new Vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function sl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ol(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Js(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new D}function ci(){this.xb=this.a=0,this.l=new Xt,this.ca=new Vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Js,this.ab=0,this.gc=f(4,ol),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(g,v,T,B,Y,J,te){for(g=g==null?0:g[v+0],v=0;v<te;++v)Y[J+v]=g+T[B+v]&255,g=Y[J+v]}function es(g,v,T,B,Y,J,te){var re;if(g==null)An(null,null,T,B,Y,J,te);else for(re=0;re<te;++re)Y[J+re]=g[v+re]+T[B+re]&255}function mr(g,v,T,B,Y,J,te){if(g==null)An(null,null,T,B,Y,J,te);else{var re,se=g[v+0],pe=se,Ne=se;for(re=0;re<te;++re)pe=Ne+(se=g[v+re])-pe,Ne=T[B+re]+(-256&pe?0>pe?0:255:pe)&255,pe=se,Y[J+re]=Ne}}function pn(g,v,T,B){var Y=v.width,J=v.o;if(t(g!=null&&v!=null),0>T||0>=B||T+B>J)return null;if(!g.Cc){if(g.ga==null){var te;if(g.ga=new $a,(te=g.ga==null)||(te=v.width*v.o,t(g.Gb.length==0),g.Gb=o(te),g.Uc=0,g.Gb==null?te=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,te=1),te=!te),!te){te=g.ga;var re=g.Fa,se=g.P,pe=g.qc,Ne=g.mb,je=g.nb,Be=se+1,Le=pe-1,Ke=te.l;if(t(re!=null&&Ne!=null&&v!=null),io[0]=null,io[1]=An,io[2]=es,io[3]=mr,te.ca=Ne,te.tb=je,te.c=v.width,te.i=v.height,t(0<te.c&&0<te.i),1>=pe)v=0;else if(te.$a=re[se+0]>>0&3,te.Z=re[se+0]>>2&3,te.Lc=re[se+0]>>4&3,se=re[se+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||se)v=0;else if(Ke.put=ir,Ke.ac=un,Ke.bc=Cr,Ke.ma=te,Ke.width=v.width,Ke.height=v.height,Ke.Da=v.Da,Ke.v=v.v,Ke.va=v.va,Ke.j=v.j,Ke.o=v.o,te.$a)e:{t(te.$a==1),v=rr();t:for(;;){if(v==null){v=0;break e}if(t(te!=null),te.mc=v,v.c=te.c,v.i=te.i,v.l=te.l,v.l.ma=te,v.l.width=te.c,v.l.height=te.i,v.a=0,ue(v.m,re,Be,Le),!wi(te.c,te.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&hr(v.s)?(te.ic=1,re=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(re),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(te.ic=0,v=ms(v,te.c)),!v))break t;v=1;break e}te.mc=null,v=0}else v=Le>=te.c*te.i;te=!v}if(te)return null;g.ga.Lc!=1?g.Ga=0:B=J-T}t(g.ga!=null),t(T+B<=J);e:{if(v=(re=g.ga).c,J=re.l.o,re.$a==0){if(Be=g.rc,Le=g.Vc,Ke=g.Fa,se=g.P+1+T*v,pe=g.mb,Ne=g.nb+T*v,t(se<=g.P+g.qc),re.Z!=0)for(t(io[re.Z]!=null),te=0;te<B;++te)io[re.Z](Be,Le,Ke,se,pe,Ne,v),Be=pe,Le=Ne,Ne+=v,se+=v;else for(te=0;te<B;++te)r(pe,Ne,Ke,se,v),Be=pe,Le=Ne,Ne+=v,se+=v;g.rc=Be,g.Vc=Le}else{if(t(re.mc!=null),v=T+B,t((te=re.mc)!=null),t(v<=te.i),te.C>=v)v=1;else if(re.ic||De(),re.ic){re=te.V,Be=te.Ba,Le=te.c;var He=te.i,Ce=(Ke=1,se=te.$/Le,pe=te.$%Le,Ne=te.m,je=te.s,te.$),Te=Le*He,Xe=Le*v,it=je.wc,Ze=Ce<Xe?Ln(je,pe,se):null;t(Ce<=Te),t(v<=He),t(hr(je));t:for(;;){for(;!Ne.h&&Ce<Xe;){if(pe&it||(Ze=Ln(je,pe,se)),t(Ze!=null),ce(Ne),256>(He=Wi(Ze.G[0],Ze.H[0],Ne)))re[Be+Ce]=He,++Ce,++pe>=Le&&(pe=0,++se<=v&&!(se%16)&&Un(te,se));else{if(!(280>He)){Ke=0;break t}He=Yr(He-256,Ne);var vt,ut=Wi(Ze.G[4],Ze.H[4],Ne);if(ce(Ne),!(Ce>=(ut=Yi(Le,ut=Yr(ut,Ne)))&&Te-Ce>=He)){Ke=0;break t}for(vt=0;vt<He;++vt)re[Be+Ce+vt]=re[Be+Ce+vt-ut];for(Ce+=He,pe+=He;pe>=Le;)pe-=Le,++se<=v&&!(se%16)&&Un(te,se);Ce<Xe&&pe&it&&(Ze=Ln(je,pe,se))}t(Ne.h==ie(Ne))}Un(te,se>v?v:se);break t}!Ke||Ne.h&&Ce<Te?(Ke=0,te.a=Ne.h?5:3):te.$=Ce,v=Ke}else v=Xi(te,te.V,te.Ba,te.c,te.i,v,Ys);if(!v){B=0;break e}}T+B>=J&&(g.Cc=1),B=1}if(!B)return null;if(g.Cc&&((B=g.ga)!=null&&(B.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*Y}function A(g,v,T,B,Y,J){for(;0<Y--;){var te,re=g,se=v+(T?1:0),pe=g,Ne=v+(T?0:3);for(te=0;te<B;++te){var je=pe[Ne+4*te];je!=255&&(je*=32897,re[se+4*te+0]=re[se+4*te+0]*je>>23,re[se+4*te+1]=re[se+4*te+1]*je>>23,re[se+4*te+2]=re[se+4*te+2]*je>>23)}v+=J}}function W(g,v,T,B,Y){for(;0<B--;){var J;for(J=0;J<T;++J){var te=g[v+2*J+0],re=15&(pe=g[v+2*J+1]),se=4369*re,pe=(240&pe|pe>>4)*se>>16;g[v+2*J+0]=(240&te|te>>4)*se>>16&240|(15&te|te<<4)*se>>16>>4&15,g[v+2*J+1]=240&pe|re}v+=Y}}function de(g,v,T,B,Y,J,te,re){var se,pe,Ne=255;for(pe=0;pe<Y;++pe){for(se=0;se<B;++se){var je=g[v+se];J[te+4*se]=je,Ne&=je}v+=T,te+=re}return Ne!=255}function we(g,v,T,B,Y){var J;for(J=0;J<Y;++J)T[B+J]=g[v+J]>>8}function De(){kr=A,Hn=W,qn=de,Ei=we}function Ve(g,v,T){L[g]=function(B,Y,J,te,re,se,pe,Ne,je,Be,Le,Ke,He,Ce,Te,Xe,it){var Ze,vt=it-1>>1,ut=re[se+0]|pe[Ne+0]<<16,Mt=je[Be+0]|Le[Ke+0]<<16;t(B!=null);var ht=3*ut+Mt+131074>>2;for(v(B[Y+0],255&ht,ht>>16,He,Ce),J!=null&&(ht=3*Mt+ut+131074>>2,v(J[te+0],255&ht,ht>>16,Te,Xe)),Ze=1;Ze<=vt;++Ze){var vn=re[se+Ze]|pe[Ne+Ze]<<16,Cn=je[Be+Ze]|Le[Ke+Ze]<<16,mn=ut+vn+Mt+Cn+524296,sn=mn+2*(vn+Mt)>>3;ht=sn+ut>>1,ut=(mn=mn+2*(ut+Cn)>>3)+vn>>1,v(B[Y+2*Ze-1],255&ht,ht>>16,He,Ce+(2*Ze-1)*T),v(B[Y+2*Ze-0],255&ut,ut>>16,He,Ce+(2*Ze-0)*T),J!=null&&(ht=mn+Mt>>1,ut=sn+Cn>>1,v(J[te+2*Ze-1],255&ht,ht>>16,Te,Xe+(2*Ze-1)*T),v(J[te+2*Ze+0],255&ut,ut>>16,Te,Xe+(2*Ze+0)*T)),ut=vn,Mt=Cn}1&it||(ht=3*ut+Mt+131074>>2,v(B[Y+it-1],255&ht,ht>>16,He,Ce+(it-1)*T),J!=null&&(ht=3*Mt+ut+131074>>2,v(J[te+it-1],255&ht,ht>>16,Te,Xe+(it-1)*T)))}}function Je(){ba[Nf]=Ty,ba[Cf]=rg,ba[$2]=Iy,ba[Ef]=ag,ba[_f]=sg,ba[Th]=og,ba[eg]=Oy,ba[Ih]=rg,ba[Oh]=ag,ba[Tf]=sg,ba[Lh]=og}function mt(g){return g&-16384?0>g?0:255:g>>Ly}function It(g,v){return mt((19077*g>>8)+(26149*v>>8)-14234)}function Ut(g,v,T){return mt((19077*g>>8)-(6419*v>>8)-(13320*T>>8)+8708)}function zt(g,v){return mt((19077*g>>8)+(33050*v>>8)-17685)}function tn(g,v,T,B,Y){B[Y+0]=It(g,T),B[Y+1]=Ut(g,v,T),B[Y+2]=zt(g,v)}function Zn(g,v,T,B,Y){B[Y+0]=zt(g,v),B[Y+1]=Ut(g,v,T),B[Y+2]=It(g,T)}function Nn(g,v,T,B,Y){var J=Ut(g,v,T);v=J<<3&224|zt(g,v)>>3,B[Y+0]=248&It(g,T)|J>>5,B[Y+1]=v}function ti(g,v,T,B,Y){var J=240&zt(g,v)|15;B[Y+0]=240&It(g,T)|Ut(g,v,T)>>4,B[Y+1]=J}function Zi(g,v,T,B,Y){B[Y+0]=255,tn(g,v,T,B,Y+1)}function ni(g,v,T,B,Y){Zn(g,v,T,B,Y),B[Y+3]=255}function Zr(g,v,T,B,Y){tn(g,v,T,B,Y),B[Y+3]=255}function pi(g,v){return 0>g?0:g>v?v:g}function Tr(g,v,T){L[g]=function(B,Y,J,te,re,se,pe,Ne,je){for(var Be=Ne+(-2&je)*T;Ne!=Be;)v(B[Y+0],J[te+0],re[se+0],pe,Ne),v(B[Y+1],J[te+0],re[se+0],pe,Ne+T),Y+=2,++te,++se,Ne+=2*T;1&je&&v(B[Y+0],J[te+0],re[se+0],pe,Ne)}}function sr(g,v,T){return T==0?g==0?v==0?6:5:v==0?4:0:T}function $s(g,v,T,B,Y){switch(g>>>30){case 3:Ae(v,T,B,Y,0);break;case 2:Ie(v,T,B,Y);break;case 1:tt(v,T,B,Y)}}function xr(g,v){var T,B,Y=v.M,J=v.Nb,te=g.oc,re=g.pc+40,se=g.oc,pe=g.pc+584,Ne=g.oc,je=g.pc+600;for(T=0;16>T;++T)te[re+32*T-1]=129;for(T=0;8>T;++T)se[pe+32*T-1]=129,Ne[je+32*T-1]=129;for(0<Y?te[re-1-32]=se[pe-1-32]=Ne[je-1-32]=129:(s(te,re-32-1,127,21),s(se,pe-32-1,127,9),s(Ne,je-32-1,127,9)),B=0;B<g.za;++B){var Be=v.ya[v.aa+B];if(0<B){for(T=-1;16>T;++T)r(te,re+32*T-4,te,re+32*T+12,4);for(T=-1;8>T;++T)r(se,pe+32*T-4,se,pe+32*T+4,4),r(Ne,je+32*T-4,Ne,je+32*T+4,4)}var Le=g.Gd,Ke=g.Hd+B,He=Be.ad,Ce=Be.Hc;if(0<Y&&(r(te,re-32,Le[Ke].y,0,16),r(se,pe-32,Le[Ke].f,0,8),r(Ne,je-32,Le[Ke].ea,0,8)),Be.Za){var Te=te,Xe=re-32+16;for(0<Y&&(B>=g.za-1?s(Te,Xe,Le[Ke].y[15],4):r(Te,Xe,Le[Ke+1].y,0,4)),T=0;4>T;T++)Te[Xe+128+T]=Te[Xe+256+T]=Te[Xe+384+T]=Te[Xe+0+T];for(T=0;16>T;++T,Ce<<=2)Te=te,Xe=re+cg[T],ka[Be.Ob[T]](Te,Xe),$s(Ce,He,16*+T,Te,Xe)}else if(Te=sr(B,Y,Be.Ob[0]),no[Te](te,re),Ce!=0)for(T=0;16>T;++T,Ce<<=2)$s(Ce,He,16*+T,te,re+cg[T]);for(T=Be.Gc,Te=sr(B,Y,Be.Dd),Ss[Te](se,pe),Ss[Te](Ne,je),Ce=He,Te=se,Xe=pe,255&(Be=T>>0)&&(170&Be?Ue(Ce,256,Te,Xe):rt(Ce,256,Te,Xe)),Be=Ne,Ce=je,255&(T>>=8)&&(170&T?Ue(He,320,Be,Ce):rt(He,320,Be,Ce)),Y<g.Ub-1&&(r(Le[Ke].y,0,te,re+480,16),r(Le[Ke].f,0,se,pe+224,8),r(Le[Ke].ea,0,Ne,je+224,8)),T=8*J*g.B,Le=g.sa,Ke=g.ta+16*B+16*J*g.R,He=g.qa,Be=g.ra+8*B+T,Ce=g.Ha,Te=g.Ia+8*B+T,T=0;16>T;++T)r(Le,Ke+T*g.R,te,re+32*T,16);for(T=0;8>T;++T)r(He,Be+T*g.B,se,pe+32*T,8),r(Ce,Te+T*g.B,Ne,je+32*T,8)}}function eo(g,v,T,B,Y,J,te,re,se){var pe=[0],Ne=[0],je=0,Be=se!=null?se.kd:0,Le=se??new sl;if(g==null||12>T)return 7;Le.data=g,Le.w=v,Le.ha=T,v=[v],T=[T],Le.gb=[Le.gb];e:{var Ke=v,He=T,Ce=Le.gb;if(t(g!=null),t(He!=null),t(Ce!=null),Ce[0]=0,12<=He[0]&&!n(g,Ke[0],"RIFF")){if(n(g,Ke[0]+8,"WEBP")){Ce=3;break e}var Te=qe(g,Ke[0]+4);if(12>Te||4294967286<Te){Ce=3;break e}if(Be&&Te>He[0]-8){Ce=7;break e}Ce[0]=Te,Ke[0]+=12,He[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Te=0<Le.gb[0],T=T[0];;){e:{var Xe=g;He=v,Ce=T;var it=pe,Ze=Ne,vt=Ke=[0];if((ht=je=[je])[0]=0,8>Ce[0])Ce=7;else{if(!n(Xe,He[0],"VP8X")){if(qe(Xe,He[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ut=qe(Xe,He[0]+8),Mt=1+et(Xe,He[0]+12);if(2147483648<=Mt*(Xe=1+et(Xe,He[0]+15))){Ce=3;break e}vt!=null&&(vt[0]=ut),it!=null&&(it[0]=Mt),Ze!=null&&(Ze[0]=Xe),He[0]+=18,Ce[0]-=18,ht[0]=1}Ce=0}}if(je=je[0],Ke=Ke[0],Ce!=0)return Ce;if(He=!!(2&Ke),!Te&&je)return 3;if(J!=null&&(J[0]=!!(16&Ke)),te!=null&&(te[0]=He),re!=null&&(re[0]=0),te=pe[0],Ke=Ne[0],je&&He&&se==null){Ce=0;break}if(4>T){Ce=7;break}if(Te&&je||!Te&&!je&&!n(g,v[0],"ALPH")){T=[T],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{ut=g,Ce=v,Te=T;var ht=Le.gb;it=Le.na,Ze=Le.P,vt=Le.Sa,Mt=22,t(ut!=null),t(Te!=null),Xe=Ce[0];var vn=Te[0];for(t(it!=null),t(vt!=null),it[0]=null,Ze[0]=null,vt[0]=0;;){if(Ce[0]=Xe,Te[0]=vn,8>vn){Ce=7;break e}var Cn=qe(ut,Xe+4);if(4294967286<Cn){Ce=3;break e}var mn=8+Cn+1&-2;if(Mt+=mn,0<ht&&Mt>ht){Ce=3;break e}if(!n(ut,Xe,"VP8 ")||!n(ut,Xe,"VP8L")){Ce=0;break e}if(vn[0]<mn){Ce=7;break e}n(ut,Xe,"ALPH")||(it[0]=ut,Ze[0]=Xe+8,vt[0]=Cn),Xe+=mn,vn-=mn}}if(T=T[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ce!=0)break}T=[T],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(ht=g,Ce=v,Te=T,it=Le.gb[0],Ze=Le.Ja,vt=Le.xa,ut=Ce[0],Xe=!n(ht,ut,"VP8 "),Mt=!n(ht,ut,"VP8L"),t(ht!=null),t(Te!=null),t(Ze!=null),t(vt!=null),8>Te[0])Ce=7;else{if(Xe||Mt){if(ht=qe(ht,ut+4),12<=it&&ht>it-12){Ce=3;break e}if(Be&&ht>Te[0]-8){Ce=7;break e}Ze[0]=ht,Ce[0]+=8,Te[0]-=8,vt[0]=Mt}else vt[0]=5<=Te[0]&&ht[ut+0]==47&&!(ht[ut+4]>>5),Ze[0]=Te[0];Ce=0}if(T=T[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],v=v[0],Ce!=0)break;if(4294967286<Le.Ja)return 3;if(re==null||He||(re[0]=Le.xa?2:1),te=[te],Ke=[Ke],Le.xa){if(5>T){Ce=7;break}re=te,Be=Ke,He=J,g==null||5>T?g=0:5<=T&&g[v+0]==47&&!(g[v+4]>>5)?(Te=[0],ht=[0],it=[0],ue(Ze=new U,g,v,T),Ct(Ze,Te,ht,it)?(re!=null&&(re[0]=Te[0]),Be!=null&&(Be[0]=ht[0]),He!=null&&(He[0]=it[0]),g=1):g=0):g=0}else{if(10>T){Ce=7;break}re=Ke,g==null||10>T||!Ws(g,v+3,T-3)?g=0:(Be=g[v+0]|g[v+1]<<8|g[v+2]<<16,He=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Le.Ja||!He||!g?g=0:(te&&(te[0]=He),re&&(re[0]=g),g=1))}if(!g||(te=te[0],Ke=Ke[0],je&&(pe[0]!=te||Ne[0]!=Ke)))return 3;se!=null&&(se[0]=Le,se.offset=v-se.w,t(4294967286>v-se.w),t(se.offset==se.ha-T));break}return Ce==0||Ce==7&&je&&se==null?(J!=null&&(J[0]|=Le.na!=null&&0<Le.na.length),B!=null&&(B[0]=te),Y!=null&&(Y[0]=Ke),0):Ce}function bs(g,v,T){var B=v.width,Y=v.height,J=0,te=0,re=B,se=Y;if(v.Da=g!=null&&0<g.Da,v.Da&&(re=g.cd,se=g.bd,J=g.v,te=g.j,11>T||(J&=-2,te&=-2),0>J||0>te||0>=re||0>=se||J+re>B||te+se>Y))return 0;if(v.v=J,v.j=te,v.va=J+re,v.o=te+se,v.U=re,v.T=se,v.da=g!=null&&0<g.da,v.da){if(!ft(re,se,T=[g.ib],J=[g.hb]))return 0;v.ib=T[0],v.hb=J[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*B/4&&v.hb<3*Y/4,v.Kb=0),1}function ll(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function ws(g,v,T,B){if(B==null||0>=g||0>=v)return 2;if(T!=null){if(T.Da){var Y=T.cd,J=T.bd,te=-2&T.v,re=-2&T.j;if(0>te||0>re||0>=Y||0>=J||te+Y>g||re+J>v)return 2;g=Y,v=J}if(T.da){if(!ft(g,v,Y=[T.ib],J=[T.hb]))return 2;g=Y[0],v=J[0]}}B.width=g,B.height=v;e:{var se=B.width,pe=B.height;if(g=B.S,0>=se||0>=pe||!(g>=Nf&&13>g))g=2;else{if(0>=B.Rd&&B.sd==null){te=J=Y=v=0;var Ne=(re=se*ug[g])*pe;if(11>g||(J=(pe+1)/2*(v=(se+1)/2),g==12&&(te=(Y=se)*pe)),(pe=o(Ne+2*J+te))==null){g=1;break e}B.sd=pe,11>g?((se=B.f.RGBA).eb=pe,se.fb=0,se.A=re,se.size=Ne):((se=B.f.kb).y=pe,se.O=0,se.fa=re,se.Fd=Ne,se.f=pe,se.N=0+Ne,se.Ab=v,se.Cd=J,se.ea=pe,se.W=0+Ne+J,se.Db=v,se.Ed=J,g==12&&(se.F=pe,se.J=0+Ne+2*J),se.Tc=te,se.lb=Y)}if(v=1,Y=B.S,J=B.width,te=B.height,Y>=Nf&&13>Y)if(11>Y)g=B.f.RGBA,v&=(re=Math.abs(g.A))*(te-1)+J<=g.size,v&=re>=J*ug[Y],v&=g.eb!=null;else{g=B.f.kb,re=(J+1)/2,Ne=(te+1)/2,se=Math.abs(g.fa),pe=Math.abs(g.Ab);var je=Math.abs(g.Db),Be=Math.abs(g.lb),Le=Be*(te-1)+J;v&=se*(te-1)+J<=g.Fd,v&=pe*(Ne-1)+re<=g.Cd,v=(v&=je*(Ne-1)+re<=g.Ed)&se>=J&pe>=re&je>=re,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,Y==12&&(v&=Be>=J,v&=Le<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||T!=null&&T.fd&&(g=ll(B)),g}var Dn=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ts=24,xa=32,Jt=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(g){return g},L.Predictor2=function(g,v,T){return v[T+0]},L.Predictor3=function(g,v,T){return v[T+1]},L.Predictor4=function(g,v,T){return v[T-1]},L.Predictor5=function(g,v,T){return ze(ze(g,v[T+1]),v[T+0])},L.Predictor6=function(g,v,T){return ze(g,v[T-1])},L.Predictor7=function(g,v,T){return ze(g,v[T+0])},L.Predictor8=function(g,v,T){return ze(v[T-1],v[T+0])},L.Predictor9=function(g,v,T){return ze(v[T+0],v[T+1])},L.Predictor10=function(g,v,T){return ze(ze(g,v[T-1]),ze(v[T+0],v[T+1]))},L.Predictor11=function(g,v,T){var B=v[T+0];return 0>=At(B>>24&255,g>>24&255,(v=v[T-1])>>24&255)+At(B>>16&255,g>>16&255,v>>16&255)+At(B>>8&255,g>>8&255,v>>8&255)+At(255&B,255&g,255&v)?B:g},L.Predictor12=function(g,v,T){var B=v[T+0];return(ct((g>>24&255)+(B>>24&255)-((v=v[T-1])>>24&255))<<24|ct((g>>16&255)+(B>>16&255)-(v>>16&255))<<16|ct((g>>8&255)+(B>>8&255)-(v>>8&255))<<8|ct((255&g)+(255&B)-(255&v)))>>>0},L.Predictor13=function(g,v,T){var B=v[T-1];return(ot((g=ze(g,v[T+0]))>>24&255,B>>24&255)<<24|ot(g>>16&255,B>>16&255)<<16|ot(g>>8&255,B>>8&255)<<8|ot(g>>0&255,B>>0&255))>>>0};var V=L.PredictorAdd0;L.PredictorAdd1=yt,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var i=L.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var a,l=L.ColorIndexInverseTransform,c=L.MapARGB,u=L.VP8LColorIndexInverseTransformAlpha,h=L.MapAlpha,y=L.VP8LPredictorsAdd=[];y.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var b,C,P,G,ee,ge,ve,Ae,Ie,Ue,tt,rt,nt,Qt,Bt,mi,Fi,ui,cn,ii,Ci,Ir,ya,Br,kr,Hn,qn,Ei,Ui=o(511),As=o(2041),Qc=o(225),Gl=o(767),Af=0,_h=As,Sf=Qc,Qr=Gl,va=Ui,Nf=0,Cf=1,$2=2,Ef=3,_f=4,Th=5,eg=6,Ih=7,Oh=8,Tf=9,Lh=10,gy=[2,3,7],py=[3,3,11],tg=[280,256,256,256,40],my=[0,1,1,1,0],xy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],by=8,Dh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kc=null,wy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ay=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ng=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ny=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ey=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],no=[],ka=[],Ss=[],_y=1,ig=2,io=[],ba=[];Ve("UpsampleRgbLinePair",tn,3),Ve("UpsampleBgrLinePair",Zn,3),Ve("UpsampleRgbaLinePair",Zr,4),Ve("UpsampleBgraLinePair",ni,4),Ve("UpsampleArgbLinePair",Zi,4),Ve("UpsampleRgba4444LinePair",ti,2),Ve("UpsampleRgb565LinePair",Nn,2);var Ty=L.UpsampleRgbLinePair,Iy=L.UpsampleBgrLinePair,rg=L.UpsampleRgbaLinePair,ag=L.UpsampleBgraLinePair,sg=L.UpsampleArgbLinePair,og=L.UpsampleRgba4444LinePair,Oy=L.UpsampleRgb565LinePair,If=16,Of=1<<If-1,Jc=-227,Rh=482,Ly=6,lg=0,Dy=o(256),My=o(256),Ry=o(256),jy=o(256),By=o(Rh-Jc),ky=o(Rh-Jc);Tr("YuvToRgbRow",tn,3),Tr("YuvToBgrRow",Zn,3),Tr("YuvToRgbaRow",Zr,4),Tr("YuvToBgraRow",ni,4),Tr("YuvToArgbRow",Zi,4),Tr("YuvToRgba4444Row",ti,2),Tr("YuvToRgb565Row",Nn,2);var cg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lf=[0,2,8],Py=[8,7,6,4,4,2,2,2,1,1,1,1],Fy=1;this.WebPDecodeRGBA=function(g,v,T,B,Y){var J=Cf,te=new Ks,re=new Vt;te.ba=re,re.S=J,re.width=[re.width],re.height=[re.height];var se=re.width,pe=re.height,Ne=new nr;if(Ne==null||g==null)var je=2;else t(Ne!=null),je=eo(g,v,T,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(je!=0?se=0:(se!=null&&(se[0]=Ne.width[0]),pe!=null&&(pe[0]=Ne.height[0]),se=1),se){re.width=re.width[0],re.height=re.height[0],B!=null&&(B[0]=re.width),Y!=null&&(Y[0]=re.height);e:{if(B=new Xt,(Y=new sl).data=g,Y.w=v,Y.ha=T,Y.kd=1,v=[0],t(Y!=null),((g=eo(Y.data,Y.w,Y.ha,null,null,null,v,null,Y))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(t(te!=null),B.data=Y.data,B.w=Y.w+Y.offset,B.ha=Y.ha-Y.offset,B.put=ir,B.ac=un,B.bc=Cr,B.ma=te,Y.xa){if((g=rr())==null){te=1;break e}if(function(Be,Le){var Ke=[0],He=[0],Ce=[0];t:for(;;){if(Be==null)return 0;if(Le==null)return Be.a=2,0;if(Be.l=Le,Be.a=0,ue(Be.m,Le.data,Le.w,Le.ha),!Ct(Be.m,Ke,He,Ce)){Be.a=3;break t}if(Be.xb=ig,Le.width=Ke[0],Le.height=He[0],!wi(Ke[0],He[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(g,B)){if(B=(v=ws(B.width,B.height,te.Oa,te.ba))==0){t:{B=g;n:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((T=B.l)!=null),t((Y=T.ma)!=null),B.xb!=0){if(B.ca=Y.ba,B.tb=Y.tb,t(B.ca!=null),!bs(Y.Oa,T,Ef)){B.a=2;break n}if(!ms(B,T.width)||T.da)break n;if((T.da||an(B.ca.S))&&De(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&De()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!st(B.s.vb,B.s.Wa.Xa)){B.a=1;break n}B.xb=0}if(!Xi(B,B.V,B.Ba,B.c,B.i,T.o,xt))break n;Y.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(v=g.a)}else v=g.a}else{if((g=new Xo)==null){te=1;break e}if(g.Fa=Y.na,g.P=Y.P,g.qc=Y.Sa,$n(g,B)){if((v=ws(B.width,B.height,te.Oa,te.ba))==0){if(g.Aa=0,T=te.Oa,t((Y=g)!=null),T!=null){if(0<(se=0>(se=T.Md)?0:100<se?255:255*se/100)){for(pe=Ne=0;4>pe;++pe)12>(je=Y.pb[pe]).lc&&(je.ia=se*Py[0>je.lc?0:je.lc]>>3),Ne|=je.ia;Ne&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=T.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}Xn(g,B)||(v=g.a)}}else v=g.a}v==0&&te.Oa!=null&&te.Oa.fd&&(v=ll(te.ba))}te=v}J=te!=0?null:11>J?re.f.RGBA.eb:re.f.kb.y}else J=null;return J};var ug=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function x(L,j){for(var K="",z=0;z<4;z++)K+=String.fromCharCode(L[j++]);return K}function N(L,j){return(L[j+0]<<0|L[j+1]<<8|L[j+2]<<16)>>>0}function S(L,j){return(L[j+0]<<0|L[j+1]<<8|L[j+2]<<16|L[j+3]<<24)>>>0}new m;var E=[0],w=[0],R=[],M=new m,H=e,_=function(L,j){var K={},z=0,D=!1,ne=0,ae=0;if(K.frames=[],!function(Z,ie,fe,ce){for(var _e=0;_e<ce;_e++)if(Z[ie+_e]!=fe.charCodeAt(_e))return!0;return!1}(L,j,"RIFF",4)){var le,$;for(S(L,j+=4),j+=8;j<L.length;){var Q=x(L,j),ue=S(L,j+=4);j+=4;var oe=ue+(1&ue);switch(Q){case"VP8 ":case"VP8L":K.frames[z]===void 0&&(K.frames[z]={}),(U=K.frames[z]).src_off=D?ae:j-8,U.src_size=ne+ue+8,z++,D&&(D=!1,ne=0,ae=0);break;case"VP8X":(U=K.header={}).feature_flags=L[j];var ye=j+4;U.canvas_width=1+N(L,ye),ye+=3,U.canvas_height=1+N(L,ye),ye+=3;break;case"ALPH":D=!0,ne=oe+8,ae=j-8;break;case"ANIM":(U=K.header).bgcolor=S(L,j),ye=j+4,U.loop_count=(le=L)[($=ye)+0]<<0|le[$+1]<<8,ye+=2;break;case"ANMF":var xe,U;(U=K.frames[z]={}).offset_x=2*N(L,j),j+=3,U.offset_y=2*N(L,j),j+=3,U.width=1+N(L,j),j+=3,U.height=1+N(L,j),j+=3,U.duration=N(L,j),j+=3,xe=L[j++],U.dispose=1&xe,U.blend=xe>>1&1}Q!="ANMF"&&(j+=oe)}return K}}(H,0);_.response=H,_.rgbaoutput=!0,_.dataurl=!1;var I=_.header?_.header:null,O=_.frames?_.frames:null;if(I){I.loop_counter=I.loop_count,E=[I.canvas_height],w=[I.canvas_width];for(var k=0;k<O.length&&O[k].blend!=0;k++);}var q=O[0],X=M.WebPDecodeRGBA(H,q.src_off,q.src_size,w,E);q.rgba=X,q.imgwidth=w[0],q.imgheight=E[0];for(var F=0;F<w[0]*E[0]*4;F++)R[F]=X[F];return this.width=w,this.height=E,this.data=R,this}(function(e){var t=function(){return typeof kd=="function"},n=function(E,w,R,M){var H=4,_=f;switch(M){case e.image_compression.FAST:H=1,_=o;break;case e.image_compression.MEDIUM:H=6,_=d;break;case e.image_compression.SLOW:H=9,_=m}E=r(E,w,R,_);var I=kd(E,{level:H});return e.__addimage__.arrayBufferToBinaryString(I)},r=function(E,w,R,M){for(var H,_,I,O=E.length/w,k=new Uint8Array(E.length+O),q=N(),X=0;X<O;X+=1){if(I=X*w,H=E.subarray(I,I+w),M)k.set(M(H,R,_),I+X);else{for(var F,L=q.length,j=[];F<L;F+=1)j[F]=q[F](H,R,_);var K=S(j.concat());k.set(j[K],I+X)}_=H}return k},s=function(E){var w=Array.apply([],E);return w.unshift(0),w},o=function(E,w){var R,M=[],H=E.length;M[0]=1;for(var _=0;_<H;_+=1)R=E[_-w]||0,M[_+1]=E[_]-R+256&255;return M},f=function(E,w,R){var M,H=[],_=E.length;H[0]=2;for(var I=0;I<_;I+=1)M=R&&R[I]||0,H[I+1]=E[I]-M+256&255;return H},d=function(E,w,R){var M,H,_=[],I=E.length;_[0]=3;for(var O=0;O<I;O+=1)M=E[O-w]||0,H=R&&R[O]||0,_[O+1]=E[O]+256-(M+H>>>1)&255;return _},m=function(E,w,R){var M,H,_,I,O=[],k=E.length;O[0]=4;for(var q=0;q<k;q+=1)M=E[q-w]||0,H=R&&R[q]||0,_=R&&R[q-w]||0,I=x(M,H,_),O[q+1]=E[q]-I+256&255;return O},x=function(E,w,R){if(E===w&&w===R)return E;var M=Math.abs(w-R),H=Math.abs(E-R),_=Math.abs(E+w-R-R);return M<=H&&M<=_?E:H<=_?w:R},N=function(){return[s,o,f,d,m]},S=function(E){var w=E.map(function(R){return R.reduce(function(M,H){return M+Math.abs(H)},0)});return w.indexOf(Math.min.apply(null,w))};e.processPNG=function(E,w,R,M){var H,_,I,O,k,q,X,F,L,j,K,z,D,ne,ae,le=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(I=new Qw(E)).imgData,_=I.bits,H=I.colorSpace,k=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){L=(F=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,K=new Uint8Array(L*I.colors),j=new Uint8Array(L);var Q,ue=I.pixelBitlength-I.bits;for(ne=0,ae=0;ne<L;ne++){for(D=F[ne],Q=0;Q<ue;)K[ae++]=D>>>Q&255,Q+=I.bits;j[ne]=D>>>Q&255}}if(I.bits===16){L=(F=new Uint32Array(I.decodePixels().buffer)).length,K=new Uint8Array(L*(32/I.pixelBitlength)*I.colors),j=new Uint8Array(L*(32/I.pixelBitlength)),z=I.colors>1,ne=0,ae=0;for(var oe=0;ne<L;)D=F[ne++],K[ae++]=D>>>0&255,z&&(K[ae++]=D>>>16&255,D=F[ne++],K[ae++]=D>>>0&255),j[oe++]=D>>>16&255;_=8}M!==e.image_compression.NONE&&t()?(E=n(K,I.width*I.colors,I.colors,M),X=n(j,I.width,1,M)):(E=K,X=j,le=void 0)}if(I.colorType===3&&(H=this.color_spaces.INDEXED,q=I.palette,I.transparency.indexed)){var ye=I.transparency.indexed,xe=0;for(ne=0,L=ye.length;ne<L;++ne)xe+=ye[ne];if((xe/=255)===L-1&&ye.indexOf(0)!==-1)O=[ye.indexOf(0)];else if(xe!==L){for(F=I.decodePixels(),j=new Uint8Array(F.length),ne=0,L=F.length;ne<L;ne++)j[ne]=ye[F[ne]];X=n(j,I.width,1)}}var U=function(Z){var ie;switch(Z){case e.image_compression.FAST:ie=11;break;case e.image_compression.MEDIUM:ie=13;break;case e.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(M);return le===this.decode.FLATE_DECODE&&($="/Predictor "+U+" "),$+="/Colors "+k+" /BitsPerComponent "+_+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:R,data:E,index:w,filter:le,decodeParameters:$,transparency:O,palette:q,sMask:X,predictor:U,width:I.width,height:I.height,bitsPerComponent:_,colorSpace:H}}}})(Rt.API),function(e){e.processGIF89A=function(t,n,r,s){var o=new Kw(t),f=o.width,d=o.height,m=[];o.decodeAndBlitFrameRGBA(0,m);var x={data:m,width:f,height:d},N=new M1(100).encode(x,100);return e.processJPEG.call(this,N,n,r,s)},e.processGIF87A=e.processGIF89A}(Rt.API),Ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ua.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){kn.log("bit decode error:"+n)}},Ua.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var m=this.palette[o>>7-d&1];this.data[f+4*d]=m.blue,this.data[f+4*d+1]=m.green,this.data[f+4*d+2]=m.red,this.data[f+4*d+3]=255}n!==0&&(this.pos+=4-n)}},Ua.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+2*s*4,d=o>>4,m=15&o,x=this.palette[d];if(this.data[f]=x.blue,this.data[f+1]=x.green,this.data[f+2]=x.red,this.data[f+3]=255,2*s+1>=this.width)break;x=this.palette[m],this.data[f+4]=x.blue,this.data[f+4+1]=x.green,this.data[f+4+2]=x.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},Ua.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(s<this.palette.length){var f=this.palette[s];this.data[o]=f.red,this.data[o+1]=f.green,this.data[o+2]=f.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Ua.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(o&t)/t*255|0,d=(o>>5&t)/t*255|0,m=(o>>10&t)/t*255|0,x=o>>15?255:0,N=r*this.width*4+4*s;this.data[N]=m,this.data[N+1]=d,this.data[N+2]=f,this.data[N+3]=x}this.pos+=e}},Ua.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(f&t)/t*255|0,m=(f>>5&n)/n*255|0,x=(f>>11)/t*255|0,N=s*this.width*4+4*o;this.data[N]=x,this.data[N+1]=m,this.data[N+2]=d,this.data[N+3]=255}this.pos+=e}},Ua.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*n;this.data[f]=o,this.data[f+1]=s,this.data[f+2]=r,this.data[f+3]=255}this.pos+=this.width%4}},Ua.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=r,this.data[d+3]=f}},Ua.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var o=new Ua(t,!1),f=o.width,d=o.height,m={data:o.getData(),width:f,height:d},x=new M1(100).encode(m,100);return e.processJPEG.call(this,x,n,r,s)}}(Rt.API),vm.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var o=new vm(t),f=o.width,d=o.height,m={data:o.getData(),width:f,height:d},x=new M1(100).encode(m,100);return e.processJPEG.call(this,x,n,r,s)}}(Rt.API),Rt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,o=new Uint8Array(s/4*3),f=new Uint8Array(s/4),d=0,m=0,x=0;x<s;x+=4){var N=r[x],S=r[x+1],E=r[x+2],w=r[x+3];o[d++]=N,o[d++]=S,o[d++]=E,f[m++]=w}var R=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:R,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jl=Rt.API,s0=Jl.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:s.metadata.Unicode.widths,m=d.fof?d.fof:1,x=t.kerning?t.kerning:s.metadata.Unicode.kerning,N=x.fof?x.fof:1,S=t.doKerning!==!1,E=0,w=e.length,R=0,M=d[0]||m,H=[];for(n=0;n<w;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?H.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+f*(1e3/o)||0)/1e3):(E=S&&On(x[r])==="object"&&!isNaN(parseInt(x[r][R],10))?x[r][R]/N:0,H.push((d[r]||M)/m+E)),R=r;return H},pm=Jl.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Jl.processArabic&&(e=Jl.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:s0.apply(this,arguments).reduce(function(o,f){return o+f},0)},mm=function(e,t,n,r){for(var s=[],o=0,f=e.length,d=0;o!==f&&d+t[o]<n;)d+=t[o],o++;s.push(e.slice(0,o));var m=o;for(d=0;o!==f;)d+t[o]>r&&(s.push(e.slice(m,o)),d=0,m=o),d+=t[o],o++;return m!==o&&s.push(e.slice(m,o)),s},xm=function(e,t,n){n||(n={});var r,s,o,f,d,m,x,N=[],S=[N],E=n.textIndent||0,w=0,R=0,M=e.split(" "),H=s0.apply(this,[" ",n])[0];if(m=n.lineIndent===-1?M[0].length+2:n.lineIndent||0){var _=Array(m).join(" "),I=[];M.map(function(k){(k=k.split(/\s*\n/)).length>1?I=I.concat(k.map(function(q,X){return(X&&q.length?`
`:"")+q})):I.push(k[0])}),M=I,m=pm.apply(this,[_,n])}for(o=0,f=M.length;o<f;o++){var O=0;if(r=M[o],m&&r[0]==`
`&&(r=r.substr(1),O=1),E+w+(R=(s=s0.apply(this,[r,n])).reduce(function(k,q){return k+q},0))>t||O){if(R>t){for(d=mm.apply(this,[r,s,t-(E+w),t]),N.push(d.shift()),N=[d.pop()];d.length;)S.push([d.shift()]);R=s.slice(r.length-(N[0]?N[0].length:0)).reduce(function(k,q){return k+q},0)}else N=[r];S.push(N),E=R+m,w=H}else N.push(r),E+=w+R,w=H}return x=m?function(k,q){return(q?_:"")+k.join(" ")}:function(k){return k.join(" ")},S.map(x)},Jl.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(N){if(N.widths&&N.kerning)return{widths:N.widths,kerning:N.kerning};var S=this.internal.getFont(N.fontName,N.fontStyle);return S.metadata.Unicode?{widths:S.metadata.Unicode.widths||{0:1},kerning:S.metadata.Unicode.kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var d,m,x=[];for(d=0,m=r.length;d<m;d++)x=x.concat(xm.apply(this,[r[d],f,o]));return x},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var o=function(S){return"0x"+parseInt(S,10).toString(16)},f=e.__fontmetrics__.compress=function(S){var E,w,R,M,H=["{"];for(var _ in S){if(E=S[_],isNaN(parseInt(_,10))?w="'"+_+"'":(_=parseInt(_,10),w=(w=o(_).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof E=="number")E<0?(R=o(E).slice(3),M="-"):(R=o(E).slice(2),M=""),R=M+R.slice(0,-1)+r[R.slice(-1)];else{if(On(E)!=="object")throw new Error("Don't know what to do with value type "+On(E)+".");R=f(E)}H.push(w+R)}return H.push("}"),H.join("")},d=e.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,w,R,M,H={},_=1,I=H,O=[],k="",q="",X=S.length-1,F=1;F<X;F+=1)(M=S[F])=="'"?E?(R=E.join(""),E=void 0):E=[]:E?E.push(M):M=="{"?(O.push([I,R]),I={},R=void 0):M=="}"?((w=O.pop())[0][w[1]]=I,R=void 0,I=w[0]):M=="-"?_=-1:R===void 0?n.hasOwnProperty(M)?(k+=n[M],R=parseInt(k,16)*_,_=1,k=""):k+=M:n.hasOwnProperty(M)?(q+=n[M],I[R]=parseInt(q,16)*_,_=1,R=void 0,q=""):q+=M;return H},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},N={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(S){var E=S.font,w=N.Unicode[E.postScriptName];w&&(E.metadata.Unicode={},E.metadata.Unicode.widths=w.widths,E.metadata.Unicode.kerning=w.kerning);var R=x.Unicode[E.postScriptName];R&&(E.metadata.Unicode.encoding=R,E.encoding=R.codePages[0])}])}(Rt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=n.charCodeAt(o);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(f,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(ju(d)),f.metadata=e.API.TTFFont.open(d),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(s,r)}}])}(Rt),function(e){function t(){return(jt.canvg?Promise.resolve(jt.canvg):Dd(()=>import("./index.es-QUvHGTkF.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Rt.API.addSvgAsImage=function(n,r,s,o,f,d,m,x){if(isNaN(r)||isNaN(s))throw kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(f))throw kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var N=document.createElement("canvas");N.width=o,N.height=f;var S=N.getContext("2d");S.fillStyle="#fff",S.fillRect(0,0,N.width,N.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then(function(R){return R.fromString(S,n,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(E)}).then(function(){w.addImage(N.toDataURL("image/jpeg",1),r,s,o,f,m,x)})}}(),Rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,o,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(f),m=[],x=0,N=0,S=0;function E(R,M){var H,_=!1;for(H=0;H<R.length;H+=1)R[H]===M&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var w=d.length;for(S=0;S<w;S+=1)n[d[S]].value=n[d[S]].defaultValue,n[d[S]].explicitSet=!1}if(On(e)==="object"){for(s in e)if(o=e[s],E(d,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&E(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(x=0;x<o.length;x+=1)if(r=!0,o[x].length===1&&typeof o[x][0]=="number")m.push(String(o[x]-1));else if(o[x].length>1){for(N=0;N<o[x].length;N+=1)typeof o[x][N]!="number"&&(r=!1);r===!0&&m.push([o[x][0]-1,o[x][1]-1].join(" "))}n[s].value="["+m.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,M=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?M.push("/"+R+" /"+n[R].value):M.push("/"+R+" "+n[R].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),x=o.length+f.length+d.length+s.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+x+" >>"),this.internal.write("stream"),this.internal.write(s+o+f+d+m),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,f){for(var d,m=f.metadata.Unicode.widths,x=["","0","00","000","0000"],N=[""],S=0,E=o.length;S<E;++S){if(d=f.metadata.characterToGlyph(o.charCodeAt(S)),f.metadata.glyIdsUsed.push(d),f.metadata.toUnicode[d]=o.charCodeAt(S),m.indexOf(d)==-1&&(m.push(d),m.push([parseInt(f.metadata.widthOfGlyph(d),10)])),d=="0")return N.join("");d=d.toString(16),N.push(x[4-d.length],d)}return N.join("")},r=function(o){var f,d,m,x,N,S,E;for(N=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],S=0,E=(d=Object.keys(o).sort(function(w,R){return w-R})).length;S<E;S++)f=d[S],m.length>=100&&(N+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),o[f]!==void 0&&o[f]!==null&&typeof o[f].toString=="function"&&(x=("0000"+o[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),m.push("<"+f+"><"+x+">"));return m.length&&(N+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),N+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(f){var d=f.font,m=f.out,x=f.newObject,N=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="Identity-H"){for(var S=d.metadata.Unicode.widths,E=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",R=0;R<E.length;R++)w+=String.fromCharCode(E[R]);var M=x();N({data:w,addLength1:!0,objectId:M}),m("endobj");var H=x();N({data:r(d.metadata.toUnicode),addLength1:!0,objectId:H}),m("endobj");var _=x();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+ac(d.fontName)),m("/FontFile2 "+M+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),m("/Flags "+d.metadata.flags),m("/StemV "+d.metadata.stemV),m("/ItalicAngle "+d.metadata.italicAngle),m("/Ascent "+d.metadata.ascender),m("/Descent "+d.metadata.decender),m("/CapHeight "+d.metadata.capHeight),m(">>"),m("endobj");var I=x();m("<<"),m("/Type /Font"),m("/BaseFont /"+ac(d.fontName)),m("/FontDescriptor "+_+" 0 R"),m("/W "+e.API.PDFObject.convert(S)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+d.encoding+")"),m(">>"),m(">>"),m("endobj"),d.objectNumber=x(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+H+" 0 R"),m("/BaseFont /"+ac(d.fontName)),m("/Encoding /"+d.encoding),m("/DescendantFonts ["+I+" 0 R]"),m(">>"),m("endobj"),d.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(f){var d=f.font,m=f.out,x=f.newObject,N=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var S=d.metadata.rawData,E="",w=0;w<S.length;w++)E+=String.fromCharCode(S[w]);var R=x();N({data:E,addLength1:!0,objectId:R}),m("endobj");var M=x();N({data:r(d.metadata.toUnicode),addLength1:!0,objectId:M}),m("endobj");var H=x();m("<<"),m("/Descent "+d.metadata.decender),m("/CapHeight "+d.metadata.capHeight),m("/StemV "+d.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+R+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),m("/FontName /"+ac(d.fontName)),m("/ItalicAngle "+d.metadata.italicAngle),m("/Ascent "+d.metadata.ascender),m(">>"),m("endobj"),d.objectNumber=x();for(var _=0;_<d.metadata.hmtx.widths.length;_++)d.metadata.hmtx.widths[_]=parseInt(d.metadata.hmtx.widths[_]*(1e3/d.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+ac(d.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),m("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var f,d=o.text||"",m=o.x,x=o.y,N=o.options||{},S=o.mutex||{},E=S.pdfEscape,w=S.activeFontKey,R=S.fonts,M=w,H="",_=0,I="",O=R[M].encoding;if(R[M].encoding!=="Identity-H")return{text:d,x:m,y:x,options:N,mutex:S};for(I=d,M=w,Array.isArray(d)&&(I=d[0]),_=0;_<I.length;_+=1)R[M].metadata.hasOwnProperty("cmap")&&(f=R[M].metadata.cmap.unicode.codeMap[I[_].charCodeAt(0)]),f||I[_].charCodeAt(0)<256&&R[M].metadata.hasOwnProperty("Unicode")?H+=I[_]:H+="";var k="";return parseInt(M.slice(1))<14||O==="WinAnsiEncoding"?k=E(H,M).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(k=n(H,R[M])),S.isHex=!0,{text:k,x:m,y:x,options:N,mutex:S}};t.events.push(["postProcessText",function(o){var f=o.text||"",d=[],m={text:f,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(f)){var x=0;for(x=0;x<f.length;x+=1)Array.isArray(f[x])&&f[x].length===3?d.push([s(Object.assign({},m,{text:f[x][0]})).text,f[x][1],f[x][2]]):d.push(s(Object.assign({},m,{text:f[x]})).text);o.text=d}else o.text=s(Object.assign({},m,{text:f})).text}])}(Rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,o,f,d,m,x,N,S=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,O=0;this.__bidiEngine__={};var k=function(z){var D=z.charCodeAt(),ne=D>>8,ae=M[ne];return ae!==void 0?S[256*ae+(255&D)]:ne===252||ne===253?"AL":_.test(ne)?"L":ne===8?"R":"N"},q=function(z){for(var D,ne=0;ne<z.length;ne++){if((D=k(z.charAt(ne)))==="L")return!1;if(D==="R")return!0}return!1},X=function(z,D,ne,ae){var le,$,Q,ue,oe=D[ae];switch(oe){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(oe="AN");break;case"AL":I=!0,oe="R";break;case"WS":oe="N";break;case"CS":ae<1||ae+1>=D.length||(le=ne[ae-1])!=="EN"&&le!=="AN"||($=D[ae+1])!=="EN"&&$!=="AN"?oe="N":I&&($="AN"),oe=$===le?$:"N";break;case"ES":oe=(le=ae>0?ne[ae-1]:"B")==="EN"&&ae+1<D.length&&D[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&ne[ae-1]==="EN"){oe="EN";break}if(I){oe="N";break}for(Q=ae+1,ue=D.length;Q<ue&&D[Q]==="ET";)Q++;oe=Q<ue&&D[Q]==="EN"?"EN":"N";break;case"NSM":if(f&&!d){for(ue=D.length,Q=ae+1;Q<ue&&D[Q]==="NSM";)Q++;if(Q<ue){var ye=z[ae],xe=ye>=1425&&ye<=2303||ye===64286;if(le=D[Q],xe&&(le==="R"||le==="AL")){oe="R";break}}}oe=ae<1||(le=D[ae-1])==="B"?"N":ne[ae-1];break;case"B":I=!1,s=!0,oe=O;break;case"S":o=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":oe="N"}return oe},F=function(z,D,ne){var ae=z.split("");return ne&&L(ae,ne,{hiLevel:O}),ae.reverse(),D&&D.reverse(),ae.join("")},L=function(z,D,ne){var ae,le,$,Q,ue,oe=-1,ye=z.length,xe=0,U=[],Z=O?w:E,ie=[];for(I=!1,s=!1,o=!1,le=0;le<ye;le++)ie[le]=k(z[le]);for($=0;$<ye;$++){if(ue=xe,U[$]=X(z,ie,U,$),ae=240&(xe=Z[ue][R[U[$]]]),xe&=15,D[$]=Q=Z[xe][5],ae>0)if(ae===16){for(le=oe;le<$;le++)D[le]=1;oe=-1}else oe=-1;if(Z[xe][6])oe===-1&&(oe=$);else if(oe>-1){for(le=oe;le<$;le++)D[le]=Q;oe=-1}ie[$]==="B"&&(D[$]=0),ne.hiLevel|=Q}o&&function(fe,ce,_e){for(var be=0;be<_e;be++)if(fe[be]==="S"){ce[be]=O;for(var Ee=be-1;Ee>=0&&fe[Ee]==="WS";Ee--)ce[Ee]=O}}(ie,D,ye)},j=function(z,D,ne,ae,le){if(!(le.hiLevel<z)){if(z===1&&O===1&&!s)return D.reverse(),void(ne&&ne.reverse());for(var $,Q,ue,oe,ye=D.length,xe=0;xe<ye;){if(ae[xe]>=z){for(ue=xe+1;ue<ye&&ae[ue]>=z;)ue++;for(oe=xe,Q=ue-1;oe<Q;oe++,Q--)$=D[oe],D[oe]=D[Q],D[Q]=$,ne&&($=ne[oe],ne[oe]=ne[Q],ne[Q]=$);xe=ue}xe++}}},K=function(z,D,ne){var ae=z.split(""),le={hiLevel:O};return ne||(ne=[]),L(ae,ne,le),function($,Q,ue){if(ue.hiLevel!==0&&N)for(var oe,ye=0;ye<$.length;ye++)Q[ye]===1&&(oe=H.indexOf($[ye]))>=0&&($[ye]=H[oe+1])}(ae,ne,le),j(2,ae,D,ne,le),j(1,ae,D,ne,le),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(z,D,ne){if(function(le,$){if($)for(var Q=0;Q<le.length;Q++)$[Q]=Q;d===void 0&&(d=q(le)),x===void 0&&(x=q(le))}(z,D),f||!m||x)if(f&&m&&d^x)O=d?1:0,z=F(z,D,ne);else if(!f&&m&&x)O=d?1:0,z=K(z,D,ne),z=F(z,D);else if(!f||d||m||x){if(f&&!m&&d^x)z=F(z,D),d?(O=0,z=K(z,D,ne)):(O=1,z=K(z,D,ne),z=F(z,D));else if(f&&d&&!m&&x)O=1,z=K(z,D,ne),z=F(z,D);else if(!f&&!m&&d^x){var ae=N;d?(O=1,z=K(z,D,ne),O=0,N=!1,z=K(z,D,ne),N=ae):(O=0,z=K(z,D,ne),z=F(z,D),O=1,N=!1,z=K(z,D,ne),N=ae,z=F(z,D))}}else O=0,z=K(z,D,ne);else O=d?1:0,z=K(z,D,ne);return z},this.__bidiEngine__.setOptions=function(z){z&&(f=z.isInputVisual,m=z.isOutputVisual,d=z.isInputRtl,x=z.isOutputRtl,N=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,o=(r.x,r.y,r.options||{}),f=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(f=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?f.push([n.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):f.push([n.doBidiReorder(s[d])]);r.text=f}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Ho(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new h6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Jw(this.contents),this.head=new e6(this),this.name=new a6(this),this.cmap=new ny(this),this.toUnicode={},this.hhea=new t6(this),this.maxp=new s6(this),this.hmtx=new o6(this),this.post=new i6(this),this.os2=new n6(this),this.loca=new f6(this),this.glyf=new l6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,d,m,x;for(x=[],f=0,d=(m=this.bbox).length;f<d;f++)t=m[f],x.push(Math.round(t*this.scaleFactor));return x}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,o,f,d;for(f=0,o=0,d=(t=""+t).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=t.charCodeAt(o),f+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return f*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Za,Ho=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,o,f,d,m;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),f=this.readByte(),d=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^f)+256*(255^d)+(255^m)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*o+65536*f+256*d+m},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),Jw=function(){var e;function t(n){var r,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,o,f,d,m,x,N,S,E,w,R,M;for(M in w=Object.keys(n).length,m=Math.log(2),S=16*Math.floor(Math.log(w)/m),f=Math.floor(S/m),N=16*w-S,(s=new Ho).writeInt(this.scalarType),s.writeShort(w),s.writeShort(S),s.writeShort(f),s.writeShort(N),o=16*w,x=s.pos+o,d=null,R=[],n)for(E=n[M],s.writeString(M),s.writeInt(e(E)),s.writeInt(x),s.writeInt(E.length),R=R.concat(E),M==="head"&&(d=x),x+=E.length;x%4;)R.push(0),x++;return s.write(R),r=2981146554-e(s.data),s.pos=d+8,s.writeUInt32(r),s.data},e=function(n){var r,s,o,f;for(n=iy.call(n);n.length%4;)n.push(0);for(o=new Ho(n),s=0,r=0,f=n.length;r<f;r=r+=4)s+=o.readUInt32();return 4294967295&s},t}(),$w={}.hasOwnProperty,ps=function(e,t){for(var n in t)$w.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Za=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var e6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Ho).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),bm=function(){function e(t,n){var r,s,o,f,d,m,x,N,S,E,w,R,M,H,_,I,O;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(w=t.readUInt16(),E=w/2,t.pos+=6,o=function(){var k,q;for(q=[],m=k=0;0<=E?k<E:k>E;m=0<=E?++k:--k)q.push(t.readUInt16());return q}(),t.pos+=2,M=function(){var k,q;for(q=[],m=k=0;0<=E?k<E:k>E;m=0<=E?++k:--k)q.push(t.readUInt16());return q}(),x=function(){var k,q;for(q=[],m=k=0;0<=E?k<E:k>E;m=0<=E?++k:--k)q.push(t.readUInt16());return q}(),N=function(){var k,q;for(q=[],m=k=0;0<=E?k<E:k>E;m=0<=E?++k:--k)q.push(t.readUInt16());return q}(),s=(this.length-t.pos+this.offset)/2,d=function(){var k,q;for(q=[],m=k=0;0<=s?k<s:k>s;m=0<=s?++k:--k)q.push(t.readUInt16());return q}(),m=_=0,O=o.length;_<O;m=++_)for(H=o[m],r=I=R=M[m];R<=H?I<=H:I>=H;r=R<=H?++I:--I)N[m]===0?f=r+x[m]:(f=d[N[m]/2+(r-R)-(E-m)]||0)!==0&&(f+=x[m]),this.codeMap[r]=65535&f}t.pos=S}return e.encode=function(t,n){var r,s,o,f,d,m,x,N,S,E,w,R,M,H,_,I,O,k,q,X,F,L,j,K,z,D,ne,ae,le,$,Q,ue,oe,ye,xe,U,Z,ie,fe,ce,_e,be,Ee,Ye,ke,et;switch(ae=new Ho,f=Object.keys(t).sort(function(qe,st){return qe-st}),n){case"macroman":for(M=0,H=function(){var qe=[];for(R=0;R<256;++R)qe.push(0);return qe}(),I={0:0},o={},le=0,oe=f.length;le<oe;le++)I[Ee=t[s=f[le]]]==null&&(I[Ee]=++M),o[s]={old:t[s],new:I[t[s]]},H[s]=I[t[s]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(H),{charMap:o,subtable:ae.data,maxGlyphID:M+1};case"unicode":for(D=[],S=[],O=0,I={},r={},_=x=null,$=0,ye=f.length;$<ye;$++)I[q=t[s=f[$]]]==null&&(I[q]=++O),r[s]={old:q,new:I[q]},d=I[q]-s,_!=null&&d===x||(_&&S.push(_),D.push(s),x=d),_=s;for(_&&S.push(_),S.push(65535),D.push(65535),K=2*(j=D.length),L=2*Math.pow(Math.log(j)/Math.LN2,2),E=Math.log(L/2)/Math.LN2,F=2*j-L,m=[],X=[],w=[],R=Q=0,xe=D.length;Q<xe;R=++Q){if(z=D[R],N=S[R],z===65535){m.push(0),X.push(0);break}if(z-(ne=r[z].new)>=32768)for(m.push(0),X.push(2*(w.length+j-R)),s=ue=z;z<=N?ue<=N:ue>=N;s=z<=N?++ue:--ue)w.push(r[s].new);else m.push(ne-z),X.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*j+2*w.length),ae.writeUInt16(0),ae.writeUInt16(K),ae.writeUInt16(L),ae.writeUInt16(E),ae.writeUInt16(F),_e=0,U=S.length;_e<U;_e++)s=S[_e],ae.writeUInt16(s);for(ae.writeUInt16(0),be=0,Z=D.length;be<Z;be++)s=D[be],ae.writeUInt16(s);for(Ye=0,ie=m.length;Ye<ie;Ye++)d=m[Ye],ae.writeUInt16(d);for(ke=0,fe=X.length;ke<fe;ke++)k=X[ke],ae.writeUInt16(k);for(et=0,ce=w.length;et<ce;et++)M=w[et],ae.writeUInt16(M);return{charMap:r,subtable:ae.data,maxGlyphID:O+1}}},e}(),ny=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new bm(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,o;return r==null&&(r="macroman"),s=bm.encode(n,r),(o=new Ho).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},t}(),t6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),n6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),i6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var f;for(s=n.readUInt16(),this.glyphNameIndex=[],f=0;0<=s?f<s:f>s;f=0<=s?++f:--f)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var d,m,x;for(x=[],f=d=0,m=this.file.maxp.numGlyphs;0<=m?d<m:d>m;f=0<=m?++d:--d)x.push(n.readUInt32());return x}).call(this)}},t}(),r6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},a6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,o,f,d,m,x,N,S,E,w;for(n.pos=this.offset,n.readShort(),r=n.readShort(),m=n.readShort(),s=[],f=0;0<=r?f<r:f>r;f=0<=r?++f:--f)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+m+n.readShort()});for(x={},f=S=0,E=s.length;S<E;f=++S)o=s[f],n.pos=o.offset,N=n.readString(o.length),d=new r6(N,o),x[w=o.nameID]==null&&(x[w]=[]),x[o.nameID].push(d);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},t}(),s6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),o6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,o,f,d,m,x;for(n.pos=this.offset,this.metrics=[],r=0,m=this.file.hhea.numberOfMetrics;0<=m?r<m:r>m;r=0<=m?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var N,S;for(S=[],r=N=0;0<=o?N<o:N>o;r=0<=o?++N:--N)S.push(n.readInt16());return S}(),this.widths=(function(){var N,S,E,w;for(w=[],N=0,S=(E=this.metrics).length;N<S;N++)f=E[N],w.push(f.advance);return w}).call(this),s=this.widths[this.widths.length-1],x=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)x.push(this.widths.push(s));return x},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),iy=[].slice,l6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,o,f,d,m,x,N,S,E;return n in this.cache?this.cache[n]:(f=this.file.loca,r=this.file.contents,s=f.indexOf(n),(o=f.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,d=(m=new Ho(r.read(o))).readShort(),N=m.readShort(),E=m.readShort(),x=m.readShort(),S=m.readShort(),this.cache[n]=d===-1?new u6(m,N,E,x,S):new c6(m,d,N,E,x,S),this.cache[n]))},t.prototype.encode=function(n,r,s){var o,f,d,m,x;for(d=[],f=[],m=0,x=r.length;m<x;m++)o=n[r[m]],f.push(d.length),o&&(d=d.concat(o.encode(s)));return f.push(d.length),{table:d,offsets:f}},t}(),c6=function(){function e(t,n,r,s,o,f){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),u6=function(){function e(t,n,r,s,o){var f,d;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;d=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&d;)f.pos+=1&d?4:2,128&d?f.pos+=8:64&d?f.pos+=4:8&d&&(f.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Ho(iy.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),f6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Za),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=2)f.push(2*n.readUInt16());return f}).call(this):(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=4)f.push(n.readUInt32());return f}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),o=0,f=0,d=0;d<s.length;++d)if(s[d]=o,f<r.length&&r[f]==d){++f,s[d]=o;var m=this.offsets[d],x=this.offsets[d+1]-m;x>0&&(o+=x)}for(var N=new Array(4*s.length),S=0;S<s.length;++S)N[4*S+3]=255&s[S],N[4*S+2]=(65280&s[S])>>8,N[4*S+1]=(16711680&s[S])>>16,N[4*S]=(4278190080&s[S])>>24;return N},t}(),h6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,o;for(n in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,o,f,d,m;for(s={},f=0,d=t.length;f<d;f++)s[o=t[f]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(r=s[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in m=this.glyphsFor(n))r=m[o],s[o]=r;return s},e.prototype.encode=function(t,n){var r,s,o,f,d,m,x,N,S,E,w,R,M,H,_;for(s in r=ny.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),w={0:0},_=r.charMap)w[(m=_[s]).old]=m.new;for(R in E=r.maxGlyphID,f)R in w||(w[R]=E++);return N=function(I){var O,k;for(O in k={},I)k[I[O]]=O;return k}(w),S=Object.keys(N).sort(function(I,O){return I-O}),M=function(){var I,O,k;for(k=[],I=0,O=S.length;I<O;I++)d=S[I],k.push(N[d]);return k}(),o=this.font.glyf.encode(f,M,w),x=this.font.loca.encode(o.offsets,M),H={cmap:this.font.cmap.raw(),glyf:o.table,loca:x,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},e}();Rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,o,f;if(Array.isArray(n))return"["+function(){var d,m,x;for(x=[],d=0,m=n.length;d<m;d++)r=n[d],x.push(t.convert(r));return x}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)f=n[s],o.push("/"+s+" "+t.convert(f));return o.push(">>"),o.join(`
`)}return""+n},t}();const d6=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Gw,AcroFormAppearance:St,AcroFormButton:Hi,AcroFormCheckBox:Pu,AcroFormChoiceField:Cl,AcroFormComboBox:_l,AcroFormEditBox:Bu,AcroFormListBox:El,AcroFormPasswordField:Fu,AcroFormPushButton:ku,AcroFormRadioButton:Tl,AcroFormTextField:ko,GState:rf,ShadingPattern:Ao,TilingPattern:pl,default:Rt,jsPDF:Rt},Symbol.toStringTag,{value:"Module"}));var g6={exports:{}};const p6=Jy(d6);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,s){e.exports=s(function(){try{return p6}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Os<"u"?Os:typeof window<"u"?window:typeof self<"u"?self:Os,function(n){return function(){var r={172:function(d,m){var x=this&&this.__extends||function(){var E=function(w,R){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,H){M.__proto__=H}||function(M,H){for(var _ in H)Object.prototype.hasOwnProperty.call(H,_)&&(M[_]=H[_])},E(w,R)};return function(w,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");E(w,R);function M(){this.constructor=w}w.prototype=R===null?Object.create(R):(M.prototype=R.prototype,new M)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.CellHookData=m.HookData=void 0;var N=function(){function E(w,R,M){this.table=R,this.pageNumber=R.pageNumber,this.pageCount=this.pageNumber,this.settings=R.settings,this.cursor=M,this.doc=w.getDocument()}return E}();m.HookData=N;var S=function(E){x(w,E);function w(R,M,H,_,I,O){var k=E.call(this,R,M,O)||this;return k.cell=H,k.row=_,k.column=I,k.section=_.section,k}return w}(N);m.CellHookData=S},340:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0});var N=x(4),S=x(136),E=x(744),w=x(776),R=x(664),M=x(972);function H(_){_.API.autoTable=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];var k;I.length===1?k=I[0]:(console.error("Use of deprecated autoTable initiation"),k=I[2]||{},k.columns=I[0],k.body=I[1]);var q=(0,w.parseInput)(this,k),X=(0,M.createTable)(this,q);return(0,R.drawTable)(this,X),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(I,O,k,q){(0,S.default)(I,O,k,q,this)},_.API.autoTableSetDefaults=function(I){return E.DocHandler.setDefaults(I,this),this},_.autoTableSetDefaults=function(I,O){E.DocHandler.setDefaults(I,O)},_.API.autoTableHtmlToJson=function(I,O){var k;if(O===void 0&&(O=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var q=new E.DocHandler(this),X=(0,N.parseHtml)(q,I,window,O,!1),F=X.head,L=X.body,j=((k=F[0])===null||k===void 0?void 0:k.map(function(K){return K.content}))||[];return{columns:j,rows:L,data:L}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var I=this.lastAutoTable;return I&&I.finalY?I.finalY:0},_.API.autoTableAddPageContent=function(I){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=I,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}m.default=H},136:function(d,m){Object.defineProperty(m,"__esModule",{value:!0});function x(N,S,E,w,R){w=w||{};var M=1.15,H=R.internal.scaleFactor,_=R.internal.getFontSize()/H,I=R.getLineHeightFactor?R.getLineHeightFactor():M,O=_*I,k=/\r\n|\r|\n/g,q="",X=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(q=typeof N=="string"?N.split(k):N,X=q.length||1),E+=_*(2-M),w.valign==="middle"?E-=X/2*O:w.valign==="bottom"&&(E-=X*O),w.halign==="center"||w.halign==="right"){var F=_;if(w.halign==="center"&&(F*=.5),q&&X>=1){for(var L=0;L<q.length;L++)R.text(q[L],S-R.getStringUnitWidth(q[L])*F,E),E+=O;return R}S-=R.getStringUnitWidth(N)*F}return w.halign==="justify"?R.text(N,S,E,{maxWidth:w.maxWidth||100,align:"justify"}):R.text(N,S,E),R}m.default=x},420:function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),m.getPageAvailableWidth=m.parseSpacing=m.getFillStyle=m.addTableBorder=m.getStringWidth=void 0;function x(R,M,H){H.applyStyles(M,!0);var _=Array.isArray(R)?R:[R],I=_.map(function(O){return H.getTextWidth(O)}).reduce(function(O,k){return Math.max(O,k)},0);return I}m.getStringWidth=x;function N(R,M,H,_){var I=M.settings.tableLineWidth,O=M.settings.tableLineColor;R.applyStyles({lineWidth:I,lineColor:O});var k=S(I,!1);k&&R.rect(H.x,H.y,M.getWidth(R.pageSize().width),_.y-H.y,k)}m.addTableBorder=N;function S(R,M){var H=R>0,_=M||M===0;return H&&_?"DF":H?"S":_?"F":null}m.getFillStyle=S;function E(R,M){var H,_,I,O;if(R=R||M,Array.isArray(R)){if(R.length>=4)return{top:R[0],right:R[1],bottom:R[2],left:R[3]};if(R.length===3)return{top:R[0],right:R[1],bottom:R[2],left:R[1]};if(R.length===2)return{top:R[0],right:R[1],bottom:R[0],left:R[1]};R.length===1?R=R[0]:R=M}return typeof R=="object"?(typeof R.vertical=="number"&&(R.top=R.vertical,R.bottom=R.vertical),typeof R.horizontal=="number"&&(R.right=R.horizontal,R.left=R.horizontal),{left:(H=R.left)!==null&&H!==void 0?H:M,top:(_=R.top)!==null&&_!==void 0?_:M,right:(I=R.right)!==null&&I!==void 0?I:M,bottom:(O=R.bottom)!==null&&O!==void 0?O:M}):(typeof R!="number"&&(R=M),{top:R,right:R,bottom:R,left:R})}m.parseSpacing=E;function w(R,M){var H=E(M.settings.margin,0);return R.pageSize().width-(H.left+H.right)}m.getPageAvailableWidth=w},796:function(d,m){var x=this&&this.__extends||function(){var w=function(R,M){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,_){H.__proto__=_}||function(H,_){for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(H[I]=_[I])},w(R,M)};return function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");w(R,M);function H(){this.constructor=R}R.prototype=M===null?Object.create(M):(H.prototype=M.prototype,new H)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.getTheme=m.defaultStyles=m.HtmlRowInput=void 0;var N=function(w){x(R,w);function R(M){var H=w.call(this)||this;return H._element=M,H}return R}(Array);m.HtmlRowInput=N;function S(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}m.defaultStyles=S;function E(w){var R={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return R[w]}m.getTheme=E},903:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.parseCss=void 0;var N=x(420);function S(H,_,I,O,k){var q={},X=1.3333333333333333,F=w(_,function(oe){return k.getComputedStyle(oe).backgroundColor});F!=null&&(q.fillColor=F);var L=w(_,function(oe){return k.getComputedStyle(oe).color});L!=null&&(q.textColor=L);var j=M(O,I);j&&(q.cellPadding=j);var K="borderTopColor",z=X*I,D=O.borderTopWidth;if(O.borderBottomWidth===D&&O.borderRightWidth===D&&O.borderLeftWidth===D){var ne=(parseFloat(D)||0)/z;ne&&(q.lineWidth=ne)}else q.lineWidth={top:(parseFloat(O.borderTopWidth)||0)/z,right:(parseFloat(O.borderRightWidth)||0)/z,bottom:(parseFloat(O.borderBottomWidth)||0)/z,left:(parseFloat(O.borderLeftWidth)||0)/z},q.lineWidth.top||(q.lineWidth.right?K="borderRightColor":q.lineWidth.bottom?K="borderBottomColor":q.lineWidth.left&&(K="borderLeftColor"));var ae=w(_,function(oe){return k.getComputedStyle(oe)[K]});ae!=null&&(q.lineColor=ae);var le=["left","right","center","justify"];le.indexOf(O.textAlign)!==-1&&(q.halign=O.textAlign),le=["middle","bottom","top"],le.indexOf(O.verticalAlign)!==-1&&(q.valign=O.verticalAlign);var $=parseInt(O.fontSize||"");isNaN($)||(q.fontSize=$/X);var Q=E(O);Q&&(q.fontStyle=Q);var ue=(O.fontFamily||"").toLowerCase();return H.indexOf(ue)!==-1&&(q.font=ue),q}m.parseCss=S;function E(H){var _="";return(H.fontWeight==="bold"||H.fontWeight==="bolder"||parseInt(H.fontWeight)>=700)&&(_="bold"),(H.fontStyle==="italic"||H.fontStyle==="oblique")&&(_+="italic"),_}function w(H,_){var I=R(H,_);if(!I)return null;var O=I.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!O||!Array.isArray(O))return null;var k=[parseInt(O[1]),parseInt(O[2]),parseInt(O[3])],q=parseInt(O[4]);return q===0||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?null:k}function R(H,_){var I=_(H);return I==="rgba(0, 0, 0, 0)"||I==="transparent"||I==="initial"||I==="inherit"?H.parentElement==null?null:R(H.parentElement,_):I}function M(H,_){var I=[H.paddingTop,H.paddingRight,H.paddingBottom,H.paddingLeft],O=96/(72/_),k=(parseInt(H.lineHeight)-parseInt(H.fontSize))/_/2,q=I.map(function(F){return parseInt(F||"0")/O}),X=(0,N.parseSpacing)(q,0);return k>X.top&&(X.top=k),k>X.bottom&&(X.bottom=k),X}},744:function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),m.DocHandler=void 0;var x={},N=function(){function S(E){this.jsPDFDocument=E,this.userStyles={textColor:E.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:E.internal.getFontSize(),fontStyle:E.internal.getFont().fontStyle,font:E.internal.getFont().fontName,lineWidth:E.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:E.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return S.setDefaults=function(E,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=E:x=E},S.unifyColor=function(E){return Array.isArray(E)?E:typeof E=="number"?[E,E,E]:typeof E=="string"?[E]:null},S.prototype.applyStyles=function(E,w){var R,M,H;w===void 0&&(w=!1),E.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E.fontStyle);var _=this.jsPDFDocument.internal.getFont(),I=_.fontStyle,O=_.fontName;if(E.font&&(O=E.font),E.fontStyle){I=E.fontStyle;var k=this.getFontList()[O];k&&k.indexOf(I)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(k[0]),I=k[0])}if(this.jsPDFDocument.setFont(O,I),E.fontSize&&this.jsPDFDocument.setFontSize(E.fontSize),!w){var q=S.unifyColor(E.fillColor);q&&(R=this.jsPDFDocument).setFillColor.apply(R,q),q=S.unifyColor(E.textColor),q&&(M=this.jsPDFDocument).setTextColor.apply(M,q),q=S.unifyColor(E.lineColor),q&&(H=this.jsPDFDocument).setDrawColor.apply(H,q),typeof E.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(E.lineWidth)}},S.prototype.splitTextToSize=function(E,w,R){return this.jsPDFDocument.splitTextToSize(E,w,R)},S.prototype.rect=function(E,w,R,M,H){return this.jsPDFDocument.rect(E,w,R,M,H)},S.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},S.prototype.getTextWidth=function(E){return this.jsPDFDocument.getTextWidth(E)},S.prototype.getDocument=function(){return this.jsPDFDocument},S.prototype.setPage=function(E){this.jsPDFDocument.setPage(E)},S.prototype.addPage=function(){return this.jsPDFDocument.addPage()},S.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},S.prototype.getGlobalOptions=function(){return x||{}},S.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},S.prototype.pageSize=function(){var E=this.jsPDFDocument.internal.pageSize;return E.width==null&&(E={width:E.getWidth(),height:E.getHeight()}),E},S.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},S.prototype.getLineHeightFactor=function(){var E=this.jsPDFDocument;return E.getLineHeightFactor?E.getLineHeightFactor():1.15},S.prototype.getLineHeight=function(E){return E/this.scaleFactor()*this.getLineHeightFactor()},S.prototype.pageNumber=function(){var E=this.jsPDFDocument.internal.getCurrentPageInfo();return E?E.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},S}();m.DocHandler=N},4:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.parseHtml=void 0;var N=x(903),S=x(796);function E(M,H,_,I,O){var k,q;I===void 0&&(I=!1),O===void 0&&(O=!1);var X;typeof H=="string"?X=_.document.querySelector(H):X=H;var F=Object.keys(M.getFontList()),L=M.scaleFactor(),j=[],K=[],z=[];if(!X)return console.error("Html table could not be found with input: ",H),{head:j,body:K,foot:z};for(var D=0;D<X.rows.length;D++){var ne=X.rows[D],ae=(q=(k=ne==null?void 0:ne.parentElement)===null||k===void 0?void 0:k.tagName)===null||q===void 0?void 0:q.toLowerCase(),le=w(F,L,_,ne,I,O);le&&(ae==="thead"?j.push(le):ae==="tfoot"?z.push(le):K.push(le))}return{head:j,body:K,foot:z}}m.parseHtml=E;function w(M,H,_,I,O,k){for(var q=new S.HtmlRowInput(I),X=0;X<I.cells.length;X++){var F=I.cells[X],L=_.getComputedStyle(F);if(O||L.display!=="none"){var j=void 0;k&&(j=(0,N.parseCss)(M,F,H,L,_)),q.push({rowSpan:F.rowSpan,colSpan:F.colSpan,styles:j,_element:F,content:R(F)})}}var K=_.getComputedStyle(I);if(q.length>0&&(O||K.display!=="none"))return q}function R(M){var H=M.cloneNode(!0);return H.innerHTML=H.innerHTML.replace(/\n/g,"").replace(/ +/g," "),H.innerHTML=H.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),H.innerText||H.textContent||""}},776:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.parseInput=void 0;var N=x(4),S=x(356),E=x(420),w=x(744),R=x(792);function M(X,F){var L=new w.DocHandler(X),j=L.getDocumentOptions(),K=L.getGlobalOptions();(0,R.default)(L,K,j,F);var z=(0,S.assign)({},K,j,F),D;typeof window<"u"&&(D=window);var ne=H(K,j,F),ae=_(K,j,F),le=I(L,z),$=k(L,z,D);return{id:F.tableId,content:$,hooks:ae,styles:ne,settings:le}}m.parseInput=M;function H(X,F,L){for(var j={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},K=function(ae){if(ae==="columnStyles"){var le=X[ae],$=F[ae],Q=L[ae];j.columnStyles=(0,S.assign)({},le,$,Q)}else{var ue=[X,F,L],oe=ue.map(function(ye){return ye[ae]||{}});j[ae]=(0,S.assign)({},oe[0],oe[1],oe[2])}},z=0,D=Object.keys(j);z<D.length;z++){var ne=D[z];K(ne)}return j}function _(X,F,L){for(var j=[X,F,L],K={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},z=0,D=j;z<D.length;z++){var ne=D[z];ne.didParseCell&&K.didParseCell.push(ne.didParseCell),ne.willDrawCell&&K.willDrawCell.push(ne.willDrawCell),ne.didDrawCell&&K.didDrawCell.push(ne.didDrawCell),ne.willDrawPage&&K.willDrawPage.push(ne.willDrawPage),ne.didDrawPage&&K.didDrawPage.push(ne.didDrawPage)}return K}function I(X,F){var L,j,K,z,D,ne,ae,le,$,Q,ue,oe,ye=(0,E.parseSpacing)(F.margin,40/X.scaleFactor()),xe=(L=O(X,F.startY))!==null&&L!==void 0?L:ye.top,U;F.showFoot===!0?U="everyPage":F.showFoot===!1?U="never":U=(j=F.showFoot)!==null&&j!==void 0?j:"everyPage";var Z;F.showHead===!0?Z="everyPage":F.showHead===!1?Z="never":Z=(K=F.showHead)!==null&&K!==void 0?K:"everyPage";var ie=(z=F.useCss)!==null&&z!==void 0?z:!1,fe=F.theme||(ie?"plain":"striped"),ce=!!F.horizontalPageBreak,_e=(D=F.horizontalPageBreakRepeat)!==null&&D!==void 0?D:null;return{includeHiddenHtml:(ne=F.includeHiddenHtml)!==null&&ne!==void 0?ne:!1,useCss:ie,theme:fe,startY:xe,margin:ye,pageBreak:(ae=F.pageBreak)!==null&&ae!==void 0?ae:"auto",rowPageBreak:(le=F.rowPageBreak)!==null&&le!==void 0?le:"auto",tableWidth:($=F.tableWidth)!==null&&$!==void 0?$:"auto",showHead:Z,showFoot:U,tableLineWidth:(Q=F.tableLineWidth)!==null&&Q!==void 0?Q:0,tableLineColor:(ue=F.tableLineColor)!==null&&ue!==void 0?ue:200,horizontalPageBreak:ce,horizontalPageBreakRepeat:_e,horizontalPageBreakBehaviour:(oe=F.horizontalPageBreakBehaviour)!==null&&oe!==void 0?oe:"afterAllRows"}}function O(X,F){var L=X.getLastAutoTable(),j=X.scaleFactor(),K=X.pageNumber(),z=!1;if(L&&L.startPageNumber){var D=L.startPageNumber+L.pageNumber-1;z=D===K}return typeof F=="number"?F:(F==null||F===!1)&&z&&(L==null?void 0:L.finalY)!=null?L.finalY+20/j:null}function k(X,F,L){var j=F.head||[],K=F.body||[],z=F.foot||[];if(F.html){var D=F.includeHiddenHtml;if(L){var ne=(0,N.parseHtml)(X,F.html,L,D,F.useCss)||{};j=ne.head||j,K=ne.body||j,z=ne.foot||j}else console.error("Cannot parse html in non browser environment")}var ae=F.columns||q(j,K,z);return{columns:ae,head:j,body:K,foot:z}}function q(X,F,L){var j=X[0]||F[0]||L[0]||[],K=[];return Object.keys(j).filter(function(z){return z!=="_element"}).forEach(function(z){var D=1,ne;Array.isArray(j)?ne=j[parseInt(z)]:ne=j[z],typeof ne=="object"&&!Array.isArray(ne)&&(D=(ne==null?void 0:ne.colSpan)||1);for(var ae=0;ae<D;ae++){var le=void 0;Array.isArray(j)?le=K.length:le=z+(ae>0?"_".concat(ae):"");var $={dataKey:le};K.push($)}}),K}},792:function(d,m){Object.defineProperty(m,"__esModule",{value:!0});function x(S,E,w,R){for(var M=function(O){O&&typeof O!="object"&&console.error("The options parameter should be of type object, is: "+typeof O),typeof O.extendWidth<"u"&&(O.tableWidth=O.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof O.margins<"u"&&(typeof O.margin>"u"&&(O.margin=O.margins),console.error("Use of deprecated option: margins, use margin instead.")),O.startY&&typeof O.startY!="number"&&(console.error("Invalid value for startY option",O.startY),delete O.startY),!O.didDrawPage&&(O.afterPageContent||O.beforePageContent||O.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),O.didDrawPage=function(z){S.applyStyles(S.userStyles),O.beforePageContent&&O.beforePageContent(z),S.applyStyles(S.userStyles),O.afterPageContent&&O.afterPageContent(z),S.applyStyles(S.userStyles),O.afterPageAdd&&z.pageNumber>1&&z.afterPageAdd(z),S.applyStyles(S.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(z){O[z]&&console.error('The "'.concat(z,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(z){var D=z[0],ne=z[1];O[ne]&&(console.error("Use of deprecated option ".concat(ne,". Use ").concat(D," instead")),O[D]=O[ne])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(z){var D=typeof z=="string"?z:z[0],ne=typeof z=="string"?z:z[1];typeof O[D]<"u"&&(typeof O.styles[ne]>"u"&&(O.styles[ne]=O[D]),console.error("Use of deprecated option: "+D+", use the style "+ne+" instead."))});for(var k=0,q=["styles","bodyStyles","headStyles","footStyles"];k<q.length;k++){var X=q[k];N(O[X]||{})}for(var F=O.columnStyles||{},L=0,j=Object.keys(F);L<j.length;L++){var K=j[L];N(F[K]||{})}},H=0,_=[E,w,R];H<_.length;H++){var I=_[H];M(I)}}m.default=x;function N(S){S.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),S.minCellHeight||(S.minCellHeight=S.rowHeight)):S.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),S.cellWidth||(S.cellWidth=S.columnWidth))}},260:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.Column=m.Cell=m.Row=m.Table=void 0;var N=x(796),S=x(172),E=x(420),w=function(){function _(I,O){this.pageNumber=1,this.pageCount=1,this.id=I.id,this.settings=I.settings,this.styles=I.styles,this.hooks=I.hooks,this.columns=O.columns,this.head=O.head,this.body=O.body,this.foot=O.foot}return _.prototype.getHeadHeight=function(I){return this.head.reduce(function(O,k){return O+k.getMaxCellHeight(I)},0)},_.prototype.getFootHeight=function(I){return this.foot.reduce(function(O,k){return O+k.getMaxCellHeight(I)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(I,O,k,q,X,F){for(var L=0,j=O;L<j.length;L++){var K=j[L],z=new S.CellHookData(I,this,k,q,X,F),D=K(z)===!1;if(k.text=Array.isArray(k.text)?k.text:[k.text],D)return!1}return!0},_.prototype.callEndPageHooks=function(I,O){I.applyStyles(I.userStyles);for(var k=0,q=this.hooks.didDrawPage;k<q.length;k++){var X=q[k];X(new S.HookData(I,this,O))}},_.prototype.callWillDrawPageHooks=function(I,O){for(var k=0,q=this.hooks.willDrawPage;k<q.length;k++){var X=q[k];X(new S.HookData(I,this,O))}},_.prototype.getWidth=function(I){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var O=this.columns.reduce(function(q,X){return q+X.wrappedWidth},0);return O}else{var k=this.settings.margin;return I-k.left-k.right}},_}();m.Table=w;var R=function(){function _(I,O,k,q,X){X===void 0&&(X=!1),this.height=0,this.raw=I,I instanceof N.HtmlRowInput&&(this.raw=I._element,this.element=I._element),this.index=O,this.section=k,this.cells=q,this.spansMultiplePages=X}return _.prototype.getMaxCellHeight=function(I){var O=this;return I.reduce(function(k,q){var X;return Math.max(k,((X=O.cells[q.index])===null||X===void 0?void 0:X.height)||0)},0)},_.prototype.hasRowSpan=function(I){var O=this;return I.filter(function(k){var q=O.cells[k.index];return q?q.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(I,O){return this.getMaxCellHeight(O)<=I},_.prototype.getMinimumRowHeight=function(I,O){var k=this;return I.reduce(function(q,X){var F=k.cells[X.index];if(!F)return 0;var L=O.getLineHeight(F.styles.fontSize),j=F.padding("vertical"),K=j+L;return K>q?K:q},0)},_}();m.Row=R;var M=function(){function _(I,O,k){var q,X;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=O,this.section=k,this.raw=I;var F=I;I!=null&&typeof I=="object"&&!Array.isArray(I)?(this.rowSpan=I.rowSpan||1,this.colSpan=I.colSpan||1,F=(X=(q=I.content)!==null&&q!==void 0?q:I.title)!==null&&X!==void 0?X:I,I._element&&(this.raw=I._element)):(this.rowSpan=1,this.colSpan=1);var L=F!=null?""+F:"",j=/\r\n|\r|\n/g;this.text=L.split(j)}return _.prototype.getTextPos=function(){var I;if(this.styles.valign==="top")I=this.y+this.padding("top");else if(this.styles.valign==="bottom")I=this.y+this.height-this.padding("bottom");else{var O=this.height-this.padding("vertical");I=this.y+O/2+this.padding("top")}var k;if(this.styles.halign==="right")k=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var q=this.width-this.padding("horizontal");k=this.x+q/2+this.padding("left")}else k=this.x+this.padding("left");return{x:k,y:I}},_.prototype.getContentHeight=function(I,O){O===void 0&&(O=1.15);var k=Array.isArray(this.text)?this.text.length:1,q=this.styles.fontSize/I*O,X=k*q+this.padding("vertical");return Math.max(X,this.styles.minCellHeight)},_.prototype.padding=function(I){var O=(0,E.parseSpacing)(this.styles.cellPadding,0);return I==="vertical"?O.top+O.bottom:I==="horizontal"?O.left+O.right:O[I]},_}();m.Cell=M;var H=function(){function _(I,O,k){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=I,this.raw=O,this.index=k}return _.prototype.getMaxCustomCellWidth=function(I){for(var O=0,k=0,q=I.allRows();k<q.length;k++){var X=q[k],F=X.cells[this.index];F&&typeof F.styles.cellWidth=="number"&&(O=Math.max(O,F.styles.cellWidth))}return O},_}();m.Column=H},356:function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),m.assign=void 0;function x(N,S,E,w,R){if(N==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(N),H=1;H<arguments.length;H++){var _=arguments[H];if(_!=null)for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(M[I]=_[I])}return M}m.assign=x},972:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.createTable=void 0;var N=x(744),S=x(260),E=x(324),w=x(796),R=x(356);function M(X,F){var L=new N.DocHandler(X),j=H(F,L.scaleFactor()),K=new S.Table(F,j);return(0,E.calculateWidths)(L,K),L.applyStyles(L.userStyles),K}m.createTable=M;function H(X,F){var L=X.content,j=k(L.columns);if(L.head.length===0){var K=I(j,"head");K&&L.head.push(K)}if(L.foot.length===0){var K=I(j,"foot");K&&L.foot.push(K)}var z=X.settings.theme,D=X.styles;return{columns:j,head:_("head",L.head,j,D,z,F),body:_("body",L.body,j,D,z,F),foot:_("foot",L.foot,j,D,z,F)}}function _(X,F,L,j,K,z){var D={},ne=F.map(function(ae,le){for(var $=0,Q={},ue=0,oe=0,ye=0,xe=L;ye<xe.length;ye++){var U=xe[ye];if(D[U.index]==null||D[U.index].left===0)if(oe===0){var Z=void 0;Array.isArray(ae)?Z=ae[U.index-ue-$]:Z=ae[U.dataKey];var ie={};typeof Z=="object"&&!Array.isArray(Z)&&(ie=(Z==null?void 0:Z.styles)||{});var fe=q(X,U,le,K,j,z,ie),ce=new S.Cell(Z,fe,X);Q[U.dataKey]=ce,Q[U.index]=ce,oe=ce.colSpan-1,D[U.index]={left:ce.rowSpan-1,times:oe}}else oe--,ue++;else D[U.index].left--,oe=D[U.index].times,$++}return new S.Row(ae,le,X,Q)});return ne}function I(X,F){var L={};return X.forEach(function(j){if(j.raw!=null){var K=O(F,j.raw);K!=null&&(L[j.dataKey]=K)}}),Object.keys(L).length>0?L:null}function O(X,F){if(X==="head"){if(typeof F=="object")return F.header||F.title||null;if(typeof F=="string"||typeof F=="number")return F}else if(X==="foot"&&typeof F=="object")return F.footer;return null}function k(X){return X.map(function(F,L){var j,K,z;return typeof F=="object"?z=(K=(j=F.dataKey)!==null&&j!==void 0?j:F.key)!==null&&K!==void 0?K:L:z=L,new S.Column(z,F,L)})}function q(X,F,L,j,K,z,D){var ne=(0,w.getTheme)(j),ae;X==="head"?ae=K.headStyles:X==="body"?ae=K.bodyStyles:X==="foot"&&(ae=K.footStyles);var le=(0,R.assign)({},ne.table,ne[X],K.styles,ae),$=K.columnStyles[F.dataKey]||K.columnStyles[F.index]||{},Q=X==="body"?$:{},ue=X==="body"&&L%2===0?(0,R.assign)({},ne.alternateRow,K.alternateRowStyles):{},oe=(0,w.defaultStyles)(z),ye=(0,R.assign)({},oe,le,ue,Q);return(0,R.assign)(ye,D)}},664:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.addPage=m.drawTable=void 0;var N=x(420),S=x(260),E=x(744),w=x(356),R=x(136),M=x(224);function H($,Q){var ue=Q.settings,oe=ue.startY,ye=ue.margin,xe={x:ye.left,y:oe},U=Q.getHeadHeight(Q.columns)+Q.getFootHeight(Q.columns),Z=oe+ye.bottom+U;if(ue.pageBreak==="avoid"){var ie=Q.body,fe=ie.reduce(function(be,Ee){return be+Ee.height},0);Z+=fe}var ce=new E.DocHandler($);(ue.pageBreak==="always"||ue.startY!=null&&Z>ce.pageSize().height)&&(le(ce),xe.y=ye.top),Q.callWillDrawPageHooks(ce,xe);var _e=(0,w.assign)({},xe);Q.startPageNumber=ce.pageNumber(),ue.horizontalPageBreak?_(ce,Q,_e,xe):(ce.applyStyles(ce.userStyles),(ue.showHead==="firstPage"||ue.showHead==="everyPage")&&Q.head.forEach(function(be){return K(ce,Q,be,xe,Q.columns)}),ce.applyStyles(ce.userStyles),Q.body.forEach(function(be,Ee){var Ye=Ee===Q.body.length-1;j(ce,Q,be,Ye,_e,xe,Q.columns)}),ce.applyStyles(ce.userStyles),(ue.showFoot==="lastPage"||ue.showFoot==="everyPage")&&Q.foot.forEach(function(be){return K(ce,Q,be,xe,Q.columns)})),(0,N.addTableBorder)(ce,Q,_e,xe),Q.callEndPageHooks(ce,xe),Q.finalY=xe.y,$.lastAutoTable=Q,$.previousAutoTable=Q,$.autoTable&&($.autoTable.previous=Q),ce.applyStyles(ce.userStyles)}m.drawTable=H;function _($,Q,ue,oe){var ye=(0,M.calculateAllColumnsCanFitInPage)($,Q),xe=Q.settings;if(xe.horizontalPageBreakBehaviour==="afterAllRows")ye.forEach(function(fe,ce){$.applyStyles($.userStyles),ce>0?ae($,Q,ue,oe,fe.columns,!0):I($,Q,oe,fe.columns),O($,Q,ue,oe,fe.columns),q($,Q,oe,fe.columns)});else for(var U=-1,Z=ye[0],ie=function(){var fe=U;if(Z){$.applyStyles($.userStyles);var ce=Z.columns;U>=0?ae($,Q,ue,oe,ce,!0):I($,Q,oe,ce),fe=k($,Q,U+1,oe,ce),q($,Q,oe,ce)}var _e=fe-U;ye.slice(1).forEach(function(be){$.applyStyles($.userStyles),ae($,Q,ue,oe,be.columns,!0),k($,Q,U+1,oe,be.columns,_e),q($,Q,oe,be.columns)}),U=fe};U<Q.body.length-1;)ie()}function I($,Q,ue,oe){var ye=Q.settings;$.applyStyles($.userStyles),(ye.showHead==="firstPage"||ye.showHead==="everyPage")&&Q.head.forEach(function(xe){return K($,Q,xe,ue,oe)})}function O($,Q,ue,oe,ye){$.applyStyles($.userStyles),Q.body.forEach(function(xe,U){var Z=U===Q.body.length-1;j($,Q,xe,Z,ue,oe,ye)})}function k($,Q,ue,oe,ye,xe){$.applyStyles($.userStyles),xe=xe??Q.body.length;var U=Math.min(ue+xe,Q.body.length),Z=-1;return Q.body.slice(ue,U).forEach(function(ie,fe){var ce=ue+fe===Q.body.length-1,_e=ne($,Q,ce,oe);ie.canEntireRowFit(_e,ye)&&(K($,Q,ie,oe,ye),Z=ue+fe)}),Z}function q($,Q,ue,oe){var ye=Q.settings;$.applyStyles($.userStyles),(ye.showFoot==="lastPage"||ye.showFoot==="everyPage")&&Q.foot.forEach(function(xe){return K($,Q,xe,ue,oe)})}function X($,Q,ue){var oe=ue.getLineHeight($.styles.fontSize),ye=$.padding("vertical"),xe=Math.floor((Q-ye)/oe);return Math.max(0,xe)}function F($,Q,ue,oe){var ye={};$.spansMultiplePages=!0,$.height=0;for(var xe=0,U=0,Z=ue.columns;U<Z.length;U++){var ie=Z[U],fe=$.cells[ie.index];if(fe){Array.isArray(fe.text)||(fe.text=[fe.text]);var ce=new S.Cell(fe.raw,fe.styles,fe.section);ce=(0,w.assign)(ce,fe),ce.text=[];var _e=X(fe,Q,oe);fe.text.length>_e&&(ce.text=fe.text.splice(_e,fe.text.length));var be=oe.scaleFactor(),Ee=oe.getLineHeightFactor();fe.contentHeight=fe.getContentHeight(be,Ee),fe.contentHeight>=Q&&(fe.contentHeight=Q,ce.styles.minCellHeight-=Q),fe.contentHeight>$.height&&($.height=fe.contentHeight),ce.contentHeight=ce.getContentHeight(be,Ee),ce.contentHeight>xe&&(xe=ce.contentHeight),ye[ie.index]=ce}}var Ye=new S.Row($.raw,-1,$.section,ye,!0);Ye.height=xe;for(var ke=0,et=ue.columns;ke<et.length;ke++){var ie=et[ke],ce=Ye.cells[ie.index];ce&&(ce.height=Ye.height);var fe=$.cells[ie.index];fe&&(fe.height=$.height)}return Ye}function L($,Q,ue,oe){var ye=$.pageSize().height,xe=oe.settings.margin,U=xe.top+xe.bottom,Z=ye-U;Q.section==="body"&&(Z-=oe.getHeadHeight(oe.columns)+oe.getFootHeight(oe.columns));var ie=Q.getMinimumRowHeight(oe.columns,$),fe=ie<ue;if(ie>Z)return console.error("Will not be able to print row ".concat(Q.index," correctly since it's minimum height is larger than page height")),!0;if(!fe)return!1;var ce=Q.hasRowSpan(oe.columns),_e=Q.getMaxCellHeight(oe.columns)>Z;return _e?(ce&&console.error("The content of row ".concat(Q.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ce||oe.settings.rowPageBreak==="avoid")}function j($,Q,ue,oe,ye,xe,U){var Z=ne($,Q,oe,xe);if(ue.canEntireRowFit(Z,U))K($,Q,ue,xe,U);else if(L($,ue,Z,Q)){var ie=F(ue,Z,Q,$);K($,Q,ue,xe,U),ae($,Q,ye,xe,U),j($,Q,ie,oe,ye,xe,U)}else ae($,Q,ye,xe,U),j($,Q,ue,oe,ye,xe,U)}function K($,Q,ue,oe,ye){oe.x=Q.settings.margin.left;for(var xe=0,U=ye;xe<U.length;xe++){var Z=U[xe],ie=ue.cells[Z.index];if(!ie){oe.x+=Z.width;continue}$.applyStyles(ie.styles),ie.x=oe.x,ie.y=oe.y;var fe=Q.callCellHooks($,Q.hooks.willDrawCell,ie,ue,Z,oe);if(fe===!1){oe.x+=Z.width;continue}z($,ie,oe);var ce=ie.getTextPos();(0,R.default)(ie.text,ce.x,ce.y,{halign:ie.styles.halign,valign:ie.styles.valign,maxWidth:Math.ceil(ie.width-ie.padding("left")-ie.padding("right"))},$.getDocument()),Q.callCellHooks($,Q.hooks.didDrawCell,ie,ue,Z,oe),oe.x+=Z.width}oe.y+=ue.height}function z($,Q,ue){var oe=Q.styles;if($.getDocument().setFillColor($.getDocument().getFillColor()),typeof oe.lineWidth=="number"){var ye=(0,N.getFillStyle)(oe.lineWidth,oe.fillColor);ye&&$.rect(Q.x,ue.y,Q.width,Q.height,ye)}else typeof oe.lineWidth=="object"&&(oe.fillColor&&$.rect(Q.x,ue.y,Q.width,Q.height,"F"),D($,Q,ue,oe.lineWidth))}function D($,Q,ue,oe){var ye,xe,U,Z;oe.top&&(ye=ue.x,xe=ue.y,U=ue.x+Q.width,Z=ue.y,oe.right&&(U+=.5*oe.right),oe.left&&(ye-=.5*oe.left),ie(oe.top,ye,xe,U,Z)),oe.bottom&&(ye=ue.x,xe=ue.y+Q.height,U=ue.x+Q.width,Z=ue.y+Q.height,oe.right&&(U+=.5*oe.right),oe.left&&(ye-=.5*oe.left),ie(oe.bottom,ye,xe,U,Z)),oe.left&&(ye=ue.x,xe=ue.y,U=ue.x,Z=ue.y+Q.height,oe.top&&(xe-=.5*oe.top),oe.bottom&&(Z+=.5*oe.bottom),ie(oe.left,ye,xe,U,Z)),oe.right&&(ye=ue.x+Q.width,xe=ue.y,U=ue.x+Q.width,Z=ue.y+Q.height,oe.top&&(xe-=.5*oe.top),oe.bottom&&(Z+=.5*oe.bottom),ie(oe.right,ye,xe,U,Z));function ie(fe,ce,_e,be,Ee){$.getDocument().setLineWidth(fe),$.getDocument().line(ce,_e,be,Ee,"S")}}function ne($,Q,ue,oe){var ye=Q.settings.margin.bottom,xe=Q.settings.showFoot;return(xe==="everyPage"||xe==="lastPage"&&ue)&&(ye+=Q.getFootHeight(Q.columns)),$.pageSize().height-oe.y-ye}function ae($,Q,ue,oe,ye,xe){ye===void 0&&(ye=[]),xe===void 0&&(xe=!1),$.applyStyles($.userStyles),Q.settings.showFoot==="everyPage"&&!xe&&Q.foot.forEach(function(Z){return K($,Q,Z,oe,ye)}),Q.callEndPageHooks($,oe);var U=Q.settings.margin;(0,N.addTableBorder)($,Q,ue,oe),le($),Q.pageNumber++,Q.pageCount++,oe.x=U.left,oe.y=U.top,ue.y=U.top,Q.callWillDrawPageHooks($,oe),Q.settings.showHead==="everyPage"&&(Q.head.forEach(function(Z){return K($,Q,Z,oe,ye)}),$.applyStyles($.userStyles))}m.addPage=ae;function le($){var Q=$.pageNumber();$.setPage(Q+1);var ue=$.pageNumber();return ue===Q?($.addPage(),!0):!1}},224:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.calculateAllColumnsCanFitInPage=void 0;var N=x(420);function S(w,R,M){var H;M===void 0&&(M={});var _=(0,N.getPageAvailableWidth)(w,R),I=new Map,O=[],k=[],q=[];R.settings.horizontalPageBreakRepeat,Array.isArray(R.settings.horizontalPageBreakRepeat)?q=R.settings.horizontalPageBreakRepeat:(typeof R.settings.horizontalPageBreakRepeat=="string"||typeof R.settings.horizontalPageBreakRepeat=="number")&&(q=[R.settings.horizontalPageBreakRepeat]),q.forEach(function(j){var K=R.columns.find(function(z){return z.dataKey===j||z.index===j});K&&!I.has(K.index)&&(I.set(K.index,!0),O.push(K.index),k.push(R.columns[K.index]),_-=K.wrappedWidth)});for(var X=!0,F=(H=M==null?void 0:M.start)!==null&&H!==void 0?H:0;F<R.columns.length;){if(I.has(F)){F++;continue}var L=R.columns[F].wrappedWidth;if(X||_>=L)X=!1,O.push(F),k.push(R.columns[F]),_-=L;else break;F++}return{colIndexes:O,columns:k,lastIndex:F-1}}function E(w,R){for(var M=[],H=0;H<R.columns.length;H++){var _=S(w,R,{start:H});_.columns.length&&(M.push(_),H=_.lastIndex)}return M}m.calculateAllColumnsCanFitInPage=E},324:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.ellipsize=m.resizeColumns=m.calculateWidths=void 0;var N=x(420);function S(O,k){E(O,k);var q=[],X=0;k.columns.forEach(function(L){var j=L.getMaxCustomCellWidth(k);j?L.width=j:(L.width=L.wrappedWidth,q.push(L)),X+=L.width});var F=k.getWidth(O.pageSize().width)-X;F&&(F=w(q,F,function(L){return Math.max(L.minReadableWidth,L.minWidth)})),F&&(F=w(q,F,function(L){return L.minWidth})),F=Math.abs(F),!k.settings.horizontalPageBreak&&F>.1/O.scaleFactor()&&(F=F<1?F:Math.round(F),console.warn("Of the table content, ".concat(F," units width could not fit page"))),M(k),H(k,O),R(k)}m.calculateWidths=S;function E(O,k){var q=O.scaleFactor(),X=k.settings.horizontalPageBreak,F=(0,N.getPageAvailableWidth)(O,k);k.allRows().forEach(function(L){for(var j=0,K=k.columns;j<K.length;j++){var z=K[j],D=L.cells[z.index];if(D){var ne=k.hooks.didParseCell;k.callCellHooks(O,ne,D,L,z,null);var ae=D.padding("horizontal");D.contentWidth=(0,N.getStringWidth)(D.text,D.styles,O)+ae;var le=(0,N.getStringWidth)(D.text.join(" ").split(/[^\S\u00A0]+/),D.styles,O);if(D.minReadableWidth=le+D.padding("horizontal"),typeof D.styles.cellWidth=="number")D.minWidth=D.styles.cellWidth,D.wrappedWidth=D.styles.cellWidth;else if(D.styles.cellWidth==="wrap"||X===!0)D.contentWidth>F?(D.minWidth=F,D.wrappedWidth=F):(D.minWidth=D.contentWidth,D.wrappedWidth=D.contentWidth);else{var $=10/q;D.minWidth=D.styles.minCellWidth||$,D.wrappedWidth=D.contentWidth,D.minWidth>D.wrappedWidth&&(D.wrappedWidth=D.minWidth)}}}}),k.allRows().forEach(function(L){for(var j=0,K=k.columns;j<K.length;j++){var z=K[j],D=L.cells[z.index];if(D&&D.colSpan===1)z.wrappedWidth=Math.max(z.wrappedWidth,D.wrappedWidth),z.minWidth=Math.max(z.minWidth,D.minWidth),z.minReadableWidth=Math.max(z.minReadableWidth,D.minReadableWidth);else{var ne=k.styles.columnStyles[z.dataKey]||k.styles.columnStyles[z.index]||{},ae=ne.cellWidth||ne.minCellWidth;ae&&typeof ae=="number"&&(z.minWidth=ae,z.wrappedWidth=ae)}D&&(D.colSpan>1&&!z.minWidth&&(z.minWidth=D.minWidth),D.colSpan>1&&!z.wrappedWidth&&(z.wrappedWidth=D.minWidth))}})}function w(O,k,q){for(var X=k,F=O.reduce(function($,Q){return $+Q.wrappedWidth},0),L=0;L<O.length;L++){var j=O[L],K=j.wrappedWidth/F,z=X*K,D=j.width+z,ne=q(j),ae=D<ne?ne:D;k-=ae-j.width,j.width=ae}if(k=Math.round(k*1e10)/1e10,k){var le=O.filter(function($){return k<0?$.width>q($):!0});le.length&&(k=w(le,k,q))}return k}m.resizeColumns=w;function R(O){for(var k={},q=1,X=O.allRows(),F=0;F<X.length;F++)for(var L=X[F],j=0,K=O.columns;j<K.length;j++){var z=K[j],D=k[z.index];if(q>1)q--,delete L.cells[z.index];else if(D)D.cell.height+=L.height,q=D.cell.colSpan,delete L.cells[z.index],D.left--,D.left<=1&&delete k[z.index];else{var ne=L.cells[z.index];if(!ne)continue;if(ne.height=L.height,ne.rowSpan>1){var ae=X.length-F,le=ne.rowSpan>ae?ae:ne.rowSpan;k[z.index]={cell:ne,left:le,row:L}}}}}function M(O){for(var k=O.allRows(),q=0;q<k.length;q++)for(var X=k[q],F=null,L=0,j=0,K=0;K<O.columns.length;K++){var z=O.columns[K];if(j-=1,j>1&&O.columns[K+1])L+=z.width,delete X.cells[z.index];else if(F){var D=F;delete X.cells[z.index],F=null,D.width=z.width+L}else{var D=X.cells[z.index];if(!D)continue;if(j=D.colSpan,L=0,D.colSpan>1){F=D,L+=z.width;continue}D.width=z.width+L}}}function H(O,k){for(var q={count:0,height:0},X=0,F=O.allRows();X<F.length;X++){for(var L=F[X],j=0,K=O.columns;j<K.length;j++){var z=K[j],D=L.cells[z.index];if(D){k.applyStyles(D.styles,!0);var ne=D.width-D.padding("horizontal");if(D.styles.overflow==="linebreak")D.text=k.splitTextToSize(D.text,ne+1/k.scaleFactor(),{fontSize:D.styles.fontSize});else if(D.styles.overflow==="ellipsize")D.text=_(D.text,ne,D.styles,k,"...");else if(D.styles.overflow==="hidden")D.text=_(D.text,ne,D.styles,k,"");else if(typeof D.styles.overflow=="function"){var ae=D.styles.overflow(D.text,ne);typeof ae=="string"?D.text=[ae]:D.text=ae}D.contentHeight=D.getContentHeight(k.scaleFactor(),k.getLineHeightFactor());var le=D.contentHeight/D.rowSpan;D.rowSpan>1&&q.count*q.height<le*D.rowSpan?q={height:le,count:D.rowSpan}:q&&q.count>0&&q.height>le&&(le=q.height),le>L.height&&(L.height=le)}}q.count--}}function _(O,k,q,X,F){return O.map(function(L){return I(L,k,q,X,F)})}m.ellipsize=_;function I(O,k,q,X,F){var L=1e4*X.scaleFactor();if(k=Math.ceil(k*L)/L,k>=(0,N.getStringWidth)(O,q,X))return O;for(;k<(0,N.getStringWidth)(O+F,q,X)&&!(O.length<=1);)O=O.substring(0,O.length-1);return O.trim()+F}},964:function(d){if(typeof n>"u"){var m=new Error("Cannot find module 'undefined'");throw m.code="MODULE_NOT_FOUND",m}d.exports=n}},s={};function o(d){var m=s[d];if(m!==void 0)return m.exports;var x=s[d]={exports:{}};return r[d].call(x.exports,x,x.exports,o),x.exports}var f={};return function(){var d=f;Object.defineProperty(d,"__esModule",{value:!0}),d.Cell=d.Column=d.Row=d.Table=d.CellHookData=d.__drawTable=d.__createTable=d.applyPlugin=void 0;var m=o(340),x=o(776),N=o(664),S=o(972),E=o(260);Object.defineProperty(d,"Table",{enumerable:!0,get:function(){return E.Table}});var w=o(172);Object.defineProperty(d,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var R=o(260);Object.defineProperty(d,"Cell",{enumerable:!0,get:function(){return R.Cell}}),Object.defineProperty(d,"Column",{enumerable:!0,get:function(){return R.Column}}),Object.defineProperty(d,"Row",{enumerable:!0,get:function(){return R.Row}});function M(k){(0,m.default)(k)}d.applyPlugin=M;function H(k,q){var X=(0,x.parseInput)(k,q),F=(0,S.createTable)(k,X);(0,N.drawTable)(k,F)}function _(k,q){var X=(0,x.parseInput)(k,q);return(0,S.createTable)(k,X)}d.__createTable=_;function I(k,q){(0,N.drawTable)(k,q)}d.__drawTable=I;try{var O=o(964);O.jsPDF&&(O=O.jsPDF),M(O)}catch{}d.default=H}(),f}()})})(g6);const m6=e=>{const t=String(e??"");return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Ml=(e,t,n)=>{const s=[e.join(","),...t.map(d=>d.map(m6).join(","))].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const d=URL.createObjectURL(o);f.setAttribute("href",d),f.setAttribute("download",`${n}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}},Eh=({status:e})=>{const t={[gt.PENDING_ASSIGNMENT]:"bg-yellow-100 text-yellow-800",[gt.ASSIGNED_TO_COURIER]:"bg-blue-100 text-blue-800",[gt.PICKED_UP]:"bg-indigo-100 text-indigo-800",[gt.IN_TRANSIT]:"bg-purple-100 text-purple-800",[gt.OUT_FOR_DELIVERY]:"bg-cyan-100 text-cyan-800",[gt.DELIVERED]:"bg-green-100 text-green-800",[gt.DELIVERY_FAILED]:"bg-red-100 text-red-800",[gt.RETURN_REQUESTED]:"bg-orange-100 text-orange-800",[gt.RETURN_IN_PROGRESS]:"bg-fuchsia-100 text-fuchsia-800",[gt.RETURNED]:"bg-slate-100 text-slate-800"};return p.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t[e]}`,children:e})},Q2=({shipments:e,onSelect:t,showClientFee:n=!1,showCourierCommission:r=!1,showNetProfit:s=!1,showEditableFees:o=!1,updateShipmentFees:f})=>{const[d,m]=We.useState(null),[x,N]=We.useState(""),S=M=>![gt.DELIVERED,gt.RETURNED,gt.DELIVERY_FAILED].includes(M),E=(M,H)=>{m({shipmentId:M.id,field:H});const _=H==="clientFee"?M.clientFlatRateFee:M.courierCommission;N(String(_||""))},w=()=>{if(!d||!f)return;const M=parseFloat(x);if(!isNaN(M)&&M>=0){const H=d.field==="clientFee"?{clientFlatRateFee:M}:{courierCommission:M};f(d.shipmentId,H)}m(null),N("")},R=(M,H)=>{const _=(d==null?void 0:d.shipmentId)===M.id&&(d==null?void 0:d.field)===H,I=H==="clientFee"?M.clientFlatRateFee:M.courierCommission,O=typeof I=="number"?`${I.toFixed(2)} EGP`:"N/A",k=o&&S(M.status)&&f;return _?p.jsx("input",{type:"number",value:x,onChange:q=>N(q.target.value),onBlur:w,onKeyDown:q=>q.key==="Enter"&&w(),autoFocus:!0,className:"w-24 p-1 border border-primary-500 rounded-md"}):p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx("span",{children:O}),k&&p.jsx("button",{onClick:()=>E(M,H),className:"p-1 text-slate-400 hover:text-primary-600 rounded-md opacity-0 group-hover:opacity-100 transition",title:`Edit ${H==="clientFee"?"Client Fee":"Courier Commission"}`,children:p.jsx(Ah,{className:"w-3.5 h-3.5"})})]})};return p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"ID"}),p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"From"}),p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Recipient"}),p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Date"}),p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Price"}),n&&p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Client Fee"}),r&&p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Courier Commission"}),s&&p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Net Profit"}),t&&p.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(M=>{const H=M.clientFlatRateFee,_=M.courierCommission;let I=0,O="N/A";return s&&typeof H=="number"&&typeof _=="number"?(I=H-_,O=`${I.toFixed(2)} EGP`):s&&typeof H=="number"&&(O=`${H.toFixed(2)} EGP`),p.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[p.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:M.id}),p.jsx("td",{className:"px-6 py-4 text-slate-800 font-medium",children:M.clientName}),p.jsx("td",{className:"px-6 py-4 text-slate-800 font-medium",children:M.recipientName}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(M.creationDate).toLocaleDateString()}),p.jsx("td",{className:"px-6 py-4",children:p.jsx(Eh,{status:M.status})}),p.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800",children:[M.price.toFixed(2)," EGP"]}),n&&p.jsx("td",{className:"px-6 py-4 font-semibold text-orange-600",children:R(M,"clientFee")}),r&&p.jsx("td",{className:"px-6 py-4 font-semibold text-indigo-600",children:R(M,"courierCommission")}),s&&p.jsx("td",{className:`px-6 py-4 font-bold ${I>0?"text-green-600":I<0?"text-red-600":"text-slate-600"}`,children:O}),t&&p.jsx("td",{className:"px-6 py-4",children:p.jsx("button",{onClick:()=>t(M),className:"text-primary-600 hover:text-primary-800 font-semibold",children:"Details"})})]},M.id)}),e.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:10,className:"text-center py-8 text-slate-500",children:"No shipments found for the selected period."})})]})]})})},x6=({onSelectShipment:e})=>{const{currentUser:t,shipments:n,users:r,updateShipmentFees:s}=di(),[o,f]=We.useState(""),[d,m]=We.useState("all"),[x,N]=We.useState("all"),[S,E]=We.useState(""),w=r.filter(_=>_.role===dt.CLIENT);if(!t)return null;const R=t.role===dt.ADMIN||t.role===dt.SUPER_USER,M=We.useMemo(()=>{let _=n;t.role===dt.CLIENT&&(_=n.filter(O=>O.clientId===t.id));let I=_;return S&&(I=I.filter(O=>O.creationDate.startsWith(S))),t.role===dt.ADMIN&&(d!=="all"&&(I=I.filter(O=>O.clientId===d)),o.trim()!==""&&(I=I.filter(O=>O.id.toLowerCase().includes(o.trim().toLowerCase()))),x!=="all"&&(I=I.filter(O=>O.status===x))),I.sort((O,k)=>new Date(k.creationDate).getTime()-new Date(O.creationDate).getTime())},[t,n,S,o,d,x]),H=()=>{if(!t)return;const _=M;if(R){const I=["ID","Client","Recipient","Recipient Phone","Date","Status","Courier","Price (EGP)","Client Fee (EGP)","Courier Commission (EGP)","Net Profit (EGP)"],O=_.map(k=>{var j;const q=((j=r.find(K=>K.id===k.courierId))==null?void 0:j.name)||"N/A",X=k.clientFlatRateFee||0,F=k.courierCommission||0;let L=0;return k.courierId&&k.clientFlatRateFee&&k.courierCommission&&(L=X-F),[k.id,k.clientName,k.recipientName,k.recipientPhone,new Date(k.creationDate).toLocaleDateString(),k.status,q,k.price.toFixed(2),X.toFixed(2),F.toFixed(2),L.toFixed(2)]});Ml(I,O,"All_Shipments_Report")}else if(t.role===dt.CLIENT){const I=["ID","Recipient","Date","Status","Price (EGP)"],O=_.map(k=>[k.id,k.recipientName,new Date(k.creationDate).toLocaleDateString(),k.status,k.price.toFixed(2)]);Ml(I,O,`Client_Shipments_${t.name.replace(/\s/g,"_")}`)}};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex justify-between items-center mb-4",children:p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t.role===dt.CLIENT?"My Shipments":"All Shipments"})}),(t.role===dt.CLIENT||t.role===dt.ADMIN)&&p.jsxs("div",{className:"mb-6 bg-white p-4 rounded-xl shadow-sm flex flex-col md:flex-row gap-4 items-center flex-wrap",children:[t.role===dt.ADMIN&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex-grow w-full md:w-auto",children:p.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:o,onChange:_=>f(_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})}),p.jsx("div",{className:"flex-grow w-full md:w-auto",children:p.jsxs("select",{value:d,onChange:_=>m(_.target.value==="all"?"all":Number(_.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[p.jsx("option",{value:"all",children:"All Clients"}),w.map(_=>p.jsx("option",{value:_.id,children:_.name},_.id))]})}),p.jsx("div",{className:"flex-grow w-full md:w-auto",children:p.jsxs("select",{value:x,onChange:_=>N(_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[p.jsx("option",{value:"all",children:"All Statuses"}),Object.values(gt).map(_=>p.jsx("option",{value:_,children:_},_))]})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"date",value:S,onChange:_=>E(_.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white","aria-label":"Filter by creation date"}),S&&p.jsx("button",{onClick:()=>E(""),className:"px-4 py-2 text-sm font-semibold text-slate-600 rounded-lg hover:bg-slate-200 transition","aria-label":"Clear date filter",children:"Clear"})]}),p.jsx("div",{className:"md:ml-auto",children:p.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[p.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]})})]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:p.jsx(Q2,{shipments:M,onSelect:e,showClientFee:R,showCourierCommission:R,showNetProfit:R,showEditableFees:R,updateShipmentFees:s})})]})},ry=({label:e,value:t,onChange:n})=>{const r=We.useRef(null),[s,o]=We.useState(t.street);We.useEffect(()=>{t.street!==s&&o(t.street)},[t.street,s]),We.useEffect(()=>{if(!window.google||!r.current)return;const d=new window.google.maps.places.Autocomplete(r.current,{componentRestrictions:{country:"eg"},fields:["address_components"]});return d.addListener("place_changed",()=>{var M,H;const m=d.getPlace();if(!m.address_components)return;const x=((M=m.address_components.find(_=>_.types.includes("street_number")))==null?void 0:M.long_name)||"",N=((H=m.address_components.find(_=>_.types.includes("route")))==null?void 0:H.long_name)||"",S=`${x} ${N}`.trim();o(S);const E=m.address_components.find(_=>_.types.includes("administrative_area_level_1"));let w=t.city;E!=null&&E.long_name.includes("Cairo")&&(w="Cairo"),E!=null&&E.long_name.includes("Giza")&&(w="Giza");const R=Object.values(Ga).find(_=>_.toLowerCase().startsWith(w.toLowerCase()));n({...t,street:S,city:w,zone:R||t.zone})}),()=>{if(window.google&&d){window.google.maps.event.clearInstanceListeners(d);const m=document.getElementsByClassName("pac-container");for(;m.length>0;)m[0].remove()}}},[n,t]);const f=d=>{o(d.target.value),n({...t,street:d.target.value})};return p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:e}),p.jsx("input",{ref:r,type:"text",value:s,onChange:f,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"Start typing a street address...",required:!0})]})};var ay={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Os,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,o=!r.document&&!!r.postMessage,f=r.IS_PAPA_WORKER||!1,d={},m=0,x={};function N(L){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var K=q(j);K.chunkSize=parseInt(K.chunkSize),j.step||j.chunk||(K.chunkSize=null),this._handle=new M(K),(this._handle.streamer=this)._config=K}).call(this,L),this.parseChunk=function(j,K){var z=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<z){let ne=this._config.newline;ne||(D=this._config.quoteChar||'"',ne=this._handle.guessLineEndings(j,D)),j=[...j.split(ne).slice(z)].join(ne)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(j))!==void 0&&(j=D),this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+j,D=(this._partialLine="",this._handle.parse(z,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=D.meta.cursor,z=(this._finished||(this._partialLine=z.substring(j-this._baseIndex),this._baseIndex=j),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)r.postMessage({results:D,workerId:x.WORKER_ID,finished:z});else if(F(this._config.chunk)&&!K){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!z||!F(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),z||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(j){F(this._config.error)?this._config.error(j):f&&this._config.error&&r.postMessage({workerId:x.WORKER_ID,error:j,finished:!1})}}function S(L){var j;(L=L||{}).chunkSize||(L.chunkSize=x.RemoteChunkSize),N.call(this,L),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),o||(j.onload=X(this._chunkLoaded,this),j.onerror=X(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var K,z=this._config.downloadRequestHeaders;for(K in z)j.setRequestHeader(K,z[K])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+D));try{j.send(this._config.downloadRequestBody)}catch(ne){this._chunkError(ne.message)}o&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(K=>(K=K.getResponseHeader("Content-Range"))!==null?parseInt(K.substring(K.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(K){K=j.statusText||K,this._sendError(new Error(K))}}function E(L){(L=L||{}).chunkSize||(L.chunkSize=x.LocalChunkSize),N.call(this,L);var j,K,z=typeof FileReader<"u";this.stream=function(D){this._input=D,K=D.slice||D.webkitSlice||D.mozSlice,z?((j=new FileReader).onload=X(this._chunkLoaded,this),j.onerror=X(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,ne=(this._config.chunkSize&&(ne=Math.min(this._start+this._config.chunkSize,this._input.size),D=K.call(D,this._start,ne)),j.readAsText(D,this._config.encoding));z||this._chunkLoaded({target:{result:ne}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(j.error)}}function w(L){var j;N.call(this,L=L||{}),this.stream=function(K){return j=K,this._nextChunk()},this._nextChunk=function(){var K,z;if(!this._finished)return K=this._config.chunkSize,j=K?(z=j.substring(0,K),j.substring(K)):(z=j,""),this._finished=!j,this.parseChunk(z)}}function R(L){N.call(this,L=L||{});var j=[],K=!0,z=!1;this.pause=function(){N.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){N.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){z&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):K=!0},this._streamData=X(function(D){try{j.push(typeof D=="string"?D:D.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(ne){this._streamError(ne)}},this),this._streamError=X(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=X(function(){this._streamCleanUp(),z=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function M(L){var j,K,z,D,ne=Math.pow(2,53),ae=-ne,le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,$=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Q=this,ue=0,oe=0,ye=!1,xe=!1,U=[],Z={data:[],errors:[],meta:{}};function ie(be){return L.skipEmptyLines==="greedy"?be.join("").trim()==="":be.length===1&&be[0].length===0}function fe(){if(Z&&z&&(_e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),z=!1),L.skipEmptyLines&&(Z.data=Z.data.filter(function(ke){return!ie(ke)})),ce()){let ke=function(et,qe){F(L.transformHeader)&&(et=L.transformHeader(et,qe)),U.push(et)};if(Z)if(Array.isArray(Z.data[0])){for(var be=0;ce()&&be<Z.data.length;be++)Z.data[be].forEach(ke);Z.data.splice(0,1)}else Z.data.forEach(ke)}function Ee(ke,et){for(var qe=L.header?{}:[],st=0;st<ke.length;st++){var Me=st,me=ke[st],me=((ft,Ge)=>(Pe=>(L.dynamicTypingFunction&&L.dynamicTyping[Pe]===void 0&&(L.dynamicTyping[Pe]=L.dynamicTypingFunction(Pe)),(L.dynamicTyping[Pe]||L.dynamicTyping)===!0))(ft)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Pe=>{if(le.test(Pe)&&(Pe=parseFloat(Pe),ae<Pe&&Pe<ne))return 1})(Ge)?parseFloat(Ge):$.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(Me=L.header?st>=U.length?"__parsed_extra":U[st]:Me,me=L.transform?L.transform(me,Me):me);Me==="__parsed_extra"?(qe[Me]=qe[Me]||[],qe[Me].push(me)):qe[Me]=me}return L.header&&(st>U.length?_e("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+st,oe+et):st<U.length&&_e("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+st,oe+et)),qe}var Ye;Z&&(L.header||L.dynamicTyping||L.transform)&&(Ye=1,!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(Ee),Ye=Z.data.length):Z.data=Ee(Z.data,0),L.header&&Z.meta&&(Z.meta.fields=U),oe+=Ye)}function ce(){return L.header&&U.length===0}function _e(be,Ee,Ye,ke){be={type:be,code:Ee,message:Ye},ke!==void 0&&(be.row=ke),Z.errors.push(be)}F(L.step)&&(D=L.step,L.step=function(be){Z=be,ce()?fe():(fe(),Z.data.length!==0&&(ue+=be.data.length,L.preview&&ue>L.preview?K.abort():(Z.data=Z.data[0],D(Z,Q))))}),this.parse=function(be,Ee,Ye){var ke=L.quoteChar||'"',ke=(L.newline||(L.newline=this.guessLineEndings(be,ke)),z=!1,L.delimiter?F(L.delimiter)&&(L.delimiter=L.delimiter(be),Z.meta.delimiter=L.delimiter):((ke=((et,qe,st,Me,me)=>{var ft,Ge,Pe,Oe;me=me||[",","	","|",";",x.RECORD_SEP,x.UNIT_SEP];for(var Se=0;Se<me.length;Se++){for(var ze,ct=me[Se],ot=0,At=0,yt=0,pt=(Pe=void 0,new _({comments:Me,delimiter:ct,newline:qe,preview:10}).parse(et)),Lt=0;Lt<pt.data.length;Lt++)st&&ie(pt.data[Lt])?yt++:(ze=pt.data[Lt].length,At+=ze,Pe===void 0?Pe=ze:0<ze&&(ot+=Math.abs(ze-Pe),Pe=ze));0<pt.data.length&&(At/=pt.data.length-yt),(Ge===void 0||ot<=Ge)&&(Oe===void 0||Oe<At)&&1.99<At&&(Ge=ot,ft=ct,Oe=At)}return{successful:!!(L.delimiter=ft),bestDelimiter:ft}})(be,L.newline,L.skipEmptyLines,L.comments,L.delimitersToGuess)).successful?L.delimiter=ke.bestDelimiter:(z=!0,L.delimiter=x.DefaultDelimiter),Z.meta.delimiter=L.delimiter),q(L));return L.preview&&L.header&&ke.preview++,j=be,K=new _(ke),Z=K.parse(j,Ee,Ye),fe(),ye?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return ye},this.pause=function(){ye=!0,K.abort(),j=F(L.chunk)?"":j.substring(K.getCharIndex())},this.resume=function(){Q.streamer._halted?(ye=!1,Q.streamer.parseChunk(j,!0)):setTimeout(Q.resume,3)},this.aborted=function(){return xe},this.abort=function(){xe=!0,K.abort(),Z.meta.aborted=!0,F(L.complete)&&L.complete(Z),j=""},this.guessLineEndings=function(et,ke){et=et.substring(0,1048576);var ke=new RegExp(H(ke)+"([^]*?)"+H(ke),"gm"),Ye=(et=et.replace(ke,"")).split("\r"),ke=et.split(`
`),et=1<ke.length&&ke[0].length<Ye[0].length;if(Ye.length===1||et)return`
`;for(var qe=0,st=0;st<Ye.length;st++)Ye[st][0]===`
`&&qe++;return qe>=Ye.length/2?`\r
`:"\r"}}function H(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(L){var j=(L=L||{}).delimiter,K=L.newline,z=L.comments,D=L.step,ne=L.preview,ae=L.fastMode,le=null,$=!1,Q=L.quoteChar==null?'"':L.quoteChar,ue=Q;if(L.escapeChar!==void 0&&(ue=L.escapeChar),(typeof j!="string"||-1<x.BAD_DELIMITERS.indexOf(j))&&(j=","),z===j)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<x.BAD_DELIMITERS.indexOf(z))&&(z=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var oe=0,ye=!1;this.parse=function(xe,U,Z){if(typeof xe!="string")throw new Error("Input must be a string");var ie=xe.length,fe=j.length,ce=K.length,_e=z.length,be=F(D),Ee=[],Ye=[],ke=[],et=oe=0;if(!xe)return ot();if(ae||ae!==!1&&xe.indexOf(Q)===-1){for(var qe=xe.split(K),st=0;st<qe.length;st++){if(ke=qe[st],oe+=ke.length,st!==qe.length-1)oe+=K.length;else if(Z)return ot();if(!z||ke.substring(0,_e)!==z){if(be){if(Ee=[],Oe(ke.split(j)),At(),ye)return ot()}else Oe(ke.split(j));if(ne&&ne<=st)return Ee=Ee.slice(0,ne),ot(!0)}}return ot()}for(var Me=xe.indexOf(j,oe),me=xe.indexOf(K,oe),ft=new RegExp(H(ue)+H(Q),"g"),Ge=xe.indexOf(Q,oe);;)if(xe[oe]===Q)for(Ge=oe,oe++;;){if((Ge=xe.indexOf(Q,Ge+1))===-1)return Z||Ye.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ee.length,index:oe}),ze();if(Ge===ie-1)return ze(xe.substring(oe,Ge).replace(ft,Q));if(Q===ue&&xe[Ge+1]===ue)Ge++;else if(Q===ue||Ge===0||xe[Ge-1]!==ue){Me!==-1&&Me<Ge+1&&(Me=xe.indexOf(j,Ge+1));var Pe=Se((me=me!==-1&&me<Ge+1?xe.indexOf(K,Ge+1):me)===-1?Me:Math.min(Me,me));if(xe.substr(Ge+1+Pe,fe)===j){ke.push(xe.substring(oe,Ge).replace(ft,Q)),xe[oe=Ge+1+Pe+fe]!==Q&&(Ge=xe.indexOf(Q,oe)),Me=xe.indexOf(j,oe),me=xe.indexOf(K,oe);break}if(Pe=Se(me),xe.substring(Ge+1+Pe,Ge+1+Pe+ce)===K){if(ke.push(xe.substring(oe,Ge).replace(ft,Q)),ct(Ge+1+Pe+ce),Me=xe.indexOf(j,oe),Ge=xe.indexOf(Q,oe),be&&(At(),ye))return ot();if(ne&&Ee.length>=ne)return ot(!0);break}Ye.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ee.length,index:oe}),Ge++}}else if(z&&ke.length===0&&xe.substring(oe,oe+_e)===z){if(me===-1)return ot();oe=me+ce,me=xe.indexOf(K,oe),Me=xe.indexOf(j,oe)}else if(Me!==-1&&(Me<me||me===-1))ke.push(xe.substring(oe,Me)),oe=Me+fe,Me=xe.indexOf(j,oe);else{if(me===-1)break;if(ke.push(xe.substring(oe,me)),ct(me+ce),be&&(At(),ye))return ot();if(ne&&Ee.length>=ne)return ot(!0)}return ze();function Oe(yt){Ee.push(yt),et=oe}function Se(yt){var pt=0;return pt=yt!==-1&&(yt=xe.substring(Ge+1,yt))&&yt.trim()===""?yt.length:pt}function ze(yt){return Z||(yt===void 0&&(yt=xe.substring(oe)),ke.push(yt),oe=ie,Oe(ke),be&&At()),ot()}function ct(yt){oe=yt,Oe(ke),ke=[],me=xe.indexOf(K,oe)}function ot(yt){if(L.header&&!U&&Ee.length&&!$){var pt=Ee[0],Lt=Object.create(null),bt=new Set(pt);let Gt=!1;for(let lt=0;lt<pt.length;lt++){let Sn=pt[lt];if(Lt[Sn=F(L.transformHeader)?L.transformHeader(Sn,lt):Sn]){let Tt,at=Lt[Sn];for(;Tt=Sn+"_"+at,at++,bt.has(Tt););bt.add(Tt),pt[lt]=Tt,Lt[Sn]++,Gt=!0,(le=le===null?{}:le)[Tt]=Sn}else Lt[Sn]=1,pt[lt]=Sn;bt.add(Sn)}Gt&&console.warn("Duplicate headers found and renamed."),$=!0}return{data:Ee,errors:Ye,meta:{delimiter:j,linebreak:K,aborted:ye,truncated:!!yt,cursor:et+(U||0),renamedHeaders:le}}}function At(){D(ot()),Ee=[],Ye=[]}},this.abort=function(){ye=!0},this.getCharIndex=function(){return oe}}function I(L){var j=L.data,K=d[j.workerId],z=!1;if(j.error)K.userError(j.error,j.file);else if(j.results&&j.results.data){var D={abort:function(){z=!0,O(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(F(K.userStep)){for(var ne=0;ne<j.results.data.length&&(K.userStep({data:j.results.data[ne],errors:j.results.errors,meta:j.results.meta},D),!z);ne++);delete j.results}else F(K.userChunk)&&(K.userChunk(j.results,D,j.file),delete j.results)}j.finished&&!z&&O(j.workerId,j.results)}function O(L,j){var K=d[L];F(K.userComplete)&&K.userComplete(j),K.terminate(),delete d[L]}function k(){throw new Error("Not implemented.")}function q(L){if(typeof L!="object"||L===null)return L;var j,K=Array.isArray(L)?[]:{};for(j in L)K[j]=q(L[j]);return K}function X(L,j){return function(){L.apply(j,arguments)}}function F(L){return typeof L=="function"}return x.parse=function(L,j){var K=(j=j||{}).dynamicTyping||!1;if(F(K)&&(j.dynamicTypingFunction=K,K={}),j.dynamicTyping=K,j.transform=!!F(j.transform)&&j.transform,!j.worker||!x.WORKERS_SUPPORTED)return K=null,x.NODE_STREAM_INPUT,typeof L=="string"?(L=(z=>z.charCodeAt(0)!==65279?z:z.slice(1))(L),K=new(j.download?S:w)(j)):L.readable===!0&&F(L.read)&&F(L.on)?K=new R(j):(r.File&&L instanceof File||L instanceof Object)&&(K=new E(j)),K.stream(L);(K=(()=>{var z;return!!x.WORKERS_SUPPORTED&&(z=(()=>{var D=r.URL||r.webkitURL||null,ne=n.toString();return x.BLOB_URL||(x.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ne,")();"],{type:"text/javascript"})))})(),(z=new r.Worker(z)).onmessage=I,z.id=m++,d[z.id]=z)})()).userStep=j.step,K.userChunk=j.chunk,K.userComplete=j.complete,K.userError=j.error,j.step=F(j.step),j.chunk=F(j.chunk),j.complete=F(j.complete),j.error=F(j.error),delete j.worker,K.postMessage({input:L,config:j,workerId:K.id})},x.unparse=function(L,j){var K=!1,z=!0,D=",",ne=`\r
`,ae='"',le=ae+ae,$=!1,Q=null,ue=!1,oe=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||x.BAD_DELIMITERS.filter(function(U){return j.delimiter.indexOf(U)!==-1}).length||(D=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(K=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||($=j.skipEmptyLines),typeof j.newline=="string"&&(ne=j.newline),typeof j.quoteChar=="string"&&(ae=j.quoteChar),typeof j.header=="boolean"&&(z=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");Q=j.columns}j.escapeChar!==void 0&&(le=j.escapeChar+ae),j.escapeFormulae instanceof RegExp?ue=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(ue=/^[=+\-@\t\r].*$/)}})(),new RegExp(H(ae),"g"));if(typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(L)){if(!L.length||Array.isArray(L[0]))return ye(null,L,$);if(typeof L[0]=="object")return ye(Q||Object.keys(L[0]),L,$)}else if(typeof L=="object")return typeof L.data=="string"&&(L.data=JSON.parse(L.data)),Array.isArray(L.data)&&(L.fields||(L.fields=L.meta&&L.meta.fields||Q),L.fields||(L.fields=Array.isArray(L.data[0])?L.fields:typeof L.data[0]=="object"?Object.keys(L.data[0]):[]),Array.isArray(L.data[0])||typeof L.data[0]=="object"||(L.data=[L.data])),ye(L.fields||[],L.data||[],$);throw new Error("Unable to serialize unrecognized input");function ye(U,Z,ie){var fe="",ce=(typeof U=="string"&&(U=JSON.parse(U)),typeof Z=="string"&&(Z=JSON.parse(Z)),Array.isArray(U)&&0<U.length),_e=!Array.isArray(Z[0]);if(ce&&z){for(var be=0;be<U.length;be++)0<be&&(fe+=D),fe+=xe(U[be],be);0<Z.length&&(fe+=ne)}for(var Ee=0;Ee<Z.length;Ee++){var Ye=(ce?U:Z[Ee]).length,ke=!1,et=ce?Object.keys(Z[Ee]).length===0:Z[Ee].length===0;if(ie&&!ce&&(ke=ie==="greedy"?Z[Ee].join("").trim()==="":Z[Ee].length===1&&Z[Ee][0].length===0),ie==="greedy"&&ce){for(var qe=[],st=0;st<Ye;st++){var Me=_e?U[st]:st;qe.push(Z[Ee][Me])}ke=qe.join("").trim()===""}if(!ke){for(var me=0;me<Ye;me++){0<me&&!et&&(fe+=D);var ft=ce&&_e?U[me]:me;fe+=xe(Z[Ee][ft],me)}Ee<Z.length-1&&(!ie||0<Ye&&!et)&&(fe+=ne)}}return fe}function xe(U,Z){var ie,fe;return U==null?"":U.constructor===Date?JSON.stringify(U).slice(1,25):(fe=!1,ue&&typeof U=="string"&&ue.test(U)&&(U="'"+U,fe=!0),ie=U.toString().replace(oe,le),(fe=fe||K===!0||typeof K=="function"&&K(U,Z)||Array.isArray(K)&&K[Z]||((ce,_e)=>{for(var be=0;be<_e.length;be++)if(-1<ce.indexOf(_e[be]))return!0;return!1})(ie,x.BAD_DELIMITERS)||-1<ie.indexOf(D)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?ae+ie+ae:ie)}},x.RECORD_SEP="",x.UNIT_SEP="",x.BYTE_ORDER_MARK="\uFEFF",x.BAD_DELIMITERS=["\r",`
`,'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!o&&!!r.Worker,x.NODE_STREAM_INPUT=1,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=_,x.ParserHandle=M,x.NetworkStreamer=S,x.FileStreamer=E,x.StringStreamer=w,x.ReadableStreamStreamer=R,r.jQuery&&((s=r.jQuery).fn.parse=function(L){var j=L.config||{},K=[];return this.each(function(ne){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ae=0;ae<this.files.length;ae++)K.push({file:this.files[ae],inputElem:this,instanceConfig:s.extend({},j)})}),z(),this;function z(){if(K.length===0)F(L.complete)&&L.complete();else{var ne,ae,le,$,Q=K[0];if(F(L.before)){var ue=L.before(Q.file,Q.inputElem);if(typeof ue=="object"){if(ue.action==="abort")return ne="AbortError",ae=Q.file,le=Q.inputElem,$=ue.reason,void(F(L.error)&&L.error({name:ne},ae,le,$));if(ue.action==="skip")return void D();typeof ue.config=="object"&&(Q.instanceConfig=s.extend(Q.instanceConfig,ue.config))}else if(ue==="skip")return void D()}var oe=Q.instanceConfig.complete;Q.instanceConfig.complete=function(ye){F(oe)&&oe(ye,Q.file,Q.inputElem),D()},x.parse(Q.file,Q.instanceConfig)}}function D(){K.splice(0,1),z()}}),f&&(r.onmessage=function(L){L=L.data,x.WORKER_ID===void 0&&L&&(x.WORKER_ID=L.workerId),typeof L.input=="string"?r.postMessage({workerId:x.WORKER_ID,results:x.parse(L.input,L.config),finished:!0}):(r.File&&L.input instanceof File||L.input instanceof Object)&&(L=x.parse(L.input,L.config))&&r.postMessage({workerId:x.WORKER_ID,results:L,finished:!0})}),(S.prototype=Object.create(N.prototype)).constructor=S,(E.prototype=Object.create(N.prototype)).constructor=E,(w.prototype=Object.create(w.prototype)).constructor=w,(R.prototype=Object.create(N.prototype)).constructor=R,x})})(ay);var y6=ay.exports;const wm=nh(y6),v6=()=>{const{currentUser:e,addShipment:t,addToast:n}=di(),[r,s]=We.useState("single"),[o,f]=We.useState(""),[d,m]=We.useState(""),[x,N]=We.useState({street:"",city:"Cairo",zone:Ga.CAIRO_DOWNTOWN,details:""}),[S,E]=We.useState(""),[w,R]=We.useState(Sa.COD),[M,H]=We.useState(ic.STANDARD),[_,I]=We.useState(""),[O,k]=We.useState(null),[q,X]=We.useState([]),[F,L]=We.useState([]),j=(e==null?void 0:e.flatRateFee)||0,K=parseFloat(_)||0,z=K+j,D=xe=>{if(xe.preventDefault(),!(e!=null&&e.address)){n("Please complete your profile address before creating a shipment.","error");return}const U=parseFloat(_);if(isNaN(U)||U<=0){n("Please enter a valid price for the package contents.","error");return}if(w===Sa.WALLET&&((e==null?void 0:e.walletBalance)??0)<z){n(`Insufficient wallet balance to cover the shipping fee. Your balance is ${((e==null?void 0:e.walletBalance)??0).toFixed(2)} EGP, but the total cost is ${z.toFixed(2)} EGP.`,"error");return}t({recipientName:o,recipientPhone:d,fromAddress:e.address,toAddress:x,packageDescription:S,isLargeOrder:!1,price:z,paymentMethod:w,priority:M,packageValue:U}),f(""),m(""),N({street:"",city:"Cairo",zone:Ga.CAIRO_DOWNTOWN,details:""}),E(""),R(Sa.COD),H(ic.STANDARD),I("")},ne=xe=>Object.values(Ga).filter(U=>U.startsWith(xe)),ae=ne(x.city),le=xe=>{xe.target.files&&(k(xe.target.files[0]),X([]),L([]))},$=()=>{if(!O){n("Please select a file to upload.","error");return}wm.parse(O,{header:!0,skipEmptyLines:!0,complete:xe=>{const Z=xe.data.map(ie=>({recipientName:ie["Recipient Name"],recipientPhone:ie["Recipient Phone"],toAddress:{street:ie["Recipient Street"],city:ie.City||"Cairo",zone:ie.Zone,details:ie["Address Details"]||""},packageDescription:ie["Package Description"],paymentMethod:ie["Payment Method"],priority:ie.Priority,packageValue:parseFloat(ie["Package Value"])}));X(Z),Q(Z)}})},Q=xe=>{const U=xe.map(Z=>{const ie=[];return Z.recipientName||ie.push("Recipient Name is required."),Z.recipientPhone||ie.push("Recipient Phone is required."),Z.toAddress.street||ie.push("Recipient Street is required."),Object.values(Ga).includes(Z.toAddress.zone)||ie.push("Invalid Zone."),Object.values(Sa).includes(Z.paymentMethod)||ie.push("Invalid Payment Method."),Object.values(ic).includes(Z.priority)||ie.push("Invalid Priority."),(isNaN(Z.packageValue)||Z.packageValue<=0)&&ie.push("Invalid Package Value."),{isValid:ie.length===0,errors:ie}});L(U)},ue=()=>{if(!(e!=null&&e.address)){n("Please complete your profile address before creating shipments.","error");return}const xe=q.filter((U,Z)=>{var ie;return(ie=F[Z])==null?void 0:ie.isValid});if(xe.length===0){n("No valid shipments to upload.","error");return}xe.forEach(U=>{const Z=(e==null?void 0:e.flatRateFee)||0,ie=U.packageValue+Z;if(U.paymentMethod===Sa.WALLET&&((e==null?void 0:e.walletBalance)??0)<ie){n(`Skipping shipment for ${U.recipientName} due to insufficient wallet balance.`,"error");return}t({...U,fromAddress:e.address,isLargeOrder:!1,price:ie})}),n(`${xe.length} shipments uploaded successfully!`,"success"),k(null),X([]),L([])},oe=()=>{const U=[["Recipient Name","Recipient Phone","Recipient Street","City","Zone","Address Details","Package Description","Payment Method","Priority","Package Value"],["","","","",Object.values(Ga).join(", "),"","",Object.values(Sa).join(", "),Object.values(ic).join(", "),""]],Z=wm.unparse(U),ie=new Blob([Z],{type:"text/csv;charset=utf-8;"}),fe=document.createElement("a");fe.href=URL.createObjectURL(ie),fe.setAttribute("download","bulk_upload_template.csv"),document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},ye=F.length>0&&F.every(xe=>xe.isValid);return p.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm max-w-6xl mx-auto",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Create Shipments"}),p.jsx("div",{className:"border-b border-slate-200 mb-6",children:p.jsxs("nav",{className:"-mb-px flex space-x-6",children:[p.jsx("button",{onClick:()=>s("single"),className:`py-3 px-1 border-b-2 font-semibold text-sm ${r==="single"?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Create Single Shipment"}),p.jsx("button",{onClick:()=>s("bulk"),className:`py-3 px-1 border-b-2 font-semibold text-sm ${r==="bulk"?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bulk Upload Shipments"})]})}),r==="single"&&p.jsxs("form",{onSubmit:D,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Name"}),p.jsx("input",{type:"text",value:o,onChange:xe=>f(xe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Phone"}),p.jsx("input",{type:"tel",value:d,onChange:xe=>m(xe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),p.jsx(ry,{label:"Recipient Street Address",value:x,onChange:N}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),p.jsxs("select",{value:x.city,onChange:xe=>N(U=>({...U,city:xe.target.value,zone:ne(xe.target.value)[0]})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[p.jsx("option",{value:"Cairo",children:"Cairo"}),p.jsx("option",{value:"Giza",children:"Giza"}),p.jsx("option",{value:"Alexandria",children:"Alexandria"}),p.jsx("option",{value:"Other",children:"Other Governorates"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),p.jsx("select",{value:x.zone,onChange:xe=>N(U=>({...U,zone:xe.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:ae.map(xe=>p.jsx("option",{value:xe,children:xe},xe))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Description"}),p.jsx("textarea",{value:S,onChange:xe=>E(xe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",rows:3})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Priority"}),p.jsx("select",{value:M,onChange:xe=>H(xe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:Object.values(ic).map(xe=>p.jsx("option",{value:xe,children:xe},xe))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price of Package Contents (EGP)"}),p.jsx("input",{type:"number",value:_,onChange:xe=>I(xe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0,placeholder:"e.g. 500",min:"0.01",step:"0.01"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method"}),p.jsx("div",{className:"flex gap-4",children:Object.values(Sa).map(xe=>p.jsx("button",{type:"button",onClick:()=>R(xe),className:`px-4 py-2 rounded-lg border-2 transition font-semibold ${w===xe?"bg-primary-600 text-white border-primary-600":"bg-white text-slate-700 border-slate-300 hover:border-primary-500"}`,children:xe},xe))})]}),p.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg text-right",children:[p.jsxs("div",{className:"text-sm text-slate-600",children:["Price of Contents: ",p.jsxs("span",{className:"font-semibold",children:[K.toFixed(2)," EGP"]})]}),p.jsxs("div",{className:"text-sm text-slate-600",children:["Shipping Fee: ",p.jsxs("span",{className:"font-semibold",children:[j.toFixed(2)," EGP"]})]}),p.jsxs("div",{className:"text-lg font-bold text-slate-800 mt-1",children:["Total (Price + Shipping): ",p.jsxs("span",{className:"text-primary-600",children:[z.toFixed(2)," EGP"]})]}),w===Sa.COD&&p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total amount to be collected by courier."})]}),p.jsx("div",{className:"text-right pt-2",children:p.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition",children:[p.jsx(V2,{className:"w-5 h-5 mr-2"}),"Create Shipment"]})})]}),r==="bulk"&&p.jsxs("div",{children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-300 rounded-lg text-center",children:[p.jsx(ow,{className:"mx-auto h-12 w-12 text-slate-400"}),p.jsx("label",{htmlFor:"file-upload",className:"mt-2 block text-sm font-medium text-slate-700",children:"Select a CSV file to upload"}),p.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:le,className:"mt-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("button",{onClick:oe,className:"inline-flex items-center px-4 py-2 bg-slate-600 text-white font-semibold rounded-lg shadow-sm hover:bg-slate-700",children:[p.jsx(sw,{className:"w-5 h-5 mr-2"}),"Download Template"]}),p.jsx("button",{onClick:$,disabled:!O,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg shadow-sm hover:bg-primary-700 disabled:bg-slate-300",children:"Verify Data"})]})]}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Verification Status"}),q.length===0&&p.jsx("p",{className:"text-sm text-slate-500",children:'Upload a file and click "Verify Data" to see the results.'}),q.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`p-3 rounded-lg mb-4 ${ye?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.jsx("p",{className:"font-semibold",children:ye?"All rows are valid and ready for upload.":"Some rows have errors. Please fix them before uploading."})}),p.jsx("button",{onClick:ue,disabled:!ye,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-sm hover:bg-green-700 disabled:bg-slate-300",children:"Upload Valid Shipments"})]})]})]}),q.length>0&&p.jsx("div",{className:"mt-8 overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),Object.keys(q[0]).map(xe=>p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:xe.replace(/([A-Z])/g," $1").trim()},xe))]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:q.map((xe,U)=>{var Z,ie,fe;return p.jsxs("tr",{className:(Z=F[U])!=null&&Z.isValid?"":"bg-red-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(ie=F[U])!=null&&ie.isValid?p.jsx(wf,{className:"w-6 h-6 text-green-500"}):p.jsxs("div",{className:"relative group",children:[p.jsx(wh,{className:"w-6 h-6 text-red-500"}),p.jsx("div",{className:"absolute z-10 hidden group-hover:block bg-slate-800 text-white text-xs rounded py-1 px-2 bottom-full left-1/2 -translate-x-1/2 w-48",children:(fe=F[U])==null?void 0:fe.errors.join(" ")})]})}),Object.values(xe).map((ce,_e)=>p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:typeof ce=="object"?JSON.stringify(ce):String(ce)},_e))]},U)})})]})})]})]})},b6=()=>{const{shipments:e,users:t,assignShipmentToCourier:n,canCourierReceiveAssignment:r,addToast:s}=di(),o=e.filter(m=>m.status===gt.PENDING_ASSIGNMENT),f=t.filter(m=>m.role===dt.COURIER),d=async(m,x)=>{if(!x){s("Please select a courier","error");return}try{if(await n(m,parseInt(x))){const S=document.querySelector(`select[data-shipment-id="${m}"]`);S&&(S.value="")}}catch{s("Failed to assign shipment","error")}};return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Assign Shipments"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign pending shipments to available couriers based on their zone."})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Destination Zone"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[o.map(m=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:m.id}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:m.toAddress.zone})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("select",{onChange:x=>d(m.id,x.target.value),defaultValue:"","data-shipment-id":m.id,className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[p.jsx("option",{value:"",disabled:!0,children:"Select an available courier..."}),f.filter(x=>x.zone===m.toAddress.zone&&r(x.id)).map(x=>p.jsxs("option",{value:x.id,children:[x.name," (",x.zone,")"]},x.id)),f.filter(x=>x.zone===m.toAddress.zone&&r(x.id)).length===0&&p.jsxs("option",{value:"",disabled:!0,children:["No available couriers in ",m.toAddress.zone]})]})})]},m.id)),o.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:3,className:"text-center py-8 text-slate-500",children:"No shipments pending assignment."})})]})]})})]})};var wt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wt||(wt={}));var Am=new Map([[wt.QR_CODE,"QR_CODE"],[wt.AZTEC,"AZTEC"],[wt.CODABAR,"CODABAR"],[wt.CODE_39,"CODE_39"],[wt.CODE_93,"CODE_93"],[wt.CODE_128,"CODE_128"],[wt.DATA_MATRIX,"DATA_MATRIX"],[wt.MAXICODE,"MAXICODE"],[wt.ITF,"ITF"],[wt.EAN_13,"EAN_13"],[wt.EAN_8,"EAN_8"],[wt.PDF_417,"PDF_417"],[wt.RSS_14,"RSS_14"],[wt.RSS_EXPANDED,"RSS_EXPANDED"],[wt.UPC_A,"UPC_A"],[wt.UPC_E,"UPC_E"],[wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Sm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Sm||(Sm={}));function w6(e){return Object.values(wt).includes(e)}var qo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(qo||(qo={}));var qa=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[qo.SCAN_TYPE_CAMERA,qo.SCAN_TYPE_FILE],e}(),sy=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Am.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Am.get(t))},e}(),Nm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Gd;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gd||(Gd={}));var oy=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Gd.UNKWOWN_ERROR}},e}(),ly=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function as(e){return typeof e>"u"||e===null}function A6(e,t,n){return e>n?n:e<t?t:e}var yc=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Tn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Cm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),cy=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),f=Object.keys(t),d=0,m=f;d<m.length;d++){var x=m[d];if(o.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Vd={exports:{}};(function(e,t){(function(n,r){r(t)})(Os,function(n){function r(V){return V==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,i){V.__proto__=i}||function(V,i){for(var a in i)i.hasOwnProperty(a)&&(V[a]=i[a])};function o(V,i){s(V,i);function a(){this.constructor=V}V.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function f(V,i){var a=Object.setPrototypeOf;a?a(V,i):V.__proto__=i}function d(V,i){i===void 0&&(i=V.constructor);var a=Error.captureStackTrace;a&&a(V,i)}var m=function(V){o(i,V);function i(a){var l=this.constructor,c=V.call(this,a)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),f(c,l.prototype),d(c),c}return i}(Error);class x extends m{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class N extends x{}N.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,c){const u=this.binarizer.getLuminanceSource().crop(i,a,l,c);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends x{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class R{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(i,a,l,c,u){for(;u--;)l[c++]=i[a++]}static currentTimeMillis(){return Date.now()}}class H extends x{}H.kind="IndexOutOfBoundsException";class _ extends H{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}_.kind="ArrayIndexOutOfBoundsException";class I{static fill(i,a){for(let l=0,c=i.length;l<c;l++)i[l]=a}static fillWithin(i,a,l,c){I.rangeCheck(i.length,a,l);for(let u=a;u<l;u++)i[u]=c}static rangeCheck(i,a,l){if(a>l)throw new S("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new _(a);if(l>i)throw new _(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(u=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(u=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,c=i.length;l<c;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const c=l-a,u=new Int32Array(c);return M.arraycopy(i,a,u,0,c),u}static binarySearch(i,a,l){l===void 0&&(l=I.numberComparator);let c=0,u=i.length-1;for(;c<=u;){const h=u+c>>1,y=l(a,i[h]);if(y>0)c=h+1;else if(y<0)u=h-1;else return h}return-c-1}static numberComparator(i,a){return i-a}}class O{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=k.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=k.makeArray(i);M.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=l[c]}const y=c*32+O.numberOfTrailingZeros(u);return y>a?a:y}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=~l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=~l[c]}const y=c*32+O.numberOfTrailingZeros(u);return y>a?a:y}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new S;if(a===i)return;a--;const l=Math.floor(i/32),c=Math.floor(a/32),u=this.bits;for(let h=l;h<=c;h++){const y=h>l?0:i&31,C=(2<<(h<c?31:a&31))-(1<<y);u[h]|=C}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new S;if(a===i)return!0;a--;const c=Math.floor(i/32),u=Math.floor(a/32),h=this.bits;for(let y=c;y<=u;y++){const b=y>c?0:i&31,P=(2<<(y<u?31:a&31))-(1<<b)&4294967295;if((h[y]&P)!==(l?P:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new S("Sizes don't match");const a=this.bits;for(let l=0,c=a.length;l<c;l++)a[l]^=i.bits[l]}toBytes(i,a,l,c){for(let u=0;u<c;u++){let h=0;for(let y=0;y<8;y++)this.get(i)&&(h|=1<<7-y),i++;a[l+u]=h}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,c=this.bits;for(let u=0;u<l;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,i[a-u]=h}if(this.size!==l*32){const u=l*32-this.size;let h=i[0]>>>u;for(let y=1;y<l;y++){const b=i[y];h|=b<<32-u,i[y-1]=h,h=b>>>u}i[l-1]=h}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof k))return!1;const a=i;return this.size===a.size&&I.equals(this.bits,a.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new k(this.size,this.bits.slice())}}var q;(function(V){V[V.OTHER=0]="OTHER",V[V.PURE_BARCODE=1]="PURE_BARCODE",V[V.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",V[V.TRY_HARDER=3]="TRY_HARDER",V[V.CHARACTER_SET=4]="CHARACTER_SET",V[V.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",V[V.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",V[V.ASSUME_GS1=7]="ASSUME_GS1",V[V.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",V[V.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",V[V.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var X=q;class F extends x{static getFormatInstance(){return new F}}F.kind="FormatException";var L;(function(V){V[V.Cp437=0]="Cp437",V[V.ISO8859_1=1]="ISO8859_1",V[V.ISO8859_2=2]="ISO8859_2",V[V.ISO8859_3=3]="ISO8859_3",V[V.ISO8859_4=4]="ISO8859_4",V[V.ISO8859_5=5]="ISO8859_5",V[V.ISO8859_6=6]="ISO8859_6",V[V.ISO8859_7=7]="ISO8859_7",V[V.ISO8859_8=8]="ISO8859_8",V[V.ISO8859_9=9]="ISO8859_9",V[V.ISO8859_10=10]="ISO8859_10",V[V.ISO8859_11=11]="ISO8859_11",V[V.ISO8859_13=12]="ISO8859_13",V[V.ISO8859_14=13]="ISO8859_14",V[V.ISO8859_15=14]="ISO8859_15",V[V.ISO8859_16=15]="ISO8859_16",V[V.SJIS=16]="SJIS",V[V.Cp1250=17]="Cp1250",V[V.Cp1251=18]="Cp1251",V[V.Cp1252=19]="Cp1252",V[V.Cp1256=20]="Cp1256",V[V.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",V[V.UTF8=22]="UTF8",V[V.ASCII=23]="ASCII",V[V.Big5=24]="Big5",V[V.GB18030=25]="GB18030",V[V.EUC_KR=26]="EUC_KR"})(L||(L={}));class j{constructor(i,a,l,...c){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,j.VALUE_IDENTIFIER_TO_ECI.set(i,this),j.NAME_TO_ECI.set(l,this);const u=this.values;for(let h=0,y=u.length;h!==y;h++){const b=u[h];j.VALUES_TO_ECI.set(b,this)}for(const h of c)j.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new F("incorect value");const a=j.VALUES_TO_ECI.get(i);if(a===void 0)throw new F("incorect value");return a}static getCharacterSetECIByName(i){const a=j.NAME_TO_ECI.get(i);if(a===void 0)throw new F("incorect value");return a}equals(i){if(!(i instanceof j))return!1;const a=i;return this.getName()===a.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(L.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(L.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(L.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(L.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(L.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(L.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(L.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(L.Big5,28,"Big5"),j.GB18030=new j(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(L.EUC_KR,30,"EUC_KR","EUC-KR");class K extends x{}K.kind="UnsupportedOperationException";class z{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!z.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof j?i:j.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(z.isDecodeFallbackSupported(l)){let c="";for(let u=0,h=i.length;u<h;u++){let y=i[u].toString(16);y.length<2&&(y="0"+y),c+="%"+y}return decodeURIComponent(c)}if(l.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new K(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(j.UTF8)||i.equals(j.ISO8859_1)||i.equals(j.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let u=0;u<l.length;u++)c.push(l[u].charCodeAt(0));return new Uint8Array(c)}}class D{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return z.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(X.CHARACTER_SET)!==void 0)return a.get(X.CHARACTER_SET).toString();const l=i.length;let c=!0,u=!0,h=!0,y=0,b=0,C=0,P=0,G=0,ee=0,ge=0,ve=0,Ae=0,Ie=0,Ue=0;const tt=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let rt=0;rt<l&&(c||u||h);rt++){const nt=i[rt]&255;h&&(y>0?nt&128?y--:h=!1:nt&128&&(nt&64?(y++,nt&32?(y++,nt&16?(y++,nt&8?h=!1:P++):C++):b++):h=!1)),c&&(nt>127&&nt<160?c=!1:nt>159&&(nt<192||nt===215||nt===247)&&Ue++),u&&(G>0?nt<64||nt===127||nt>252?u=!1:G--:nt===128||nt===160||nt>239?u=!1:nt>160&&nt<224?(ee++,ve=0,ge++,ge>Ae&&(Ae=ge)):nt>127?(G++,ge=0,ve++,ve>Ie&&(Ie=ve)):(ge=0,ve=0))}return h&&y>0&&(h=!1),u&&G>0&&(u=!1),h&&(tt||b+C+P>0)?D.UTF8:u&&(D.ASSUME_SHIFT_JIS||Ae>=3||Ie>=3)?D.SHIFT_JIS:c&&u?Ae===2&&ee===2||Ue*10>=l?D.SHIFT_JIS:D.ISO88591:c?D.ISO88591:u?D.SHIFT_JIS:h?D.UTF8:D.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function c(h,y,b,C,P,G){if(h==="%%")return"%";if(a[++l]===void 0)return;h=C?parseInt(C.substr(1)):void 0;let ee=P?parseInt(P.substr(1)):void 0,ge;switch(G){case"s":ge=a[l];break;case"c":ge=a[l][0];break;case"f":ge=parseFloat(a[l]).toFixed(h);break;case"p":ge=parseFloat(a[l]).toPrecision(h);break;case"e":ge=parseFloat(a[l]).toExponential(h);break;case"x":ge=parseInt(a[l]).toString(ee||16);break;case"d":ge=parseFloat(parseInt(a[l],ee||10).toPrecision(h)).toFixed(0);break}ge=typeof ge=="object"?JSON.stringify(ge):(+ge).toString(ee);let ve=parseInt(b),Ae=b&&b[0]+""=="0"?"0":" ";for(;ge.length<ve;)ge=y!==void 0?ge+Ae:Ae+ge;return ge}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}static getBytes(i,a){return z.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}D.SHIFT_JIS=j.SJIS.getName(),D.GB2312="GB2312",D.ISO88591=j.ISO8859_1.getName(),D.EUC_JP="EUC_JP",D.UTF8=j.UTF8.getName(),D.PLATFORM_DEFAULT_ENCODING=D.UTF8,D.ASSUME_SHIFT_JIS=!1;class ne{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=D.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let c=a;a<a+l;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class ae{constructor(i,a,l,c){if(this.width=i,this.height=a,this.rowSize=l,this.bits=c,a==null&&(a=i),this.height=a,i<1||a<1)throw new S("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,c=new ae(l,a);for(let u=0;u<a;u++){const h=i[u];for(let y=0;y<l;y++)h[y]&&c.set(y,u)}return c}static parseFromString(i,a,l){if(i===null)throw new S("stringRepresentation cannot be null");const c=new Array(i.length);let u=0,h=0,y=-1,b=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(u>h){if(y===-1)y=u-h;else if(u-h!==y)throw new S("row lengths do not match");h=u,b++}C++}else if(i.substring(C,C+a.length)===a)C+=a.length,c[u]=!0,u++;else if(i.substring(C,C+l.length)===l)C+=l.length,c[u]=!1,u++;else throw new S("illegal character encountered: "+i.substring(C));if(u>h){if(y===-1)y=u-h;else if(u-h!==y)throw new S("row lengths do not match");b++}const P=new ae(y,b);for(let G=0;G<u;G++)c[G]&&P.set(Math.floor(G%y),Math.floor(G/y));return P}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new S("input matrix dimensions do not match");const a=new k(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const y=u*l,b=i.getRow(u,a).getBitArray();for(let C=0;C<l;C++)c[y+C]^=b[C]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,c){if(a<0||i<0)throw new S("Left and top must be nonnegative");if(c<1||l<1)throw new S("Height and width must be at least 1");const u=i+l,h=a+c;if(h>this.height||u>this.width)throw new S("The region must fit inside the matrix");const y=this.rowSize,b=this.bits;for(let C=a;C<h;C++){const P=C*y;for(let G=i;G<u;G++)b[P+Math.floor(G/32)]|=1<<(G&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new k(this.width):a.clear();const l=this.rowSize,c=this.bits,u=i*l;for(let h=0;h<l;h++)a.setBulk(h*32,c[u+h]);return a}setRow(i,a){M.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new k(i),c=new k(i);for(let u=0,h=Math.floor((a+1)/2);u<h;u++)l=this.getRow(u,l),c=this.getRow(a-1-u,c),l.reverse(),c.reverse(),this.setRow(u,c),this.setRow(a-1-u,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,c=this.bits;let u=i,h=a,y=-1,b=-1;for(let C=0;C<a;C++)for(let P=0;P<l;P++){const G=c[C*l+P];if(G!==0){if(C<h&&(h=C),C>b&&(b=C),P*32<u){let ee=0;for(;!(G<<31-ee&4294967295);)ee++;P*32+ee<u&&(u=P*32+ee)}if(P*32+31>y){let ee=31;for(;!(G>>>ee);)ee--;P*32+ee>y&&(y=P*32+ee)}}}return y<u||b<h?null:Int32Array.from([u,h,y-u+1,b-h+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const c=l/i;let u=l%i*32;const h=a[l];let y=0;for(;!(h<<31-y&4294967295);)y++;return u+=y,Int32Array.from([u,c])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/i);let u=Math.floor(l%i)*32;const h=a[l];let y=31;for(;!(h>>>y);)y--;return u+=y,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ae))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&I.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+I.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let c=new ne;for(let u=0,h=this.height;u<h;u++){for(let y=0,b=this.width;y<b;y++)c.append(this.get(y,u)?i:a);c.append(l)}return c.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends x{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class $ extends R{constructor(i){super(i),this.luminances=$.EMPTY,this.buckets=new Int32Array($.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),c=l.getWidth();a==null||a.getSize()<c?a=new k(c):a.clear(),this.initArrays(c);const u=l.getRow(i,this.luminances),h=this.buckets;for(let b=0;b<c;b++)h[(u[b]&255)>>$.LUMINANCE_SHIFT]++;const y=$.estimateBlackPoint(h);if(c<3)for(let b=0;b<c;b++)(u[b]&255)<y&&a.set(b);else{let b=u[0]&255,C=u[1]&255;for(let P=1;P<c-1;P++){const G=u[P+1]&255;(C*4-b-G)/2<y&&a.set(P),b=C,C=G}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),c=new ae(a,l);this.initArrays(a);const u=this.buckets;for(let b=1;b<5;b++){const C=Math.floor(l*b/5),P=i.getRow(C,this.luminances),G=Math.floor(a*4/5);for(let ee=Math.floor(a/5);ee<G;ee++){const ge=P[ee]&255;u[ge>>$.LUMINANCE_SHIFT]++}}const h=$.estimateBlackPoint(u),y=i.getMatrix();for(let b=0;b<l;b++){const C=b*a;for(let P=0;P<a;P++)(y[C+P]&255)<h&&c.set(P,b)}return c}createBinarizer(i){return new $(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<$.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,c=0,u=0;for(let P=0;P<a;P++)i[P]>u&&(c=P,u=i[P]),i[P]>l&&(l=i[P]);let h=0,y=0;for(let P=0;P<a;P++){const G=P-c,ee=i[P]*G*G;ee>y&&(h=P,y=ee)}if(c>h){const P=c;c=h,h=P}if(h-c<=a/16)throw new le;let b=h-1,C=-1;for(let P=h-1;P>c;P--){const G=P-c,ee=G*G*(h-P)*(l-i[P]);ee>C&&(b=P,C=ee)}return b<<$.LUMINANCE_SHIFT}}$.LUMINANCE_BITS=5,$.LUMINANCE_SHIFT=8-$.LUMINANCE_BITS,$.LUMINANCE_BUCKETS=1<<$.LUMINANCE_BITS,$.EMPTY=Uint8ClampedArray.from([0]);class Q extends ${constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=Q.MINIMUM_DIMENSION&&l>=Q.MINIMUM_DIMENSION){const c=i.getMatrix();let u=a>>Q.BLOCK_SIZE_POWER;a&Q.BLOCK_SIZE_MASK&&u++;let h=l>>Q.BLOCK_SIZE_POWER;l&Q.BLOCK_SIZE_MASK&&h++;const y=Q.calculateBlackPoints(c,u,h,a,l),b=new ae(a,l);Q.calculateThresholdForBlock(c,u,h,a,l,y,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Q(i)}static calculateThresholdForBlock(i,a,l,c,u,h,y){const b=u-Q.BLOCK_SIZE,C=c-Q.BLOCK_SIZE;for(let P=0;P<l;P++){let G=P<<Q.BLOCK_SIZE_POWER;G>b&&(G=b);const ee=Q.cap(P,2,l-3);for(let ge=0;ge<a;ge++){let ve=ge<<Q.BLOCK_SIZE_POWER;ve>C&&(ve=C);const Ae=Q.cap(ge,2,a-3);let Ie=0;for(let tt=-2;tt<=2;tt++){const rt=h[ee+tt];Ie+=rt[Ae-2]+rt[Ae-1]+rt[Ae]+rt[Ae+1]+rt[Ae+2]}const Ue=Ie/25;Q.thresholdBlock(i,ve,G,Ue,c,y)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,c,u,h){for(let y=0,b=l*u+a;y<Q.BLOCK_SIZE;y++,b+=u)for(let C=0;C<Q.BLOCK_SIZE;C++)(i[b+C]&255)<=c&&h.set(a+C,l+y)}static calculateBlackPoints(i,a,l,c,u){const h=u-Q.BLOCK_SIZE,y=c-Q.BLOCK_SIZE,b=new Array(l);for(let C=0;C<l;C++){b[C]=new Int32Array(a);let P=C<<Q.BLOCK_SIZE_POWER;P>h&&(P=h);for(let G=0;G<a;G++){let ee=G<<Q.BLOCK_SIZE_POWER;ee>y&&(ee=y);let ge=0,ve=255,Ae=0;for(let Ue=0,tt=P*c+ee;Ue<Q.BLOCK_SIZE;Ue++,tt+=c){for(let rt=0;rt<Q.BLOCK_SIZE;rt++){const nt=i[tt+rt]&255;ge+=nt,nt<ve&&(ve=nt),nt>Ae&&(Ae=nt)}if(Ae-ve>Q.MIN_DYNAMIC_RANGE)for(Ue++,tt+=c;Ue<Q.BLOCK_SIZE;Ue++,tt+=c)for(let rt=0;rt<Q.BLOCK_SIZE;rt++)ge+=i[tt+rt]&255}let Ie=ge>>Q.BLOCK_SIZE_POWER*2;if(Ae-ve<=Q.MIN_DYNAMIC_RANGE&&(Ie=ve/2,C>0&&G>0)){const Ue=(b[C-1][G]+2*b[C][G-1]+b[C-1][G-1])/4;ve<Ue&&(Ie=Ue)}b[C][G]=Ie}}return b}}Q.BLOCK_SIZE_POWER=3,Q.BLOCK_SIZE=1<<Q.BLOCK_SIZE_POWER,Q.BLOCK_SIZE_MASK=Q.BLOCK_SIZE-1,Q.MINIMUM_DIMENSION=Q.BLOCK_SIZE*5,Q.MIN_DYNAMIC_RANGE=24;class ue{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,c){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new ne;for(let l=0;l<this.height;l++){const c=this.getRow(l,i);for(let u=0;u<this.width;u++){const h=c[u]&255;let y;h<64?y="#":h<128?y="+":h<192?y=".":y=" ",a.append(y)}a.append(`
`)}return a.toString()}}class oe extends ue{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),c=this.getWidth();for(let u=0;u<c;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let c=0;c<a;c++)l[c]=255-(i[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,c){return new oe(this.delegate.crop(i,a,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new oe(this.delegate.rotateCounterClockwise45())}}class ye extends ue{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return ye.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const c=new Uint8ClampedArray(a*l);for(let u=0,h=0,y=i.length;u<y;u+=4,h++){let b;if(i[u+3]===0)b=255;else{const P=i[u],G=i[u+1],ee=i[u+2];b=306*P+601*G+117*ee+512>>10}c[h]=b}return c}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth(),c=i*l;return a===null?a=this.buffer.slice(c,c+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(c,c+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,c){return super.crop(i,a,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),c=i*ye.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),b=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return a.width=y,a.height=b,l.translate(y/2,b/2),l.rotate(c),l.drawImage(this.canvas,u/-2,h/-2),this.buffer=ye.makeBufferFromCanvasImageData(a),this}invert(){return new oe(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class xe{constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||Os||self||window||void 0)&&(globalThis||Os||self||window||void 0).__awaiter||function(V,i,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function y(P){try{C(l.next(P))}catch(G){h(G)}}function b(P){try{C(l.throw(P))}catch(G){h(G)}}function C(P){P.done?u(P.value):c(P.value).then(y,b)}C((l=l.apply(V,i||[])).next())})};class Z{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const u=l.deviceId||l.id,h=l.label||`Video device ${a.length+1}`,y=l.groupId,b={deviceId:u,label:h,kind:c,groupId:y};a.push(b)}return a})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new xe(a.deviceId,a.label))})}findDeviceById(i){return U(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return U(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(i,a){return U(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return U(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return U(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,a,l)})}decodeFromConstraints(i,a,l){return U(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,a,l)})}decodeFromStream(i,a,l){return U(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return U(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new N(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new N(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new N("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new N("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new N("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new N("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new N("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new N("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,a);return l.src=i,c}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(i);u(y)}catch(y){const b=a&&y instanceof le,P=(y instanceof w||y instanceof F)&&l;if(b||P)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(y)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);a(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){a(null,c);const u=c instanceof w||c instanceof F,h=c instanceof le;(u||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new ye(a),c=new Q(l);return new E(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=c+"px",a.width=l,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ie{constructor(i,a,l=a==null?0:8*a.length,c,u,h=M.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=M.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);M.arraycopy(a,0,l,0,a.length),M.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var fe;(function(V){V[V.AZTEC=0]="AZTEC",V[V.CODABAR=1]="CODABAR",V[V.CODE_39=2]="CODE_39",V[V.CODE_93=3]="CODE_93",V[V.CODE_128=4]="CODE_128",V[V.DATA_MATRIX=5]="DATA_MATRIX",V[V.EAN_8=6]="EAN_8",V[V.EAN_13=7]="EAN_13",V[V.ITF=8]="ITF",V[V.MAXICODE=9]="MAXICODE",V[V.PDF_417=10]="PDF_417",V[V.QR_CODE=11]="QR_CODE",V[V.RSS_14=12]="RSS_14",V[V.RSS_EXPANDED=13]="RSS_EXPANDED",V[V.UPC_A=14]="UPC_A",V[V.UPC_E=15]="UPC_E",V[V.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var ce=fe,_e;(function(V){V[V.OTHER=0]="OTHER",V[V.ORIENTATION=1]="ORIENTATION",V[V.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",V[V.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",V[V.ISSUE_NUMBER=4]="ISSUE_NUMBER",V[V.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",V[V.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",V[V.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",V[V.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",V[V.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",V[V.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_e||(_e={}));var be=_e;class Ee{constructor(i,a,l,c,u=-1,h=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ye{exp(i){return this.expTable[i]}log(i){if(i===0)throw new S;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class ke{constructor(i,a){if(a.length===0)throw new S;this.field=i;const l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let h=0,y=a.length;h!==y;h++){const b=a[h];l=Ye.addOrSubtract(l,b)}return l}l=a[0];const c=a.length,u=this.field;for(let h=1;h<c;h++)l=Ye.addOrSubtract(u.multiply(i,l),a[h]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let c=new Int32Array(l.length);const u=l.length-a.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=Ye.addOrSubtract(a[h-u],l[h]);return new ke(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1),y=this.field;for(let b=0;b<l;b++){const C=a[b];for(let P=0;P<u;P++)h[b+P]=Ye.addOrSubtract(h[b+P],y.multiply(C,c[P]))}return new ke(y,h)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,c=new Int32Array(a),u=this.coefficients;for(let h=0;h<a;h++)c[h]=l.multiply(u[h],i);return new ke(l,c)}multiplyByMonomial(i,a){if(i<0)throw new S;if(a===0)return this.field.getZero();const l=this.coefficients,c=l.length,u=new Int32Array(c+i),h=this.field;for(let y=0;y<c;y++)u[y]=h.multiply(l[y],a);return new ke(h,u)}divide(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new S("Divide by 0");const a=this.field;let l=a.getZero(),c=this;const u=i.getCoefficient(i.getDegree()),h=a.inverse(u);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const y=c.getDegree()-i.getDegree(),b=a.multiply(c.getCoefficient(c.getDegree()),h),C=i.multiplyByMonomial(y,b),P=a.buildMonomial(y,b);l=l.addOrSubtract(P),c=c.addOrSubtract(C)}return[l,c]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const c=this.field.log(l);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class et extends x{}et.kind="ArithmeticException";class qe extends Ye{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const c=new Int32Array(a);let u=1;for(let y=0;y<a;y++)c[y]=u,u*=2,u>=a&&(u^=i,u&=a-1);this.expTable=c;const h=new Int32Array(a);for(let y=0;y<a-1;y++)h[c[y]]=y;this.logTable=h,this.zero=new ke(this,Int32Array.from([0])),this.one=new ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new S;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new ke(this,l)}inverse(i){if(i===0)throw new et;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class st extends x{}st.kind="ReedSolomonException";class Me extends x{}Me.kind="IllegalStateException";class me{constructor(i){this.field=i}decode(i,a){const l=this.field,c=new ke(l,i),u=new Int32Array(a);let h=!0;for(let ge=0;ge<a;ge++){const ve=c.evaluateAt(l.exp(ge+l.getGeneratorBase()));u[u.length-1-ge]=ve,ve!==0&&(h=!1)}if(h)return;const y=new ke(l,u),b=this.runEuclideanAlgorithm(l.buildMonomial(a,1),y,a),C=b[0],P=b[1],G=this.findErrorLocations(C),ee=this.findErrorMagnitudes(P,G);for(let ge=0;ge<G.length;ge++){const ve=i.length-1-l.log(G[ge]);if(ve<0)throw new st("Bad error location");i[ve]=qe.addOrSubtract(i[ve],ee[ge])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const ge=i;i=a,a=ge}const c=this.field;let u=i,h=a,y=c.getZero(),b=c.getOne();for(;h.getDegree()>=(l/2|0);){let ge=u,ve=y;if(u=h,y=b,u.isZero())throw new st("r_{i-1} was zero");h=ge;let Ae=c.getZero();const Ie=u.getCoefficient(u.getDegree()),Ue=c.inverse(Ie);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const tt=h.getDegree()-u.getDegree(),rt=c.multiply(h.getCoefficient(h.getDegree()),Ue);Ae=Ae.addOrSubtract(c.buildMonomial(tt,rt)),h=h.addOrSubtract(u.multiplyByMonomial(tt,rt))}if(b=Ae.multiply(y).addOrSubtract(ve),h.getDegree()>=u.getDegree())throw new Me("Division algorithm failed to reduce polynomial?")}const C=b.getCoefficient(0);if(C===0)throw new st("sigmaTilde(0) was zero");const P=c.inverse(C),G=b.multiplyScalar(P),ee=h.multiplyScalar(P);return[G,ee]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<a;h++)i.evaluateAt(h)===0&&(l[c]=u.inverse(h),c++);if(c!==a)throw new st("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,c=new Int32Array(l),u=this.field;for(let h=0;h<l;h++){const y=u.inverse(a[h]);let b=1;for(let C=0;C<l;C++)if(h!==C){const P=u.multiply(a[C],y),G=P&1?P&-2:P|1;b=u.multiply(b,G)}c[h]=u.multiply(i.evaluateAt(y),u.inverse(b)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],y))}return c}}var ft;(function(V){V[V.UPPER=0]="UPPER",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.DIGIT=3]="DIGIT",V[V.PUNCT=4]="PUNCT",V[V.BINARY=5]="BINARY"})(ft||(ft={}));class Ge{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),c=this.correctBits(l),u=Ge.convertBoolArrayToByteArray(c),h=Ge.getEncodedData(c),y=new Ee(u,h,null,null);return y.setNumBits(c.length),y}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=ft.UPPER,c=ft.UPPER,u="",h=0;for(;h<a;)if(c===ft.BINARY){if(a-h<5)break;let y=Ge.readCode(i,h,5);if(h+=5,y===0){if(a-h<11)break;y=Ge.readCode(i,h,11)+31,h+=11}for(let b=0;b<y;b++){if(a-h<8){h=a;break}const C=Ge.readCode(i,h,8);u+=D.castAsNonUtf8Char(C),h+=8}c=l}else{let y=c===ft.DIGIT?4:5;if(a-h<y)break;let b=Ge.readCode(i,h,y);h+=y;let C=Ge.getCharacter(c,b);C.startsWith("CTRL_")?(l=c,c=Ge.getTable(C.charAt(5)),C.charAt(6)==="L"&&(l=c)):(u+=C,c=l)}return u}static getTable(i){switch(i){case"L":return ft.LOWER;case"P":return ft.PUNCT;case"M":return ft.MIXED;case"D":return ft.DIGIT;case"B":return ft.BINARY;case"U":default:return ft.UPPER}}static getCharacter(i,a){switch(i){case ft.UPPER:return Ge.UPPER_TABLE[a];case ft.LOWER:return Ge.LOWER_TABLE[a];case ft.MIXED:return Ge.MIXED_TABLE[a];case ft.PUNCT:return Ge.PUNCT_TABLE[a];case ft.DIGIT:return Ge.DIGIT_TABLE[a];default:throw new Me("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=qe.AZTEC_DATA_10):(l=12,a=qe.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=i.length/l;if(u<c)throw new F;let h=i.length%l,y=new Int32Array(u);for(let ee=0;ee<u;ee++,h+=l)y[ee]=Ge.readCode(i,h,l);try{new me(a).decode(y,u-c)}catch(ee){throw new F(ee)}let b=(1<<l)-1,C=0;for(let ee=0;ee<c;ee++){let ge=y[ee];if(ge===0||ge===b)throw new F;(ge===1||ge===b-1)&&C++}let P=new Array(c*l-C),G=0;for(let ee=0;ee<c;ee++){let ge=y[ee];if(ge===1||ge===b-1)P.fill(ge>1,G,G+l-1),G+=l-1;else for(let ve=l-1;ve>=0;--ve)P[G++]=(ge&1<<ve)!==0}return P}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(a?11:14)+l*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let y=0;y<u.length;y++)u[y]=y;else{let y=c+1+2*O.truncDivision(O.truncDivision(c,2)-1,15),b=c/2,C=O.truncDivision(y,2);for(let P=0;P<b;P++){let G=P+O.truncDivision(P,15);u[b-P-1]=C-G-1,u[b+P]=C+G+1}}for(let y=0,b=0;y<l;y++){let C=(l-y)*4+(a?9:12),P=y*2,G=c-1-P;for(let ee=0;ee<C;ee++){let ge=ee*2;for(let ve=0;ve<2;ve++)h[b+ge+ve]=i.get(u[P+ve],u[P+ee]),h[b+2*C+ge+ve]=i.get(u[P+ee],u[G-ve]),h[b+4*C+ge+ve]=i.get(u[G-ve],u[G-ee]),h[b+6*C+ge+ve]=i.get(u[G-ee],u[P+ve])}b+=C*8}return h}static readCode(i,a,l){let c=0;for(let u=a;u<a+l;u++)c<<=1,i[u]&&(c|=1);return c}static readByte(i,a){let l=i.length-a;return l>=8?Ge.readCode(i,a,8):Ge.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=Ge.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Ge.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ge.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ge.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Pe{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,c){const u=i-l,h=a-c;return Math.sqrt(u*u+h*h)}static sum(i){let a=0;for(let l=0,c=i.length;l!==c;l++){const u=i[l];a+=u}return a}}class Oe{static floatToIntBits(i){return i}}Oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Se){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Oe.floatToIntBits(this.x)+Oe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let u,h,y;if(l>=a&&l>=c?(h=i[0],u=i[1],y=i[2]):c>=l&&c>=a?(h=i[1],u=i[0],y=i[2]):(h=i[2],u=i[0],y=i[1]),this.crossProductZ(u,h,y)<0){const b=u;u=y,y=b}i[0]=u,i[1]=h,i[2]=y}static distance(i,a){return Pe.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const c=a.x,u=a.y;return(l.x-c)*(i.y-u)-(l.y-u)*(i.x-c)}}class ze{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ct extends ze{constructor(i,a,l,c,u){super(i,a),this.compact=l,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ot{constructor(i,a,l,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=ot.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const u=a/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,c=this.downInit,u=!1,h=!0,y=!1,b=!1,C=!1,P=!1,G=!1;const ee=this.width,ge=this.height;for(;h;){h=!1;let ve=!0;for(;(ve||!b)&&a<ee;)ve=this.containsBlackPoint(l,c,a,!1),ve?(a++,h=!0,b=!0):b||a++;if(a>=ee){u=!0;break}let Ae=!0;for(;(Ae||!C)&&c<ge;)Ae=this.containsBlackPoint(i,a,c,!0),Ae?(c++,h=!0,C=!0):C||c++;if(c>=ge){u=!0;break}let Ie=!0;for(;(Ie||!P)&&i>=0;)Ie=this.containsBlackPoint(l,c,i,!1),Ie?(i--,h=!0,P=!0):P||i--;if(i<0){u=!0;break}let Ue=!0;for(;(Ue||!G)&&l>=0;)Ue=this.containsBlackPoint(i,a,l,!0),Ue?(l--,h=!0,G=!0):G||l--;if(l<0){u=!0;break}h&&(y=!0)}if(!u&&y){const ve=a-i;let Ae=null;for(let rt=1;Ae===null&&rt<ve;rt++)Ae=this.getBlackPointOnSegment(i,c-rt,i+rt,c);if(Ae==null)throw new le;let Ie=null;for(let rt=1;Ie===null&&rt<ve;rt++)Ie=this.getBlackPointOnSegment(i,l+rt,i+rt,l);if(Ie==null)throw new le;let Ue=null;for(let rt=1;Ue===null&&rt<ve;rt++)Ue=this.getBlackPointOnSegment(a,l+rt,a-rt,l);if(Ue==null)throw new le;let tt=null;for(let rt=1;tt===null&&rt<ve;rt++)tt=this.getBlackPointOnSegment(a,c-rt,a-rt,c);if(tt==null)throw new le;return this.centerEdges(tt,Ae,Ue,Ie)}else throw new le}getBlackPointOnSegment(i,a,l,c){const u=Pe.round(Pe.distance(i,a,l,c)),h=(l-i)/u,y=(c-a)/u,b=this.image;for(let C=0;C<u;C++){const P=Pe.round(i+C*h),G=Pe.round(a+C*y);if(b.get(P,G))return new Se(P,G)}return null}centerEdges(i,a,l,c){const u=i.getX(),h=i.getY(),y=a.getX(),b=a.getY(),C=l.getX(),P=l.getY(),G=c.getX(),ee=c.getY(),ge=ot.CORR;return u<this.width/2?[new Se(G-ge,ee+ge),new Se(y+ge,b+ge),new Se(C-ge,P-ge),new Se(u+ge,h-ge)]:[new Se(G+ge,ee+ge),new Se(y+ge,b-ge),new Se(C-ge,P+ge),new Se(u-ge,h-ge)]}containsBlackPoint(i,a,l,c){const u=this.image;if(c){for(let h=i;h<=a;h++)if(u.get(h,l))return!0}else for(let h=i;h<=a;h++)if(u.get(l,h))return!0;return!1}}ot.INIT_SIZE=10,ot.CORR=1;class At{static checkAndNudgePoints(i,a){const l=i.getWidth(),c=i.getHeight();let u=!0;for(let h=0;h<a.length&&u;h+=2){const y=Math.floor(a[h]),b=Math.floor(a[h+1]);if(y<-1||y>l||b<-1||b>c)throw new le;u=!1,y===-1?(a[h]=0,u=!0):y===l&&(a[h]=l-1,u=!0),b===-1?(a[h+1]=0,u=!0):b===c&&(a[h+1]=c-1,u=!0)}u=!0;for(let h=a.length-2;h>=0&&u;h-=2){const y=Math.floor(a[h]),b=Math.floor(a[h+1]);if(y<-1||y>l||b<-1||b>c)throw new le;u=!1,y===-1?(a[h]=0,u=!0):y===l&&(a[h]=l-1,u=!0),b===-1?(a[h+1]=0,u=!0):b===c&&(a[h+1]=c-1,u=!0)}}}class yt{constructor(i,a,l,c,u,h,y,b,C){this.a11=i,this.a21=a,this.a31=l,this.a12=c,this.a22=u,this.a32=h,this.a13=y,this.a23=b,this.a33=C}static quadrilateralToQuadrilateral(i,a,l,c,u,h,y,b,C,P,G,ee,ge,ve,Ae,Ie){const Ue=yt.quadrilateralToSquare(i,a,l,c,u,h,y,b);return yt.squareToQuadrilateral(C,P,G,ee,ge,ve,Ae,Ie).times(Ue)}transformPoints(i){const a=i.length,l=this.a11,c=this.a12,u=this.a13,h=this.a21,y=this.a22,b=this.a23,C=this.a31,P=this.a32,G=this.a33;for(let ee=0;ee<a;ee+=2){const ge=i[ee],ve=i[ee+1],Ae=u*ge+b*ve+G;i[ee]=(l*ge+h*ve+C)/Ae,i[ee+1]=(c*ge+y*ve+P)/Ae}}transformPointsWithValues(i,a){const l=this.a11,c=this.a12,u=this.a13,h=this.a21,y=this.a22,b=this.a23,C=this.a31,P=this.a32,G=this.a33,ee=i.length;for(let ge=0;ge<ee;ge++){const ve=i[ge],Ae=a[ge],Ie=u*ve+b*Ae+G;i[ge]=(l*ve+h*Ae+C)/Ie,a[ge]=(c*ve+y*Ae+P)/Ie}}static squareToQuadrilateral(i,a,l,c,u,h,y,b){const C=i-l+u-y,P=a-c+h-b;if(C===0&&P===0)return new yt(l-i,u-l,i,c-a,h-c,a,0,0,1);{const G=l-u,ee=y-u,ge=c-h,ve=b-h,Ae=G*ve-ee*ge,Ie=(C*ve-ee*P)/Ae,Ue=(G*P-C*ge)/Ae;return new yt(l-i+Ie*l,y-i+Ue*y,i,c-a+Ie*c,b-a+Ue*b,a,Ie,Ue,1)}}static quadrilateralToSquare(i,a,l,c,u,h,y,b){return yt.squareToQuadrilateral(i,a,l,c,u,h,y,b).buildAdjoint()}buildAdjoint(){return new yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new yt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class pt extends At{sampleGrid(i,a,l,c,u,h,y,b,C,P,G,ee,ge,ve,Ae,Ie,Ue,tt,rt){const nt=yt.quadrilateralToQuadrilateral(c,u,h,y,b,C,P,G,ee,ge,ve,Ae,Ie,Ue,tt,rt);return this.sampleGridWithTransform(i,a,l,nt)}sampleGridWithTransform(i,a,l,c){if(a<=0||l<=0)throw new le;const u=new ae(a,l),h=new Float32Array(2*a);for(let y=0;y<l;y++){const b=h.length,C=y+.5;for(let P=0;P<b;P+=2)h[P]=P/2+.5,h[P+1]=C;c.transformPoints(h),At.checkAndNudgePoints(i,h);try{for(let P=0;P<b;P+=2)i.get(Math.floor(h[P]),Math.floor(h[P+1]))&&u.set(P/2,y)}catch{throw new le}}return u}}class Lt{static setGridSampler(i){Lt.gridSampler=i}static getInstance(){return Lt.gridSampler}}Lt.gridSampler=new pt;class bt{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new Se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Gt{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new ct(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new le;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let c=0;for(let h=0;h<4;h++){let y=l[(this.shift+h)%4];this.compact?(c<<=7,c+=y>>1&127):(c<<=10,c+=(y>>2&992)+(y>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,a){let l=0;i.forEach((c,u,h)=>{let y=(c>>a-2<<1)+(c&1);l=(l<<3)+y}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(O.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new le}getCorrectedParameterData(i,a){let l,c;a?(l=7,c=2):(l=10,c=4);let u=l-c,h=new Int32Array(l);for(let b=l-1;b>=0;--b)h[b]=i&15,i>>=4;try{new me(qe.AZTEC_PARAM).decode(h,u)}catch{throw new le}let y=0;for(let b=0;b<c;b++)y=(y<<4)+h[b];return y}getBullsEyeCorners(i){let a=i,l=i,c=i,u=i,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let G=this.getFirstDifferent(a,h,1,-1),ee=this.getFirstDifferent(l,h,1,1),ge=this.getFirstDifferent(c,h,-1,1),ve=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let Ae=this.distancePoint(ve,G)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(Ae<.75||Ae>1.25||!this.isWhiteOrBlackRectangle(G,ee,ge,ve))break}a=G,l=ee,c=ge,u=ve,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let y=new Se(a.getX()+.5,a.getY()-.5),b=new Se(l.getX()+.5,l.getY()+.5),C=new Se(c.getX()-.5,c.getY()+.5),P=new Se(u.getX()-.5,u.getY()-.5);return this.expandSquare([y,b,C,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,c;try{let y=new ot(this.image).detect();i=y[0],a=y[1],l=y[2],c=y[3]}catch{let b=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new bt(b+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new bt(b+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new bt(b-7,C+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new bt(b-7,C-7),!1,-1,-1).toResultPoint()}let u=Pe.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=Pe.round((i.getY()+c.getY()+a.getY()+l.getY())/4);try{let y=new ot(this.image,15,u,h).detect();i=y[0],a=y[1],l=y[2],c=y[3]}catch{i=this.getFirstDifferent(new bt(u+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new bt(u+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new bt(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new bt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Pe.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=Pe.round((i.getY()+c.getY()+a.getY()+l.getY())/4),new bt(u,h)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,c,u){let h=Lt.getInstance(),y=this.getDimension(),b=y/2-this.nbCenterLayers,C=y/2+this.nbCenterLayers;return h.sampleGrid(i,y,y,b,b,C,b,C,C,b,C,a.getX(),a.getY(),l.getX(),l.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(i,a,l){let c=0,u=this.distanceResultPoint(i,a),h=u/l,y=i.getX(),b=i.getY(),C=h*(a.getX()-i.getX())/u,P=h*(a.getY()-i.getY())/u;for(let G=0;G<l;G++)this.image.get(Pe.round(y+G*C),Pe.round(b+G*P))&&(c|=1<<l-G-1);return c}isWhiteOrBlackRectangle(i,a,l,c){let u=3;i=new bt(i.getX()-u,i.getY()+u),a=new bt(a.getX()-u,a.getY()-u),l=new bt(l.getX()+u,l.getY()-u),c=new bt(c.getX()+u,c.getY()+u);let h=this.getColor(c,i);if(h===0)return!1;let y=this.getColor(i,a);return y!==h||(y=this.getColor(a,l),y!==h)?!1:(y=this.getColor(l,c),y===h)}getColor(i,a){let l=this.distancePoint(i,a),c=(a.getX()-i.getX())/l,u=(a.getY()-i.getY())/l,h=0,y=i.getX(),b=i.getY(),C=this.image.get(i.getX(),i.getY()),P=Math.ceil(l);for(let ee=0;ee<P;ee++)y+=c,b+=u,this.image.get(Pe.round(y),Pe.round(b))!==C&&h++;let G=h/l;return G>.1&&G<.9?0:G<=.1===C?1:-1}getFirstDifferent(i,a,l,c){let u=i.getX()+l,h=i.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l,h+=c;for(u-=l,h-=c;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l;for(u-=l;this.isValid(u,h)&&this.image.get(u,h)===a;)h+=c;return h-=c,new bt(u,h)}expandSquare(i,a,l){let c=l/(2*a),u=i[0].getX()-i[2].getX(),h=i[0].getY()-i[2].getY(),y=(i[0].getX()+i[2].getX())/2,b=(i[0].getY()+i[2].getY())/2,C=new Se(y+c*u,b+c*h),P=new Se(y-c*u,b-c*h);u=i[1].getX()-i[3].getX(),h=i[1].getY()-i[3].getY(),y=(i[1].getX()+i[3].getX())/2,b=(i[1].getY()+i[3].getY())/2;let G=new Se(y+c*u,b+c*h),ee=new Se(y-c*u,b-c*h);return[C,G,P,ee]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=Pe.round(i.getX()),l=Pe.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return Pe.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return Pe.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class lt{decode(i,a=null){let l=null,c=new Gt(i.getBlackMatrix()),u=null,h=null;try{let P=c.detectMirror(!1);u=P.getPoints(),this.reportFoundResultPoints(a,u),h=new Ge().decode(P)}catch(P){l=P}if(h==null)try{let P=c.detectMirror(!0);u=P.getPoints(),this.reportFoundResultPoints(a,u),h=new Ge().decode(P)}catch(P){throw l??P}let y=new ie(h.getText(),h.getRawBytes(),h.getNumBits(),u,ce.AZTEC,M.currentTimeMillis()),b=h.getByteSegments();b!=null&&y.putMetadata(be.BYTE_SEGMENTS,b);let C=h.getECLevel();return C!=null&&y.putMetadata(be.ERROR_CORRECTION_LEVEL,C),y}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(X.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((c,u,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Sn extends Z{constructor(i=500){super(new lt,i)}}class Tt{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(X.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),h=this.doDecode(u,a),y=h.getResultMetadata();let b=270;y!==null&&y.get(be.ORIENTATION)===!0&&(b=b+y.get(be.ORIENTATION)%360),h.putMetadata(be.ORIENTATION,b);const C=h.getResultPoints();if(C!==null){const P=u.getHeight();for(let G=0;G<C.length;G++)C[G]=new Se(P-C[G].getY()-1,C[G].getX())}return h}else throw new le}}reset(){}doDecode(i,a){const l=i.getWidth(),c=i.getHeight();let u=new k(l);const h=a&&a.get(X.TRY_HARDER)===!0,y=Math.max(1,c>>(h?8:5));let b;h?b=c:b=15;const C=Math.trunc(c/2);for(let P=0;P<b;P++){const G=Math.trunc((P+1)/2),ee=(P&1)===0,ge=C+y*(ee?G:-G);if(ge<0||ge>=c)break;try{u=i.getBlackRow(ge,u)}catch{continue}for(let ve=0;ve<2;ve++){if(ve===1&&(u.reverse(),a&&a.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const Ae=new Map;a.forEach((Ie,Ue)=>Ae.set(Ue,Ie)),Ae.delete(X.NEED_RESULT_POINT_CALLBACK),a=Ae}try{const Ae=this.decodeRow(ge,u,a);if(ve===1){Ae.putMetadata(be.ORIENTATION,180);const Ie=Ae.getResultPoints();Ie!==null&&(Ie[0]=new Se(l-Ie[0].getX()-1,Ie[0].getY()),Ie[1]=new Se(l-Ie[1].getX()-1,Ie[1].getY()))}return Ae}catch{}}}throw new le}static recordPattern(i,a,l){const c=l.length;for(let C=0;C<c;C++)l[C]=0;const u=i.getSize();if(a>=u)throw new le;let h=!i.get(a),y=0,b=a;for(;b<u;){if(i.get(b)!==h)l[y]++;else{if(++y===c)break;l[y]=1,h=!h}b++}if(!(y===c||y===c-1&&b===u))throw new le}static recordPatternInReverse(i,a,l){let c=l.length,u=i.get(a);for(;a>0&&c>=0;)i.get(--a)!==u&&(c--,u=!u);if(c>=0)throw new le;Tt.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const c=i.length;let u=0,h=0;for(let C=0;C<c;C++)u+=i[C],h+=a[C];if(u<h)return Number.POSITIVE_INFINITY;const y=u/h;l*=y;let b=0;for(let C=0;C<c;C++){const P=i[C],G=a[C]*y,ee=P>G?P-G:G-P;if(ee>l)return Number.POSITIVE_INFINITY;b+=ee}return b/u}}class at extends Tt{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=l,y=!1;const b=6;for(let C=l;C<a;C++)if(i.get(C)!==y)u[c]++;else{if(c===b-1){let P=at.MAX_AVG_VARIANCE,G=-1;for(let ee=at.CODE_START_A;ee<=at.CODE_START_C;ee++){const ge=Tt.patternMatchVariance(u,at.CODE_PATTERNS[ee],at.MAX_INDIVIDUAL_VARIANCE);ge<P&&(P=ge,G=ee)}if(G>=0&&i.isRange(Math.max(0,h-(C-h)/2),h,!1))return Int32Array.from([h,C,G]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,y=!y}throw new le}static decodeCode(i,a,l){Tt.recordPattern(i,l,a);let c=at.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<at.CODE_PATTERNS.length;h++){const y=at.CODE_PATTERNS[h],b=this.patternMatchVariance(a,y,at.MAX_INDIVIDUAL_VARIANCE);b<c&&(c=b,u=h)}if(u>=0)return u;throw new le}decodeRow(i,a,l){const c=l&&l.get(X.ASSUME_GS1)===!0,u=at.findStartPattern(a),h=u[2];let y=0;const b=new Uint8Array(20);b[y++]=h;let C;switch(h){case at.CODE_START_A:C=at.CODE_CODE_A;break;case at.CODE_START_B:C=at.CODE_CODE_B;break;case at.CODE_START_C:C=at.CODE_CODE_C;break;default:throw new F}let P=!1,G=!1,ee="",ge=u[0],ve=u[1];const Ae=Int32Array.from([0,0,0,0,0,0]);let Ie=0,Ue=0,tt=h,rt=0,nt=!0,Qt=!1,Bt=!1;for(;!P;){const ya=G;switch(G=!1,Ie=Ue,Ue=at.decodeCode(a,Ae,ve),b[y++]=Ue,Ue!==at.CODE_STOP&&(nt=!0),Ue!==at.CODE_STOP&&(rt++,tt+=rt*Ue),ge=ve,ve+=Ae.reduce((Br,kr)=>Br+kr,0),Ue){case at.CODE_START_A:case at.CODE_START_B:case at.CODE_START_C:throw new F}switch(C){case at.CODE_CODE_A:if(Ue<64)Bt===Qt?ee+=String.fromCharCode(32+Ue):ee+=String.fromCharCode(32+Ue+128),Bt=!1;else if(Ue<96)Bt===Qt?ee+=String.fromCharCode(Ue-64):ee+=String.fromCharCode(Ue+64),Bt=!1;else switch(Ue!==at.CODE_STOP&&(nt=!1),Ue){case at.CODE_FNC_1:c&&(ee.length===0?ee+="]C1":ee+="");break;case at.CODE_FNC_2:case at.CODE_FNC_3:break;case at.CODE_FNC_4_A:!Qt&&Bt?(Qt=!0,Bt=!1):Qt&&Bt?(Qt=!1,Bt=!1):Bt=!0;break;case at.CODE_SHIFT:G=!0,C=at.CODE_CODE_B;break;case at.CODE_CODE_B:C=at.CODE_CODE_B;break;case at.CODE_CODE_C:C=at.CODE_CODE_C;break;case at.CODE_STOP:P=!0;break}break;case at.CODE_CODE_B:if(Ue<96)Bt===Qt?ee+=String.fromCharCode(32+Ue):ee+=String.fromCharCode(32+Ue+128),Bt=!1;else switch(Ue!==at.CODE_STOP&&(nt=!1),Ue){case at.CODE_FNC_1:c&&(ee.length===0?ee+="]C1":ee+="");break;case at.CODE_FNC_2:case at.CODE_FNC_3:break;case at.CODE_FNC_4_B:!Qt&&Bt?(Qt=!0,Bt=!1):Qt&&Bt?(Qt=!1,Bt=!1):Bt=!0;break;case at.CODE_SHIFT:G=!0,C=at.CODE_CODE_A;break;case at.CODE_CODE_A:C=at.CODE_CODE_A;break;case at.CODE_CODE_C:C=at.CODE_CODE_C;break;case at.CODE_STOP:P=!0;break}break;case at.CODE_CODE_C:if(Ue<100)Ue<10&&(ee+="0"),ee+=Ue;else switch(Ue!==at.CODE_STOP&&(nt=!1),Ue){case at.CODE_FNC_1:c&&(ee.length===0?ee+="]C1":ee+="");break;case at.CODE_CODE_A:C=at.CODE_CODE_A;break;case at.CODE_CODE_B:C=at.CODE_CODE_B;break;case at.CODE_STOP:P=!0;break}break}ya&&(C=C===at.CODE_CODE_A?at.CODE_CODE_B:at.CODE_CODE_A)}const mi=ve-ge;if(ve=a.getNextUnset(ve),!a.isRange(ve,Math.min(a.getSize(),ve+(ve-ge)/2),!1))throw new le;if(tt-=rt*Ie,tt%103!==Ie)throw new w;const Fi=ee.length;if(Fi===0)throw new le;Fi>0&&nt&&(C===at.CODE_CODE_C?ee=ee.substring(0,Fi-2):ee=ee.substring(0,Fi-1));const ui=(u[1]+u[0])/2,cn=ge+mi/2,ii=b.length,Ci=new Uint8Array(ii);for(let ya=0;ya<ii;ya++)Ci[ya]=b[ya];const Ir=[new Se(ui,i),new Se(cn,i)];return new ie(ee,Ci,0,Ir,ce.CODE_128,new Date().getTime())}}at.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],at.MAX_AVG_VARIANCE=.25,at.MAX_INDIVIDUAL_VARIANCE=.7,at.CODE_SHIFT=98,at.CODE_CODE_C=99,at.CODE_CODE_B=100,at.CODE_CODE_A=101,at.CODE_FNC_1=102,at.CODE_FNC_2=97,at.CODE_FNC_3=96,at.CODE_FNC_4_A=101,at.CODE_FNC_4_B=100,at.CODE_START_A=103,at.CODE_START_B=104,at.CODE_START_C=105,at.CODE_STOP=106;class Pt extends Tt{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Pt.findAsteriskPattern(a,c),h=a.getNextSet(u[1]),y=a.getSize(),b,C;do{Pt.recordPattern(a,h,c);let Ae=Pt.toNarrowWidePattern(c);if(Ae<0)throw new le;b=Pt.patternToChar(Ae),this.decodeRowResult+=b,C=h;for(let Ie of c)h+=Ie;h=a.getNextSet(h)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let Ae of c)P+=Ae;let G=h-C-P;if(h!==y&&G*2<P)throw new le;if(this.usingCheckDigit){let Ae=this.decodeRowResult.length-1,Ie=0;for(let Ue=0;Ue<Ae;Ue++)Ie+=Pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ue));if(this.decodeRowResult.charAt(Ae)!==Pt.ALPHABET_STRING.charAt(Ie%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,Ae)}if(this.decodeRowResult.length===0)throw new le;let ee;this.extendedMode?ee=Pt.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;let ge=(u[1]+u[0])/2,ve=C+P/2;return new ie(ee,null,0,[new Se(ge,i),new Se(ve,i)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),c=i.getNextSet(0),u=0,h=c,y=!1,b=a.length;for(let C=c;C<l;C++)if(i.get(C)!==y)a[u]++;else{if(u===b-1){if(this.toNarrowWidePattern(a)===Pt.ASTERISK_ENCODING&&i.isRange(Math.max(0,h-Math.floor((C-h)/2)),h,!1))return[h,C];h+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,y=!y}throw new le}static toNarrowWidePattern(i){let a=i.length,l=0,c;do{let u=2147483647;for(let b of i)b<u&&b>l&&(u=b);l=u,c=0;let h=0,y=0;for(let b=0;b<a;b++){let C=i[b];C>l&&(y|=1<<a-1-b,c++,h+=C)}if(c===3){for(let b=0;b<a&&c>0;b++){let C=i[b];if(C>l&&(c--,C*2>=h))return-1}return y}}while(c>3);return-1}static patternToChar(i){for(let a=0;a<Pt.CHARACTER_ENCODINGS.length;a++)if(Pt.CHARACTER_ENCODINGS[a]===i)return Pt.ALPHABET_STRING.charAt(a);if(i===Pt.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(i){let a=i.length,l="";for(let c=0;c<a;c++){let u=i.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=i.charAt(c+1),y="\0";switch(u){case"+":if(h>="A"&&h<="Z")y=String.fromCharCode(h.charCodeAt(0)+32);else throw new F;break;case"$":if(h>="A"&&h<="Z")y=String.fromCharCode(h.charCodeAt(0)-64);else throw new F;break;case"%":if(h>="A"&&h<="E")y=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")y=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")y=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")y=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")y="\0";else if(h==="V")y="@";else if(h==="W")y="`";else if(h==="X"||h==="Y"||h==="Z")y="";else throw new F;break;case"/":if(h>="A"&&h<="O")y=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")y=":";else throw new F;break}l+=y,c++}else l+=u}return l}}Pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pt.ASTERISK_ENCODING=148;class Dt extends Tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let c=this.decodeStart(a),u=this.decodeEnd(a),h=new ne;Dt.decodeMiddle(a,c[1],u[0],h);let y=h.toString(),b=null;l!=null&&(b=l.get(X.ALLOWED_LENGTHS)),b==null&&(b=Dt.DEFAULT_ALLOWED_LENGTHS);let C=y.length,P=!1,G=0;for(let ve of b){if(C===ve){P=!0;break}ve>G&&(G=ve)}if(!P&&C>G&&(P=!0),!P)throw new F;const ee=[new Se(c[1],i),new Se(u[0],i)];return new ie(y,null,0,ee,ce.ITF,new Date().getTime())}static decodeMiddle(i,a,l,c){let u=new Int32Array(10),h=new Int32Array(5),y=new Int32Array(5);for(u.fill(0),h.fill(0),y.fill(0);a<l;){Tt.recordPattern(i,a,u);for(let C=0;C<5;C++){let P=2*C;h[C]=u[P],y[C]=u[P+1]}let b=Dt.decodeDigit(h);c.append(b.toString()),b=this.decodeDigit(y),c.append(b.toString()),u.forEach(function(C){a+=C})}}decodeStart(i){let a=Dt.skipWhiteSpace(i),l=Dt.findGuardPattern(i,a,Dt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let c=a-1;l>0&&c>=0&&!i.get(c);c--)l--;if(l!==0)throw new le}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new le;return l}decodeEnd(i){i.reverse();try{let a=Dt.skipWhiteSpace(i),l;try{l=Dt.findGuardPattern(i,a,Dt.END_PATTERN_REVERSED[0])}catch(u){u instanceof le&&(l=Dt.findGuardPattern(i,a,Dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let c=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-c,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let c=l.length,u=new Int32Array(c),h=i.getSize(),y=!1,b=0,C=a;u.fill(0);for(let P=a;P<h;P++)if(i.get(P)!==y)u[b]++;else{if(b===c-1){if(Tt.patternMatchVariance(u,l,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return[C,P];C+=u[0]+u[1],M.arraycopy(u,2,u,0,b-1),u[b-1]=0,u[b]=0,b--}else b++;u[b]=1,y=!y}throw new le}static decodeDigit(i){let a=Dt.MAX_AVG_VARIANCE,l=-1,c=Dt.PATTERNS.length;for(let u=0;u<c;u++){let h=Dt.PATTERNS[u],y=Tt.patternMatchVariance(i,h,Dt.MAX_INDIVIDUAL_VARIANCE);y<a?(a=y,l=u):y===a&&(l=-1)}if(l>=0)return l%10;throw new le}}Dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Dt.MAX_AVG_VARIANCE=.38,Dt.MAX_INDIVIDUAL_VARIANCE=.5,Dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Dt.START_PATTERN=Int32Array.from([1,1,1,1]),Dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dn extends Tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,c=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),l=dn.findGuardPattern(i,c,!1,this.START_END_PATTERN,u);let h=l[0];c=l[1];let y=h-(c-h);y>=0&&(a=i.isRange(y,h,!1))}return l}static checkChecksum(i){return dn.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return dn.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}return(1e3-l)%10}static decodeEnd(i,a){return dn.findGuardPattern(i,a,!1,dn.START_END_PATTERN,new Int32Array(dn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,c){return this.findGuardPattern(i,a,l,c,new Int32Array(c.length))}static findGuardPattern(i,a,l,c,u){let h=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let y=0,b=a,C=c.length,P=l;for(let G=a;G<h;G++)if(i.get(G)!==P)u[y]++;else{if(y===C-1){if(Tt.patternMatchVariance(u,c,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return Int32Array.from([b,G]);b+=u[0]+u[1];let ee=u.slice(2,u.length-1);for(let ge=0;ge<y-1;ge++)u[ge]=ee[ge];u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,P=!P}throw new le}static decodeDigit(i,a,l,c){this.recordPattern(i,l,a);let u=this.MAX_AVG_VARIANCE,h=-1,y=c.length;for(let b=0;b<y;b++){let C=c[b],P=Tt.patternMatchVariance(a,C,dn.MAX_INDIVIDUAL_VARIANCE);P<u&&(u=P,h=b)}if(h>=0)return h;throw new le}}dn.MAX_AVG_VARIANCE=.48,dn.MAX_INDIVIDUAL_VARIANCE=.7,dn.START_END_PATTERN=Int32Array.from([1,1,1]),dn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class an{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),y=an.parseExtensionString(h),b=[new Se((l[0]+l[1])/2,i),new Se(u,i)],C=new ie(h,null,0,b,ce.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&C.putAllMetadata(y),C}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],y=0;for(let C=0;C<5&&h<u;C++){let P=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+P%10);for(let G of c)h+=G;P>=10&&(y|=1<<4-C),C!==4&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==5)throw new le;let b=this.determineCheckDigit(y);if(an.extensionChecksum(l.toString())!==b)throw new le;return h}static extensionChecksum(i){let a=i.length,l=0;for(let c=a-2;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;l*=3;for(let c=a-1;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new le}static parseExtensionString(i){if(i.length!==5)return null;let a=an.parseExtension5String(i);return a==null?null:new Map([[be.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),c=(l/100).toString(),u=l%100,h=u<10?"0"+u:u.toString();return a+c+"."+h}}class Da{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),y=Da.parseExtensionString(h),b=[new Se((l[0]+l[1])/2,i),new Se(u,i)],C=new ie(h,null,0,b,ce.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&C.putAllMetadata(y),C}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],y=0;for(let b=0;b<2&&h<u;b++){let C=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let P of c)h+=P;C>=10&&(y|=1<<1-b),b!==1&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==2)throw new le;if(parseInt(l.toString())%4!==y)throw new le;return h}static parseExtensionString(i){return i.length!==2?null:new Map([[be.ISSUE_NUMBER,parseInt(i)]])}}class Vn{static decodeRow(i,a,l){let c=dn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new an().decodeRow(i,a,c)}catch{return new Da().decodeRow(i,a,c)}}}Vn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Vt extends dn{constructor(){super(),this.decodeRowStringBuffer="",Vt.L_AND_G_PATTERNS=Vt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=Vt.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let c=0;c<a.length;c++)l[c]=a[a.length-c-1];Vt.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let c=Vt.findStartGuardPattern(a),u=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(u!=null){const nt=new Se((c[0]+c[1])/2,i);u.foundPossibleResultPoint(nt)}let h=this.decodeMiddle(a,c,this.decodeRowStringBuffer),y=h.rowOffset,b=h.resultString;if(u!=null){const nt=new Se(y,i);u.foundPossibleResultPoint(nt)}let C=this.decodeEnd(a,y);if(u!=null){const nt=new Se((C[0]+C[1])/2,i);u.foundPossibleResultPoint(nt)}let P=C[1],G=P+(P-C[0]);if(G>=a.getSize()||!a.isRange(P,G,!1))throw new le;let ee=b.toString();if(ee.length<8)throw new F;if(!Vt.checkChecksum(ee))throw new w;let ge=(c[1]+c[0])/2,ve=(C[1]+C[0])/2,Ae=this.getBarcodeFormat(),Ie=[new Se(ge,i),new Se(ve,i)],Ue=new ie(ee,null,0,Ie,Ae,new Date().getTime()),tt=0;try{let nt=Vn.decodeRow(i,a,C[1]);Ue.putMetadata(be.UPC_EAN_EXTENSION,nt.getText()),Ue.putAllMetadata(nt.getResultMetadata()),Ue.addResultPoints(nt.getResultPoints()),tt=nt.getText().length}catch{}let rt=l==null?null:l.get(X.ALLOWED_EAN_EXTENSIONS);if(rt!=null){let nt=!1;for(let Qt in rt)if(tt.toString()===Qt){nt=!0;break}if(!nt)throw new le}return Ue}decodeEnd(i,a){return Vt.findGuardPattern(i,a,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Vt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return Vt.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}return(1e3-l)%10}}class nr extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],y=0;for(let C=0;C<6&&h<u;C++){let P=Vt.decodeDigit(i,c,h,Vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+P%10);for(let G of c)h+=G;P>=10&&(y|=1<<5-C)}l=nr.determineFirstDigit(l,y),h=Vt.findGuardPattern(i,h,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&h<u;C++){let P=Vt.decodeDigit(i,c,h,Vt.L_PATTERNS);l+=String.fromCharCode(48+P);for(let G of c)h+=G}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new le}}nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Yn extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1];for(let b=0;b<4&&h<u;b++){let C=Vt.decodeDigit(i,c,h,Vt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let P of c)h+=P}h=Vt.findGuardPattern(i,h,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&h<u;b++){let C=Vt.decodeDigit(i,c,h,Vt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let P of c)h+=P}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ce.EAN_8}}class Ft extends Vt{constructor(){super(...arguments),this.ean13Reader=new nr}getBarcodeFormat(){return ce.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new ie(a.substring(1),null,null,i.getResultPoints(),ce.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new le}reset(){this.ean13Reader.reset()}}class Wt extends Vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters.map(C=>C);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=i.getSize();let h=a[1],y=0;for(let C=0;C<6&&h<u;C++){const P=Wt.decodeDigit(i,c,h,Wt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+P%10);for(let G of c)h+=G;P>=10&&(y|=1<<5-C)}let b=Wt.determineNumSysAndCheckDigit(l,y);return{rowOffset:h,resultString:b}}decodeEnd(i,a){return Wt.findGuardPatternWithoutCounters(i,a,!0,Wt.MIDDLE_END_PATTERN)}checkChecksum(i){return Vt.checkChecksum(Wt.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let u=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return u+i+h}throw le.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new ne;l.append(i.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(c),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(c);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Wt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ma extends Tt{constructor(i){super();let a=i==null?null:i.get(X.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new nr),l.push(new Ft),l.push(new Yn),l.push(new Wt)):(a.indexOf(ce.EAN_13)>-1&&l.push(new nr),a.indexOf(ce.UPC_A)>-1&&l.push(new Ft),a.indexOf(ce.EAN_8)>-1&&l.push(new Yn),a.indexOf(ce.UPC_E)>-1&&l.push(new Wt)),this.readers=l}decodeRow(i,a,l){for(let c of this.readers)try{const u=c.decodeRow(i,a,l),h=u.getBarcodeFormat()===ce.EAN_13&&u.getText().charAt(0)==="0",y=l==null?null:l.get(X.POSSIBLE_FORMATS),b=y==null||y.includes(ce.UPC_A);if(h&&b){const C=u.getRawBytes(),P=new ie(u.getText().substring(1),C,C?C.length:null,u.getResultPoints(),ce.UPC_A);return P.putAllMetadata(u.getResultMetadata()),P}return u}catch{}throw new le}reset(){for(let i of this.readers)i.reset()}}class un extends Tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(Tt.patternMatchVariance(i,a[l],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return l;throw new le}static count(i){return Pe.sum(new Int32Array(i))}static increment(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]>c&&(c=a[u],l=u);i[l]++}static decrement(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]<c&&(c=a[u],l=u);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],c=a/l;if(c>=un.MIN_FINDER_PATTERN_RATIO&&c<=un.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let y of i)y>h&&(h=y),y<u&&(u=y);return h<10*u}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class ir{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof ir))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Cr{constructor(i,a,l,c,u){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Se(l,u)),this.resultPoints.push(new Se(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Cr))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class Ct{constructor(){}static getRSSvalue(i,a,l){let c=0;for(let b of i)c+=b;let u=0,h=0,y=i.length;for(let b=0;b<y-1;b++){let C;for(C=1,h|=1<<b;C<i[b];C++,h&=~(1<<b)){let P=Ct.combins(c-C-1,y-b-2);if(l&&h===0&&c-C-(y-b-1)>=y-b-1&&(P-=Ct.combins(c-C-(y-b),y-b-2)),y-b-1>1){let G=0;for(let ee=c-C-(y-b-2);ee>a;ee--)G+=Ct.combins(c-C-ee-1,y-b-3);P-=G*(y-1-b)}else c-C>a&&P--;u+=P}c-=C}return u}static combins(i,a){let l,c;i-a>a?(c=a,l=i-a):(c=i-a,l=a);let u=1,h=1;for(let y=i;y>l;y--)u*=y,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Yr{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,c=new k(l),u=0,y=i[0].getRightChar().getValue();for(let b=11;b>=0;--b)y&1<<b&&c.set(u),u++;for(let b=1;b<i.length;++b){let C=i[b],P=C.getLeftChar().getValue();for(let G=11;G>=0;--G)P&1<<G&&c.set(u),u++;if(C.getRightChar()!=null){let G=C.getRightChar().getValue();for(let ee=11;ee>=0;--ee)G&1<<ee&&c.set(u),u++}}return c}}class Yi{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Wi{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class fn extends Wi{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class Ln extends Wi{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Fn extends Wi{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new F;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Fn.FNC1}isAnyFNC1(){return this.firstDigit===Fn.FNC1||this.secondDigit===Fn.FNC1}}Fn.FNC1=10;class xt{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new le;let a=i.substring(0,2);for(let u of xt.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(2,u[2],i):xt.processFixedAI(2,u[1],i);if(i.length<3)throw new le;let l=i.substring(0,3);for(let u of xt.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(3,u[2],i):xt.processFixedAI(3,u[1],i);for(let u of xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(4,u[2],i):xt.processFixedAI(4,u[1],i);if(i.length<4)throw new le;let c=i.substring(0,4);for(let u of xt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(4,u[2],i):xt.processFixedAI(4,u[1],i);throw new le}static processFixedAI(i,a,l){if(l.length<i)throw new le;let c=l.substring(0,i);if(l.length<i+a)throw new le;let u=l.substring(i,i+a),h=l.substring(i+a),y="("+c+")"+u,b=xt.parseFieldsInGeneralPurpose(h);return b==null?y:y+b}static processVariableAI(i,a,l){let c=l.substring(0,i),u;l.length<i+a?u=l.length:u=i+a;let h=l.substring(i,u),y=l.substring(u),b="("+c+")"+h,C=xt.parseFieldsInGeneralPurpose(y);return C==null?b:b+C}}xt.VARIABLE_LENGTH=[],xt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xt.VARIABLE_LENGTH,20],["22",xt.VARIABLE_LENGTH,29],["30",xt.VARIABLE_LENGTH,8],["37",xt.VARIABLE_LENGTH,8],["90",xt.VARIABLE_LENGTH,30],["91",xt.VARIABLE_LENGTH,30],["92",xt.VARIABLE_LENGTH,30],["93",xt.VARIABLE_LENGTH,30],["94",xt.VARIABLE_LENGTH,30],["95",xt.VARIABLE_LENGTH,30],["96",xt.VARIABLE_LENGTH,30],["97",xt.VARIABLE_LENGTH,3],["98",xt.VARIABLE_LENGTH,30],["99",xt.VARIABLE_LENGTH,30]],xt.THREE_DIGIT_DATA_LENGTH=[["240",xt.VARIABLE_LENGTH,30],["241",xt.VARIABLE_LENGTH,30],["242",xt.VARIABLE_LENGTH,6],["250",xt.VARIABLE_LENGTH,30],["251",xt.VARIABLE_LENGTH,30],["253",xt.VARIABLE_LENGTH,17],["254",xt.VARIABLE_LENGTH,20],["400",xt.VARIABLE_LENGTH,30],["401",xt.VARIABLE_LENGTH,30],["402",17],["403",xt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xt.VARIABLE_LENGTH,20],["421",xt.VARIABLE_LENGTH,15],["422",3],["423",xt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xt.VARIABLE_LENGTH,15],["391",xt.VARIABLE_LENGTH,18],["392",xt.VARIABLE_LENGTH,15],["393",xt.VARIABLE_LENGTH,18],["703",xt.VARIABLE_LENGTH,30]],xt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xt.VARIABLE_LENGTH,20],["8003",xt.VARIABLE_LENGTH,30],["8004",xt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xt.VARIABLE_LENGTH,30],["8008",xt.VARIABLE_LENGTH,12],["8018",18],["8020",xt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xt.VARIABLE_LENGTH,70],["8200",xt.VARIABLE_LENGTH,70]];class hr{constructor(i){this.buffer=new ne,this.information=i}decodeAllCodes(i,a){let l=a,c=null;do{let u=this.decodeGeneralPurposeField(l,c),h=xt.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&i.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new Fn(this.information.getSize(),Fn.FNC1,Fn.FNC1):new Fn(this.information.getSize(),u-1,Fn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,c=(a-8)%11;return new Fn(i+7,l,c)}extractNumericValueFromBitArray(i,a){return hr.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let c=0;for(let u=0;u<l;++u)i.get(a+u)&&(c|=1<<l-u-1);return c}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ln(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ln(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Ln(this.current.getPosition(),this.buffer.toString()):a=new Ln(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Yi(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Ln(this.current.getPosition(),this.buffer.toString());return new Yi(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Ln(this.current.getPosition(),this.buffer.toString());return new Yi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Ln(this.current.getPosition(),this.buffer.toString());return new Yi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new fn(i+7,""+(l+1));if(l>=90&&l<116)return new fn(i+7,""+(l+7));let c=this.extractNumericValueFromBitArray(i,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new F}return new fn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new fn(i+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Me("Decoding invalid alphanumeric value: "+l)}return new fn(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class Er{constructor(i){this.information=i,this.generalDecoder=new hr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Un extends Er{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}Un.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let c=0;c<13;c++){let u=i.charAt(c+a).charCodeAt(0)-48;l+=c&1?u:3*u}l=10-l%10,l===10&&(l=0),i.append(l)}}Un.GTIN_SIZE=40;class Xi extends Un{constructor(i){super(i)}parseInformation(){let i=new ne;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xi.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Xi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,Xi.HEADER_SIZE+44)}}Xi.HEADER_SIZE=4;class _r extends Er{constructor(i){super(i)}parseInformation(){let i=new ne;return this.getGeneralDecoder().decodeAllCodes(i,_r.HEADER_SIZE)}}_r.HEADER_SIZE=5;class rr extends Un{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,c);let u=this.checkWeight(c),h=1e5;for(let y=0;y<5;++y)u/h===0&&i.append("0"),h/=10;i.append(u)}}class wi extends rr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=wi.HEADER_SIZE+rr.GTIN_SIZE+wi.WEIGHT_SIZE)throw new le;let i=new ne;return this.encodeCompressedGtin(i,wi.HEADER_SIZE),this.encodeCompressedWeight(i,wi.HEADER_SIZE+rr.GTIN_SIZE,wi.WEIGHT_SIZE),i.toString()}}wi.HEADER_SIZE=5,wi.WEIGHT_SIZE=15;class ms extends wi{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class Ys extends wi{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class ar extends Un{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<ar.HEADER_SIZE+Un.GTIN_SIZE)throw new le;let i=new ne;this.encodeCompressedGtin(i,ar.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+Un.GTIN_SIZE,ar.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ar.HEADER_SIZE+Un.GTIN_SIZE+ar.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}ar.HEADER_SIZE=8,ar.LAST_DIGIT_SIZE=2;class gi extends Un{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<gi.HEADER_SIZE+Un.GTIN_SIZE)throw new le;let i=new ne;this.encodeCompressedGtin(i,gi.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE+Un.GTIN_SIZE,gi.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE+Un.GTIN_SIZE+gi.LAST_DIGIT_SIZE,gi.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(gi.HEADER_SIZE+Un.GTIN_SIZE+gi.LAST_DIGIT_SIZE+gi.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}gi.HEADER_SIZE=8,gi.LAST_DIGIT_SIZE=2,gi.FIRST_THREE_DIGITS_SIZE=10;class yn extends rr{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE+yn.DATE_SIZE)throw new le;let i=new ne;return this.encodeCompressedGtin(i,yn.HEADER_SIZE),this.encodeCompressedWeight(i,yn.HEADER_SIZE+yn.GTIN_SIZE,yn.WEIGHT_SIZE),this.encodeCompressedDate(i,yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,yn.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=l%32;l/=32;let u=l%12+1;l/=12;let h=l;h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}yn.HEADER_SIZE=8,yn.WEIGHT_SIZE=20,yn.DATE_SIZE=16;function Yo(V){try{if(V.get(1))return new Xi(V);if(!V.get(2))return new _r(V);switch(hr.extractNumericValueFromBitArray(V,1,4)){case 4:return new ms(V);case 5:return new Ys(V)}switch(hr.extractNumericValueFromBitArray(V,1,5)){case 12:return new ar(V);case 13:return new gi(V)}switch(hr.extractNumericValueFromBitArray(V,1,7)){case 56:return new yn(V,"310","11");case 57:return new yn(V,"320","11");case 58:return new yn(V,"310","13");case 59:return new yn(V,"320","13");case 60:return new yn(V,"310","15");case 61:return new yn(V,"320","15");case 62:return new yn(V,"310","17");case 63:return new yn(V,"320","17")}}catch(i){throw console.log(i),new Me("unknown decoder: "+V)}}class ha{constructor(i,a,l,c){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof ha?ha.equalsOrNull(i.leftchar,a.leftchar)&&ha.equalsOrNull(i.rightchar,a.rightchar)&&ha.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:ha.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Wo{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof Wo?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((c,u)=>{a.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class Qe extends un{constructor(i){super(...arguments),this.pairs=new Array(Qe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return Qe.constructResult(this.decodeRow2pairs(i,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,Qe.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(u){if(u instanceof le){if(!this.pairs.length)throw new le;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new le}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of i)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!Qe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(c);try{return this.checkRows(u,l+1)}catch(h){this.verbose&&console.log(h)}}throw new le}static isValidSequence(i){for(let a of Qe.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=a[c]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,c=!1,u=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>i){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}u||c||Qe.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Wo(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let c of l.getPairs())for(let u of i)if(ha.equals(c,u))break}}static isPartialRow(i,a){for(let l of a){let c=!0;for(let u of i){let h=!1;for(let y of l.getPairs())if(u.equals(y)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=Yr.buildBitArray(i),c=Yo(a).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),h=i[i.length-1].getFinderPattern().getResultPoints(),y=[u[0],u[1],h[0],h[1]];return new ie(c,null,null,y,ce.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),u=2;for(let y=1;y<this.pairs.size();++y){let b=this.pairs.get(y);c+=b.getLeftChar().getChecksumPortion(),u++;let C=b.getRightChar();C!=null&&(c+=C.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let c=a.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,y=-1;do this.findNextPair(i,a,y),u=this.parseFoundFinderPattern(i,l,c),u==null?y=Qe.getNextSecondBar(i,this.startEnd[0]):h=!1;while(h);let b=this.decodeDataCharacter(i,u,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new le;let C;try{C=this.decodeDataCharacter(i,u,c,!1)}catch(P){C=null,this.verbose&&console.log(P)}return new ha(b,C,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h;l>=0?h=l:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let y=a.length%2!=0;this.startFromEven&&(y=!y);let b=!1;for(;h<u&&(b=!i.get(h),!!b);)h++;let C=0,P=h;for(let G=h;G<u;G++)if(i.get(G)!=b)c[C]++;else{if(C==3){if(y&&Qe.reverseCounters(c),Qe.isFinderPattern(c)){this.startEnd[0]=P,this.startEnd[1]=G;return}y&&Qe.reverseCounters(c),P+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,C--}else C++;c[C]=1,b=!b}throw new le}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let c=i[l];i[l]=i[a-l-1],i[a-l-1]=c}}parseFoundFinderPattern(i,a,l){let c,u,h;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,c=this.startEnd[0]-C,u=C,h=this.startEnd[1]}else u=this.startEnd[0],h=i.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let y=this.getDecodeFinderCounters();M.arraycopy(y,0,y,1,y.length-1),y[0]=c;let b;try{b=this.parseFinderValue(y,Qe.FINDER_PATTERNS)}catch{return null}return new Cr(b,[u,h],u,h,a)}decodeDataCharacter(i,a,l,c){let u=this.getDataCharacterCounters();for(let cn=0;cn<u.length;cn++)u[cn]=0;if(c)Qe.recordPatternInReverse(i,a.getStartEnd()[0],u);else{Qe.recordPattern(i,a.getStartEnd()[1],u);for(let cn=0,ii=u.length-1;cn<ii;cn++,ii--){let Ci=u[cn];u[cn]=u[ii],u[ii]=Ci}}let h=17,y=Pe.sum(new Int32Array(u))/h,b=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(y-b)/b>.3)throw new le;let C=this.getOddCounts(),P=this.getEvenCounts(),G=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let cn=0;cn<u.length;cn++){let ii=1*u[cn]/y,Ci=ii+.5;if(Ci<1){if(ii<.3)throw new le;Ci=1}else if(Ci>8){if(ii>8.7)throw new le;Ci=8}let Ir=cn/2;cn&1?(P[Ir]=Ci,ee[Ir]=ii-Ci):(C[Ir]=Ci,G[Ir]=ii-Ci)}this.adjustOddEvenCounts(h);let ge=4*a.getValue()+(l?0:2)+(c?0:1)-1,ve=0,Ae=0;for(let cn=C.length-1;cn>=0;cn--){if(Qe.isNotA1left(a,l,c)){let ii=Qe.WEIGHTS[ge][2*cn];Ae+=C[cn]*ii}ve+=C[cn]}let Ie=0;for(let cn=P.length-1;cn>=0;cn--)if(Qe.isNotA1left(a,l,c)){let ii=Qe.WEIGHTS[ge][2*cn+1];Ie+=P[cn]*ii}let Ue=Ae+Ie;if(ve&1||ve>13||ve<4)throw new le;let tt=(13-ve)/2,rt=Qe.SYMBOL_WIDEST[tt],nt=9-rt,Qt=Ct.getRSSvalue(C,rt,!0),Bt=Ct.getRSSvalue(P,nt,!1),mi=Qe.EVEN_TOTAL_SUBSET[tt],Fi=Qe.GSUM[tt],ui=Qt*mi+Bt+Fi;return new ir(ui,Ue)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=Pe.sum(new Int32Array(this.getOddCounts())),l=Pe.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let h=!1,y=!1;l>13?y=!0:l<4&&(h=!0);let b=a+l-i,C=(a&1)==1,P=(l&1)==0;if(b==1)if(C){if(P)throw new le;u=!0}else{if(!P)throw new le;y=!0}else if(b==-1)if(C){if(P)throw new le;c=!0}else{if(!P)throw new le;h=!0}else if(b==0){if(C){if(!P)throw new le;a<l?(c=!0,y=!0):(u=!0,h=!0)}else if(P)throw new le}else throw new le;if(c){if(u)throw new le;Qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(y)throw new le;Qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Qe.SYMBOL_WIDEST=[7,5,4,3,1],Qe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Qe.GSUM=[0,348,1388,2948,3988],Qe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Qe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Qe.FINDER_PAT_A=0,Qe.FINDER_PAT_B=1,Qe.FINDER_PAT_C=2,Qe.FINDER_PAT_D=3,Qe.FINDER_PAT_E=4,Qe.FINDER_PAT_F=5,Qe.FINDER_PATTERN_SEQUENCES=[[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_C,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_E,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D,Qe.FINDER_PAT_C],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_E,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D,Qe.FINDER_PAT_D,Qe.FINDER_PAT_F],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_E,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_F,Qe.FINDER_PAT_F],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_D],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_E],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_F,Qe.FINDER_PAT_F],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_E,Qe.FINDER_PAT_F,Qe.FINDER_PAT_F]],Qe.MAX_PAIRS=11;class Ul extends ir{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class zn extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const c=this.decodePair(a,!1,i,l);zn.addOrTally(this.possibleLeftPairs,c),a.reverse();let u=this.decodePair(a,!0,i,l);zn.addOrTally(this.possibleRightPairs,u),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&zn.checkChecksum(h,y))return zn.constructResult(h,y)}throw new le}static addOrTally(i,a){if(a==null)return;let l=!1;for(let c of i)if(c.getValue()===a.getValue()){c.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),c=new String(l).toString(),u=new ne;for(let C=13-c.length;C>0;C--)u.append("0");u.append(c);let h=0;for(let C=0;C<13;C++){let P=u.charAt(C).charCodeAt(0)-48;h+=C&1?P:3*P}h=10-h%10,h===10&&(h=0),u.append(h.toString());let y=i.getFinderPattern().getResultPoints(),b=a.getFinderPattern().getResultPoints();return new ie(u.toString(),null,0,[y[0],y[1],b[0],b[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(i,a,l,c){try{let u=this.findFinderPattern(i,a),h=this.parseFoundFinderPattern(i,l,a,u),y=c==null?null:c.get(X.NEED_RESULT_POINT_CALLBACK);if(y!=null){let P=(u[0]+u[1])/2;a&&(P=i.getSize()-1-P),y.foundPossibleResultPoint(new Se(P,l))}let b=this.decodeDataCharacter(i,h,!0),C=this.decodeDataCharacter(i,h,!1);return new Ul(1597*b.getValue()+C.getValue(),b.getChecksumPortion()+4*C.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(i,a,l){let c=this.getDataCharacterCounters();for(let Ie=0;Ie<c.length;Ie++)c[Ie]=0;if(l)Tt.recordPatternInReverse(i,a.getStartEnd()[0],c);else{Tt.recordPattern(i,a.getStartEnd()[1]+1,c);for(let Ie=0,Ue=c.length-1;Ie<Ue;Ie++,Ue--){let tt=c[Ie];c[Ie]=c[Ue],c[Ue]=tt}}let u=l?16:15,h=Pe.sum(new Int32Array(c))/u,y=this.getOddCounts(),b=this.getEvenCounts(),C=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Ie=0;Ie<c.length;Ie++){let Ue=c[Ie]/h,tt=Math.floor(Ue+.5);tt<1?tt=1:tt>8&&(tt=8);let rt=Math.floor(Ie/2);Ie&1?(b[rt]=tt,P[rt]=Ue-tt):(y[rt]=tt,C[rt]=Ue-tt)}this.adjustOddEvenCounts(l,u);let G=0,ee=0;for(let Ie=y.length-1;Ie>=0;Ie--)ee*=9,ee+=y[Ie],G+=y[Ie];let ge=0,ve=0;for(let Ie=b.length-1;Ie>=0;Ie--)ge*=9,ge+=b[Ie],ve+=b[Ie];let Ae=ee+3*ge;if(l){if(G&1||G>12||G<4)throw new le;let Ie=(12-G)/2,Ue=zn.OUTSIDE_ODD_WIDEST[Ie],tt=9-Ue,rt=Ct.getRSSvalue(y,Ue,!1),nt=Ct.getRSSvalue(b,tt,!0),Qt=zn.OUTSIDE_EVEN_TOTAL_SUBSET[Ie],Bt=zn.OUTSIDE_GSUM[Ie];return new ir(rt*Qt+nt+Bt,Ae)}else{if(ve&1||ve>10||ve<4)throw new le;let Ie=(10-ve)/2,Ue=zn.INSIDE_ODD_WIDEST[Ie],tt=9-Ue,rt=Ct.getRSSvalue(y,Ue,!0),nt=Ct.getRSSvalue(b,tt,!1),Qt=zn.INSIDE_ODD_TOTAL_SUBSET[Ie],Bt=zn.INSIDE_GSUM[Ie];return new ir(nt*Qt+rt+Bt,Ae)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),u=!1,h=0;for(;h<c&&(u=!i.get(h),a!==u);)h++;let y=0,b=h;for(let C=h;C<c;C++)if(i.get(C)!==u)l[y]++;else{if(y===3){if(un.isFinderPattern(l))return[b,C];b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,u=!u}throw new le}parseFoundFinderPattern(i,a,l,c){let u=i.get(c[0]),h=c[0]-1;for(;h>=0&&u!==i.get(h);)h--;h++;const y=c[0]-h,b=this.getDecodeFinderCounters(),C=new Int32Array(b.length);M.arraycopy(b,0,C,1,b.length-1),C[0]=y;const P=this.parseFinderValue(C,zn.FINDER_PATTERNS);let G=h,ee=c[1];return l&&(G=i.getSize()-1-G,ee=i.getSize()-1-ee),new Cr(P,[h,c[1]],G,ee,a)}adjustOddEvenCounts(i,a){let l=Pe.sum(new Int32Array(this.getOddCounts())),c=Pe.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,y=!1,b=!1;i?(l>12?h=!0:l<4&&(u=!0),c>12?b=!0:c<4&&(y=!0)):(l>11?h=!0:l<5&&(u=!0),c>10?b=!0:c<4&&(y=!0));let C=l+c-a,P=(l&1)===(i?1:0),G=(c&1)===1;if(C===1)if(P){if(G)throw new le;h=!0}else{if(!G)throw new le;b=!0}else if(C===-1)if(P){if(G)throw new le;u=!0}else{if(!G)throw new le;y=!0}else if(C===0){if(P){if(!G)throw new le;l<c?(u=!0,b=!0):(h=!0,y=!0)}else if(G)throw new le}else throw new le;if(u){if(h)throw new le;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(b)throw new le;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],zn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],zn.OUTSIDE_GSUM=[0,161,961,2015,2715],zn.INSIDE_GSUM=[0,336,1036,1516],zn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],zn.INSIDE_ODD_WIDEST=[2,4,6,8],zn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class da extends Tt{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(X.POSSIBLE_FORMATS):null,c=i&&i.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ce.EAN_13)||l.includes(ce.UPC_A)||l.includes(ce.EAN_8)||l.includes(ce.UPC_E))&&this.readers.push(new Ma(i)),l.includes(ce.CODE_39)&&this.readers.push(new Pt(c)),l.includes(ce.CODE_128)&&this.readers.push(new at),l.includes(ce.ITF)&&this.readers.push(new Dt),l.includes(ce.RSS_14)&&this.readers.push(new zn),l.includes(ce.RSS_EXPANDED)&&this.readers.push(new Qe(this.verbose))):(this.readers.push(new Ma(i)),this.readers.push(new Pt),this.readers.push(new Ma(i)),this.readers.push(new at),this.readers.push(new Dt),this.readers.push(new zn),this.readers.push(new Qe(this.verbose)))}decodeRow(i,a,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,a,l)}catch{}throw new le}reset(){this.readers.forEach(i=>i.reset())}}class Wc extends Z{constructor(i=500,a){super(new da(a),i,a)}}class on{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ln{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xt{constructor(i,a,l,c,u,h){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let y=0;const b=h.getECCodewords(),C=h.getECBlocks();for(let P of C)y+=P.getCount()*(P.getDataCodewords()+b);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new F;for(let l of Xt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Xt(1,10,10,8,8,new on(5,new ln(1,3))),new Xt(2,12,12,10,10,new on(7,new ln(1,5))),new Xt(3,14,14,12,12,new on(10,new ln(1,8))),new Xt(4,16,16,14,14,new on(12,new ln(1,12))),new Xt(5,18,18,16,16,new on(14,new ln(1,18))),new Xt(6,20,20,18,18,new on(18,new ln(1,22))),new Xt(7,22,22,20,20,new on(20,new ln(1,30))),new Xt(8,24,24,22,22,new on(24,new ln(1,36))),new Xt(9,26,26,24,24,new on(28,new ln(1,44))),new Xt(10,32,32,14,14,new on(36,new ln(1,62))),new Xt(11,36,36,16,16,new on(42,new ln(1,86))),new Xt(12,40,40,18,18,new on(48,new ln(1,114))),new Xt(13,44,44,20,20,new on(56,new ln(1,144))),new Xt(14,48,48,22,22,new on(68,new ln(1,174))),new Xt(15,52,52,24,24,new on(42,new ln(2,102))),new Xt(16,64,64,14,14,new on(56,new ln(2,140))),new Xt(17,72,72,16,16,new on(36,new ln(4,92))),new Xt(18,80,80,18,18,new on(48,new ln(4,114))),new Xt(19,88,88,20,20,new on(56,new ln(4,144))),new Xt(20,96,96,22,22,new on(68,new ln(4,174))),new Xt(21,104,104,24,24,new on(56,new ln(6,136))),new Xt(22,120,120,18,18,new on(68,new ln(6,175))),new Xt(23,132,132,20,20,new on(62,new ln(8,163))),new Xt(24,144,144,22,22,new on(62,new ln(8,156),new ln(2,155))),new Xt(25,8,18,6,16,new on(7,new ln(1,5))),new Xt(26,8,32,6,14,new on(11,new ln(1,10))),new Xt(27,12,26,10,24,new on(14,new ln(1,16))),new Xt(28,12,36,10,16,new on(18,new ln(1,22))),new Xt(29,16,36,14,16,new on(24,new ln(1,32))),new Xt(30,16,48,14,22,new on(28,new ln(1,49)))]}}Xt.VERSIONS=Xt.buildVersions();class Xo{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new F;this.version=Xo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return Xt.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let y=!1,b=!1,C=!1,P=!1;do if(l===u&&c===0&&!y)i[a++]=this.readCorner1(u,h)&255,l-=2,c+=2,y=!0;else if(l===u-2&&c===0&&h&3&&!b)i[a++]=this.readCorner2(u,h)&255,l-=2,c+=2,b=!0;else if(l===u+4&&c===2&&!(h&7)&&!C)i[a++]=this.readCorner3(u,h)&255,l-=2,c+=2,C=!0;else if(l===u-2&&c===0&&(h&7)===4&&!P)i[a++]=this.readCorner4(u,h)&255,l-=2,c+=2,P=!0;else{do l<u&&c>=0&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l+=2,c-=2;while(l<u&&c>=0);l+=3,c+=1}while(l<u||c<h);if(a!==this.version.getTotalCodewords())throw new F;return i}readModule(i,a,l,c){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,c){let u=0;return this.readModule(i-2,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-2,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a,l,c)&&(u|=1),u<<=1,this.readModule(i,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i,a,l,c)&&(u|=1),u}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new S("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=a/c|0,y=l/u|0,b=h*c,C=y*u,P=new ae(C,b);for(let G=0;G<h;++G){const ee=G*c;for(let ge=0;ge<y;++ge){const ve=ge*u;for(let Ae=0;Ae<c;++Ae){const Ie=G*(c+2)+1+Ae,Ue=ee+Ae;for(let tt=0;tt<u;++tt){const rt=ge*(u+2)+1+tt;if(i.get(rt,Ie)){const nt=ve+tt;P.set(nt,Ue)}}}}}return P}}class Wn{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let c=0;const u=l.getECBlocks();for(let Ae of u)c+=Ae.getCount();const h=new Array(c);let y=0;for(let Ae of u)for(let Ie=0;Ie<Ae.getCount();Ie++){const Ue=Ae.getDataCodewords(),tt=l.getECCodewords()+Ue;h[y++]=new Wn(Ue,new Uint8Array(tt))}const C=h[0].codewords.length-l.getECCodewords(),P=C-1;let G=0;for(let Ae=0;Ae<P;Ae++)for(let Ie=0;Ie<y;Ie++)h[Ie].codewords[Ae]=i[G++];const ee=a.getVersionNumber()===24,ge=ee?8:y;for(let Ae=0;Ae<ge;Ae++)h[Ae].codewords[C-1]=i[G++];const ve=h[0].codewords.length;for(let Ae=C;Ae<ve;Ae++)for(let Ie=0;Ie<y;Ie++){const Ue=ee?(Ie+8)%y:Ie,tt=ee&&Ue>7?Ae-1:Ae;h[Ue].codewords[tt]=i[G++]}if(G!==i.length)throw new S;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ws{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new S(""+i);let a=0,l=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(l>0){const h=8-l,y=i<h?i:h,b=h-y,C=255>>8-y<<b;a=(u[c]&C)>>b,i-=y,l+=y,l===8&&(l=0,c++)}if(i>0){for(;i>=8;)a=a<<8|u[c]&255,c++,i-=8;if(i>0){const h=8-i,y=255>>h<<h;a=a<<i|(u[c]&y)>>h,l+=i}}return this.bitOffset=l,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $n;(function(V){V[V.PAD_ENCODE=0]="PAD_ENCODE",V[V.ASCII_ENCODE=1]="ASCII_ENCODE",V[V.C40_ENCODE=2]="C40_ENCODE",V[V.TEXT_ENCODE=3]="TEXT_ENCODE",V[V.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",V[V.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",V[V.BASE256_ENCODE=6]="BASE256_ENCODE"})($n||($n={}));class Wr{static decode(i){const a=new Ws(i),l=new ne,c=new ne,u=new Array;let h=$n.ASCII_ENCODE;do if(h===$n.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,c);else{switch(h){case $n.C40_ENCODE:this.decodeC40Segment(a,l);break;case $n.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case $n.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case $n.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case $n.BASE256_ENCODE:this.decodeBase256Segment(a,l,u);break;default:throw new F}h=$n.ASCII_ENCODE}while(h!==$n.PAD_ENCODE&&a.available()>0);return c.length()>0&&l.append(c.toString()),new Ee(i,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,a,l){let c=!1;do{let u=i.readBits(8);if(u===0)throw new F;if(u<=128)return c&&(u+=128),a.append(String.fromCharCode(u-1)),$n.ASCII_ENCODE;if(u===129)return $n.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&a.append("0"),a.append(""+h)}else switch(u){case 230:return $n.C40_ENCODE;case 231:return $n.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return $n.ANSIX12_ENCODE;case 239:return $n.TEXT_ENCODE;case 240:return $n.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new F;break}}while(i.available()>0);return $n.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const c=[];let u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let y=0;y<3;y++){const b=c[y];switch(u){case 0:if(b<3)u=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else throw new F;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new F}u=0;break;case 3:l?(a.append(String.fromCharCode(b+224)),l=!1):a.append(String.fromCharCode(b+96)),u=0;break;default:throw new F}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,c=[],u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let y=0;y<3;y++){const b=c[y];switch(u){case 0:if(b<3)u=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else throw new F;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new F}u=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C),u=0}else throw new F;break;default:throw new F}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),l);for(let u=0;u<3;u++){const h=l[u];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new F;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let c=(i<<8)+a-1,u=Math.floor(c/1600);l[0]=u,c-=u*1600,u=Math.floor(c/40),l[1]=u,l[2]=c-u*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let c=i.readBits(6);if(c===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}c&32||(c|=64),a.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let c=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),c++);let h;if(u===0?h=i.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(i.readBits(8),c++),h<0)throw new F;const y=new Uint8Array(h);for(let b=0;b<h;b++){if(i.available()<8)throw new F;y[b]=this.unrandomize255State(i.readBits(8),c++)}l.push(y);try{a.append(z.decode(y,D.ISO88591))}catch(b){throw new Me("Platform does not support required encoding: "+b.message)}}static unrandomize255State(i,a){const l=149*a%255+1,c=i-l;return c>=0?c:c+256}}Wr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wr.TEXT_SHIFT2_SET_CHARS=Wr.C40_SHIFT2_SET_CHARS,Wr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Zo{constructor(){this.rsDecoder=new me(qe.DATA_MATRIX_FIELD_256)}decode(i){const a=new Xo(i),l=a.getVersion(),c=a.readCodewords(),u=Wn.getDataBlocks(c,l);let h=0;for(let C of u)h+=C.getNumDataCodewords();const y=new Uint8Array(h),b=u.length;for(let C=0;C<b;C++){const P=u[C],G=P.getCodewords(),ee=P.getNumDataCodewords();this.correctErrors(G,ee);for(let ge=0;ge<ee;ge++)y[ge*b+C]=G[ge]}return Wr.decode(y)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new w}for(let c=0;c<a;c++)i[c]=l[c]}}class Xn{constructor(i){this.image=i,this.rectangleDetector=new ot(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new le;a=this.shiftToModuleCenter(a);const l=a[0],c=a[1],u=a[2],h=a[3];let y=this.transitionsBetween(l,h)+1,b=this.transitionsBetween(u,h)+1;(y&1)===1&&(y+=1),(b&1)===1&&(b+=1),4*y<7*b&&4*b<7*y&&(y=b=Math.max(y,b));let C=Xn.sampleGrid(this.image,l,c,u,h,y,b);return new ze(C,[l,c,u,h])}static shiftPoint(i,a,l){let c=(a.getX()-i.getX())/(l+1),u=(a.getY()-i.getY())/(l+1);return new Se(i.getX()+c,i.getY()+u)}static moveAway(i,a,l){let c=i.getX(),u=i.getY();return c<a?c-=1:c+=1,u<l?u-=1:u+=1,new Se(c,u)}detectSolid1(i){let a=i[0],l=i[1],c=i[3],u=i[2],h=this.transitionsBetween(a,l),y=this.transitionsBetween(l,c),b=this.transitionsBetween(c,u),C=this.transitionsBetween(u,a),P=h,G=[u,a,l,c];return P>y&&(P=y,G[0]=a,G[1]=l,G[2]=c,G[3]=u),P>b&&(P=b,G[0]=l,G[1]=c,G[2]=u,G[3]=a),P>C&&(G[0]=c,G[1]=u,G[2]=a,G[3]=l),G}detectSolid2(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),y=Xn.shiftPoint(l,c,(h+1)*4),b=Xn.shiftPoint(c,l,(h+1)*4),C=this.transitionsBetween(y,a),P=this.transitionsBetween(b,u);return C<P?(i[0]=a,i[1]=l,i[2]=c,i[3]=u):(i[0]=l,i[1]=c,i[2]=u,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),y=this.transitionsBetween(l,u),b=Xn.shiftPoint(a,l,(y+1)*4),C=Xn.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(b,u),y=this.transitionsBetween(C,u);let P=new Se(u.getX()+(c.getX()-l.getX())/(h+1),u.getY()+(c.getY()-l.getY())/(h+1)),G=new Se(u.getX()+(a.getX()-l.getX())/(y+1),u.getY()+(a.getY()-l.getY())/(y+1));if(!this.isValid(P))return this.isValid(G)?G:null;if(!this.isValid(G))return P;let ee=this.transitionsBetween(b,P)+this.transitionsBetween(C,P),ge=this.transitionsBetween(b,G)+this.transitionsBetween(C,G);return ee>ge?P:G}shiftToModuleCenter(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u)+1,y=this.transitionsBetween(c,u)+1,b=Xn.shiftPoint(a,l,y*4),C=Xn.shiftPoint(c,l,h*4);h=this.transitionsBetween(b,u)+1,y=this.transitionsBetween(C,u)+1,(h&1)===1&&(h+=1),(y&1)===1&&(y+=1);let P=(a.getX()+l.getX()+c.getX()+u.getX())/4,G=(a.getY()+l.getY()+c.getY()+u.getY())/4;a=Xn.moveAway(a,P,G),l=Xn.moveAway(l,P,G),c=Xn.moveAway(c,P,G),u=Xn.moveAway(u,P,G);let ee,ge;return b=Xn.shiftPoint(a,l,y*4),b=Xn.shiftPoint(b,u,h*4),ee=Xn.shiftPoint(l,a,y*4),ee=Xn.shiftPoint(ee,c,h*4),C=Xn.shiftPoint(c,u,y*4),C=Xn.shiftPoint(C,l,h*4),ge=Xn.shiftPoint(u,c,y*4),ge=Xn.shiftPoint(ge,a,h*4),[b,ee,C,ge]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,c,u,h,y){return Lt.getInstance().sampleGrid(i,h,y,.5,.5,h-.5,.5,h-.5,y-.5,.5,y-.5,a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),y=Math.abs(h-c)>Math.abs(u-l);if(y){let Ae=l;l=c,c=Ae,Ae=u,u=h,h=Ae}let b=Math.abs(u-l),C=Math.abs(h-c),P=-b/2,G=c<h?1:-1,ee=l<u?1:-1,ge=0,ve=this.image.get(y?c:l,y?l:c);for(let Ae=l,Ie=c;Ae!==u;Ae+=ee){let Ue=this.image.get(y?Ie:Ae,y?Ae:Ie);if(Ue!==ve&&(ge++,ve=Ue),P+=C,P>0){if(Ie===h)break;Ie+=G,P-=b}}return ge}}class Di{constructor(){this.decoder=new Zo}decode(i,a=null){let l,c;if(a!=null&&a.has(X.PURE_BARCODE)){const C=Di.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(C),c=Di.NO_POINTS}else{const C=new Xn(i.getBlackMatrix()).detect();l=this.decoder.decode(C.getBits()),c=C.getPoints()}const u=l.getRawBytes(),h=new ie(l.getText(),u,8*u.length,c,ce.DATA_MATRIX,M.currentTimeMillis()),y=l.getByteSegments();y!=null&&h.putMetadata(be.BYTE_SEGMENTS,y);const b=l.getECLevel();return b!=null&&h.putMetadata(be.ERROR_CORRECTION_LEVEL,b),h}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new le;const c=this.moduleSize(a,i);let u=a[1];const h=l[1];let y=a[0];const C=(l[0]-y+1)/c,P=(h-u+1)/c;if(C<=0||P<=0)throw new le;const G=c/2;u+=G,y+=G;const ee=new ae(C,P);for(let ge=0;ge<P;ge++){const ve=u+ge*c;for(let Ae=0;Ae<C;Ae++)i.get(y+Ae*c,ve)&&ee.set(Ae,ge)}return ee}static moduleSize(i,a){const l=a.getWidth();let c=i[0];const u=i[1];for(;c<l&&a.get(c,u);)c++;if(c===l)throw new le;const h=c-i[0];if(h===0)throw new le;return h}}Di.NO_POINTS=[];class Xs extends Z{constructor(i=500){super(new Di,i)}}var Ai;(function(V){V[V.L=0]="L",V[V.M=1]="M",V[V.Q=2]="Q",V[V.H=3]="H"})(Ai||(Ai={}));class xn{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,xn.FOR_BITS.set(l,this),xn.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return xn.L;case"M":return xn.M;case"Q":return xn.Q;case"H":return xn.H;default:throw new N(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof xn))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=xn.FOR_BITS.size)throw new S;return xn.FOR_BITS.get(i)}}xn.FOR_BITS=new Map,xn.FOR_VALUE=new Map,xn.L=new xn(Ai.L,"L",1),xn.M=new xn(Ai.M,"M",0),xn.Q=new xn(Ai.Q,"Q",3),xn.H=new xn(Ai.H,"H",2);class Si{constructor(i){this.errorCorrectionLevel=xn.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return O.bitCount(i^a)}static decodeFormatInformation(i,a){const l=Si.doDecodeFormatInformation(i,a);return l!==null?l:Si.doDecodeFormatInformation(i^Si.FORMAT_INFO_MASK_QR,a^Si.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,c=0;for(const u of Si.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===i||h===a)return new Si(u[1]);let y=Si.numBitsDiffering(i,h);y<l&&(c=u[1],l=y),i!==a&&(y=Si.numBitsDiffering(a,h),y<l&&(c=u[1],l=y))}return l<=3?new Si(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Si))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Si.FORMAT_INFO_MASK_QR=21522,Si.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Re{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class he{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let c=0;const u=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const y of h)c+=y.getCount()*(y.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new F;try{return this.getVersionForNumber((i-17)/4)}catch{throw new F}}static getVersionForNumber(i){if(i<1||i>40)throw new S;return Et.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Et.VERSION_DECODE_INFO.length;c++){const u=Et.VERSION_DECODE_INFO[c];if(u===i)return Et.getVersionForNumber(c+7);const h=Si.numBitsDiffering(i,u);h<a&&(l=c+7,a=h)}return a<=3?Et.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new ae(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}Et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Et.VERSIONS=[new Et(1,new Int32Array(0),new Re(7,new he(1,19)),new Re(10,new he(1,16)),new Re(13,new he(1,13)),new Re(17,new he(1,9))),new Et(2,Int32Array.from([6,18]),new Re(10,new he(1,34)),new Re(16,new he(1,28)),new Re(22,new he(1,22)),new Re(28,new he(1,16))),new Et(3,Int32Array.from([6,22]),new Re(15,new he(1,55)),new Re(26,new he(1,44)),new Re(18,new he(2,17)),new Re(22,new he(2,13))),new Et(4,Int32Array.from([6,26]),new Re(20,new he(1,80)),new Re(18,new he(2,32)),new Re(26,new he(2,24)),new Re(16,new he(4,9))),new Et(5,Int32Array.from([6,30]),new Re(26,new he(1,108)),new Re(24,new he(2,43)),new Re(18,new he(2,15),new he(2,16)),new Re(22,new he(2,11),new he(2,12))),new Et(6,Int32Array.from([6,34]),new Re(18,new he(2,68)),new Re(16,new he(4,27)),new Re(24,new he(4,19)),new Re(28,new he(4,15))),new Et(7,Int32Array.from([6,22,38]),new Re(20,new he(2,78)),new Re(18,new he(4,31)),new Re(18,new he(2,14),new he(4,15)),new Re(26,new he(4,13),new he(1,14))),new Et(8,Int32Array.from([6,24,42]),new Re(24,new he(2,97)),new Re(22,new he(2,38),new he(2,39)),new Re(22,new he(4,18),new he(2,19)),new Re(26,new he(4,14),new he(2,15))),new Et(9,Int32Array.from([6,26,46]),new Re(30,new he(2,116)),new Re(22,new he(3,36),new he(2,37)),new Re(20,new he(4,16),new he(4,17)),new Re(24,new he(4,12),new he(4,13))),new Et(10,Int32Array.from([6,28,50]),new Re(18,new he(2,68),new he(2,69)),new Re(26,new he(4,43),new he(1,44)),new Re(24,new he(6,19),new he(2,20)),new Re(28,new he(6,15),new he(2,16))),new Et(11,Int32Array.from([6,30,54]),new Re(20,new he(4,81)),new Re(30,new he(1,50),new he(4,51)),new Re(28,new he(4,22),new he(4,23)),new Re(24,new he(3,12),new he(8,13))),new Et(12,Int32Array.from([6,32,58]),new Re(24,new he(2,92),new he(2,93)),new Re(22,new he(6,36),new he(2,37)),new Re(26,new he(4,20),new he(6,21)),new Re(28,new he(7,14),new he(4,15))),new Et(13,Int32Array.from([6,34,62]),new Re(26,new he(4,107)),new Re(22,new he(8,37),new he(1,38)),new Re(24,new he(8,20),new he(4,21)),new Re(22,new he(12,11),new he(4,12))),new Et(14,Int32Array.from([6,26,46,66]),new Re(30,new he(3,115),new he(1,116)),new Re(24,new he(4,40),new he(5,41)),new Re(20,new he(11,16),new he(5,17)),new Re(24,new he(11,12),new he(5,13))),new Et(15,Int32Array.from([6,26,48,70]),new Re(22,new he(5,87),new he(1,88)),new Re(24,new he(5,41),new he(5,42)),new Re(30,new he(5,24),new he(7,25)),new Re(24,new he(11,12),new he(7,13))),new Et(16,Int32Array.from([6,26,50,74]),new Re(24,new he(5,98),new he(1,99)),new Re(28,new he(7,45),new he(3,46)),new Re(24,new he(15,19),new he(2,20)),new Re(30,new he(3,15),new he(13,16))),new Et(17,Int32Array.from([6,30,54,78]),new Re(28,new he(1,107),new he(5,108)),new Re(28,new he(10,46),new he(1,47)),new Re(28,new he(1,22),new he(15,23)),new Re(28,new he(2,14),new he(17,15))),new Et(18,Int32Array.from([6,30,56,82]),new Re(30,new he(5,120),new he(1,121)),new Re(26,new he(9,43),new he(4,44)),new Re(28,new he(17,22),new he(1,23)),new Re(28,new he(2,14),new he(19,15))),new Et(19,Int32Array.from([6,30,58,86]),new Re(28,new he(3,113),new he(4,114)),new Re(26,new he(3,44),new he(11,45)),new Re(26,new he(17,21),new he(4,22)),new Re(26,new he(9,13),new he(16,14))),new Et(20,Int32Array.from([6,34,62,90]),new Re(28,new he(3,107),new he(5,108)),new Re(26,new he(3,41),new he(13,42)),new Re(30,new he(15,24),new he(5,25)),new Re(28,new he(15,15),new he(10,16))),new Et(21,Int32Array.from([6,28,50,72,94]),new Re(28,new he(4,116),new he(4,117)),new Re(26,new he(17,42)),new Re(28,new he(17,22),new he(6,23)),new Re(30,new he(19,16),new he(6,17))),new Et(22,Int32Array.from([6,26,50,74,98]),new Re(28,new he(2,111),new he(7,112)),new Re(28,new he(17,46)),new Re(30,new he(7,24),new he(16,25)),new Re(24,new he(34,13))),new Et(23,Int32Array.from([6,30,54,78,102]),new Re(30,new he(4,121),new he(5,122)),new Re(28,new he(4,47),new he(14,48)),new Re(30,new he(11,24),new he(14,25)),new Re(30,new he(16,15),new he(14,16))),new Et(24,Int32Array.from([6,28,54,80,106]),new Re(30,new he(6,117),new he(4,118)),new Re(28,new he(6,45),new he(14,46)),new Re(30,new he(11,24),new he(16,25)),new Re(30,new he(30,16),new he(2,17))),new Et(25,Int32Array.from([6,32,58,84,110]),new Re(26,new he(8,106),new he(4,107)),new Re(28,new he(8,47),new he(13,48)),new Re(30,new he(7,24),new he(22,25)),new Re(30,new he(22,15),new he(13,16))),new Et(26,Int32Array.from([6,30,58,86,114]),new Re(28,new he(10,114),new he(2,115)),new Re(28,new he(19,46),new he(4,47)),new Re(28,new he(28,22),new he(6,23)),new Re(30,new he(33,16),new he(4,17))),new Et(27,Int32Array.from([6,34,62,90,118]),new Re(30,new he(8,122),new he(4,123)),new Re(28,new he(22,45),new he(3,46)),new Re(30,new he(8,23),new he(26,24)),new Re(30,new he(12,15),new he(28,16))),new Et(28,Int32Array.from([6,26,50,74,98,122]),new Re(30,new he(3,117),new he(10,118)),new Re(28,new he(3,45),new he(23,46)),new Re(30,new he(4,24),new he(31,25)),new Re(30,new he(11,15),new he(31,16))),new Et(29,Int32Array.from([6,30,54,78,102,126]),new Re(30,new he(7,116),new he(7,117)),new Re(28,new he(21,45),new he(7,46)),new Re(30,new he(1,23),new he(37,24)),new Re(30,new he(19,15),new he(26,16))),new Et(30,Int32Array.from([6,26,52,78,104,130]),new Re(30,new he(5,115),new he(10,116)),new Re(28,new he(19,47),new he(10,48)),new Re(30,new he(15,24),new he(25,25)),new Re(30,new he(23,15),new he(25,16))),new Et(31,Int32Array.from([6,30,56,82,108,134]),new Re(30,new he(13,115),new he(3,116)),new Re(28,new he(2,46),new he(29,47)),new Re(30,new he(42,24),new he(1,25)),new Re(30,new he(23,15),new he(28,16))),new Et(32,Int32Array.from([6,34,60,86,112,138]),new Re(30,new he(17,115)),new Re(28,new he(10,46),new he(23,47)),new Re(30,new he(10,24),new he(35,25)),new Re(30,new he(19,15),new he(35,16))),new Et(33,Int32Array.from([6,30,58,86,114,142]),new Re(30,new he(17,115),new he(1,116)),new Re(28,new he(14,46),new he(21,47)),new Re(30,new he(29,24),new he(19,25)),new Re(30,new he(11,15),new he(46,16))),new Et(34,Int32Array.from([6,34,62,90,118,146]),new Re(30,new he(13,115),new he(6,116)),new Re(28,new he(14,46),new he(23,47)),new Re(30,new he(44,24),new he(7,25)),new Re(30,new he(59,16),new he(1,17))),new Et(35,Int32Array.from([6,30,54,78,102,126,150]),new Re(30,new he(12,121),new he(7,122)),new Re(28,new he(12,47),new he(26,48)),new Re(30,new he(39,24),new he(14,25)),new Re(30,new he(22,15),new he(41,16))),new Et(36,Int32Array.from([6,24,50,76,102,128,154]),new Re(30,new he(6,121),new he(14,122)),new Re(28,new he(6,47),new he(34,48)),new Re(30,new he(46,24),new he(10,25)),new Re(30,new he(2,15),new he(64,16))),new Et(37,Int32Array.from([6,28,54,80,106,132,158]),new Re(30,new he(17,122),new he(4,123)),new Re(28,new he(29,46),new he(14,47)),new Re(30,new he(49,24),new he(10,25)),new Re(30,new he(24,15),new he(46,16))),new Et(38,Int32Array.from([6,32,58,84,110,136,162]),new Re(30,new he(4,122),new he(18,123)),new Re(28,new he(13,46),new he(32,47)),new Re(30,new he(48,24),new he(14,25)),new Re(30,new he(42,15),new he(32,16))),new Et(39,Int32Array.from([6,26,54,82,110,138,166]),new Re(30,new he(20,117),new he(4,118)),new Re(28,new he(40,47),new he(7,48)),new Re(30,new he(43,24),new he(22,25)),new Re(30,new he(10,15),new he(67,16))),new Et(40,Int32Array.from([6,30,58,86,114,142,170]),new Re(30,new he(19,118),new he(6,119)),new Re(28,new he(18,47),new he(31,48)),new Re(30,new he(34,24),new he(34,25)),new Re(30,new he(20,15),new he(61,16)))];var oi;(function(V){V[V.DATA_MASK_000=0]="DATA_MASK_000",V[V.DATA_MASK_001=1]="DATA_MASK_001",V[V.DATA_MASK_010=2]="DATA_MASK_010",V[V.DATA_MASK_011=3]="DATA_MASK_011",V[V.DATA_MASK_100=4]="DATA_MASK_100",V[V.DATA_MASK_101=5]="DATA_MASK_101",V[V.DATA_MASK_110=6]="DATA_MASK_110",V[V.DATA_MASK_111=7]="DATA_MASK_111"})(oi||(oi={}));class dr{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let c=0;c<a;c++)this.isMasked(l,c)&&i.flip(c,l)}}dr.values=new Map([[oi.DATA_MASK_000,new dr(oi.DATA_MASK_000,(V,i)=>(V+i&1)===0)],[oi.DATA_MASK_001,new dr(oi.DATA_MASK_001,(V,i)=>(V&1)===0)],[oi.DATA_MASK_010,new dr(oi.DATA_MASK_010,(V,i)=>i%3===0)],[oi.DATA_MASK_011,new dr(oi.DATA_MASK_011,(V,i)=>(V+i)%3===0)],[oi.DATA_MASK_100,new dr(oi.DATA_MASK_100,(V,i)=>(Math.floor(V/2)+Math.floor(i/3)&1)===0)],[oi.DATA_MASK_101,new dr(oi.DATA_MASK_101,(V,i)=>V*i%6===0)],[oi.DATA_MASK_110,new dr(oi.DATA_MASK_110,(V,i)=>V*i%6<3)],[oi.DATA_MASK_111,new dr(oi.DATA_MASK_111,(V,i)=>(V+i+V*i%3&1)===0)]]);class Qo{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new F;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const a=this.bitMatrix.getHeight();let l=0;const c=a-7;for(let u=a-1;u>=c;u--)l=this.copyBit(8,u,l);for(let u=a-8;u<a;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=Si.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return Et.getVersionForNumber(a);let l=0;const c=i-11;for(let h=5;h>=0;h--)for(let y=i-9;y>=c;y--)l=this.copyBit(y,h,l);let u=Et.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;l=0;for(let h=5;h>=0;h--)for(let y=i-9;y>=c;y--)l=this.copyBit(h,y,l);if(u=Et.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new F}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=dr.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const u=a.buildFunctionPattern();let h=!0;const y=new Uint8Array(a.getTotalCodewords());let b=0,C=0,P=0;for(let G=c-1;G>0;G-=2){G===6&&G--;for(let ee=0;ee<c;ee++){const ge=h?c-1-ee:ee;for(let ve=0;ve<2;ve++)u.get(G-ve,ge)||(P++,C<<=1,this.bitMatrix.get(G-ve,ge)&&(C|=1),P===8&&(y[b++]=C,P=0,C=0))}h=!h}if(b!==a.getTotalCodewords())throw new F;return y}remask(){if(this.parsedFormatInfo===null)return;const i=dr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let c=a+1,u=i.getHeight();c<u;c++)i.get(a,c)!==i.get(c,a)&&(i.flip(c,a),i.flip(a,c))}}class Ko{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new S;const c=a.getECBlocksForLevel(l);let u=0;const h=c.getECBlocks();for(const ve of h)u+=ve.getCount();const y=new Array(u);let b=0;for(const ve of h)for(let Ae=0;Ae<ve.getCount();Ae++){const Ie=ve.getDataCodewords(),Ue=c.getECCodewordsPerBlock()+Ie;y[b++]=new Ko(Ie,new Uint8Array(Ue))}const C=y[0].codewords.length;let P=y.length-1;for(;P>=0&&y[P].codewords.length!==C;)P--;P++;const G=C-c.getECCodewordsPerBlock();let ee=0;for(let ve=0;ve<G;ve++)for(let Ae=0;Ae<b;Ae++)y[Ae].codewords[ve]=i[ee++];for(let ve=P;ve<b;ve++)y[ve].codewords[G]=i[ee++];const ge=y[0].codewords.length;for(let ve=G;ve<ge;ve++)for(let Ae=0;Ae<b;Ae++){const Ie=Ae<P?ve:ve+1;y[Ae].codewords[Ie]=i[ee++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gr;(function(V){V[V.TERMINATOR=0]="TERMINATOR",V[V.NUMERIC=1]="NUMERIC",V[V.ALPHANUMERIC=2]="ALPHANUMERIC",V[V.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",V[V.BYTE=4]="BYTE",V[V.ECI=5]="ECI",V[V.KANJI=6]="KANJI",V[V.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",V[V.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",V[V.HANZI=9]="HANZI"})(gr||(gr={}));class Ot{constructor(i,a,l,c){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=c,Ot.FOR_BITS.set(c,this),Ot.FOR_VALUE.set(i,this)}static forBits(i){const a=Ot.FOR_BITS.get(i);if(a===void 0)throw new S;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Ot))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}Ot.FOR_BITS=new Map,Ot.FOR_VALUE=new Map,Ot.TERMINATOR=new Ot(gr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ot.NUMERIC=new Ot(gr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ot.ALPHANUMERIC=new Ot(gr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ot.STRUCTURED_APPEND=new Ot(gr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ot.BYTE=new Ot(gr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ot.ECI=new Ot(gr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ot.KANJI=new Ot(gr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ot.FNC1_FIRST_POSITION=new Ot(gr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ot.FNC1_SECOND_POSITION=new Ot(gr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ot.HANZI=new Ot(gr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gn{static decode(i,a,l,c){const u=new Ws(i);let h=new ne;const y=new Array;let b=-1,C=-1;try{let P=null,G=!1,ee;do{if(u.available()<4)ee=Ot.TERMINATOR;else{const ge=u.readBits(4);ee=Ot.forBits(ge)}switch(ee){case Ot.TERMINATOR:break;case Ot.FNC1_FIRST_POSITION:case Ot.FNC1_SECOND_POSITION:G=!0;break;case Ot.STRUCTURED_APPEND:if(u.available()<16)throw new F;b=u.readBits(8),C=u.readBits(8);break;case Ot.ECI:const ge=gn.parseECIValue(u);if(P=j.getCharacterSetECIByValue(ge),P===null)throw new F;break;case Ot.HANZI:const ve=u.readBits(4),Ae=u.readBits(ee.getCharacterCountBits(a));ve===gn.GB2312_SUBSET&&gn.decodeHanziSegment(u,h,Ae);break;default:const Ie=u.readBits(ee.getCharacterCountBits(a));switch(ee){case Ot.NUMERIC:gn.decodeNumericSegment(u,h,Ie);break;case Ot.ALPHANUMERIC:gn.decodeAlphanumericSegment(u,h,Ie,G);break;case Ot.BYTE:gn.decodeByteSegment(u,h,Ie,P,y,c);break;case Ot.KANJI:gn.decodeKanjiSegment(u,h,Ie);break;default:throw new F}break}}while(ee!==Ot.TERMINATOR)}catch{throw new F}return new Ee(i,h.toString(),y.length===0?null:y,l===null?null:l.toString(),b,C)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new F;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let y=h/96<<8&4294967295|h%96;y<959?y+=41377:y+=42657,c[u]=y>>8&255,c[u+1]=y&255,u+=2,l--}try{a.append(z.decode(c,D.GB2312))}catch(h){throw new F(h)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new F;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let y=h/192<<8&4294967295|h%192;y<7936?y+=33088:y+=49472,c[u]=y>>8,c[u+1]=y,u+=2,l--}try{a.append(z.decode(c,D.SHIFT_JIS))}catch(h){throw new F(h)}}static decodeByteSegment(i,a,l,c,u,h){if(8*l>i.available())throw new F;const y=new Uint8Array(l);for(let C=0;C<l;C++)y[C]=i.readBits(8);let b;c===null?b=D.guessEncoding(y,h):b=c.getName();try{a.append(z.decode(y,b))}catch(C){throw new F(C)}u.push(y)}static toAlphaNumericChar(i){if(i>=gn.ALPHANUMERIC_CHARS.length)throw new F;return gn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,c){const u=a.length();for(;l>1;){if(i.available()<11)throw new F;const h=i.readBits(11);a.append(gn.toAlphaNumericChar(Math.floor(h/45))),a.append(gn.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(i.available()<6)throw new F;a.append(gn.toAlphaNumericChar(i.readBits(6)))}if(c)for(let h=u;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new F;const c=i.readBits(10);if(c>=1e3)throw new F;a.append(gn.toAlphaNumericChar(Math.floor(c/100))),a.append(gn.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(gn.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(i.available()<7)throw new F;const c=i.readBits(7);if(c>=100)throw new F;a.append(gn.toAlphaNumericChar(Math.floor(c/10))),a.append(gn.toAlphaNumericChar(c%10))}else if(l===1){if(i.available()<4)throw new F;const c=i.readBits(4);if(c>=10)throw new F;a.append(gn.toAlphaNumericChar(c))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new F}}gn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gn.GB2312_SUBSET=1;class xs{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class Zs{constructor(){this.rsDecoder=new me(qe.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(ae.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new Qo(i);let c=null;try{return this.decodeBitMatrixParser(l,a)}catch(u){c=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,a);return u.setOther(new xs(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(i,a){const l=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),h=Ko.getDataBlocks(u,l,c);let y=0;for(const P of h)y+=P.getNumDataCodewords();const b=new Uint8Array(y);let C=0;for(const P of h){const G=P.getCodewords(),ee=P.getNumDataCodewords();this.correctErrors(G,ee);for(let ge=0;ge<ee;ge++)b[C++]=G[ge]}return gn.decode(b,l,c,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new w}for(let c=0;c<a;c++)i[c]=l[c]}}class Qs extends Se{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=(this.getX()+a)/2,u=(this.getY()+i)/2,h=(this.estimatedModuleSize+l)/2;return new Qs(c,u,h)}}class Ni{constructor(i,a,l,c,u,h,y){this.image=i,this.startX=a,this.startY=l,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,c=i+l,u=this.startY+a/2,h=new Int32Array(3),y=this.image;for(let b=0;b<a;b++){const C=u+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));h[0]=0,h[1]=0,h[2]=0;let P=i;for(;P<c&&!y.get(P,C);)P++;let G=0;for(;P<c;){if(y.get(P,C))if(G===1)h[1]++;else if(G===2){if(this.foundPatternCross(h)){const ee=this.handlePossibleCenter(h,C,P);if(ee!==null)return ee}h[0]=h[2],h[1]=1,h[2]=0,G=1}else h[++G]++;else G===1&&G++,h[G]++;P++}if(this.foundPatternCross(h)){const ee=this.handlePossibleCenter(h,C,c);if(ee!==null)return ee}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let c=0;c<3;c++)if(Math.abs(a-i[c])>=l)return!1;return!0}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let b=i;for(;b>=0&&u.get(a,b)&&y[1]<=l;)y[1]++,b--;if(b<0||y[1]>l)return NaN;for(;b>=0&&!u.get(a,b)&&y[0]<=l;)y[0]++,b--;if(y[0]>l)return NaN;for(b=i+1;b<h&&u.get(a,b)&&y[1]<=l;)y[1]++,b++;if(b===h||y[1]>l)return NaN;for(;b<h&&!u.get(a,b)&&y[2]<=l;)y[2]++,b++;if(y[2]>l)return NaN;const C=y[0]+y[1]+y[2];return 5*Math.abs(C-c)>=2*c?NaN:this.foundPatternCross(y)?Ni.centerFromEnd(y,b):NaN}handlePossibleCenter(i,a,l){const c=i[0]+i[1]+i[2],u=Ni.centerFromEnd(i,l),h=this.crossCheckVertical(a,u,2*i[1],c);if(!isNaN(h)){const y=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(y,h,u))return C.combineEstimate(h,u,y);const b=new Qs(u,h,y);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class Jo extends Se{constructor(i,a,l,c){super(i,a),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=this.count+1,u=(this.count*this.getX()+a)/c,h=(this.count*this.getY()+i)/c,y=(this.count*this.estimatedModuleSize+l)/c;return new Jo(u,h,y,c)}}class zl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(X.TRY_HARDER)!==void 0,l=i!=null&&i.get(X.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let y=Math.floor(3*u/(4*Nt.MAX_MODULES));(y<Nt.MIN_SKIP||a)&&(y=Nt.MIN_SKIP);let b=!1;const C=new Int32Array(5);for(let G=y-1;G<u&&!b;G+=y){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let ee=0;for(let ge=0;ge<h;ge++)if(c.get(ge,G))(ee&1)===1&&ee++,C[ee]++;else if(ee&1)C[ee]++;else if(ee===4)if(Nt.foundPatternCross(C)){if(this.handlePossibleCenter(C,G,ge,l)===!0)if(y=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const Ae=this.findRowSkip();Ae>C[2]&&(G+=Ae-C[2]-y,ge=h-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,ee=3;continue}ee=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,ee=3;else C[++ee]++;Nt.foundPatternCross(C)&&this.handlePossibleCenter(C,G,h,l)===!0&&(y=C[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return Se.orderBestPatterns(P),new zl(P)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let u=0;u<5;u++){const h=i[u];if(h===0)return!1;a+=h}if(a<7)return!1;const l=a/7,c=l/2;return Math.abs(l-i[0])<c&&Math.abs(l-i[1])<c&&Math.abs(3*l-i[2])<3*c&&Math.abs(l-i[3])<c&&Math.abs(l-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,c){const u=this.getCrossCheckStateCount();let h=0;const y=this.image;for(;i>=h&&a>=h&&y.get(a-h,i-h);)u[2]++,h++;if(i<h||a<h)return!1;for(;i>=h&&a>=h&&!y.get(a-h,i-h)&&u[1]<=l;)u[1]++,h++;if(i<h||a<h||u[1]>l)return!1;for(;i>=h&&a>=h&&y.get(a-h,i-h)&&u[0]<=l;)u[0]++,h++;if(u[0]>l)return!1;const b=y.getHeight(),C=y.getWidth();for(h=1;i+h<b&&a+h<C&&y.get(a+h,i+h);)u[2]++,h++;if(i+h>=b||a+h>=C)return!1;for(;i+h<b&&a+h<C&&!y.get(a+h,i+h)&&u[3]<l;)u[3]++,h++;if(i+h>=b||a+h>=C||u[3]>=l)return!1;for(;i+h<b&&a+h<C&&y.get(a+h,i+h)&&u[4]<l;)u[4]++,h++;if(u[4]>=l)return!1;const P=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(P-c)<2*c&&Nt.foundPatternCross(u)}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),y=this.getCrossCheckStateCount();let b=i;for(;b>=0&&u.get(a,b);)y[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(a,b)&&y[1]<=l;)y[1]++,b--;if(b<0||y[1]>l)return NaN;for(;b>=0&&u.get(a,b)&&y[0]<=l;)y[0]++,b--;if(y[0]>l)return NaN;for(b=i+1;b<h&&u.get(a,b);)y[2]++,b++;if(b===h)return NaN;for(;b<h&&!u.get(a,b)&&y[3]<l;)y[3]++,b++;if(b===h||y[3]>=l)return NaN;for(;b<h&&u.get(a,b)&&y[4]<l;)y[4]++,b++;if(y[4]>=l)return NaN;const C=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(C-c)>=2*c?NaN:Nt.foundPatternCross(y)?Nt.centerFromEnd(y,b):NaN}crossCheckHorizontal(i,a,l,c){const u=this.image,h=u.getWidth(),y=this.getCrossCheckStateCount();let b=i;for(;b>=0&&u.get(b,a);)y[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(b,a)&&y[1]<=l;)y[1]++,b--;if(b<0||y[1]>l)return NaN;for(;b>=0&&u.get(b,a)&&y[0]<=l;)y[0]++,b--;if(y[0]>l)return NaN;for(b=i+1;b<h&&u.get(b,a);)y[2]++,b++;if(b===h)return NaN;for(;b<h&&!u.get(b,a)&&y[3]<l;)y[3]++,b++;if(b===h||y[3]>=l)return NaN;for(;b<h&&u.get(b,a)&&y[4]<l;)y[4]++,b++;if(y[4]>=l)return NaN;const C=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(C-c)>=c?NaN:Nt.foundPatternCross(y)?Nt.centerFromEnd(y,b):NaN}handlePossibleCenter(i,a,l,c){const u=i[0]+i[1]+i[2]+i[3]+i[4];let h=Nt.centerFromEnd(i,l),y=this.crossCheckVertical(a,Math.floor(h),i[2],u);if(!isNaN(y)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(y),i[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(y),Math.floor(h),i[2],u)))){const b=u/7;let C=!1;const P=this.possibleCenters;for(let G=0,ee=P.length;G<ee;G++){const ge=P[G];if(ge.aboutEquals(b,y,h)){P[G]=ge.combineEstimate(y,h,b),C=!0;break}}if(!C){const G=new Jo(h,y,b);P.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Nt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Nt.CENTER_QUORUM&&(i++,a+=h.getEstimatedModuleSize());if(i<3)return!1;const c=a/l;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new le;const a=this.possibleCenters;let l;if(i>3){let c=0,u=0;for(const b of this.possibleCenters){const C=b.getEstimatedModuleSize();c+=C,u+=C*C}l=c/i;let h=Math.sqrt(u/i-l*l);a.sort((b,C)=>{const P=Math.abs(C.getEstimatedModuleSize()-l),G=Math.abs(b.getEstimatedModuleSize()-l);return P<G?-1:P>G?1:0});const y=Math.max(.2*l,h);for(let b=0;b<a.length&&a.length>3;b++){const C=a[b];Math.abs(C.getEstimatedModuleSize()-l)>y&&(a.splice(b,1),b--)}}if(a.length>3){let c=0;for(const u of a)c+=u.getEstimatedModuleSize();l=c/a.length,a.sort((u,h)=>{if(h.getCount()===u.getCount()){const y=Math.abs(h.getEstimatedModuleSize()-l),b=Math.abs(u.getEstimatedModuleSize()-l);return y<b?1:y>b?-1:0}else return h.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Nt.CENTER_QUORUM=2,Nt.MIN_SKIP=3,Nt.MAX_MODULES=57;class ys{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(X.NEED_RESULT_POINT_CALLBACK);const l=new Nt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),c=i.getBottomLeft(),u=this.calculateModuleSize(a,l,c);if(u<1)throw new le("No pattern found in proccess finder.");const h=ys.computeDimension(a,l,c,u),y=Et.getProvisionalVersionForDimension(h),b=y.getDimensionForVersion()-7;let C=null;if(y.getAlignmentPatternCenters().length>0){const ge=l.getX()-a.getX()+c.getX(),ve=l.getY()-a.getY()+c.getY(),Ae=1-3/b,Ie=Math.floor(a.getX()+Ae*(ge-a.getX())),Ue=Math.floor(a.getY()+Ae*(ve-a.getY()));for(let tt=4;tt<=16;tt<<=1)try{C=this.findAlignmentInRegion(u,Ie,Ue,tt);break}catch(rt){if(!(rt instanceof le))throw rt}}const P=ys.createTransform(a,l,c,C,h),G=ys.sampleGrid(this.image,P,h);let ee;return C===null?ee=[c,a,l]:ee=[c,a,l,C],new ze(G,ee)}static createTransform(i,a,l,c,u){const h=u-3.5;let y,b,C,P;return c!==null?(y=c.getX(),b=c.getY(),C=h-3,P=C):(y=a.getX()-i.getX()+l.getX(),b=a.getY()-i.getY()+l.getY(),C=h,P=h),yt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,C,P,3.5,h,i.getX(),i.getY(),a.getX(),a.getY(),y,b,l.getX(),l.getY())}static sampleGrid(i,a,l){return Lt.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,c){const u=Pe.round(Se.distance(i,a)/c),h=Pe.round(Se.distance(i,l)/c);let y=Math.floor((u+h)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new le("Dimensions could be not found.")}return y}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,c){let u=this.sizeOfBlackWhiteBlackRun(i,a,l,c),h=1,y=i-(l-i);y<0?(h=i/(i-y),y=0):y>=this.image.getWidth()&&(h=(this.image.getWidth()-1-i)/(y-i),y=this.image.getWidth()-1);let b=Math.floor(a-(c-a)*h);return h=1,b<0?(h=a/(a-b),b=0):b>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(b-a),b=this.image.getHeight()-1),y=Math.floor(i+(y-i)*h),u+=this.sizeOfBlackWhiteBlackRun(i,a,y,b),u-1}sizeOfBlackWhiteBlackRun(i,a,l,c){const u=Math.abs(c-a)>Math.abs(l-i);if(u){let ge=i;i=a,a=ge,ge=l,l=c,c=ge}const h=Math.abs(l-i),y=Math.abs(c-a);let b=-h/2;const C=i<l?1:-1,P=a<c?1:-1;let G=0;const ee=l+C;for(let ge=i,ve=a;ge!==ee;ge+=C){const Ae=u?ve:ge,Ie=u?ge:ve;if(G===1===this.image.get(Ae,Ie)){if(G===2)return Pe.distance(ge,ve,i,a);G++}if(b+=y,b>0){if(ve===c)break;ve+=P,b-=h}}return G===2?Pe.distance(l+C,c,i,a):NaN}findAlignmentInRegion(i,a,l,c){const u=Math.floor(c*i),h=Math.max(0,a-u),y=Math.min(this.image.getWidth()-1,a+u);if(y-h<i*3)throw new le("Alignment top exceeds estimated module size.");const b=Math.max(0,l-u),C=Math.min(this.image.getHeight()-1,l+u);if(C-b<i*3)throw new le("Alignment bottom exceeds estimated module size.");return new Ni(this.image,h,b,y-h,C-b,i,this.resultPointCallback).find()}}class ga{constructor(){this.decoder=new Zs}getDecoder(){return this.decoder}decode(i,a){let l,c;if(a!=null&&a.get(X.PURE_BARCODE)!==void 0){const b=ga.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(b,a),c=ga.NO_POINTS}else{const b=new ys(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(b.getBits(),a),c=b.getPoints()}l.getOther()instanceof xs&&l.getOther().applyMirroredCorrection(c);const u=new ie(l.getText(),l.getRawBytes(),void 0,c,ce.QR_CODE,void 0),h=l.getByteSegments();h!==null&&u.putMetadata(be.BYTE_SEGMENTS,h);const y=l.getECLevel();return y!==null&&u.putMetadata(be.ERROR_CORRECTION_LEVEL,y),l.hasStructuredAppend()&&(u.putMetadata(be.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(be.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new le;const c=this.moduleSize(a,i);let u=a[1],h=l[1],y=a[0],b=l[0];if(y>=b||u>=h)throw new le;if(h-u!==b-y&&(b=y+(h-u),b>=i.getWidth()))throw new le;const C=Math.round((b-y+1)/c),P=Math.round((h-u+1)/c);if(C<=0||P<=0)throw new le;if(P!==C)throw new le;const G=Math.floor(c/2);u+=G,y+=G;const ee=y+Math.floor((C-1)*c)-b;if(ee>0){if(ee>G)throw new le;y-=ee}const ge=u+Math.floor((P-1)*c)-h;if(ge>0){if(ge>G)throw new le;u-=ge}const ve=new ae(C,P);for(let Ae=0;Ae<P;Ae++){const Ie=u+Math.floor(Ae*c);for(let Ue=0;Ue<C;Ue++)i.get(y+Math.floor(Ue*c),Ie)&&ve.set(Ue,Ae)}return ve}static moduleSize(i,a){const l=a.getHeight(),c=a.getWidth();let u=i[0],h=i[1],y=!0,b=0;for(;u<c&&h<l;){if(y!==a.get(u,h)){if(++b===5)break;y=!y}u++,h++}if(u===c||h===l)throw new le;return(u-i[0])/7}}ga.NO_POINTS=new Array;class _t{PDF417Common(){}static getBitCountSum(i){return Pe.sum(i)}static toIntArray(i){if(i==null||!i.length)return _t.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const c of i)a[l++]=c;return a}static getCodeword(i){const a=I.binarySearch(_t.SYMBOL_TABLE,i&262143);return a<0?-1:(_t.CODEWORD_TABLE[a]-1)%_t.NUMBER_OF_CODEWORDS}}_t.NUMBER_OF_CODEWORDS=929,_t.MAX_CODEWORDS_IN_BARCODE=_t.NUMBER_OF_CODEWORDS-1,_t.MIN_ROWS_IN_BARCODE=3,_t.MAX_ROWS_IN_BARCODE=90,_t.MODULES_IN_CODEWORD=17,_t.MODULES_IN_STOP_PATTERN=18,_t.BARS_IN_MODULE=8,_t.EMPTY_INT_ARRAY=new Int32Array([]),_t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Hl{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ht{static detectMultiple(i,a,l){let c=i.getBlackMatrix(),u=Ht.detect(l,c);return u.length||(c=c.clone(),c.rotate180(),u=Ht.detect(l,c)),new Hl(c,u)}static detect(i,a){const l=new Array;let c=0,u=0,h=!1;for(;c<a.getHeight();){const y=Ht.findVertices(a,c,u);if(y[0]==null&&y[3]==null){if(!h)break;h=!1,u=0;for(const b of l)b[1]!=null&&(c=Math.trunc(Math.max(c,b[1].getY()))),b[3]!=null&&(c=Math.max(c,Math.trunc(b[3].getY())));c+=Ht.ROW_STEP;continue}if(h=!0,l.push(y),!i)break;y[2]!=null?(u=Math.trunc(y[2].getX()),c=Math.trunc(y[2].getY())):(u=Math.trunc(y[4].getX()),c=Math.trunc(y[4].getY()))}return l}static findVertices(i,a,l){const c=i.getHeight(),u=i.getWidth(),h=new Array(8);return Ht.copyToResult(h,Ht.findRowsWithPattern(i,c,u,a,l,Ht.START_PATTERN),Ht.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),Ht.copyToResult(h,Ht.findRowsWithPattern(i,c,u,a,l,Ht.STOP_PATTERN),Ht.INDEXES_STOP_PATTERN),h}static copyToResult(i,a,l){for(let c=0;c<l.length;c++)i[l[c]]=a[c]}static findRowsWithPattern(i,a,l,c,u,h){const y=new Array(4);let b=!1;const C=new Int32Array(h.length);for(;c<a;c+=Ht.ROW_STEP){let G=Ht.findGuardPattern(i,u,c,l,!1,h,C);if(G!=null){for(;c>0;){const ee=Ht.findGuardPattern(i,u,--c,l,!1,h,C);if(ee!=null)G=ee;else{c++;break}}y[0]=new Se(G[0],c),y[1]=new Se(G[1],c),b=!0;break}}let P=c+1;if(b){let G=0,ee=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;P<a;P++){const ge=Ht.findGuardPattern(i,ee[0],P,l,!1,h,C);if(ge!=null&&Math.abs(ee[0]-ge[0])<Ht.MAX_PATTERN_DRIFT&&Math.abs(ee[1]-ge[1])<Ht.MAX_PATTERN_DRIFT)ee=ge,G=0;else{if(G>Ht.SKIPPED_ROW_COUNT_MAX)break;G++}}P-=G+1,y[2]=new Se(ee[0],P),y[3]=new Se(ee[1],P)}return P-c<Ht.BARCODE_MIN_HEIGHT&&I.fill(y,null),y}static findGuardPattern(i,a,l,c,u,h,y){I.fillWithin(y,0,y.length,0);let b=a,C=0;for(;i.get(b,l)&&b>0&&C++<Ht.MAX_PIXEL_DRIFT;)b--;let P=b,G=0,ee=h.length;for(let ge=u;P<c;P++)if(i.get(P,l)!==ge)y[G]++;else{if(G===ee-1){if(Ht.patternMatchVariance(y,h,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return new Int32Array([b,P]);b+=y[0]+y[1],M.arraycopy(y,2,y,0,G-1),y[G-1]=0,y[G]=0,G--}else G++;y[G]=1,ge=!ge}return G===ee-1&&Ht.patternMatchVariance(y,h,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE?new Int32Array([b,P-1]):null}static patternMatchVariance(i,a,l){let c=i.length,u=0,h=0;for(let C=0;C<c;C++)u+=i[C],h+=a[C];if(u<h)return 1/0;let y=u/h;l*=y;let b=0;for(let C=0;C<c;C++){let P=i[C],G=a[C]*y,ee=P>G?P-G:G-P;if(ee>l)return 1/0;b+=ee}return b/u}}Ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ht.MAX_AVG_VARIANCE=.42,Ht.MAX_INDIVIDUAL_VARIANCE=.8,Ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ht.MAX_PIXEL_DRIFT=3,Ht.MAX_PATTERN_DRIFT=5,Ht.SKIPPED_ROW_COUNT_MAX=25,Ht.ROW_STEP=5,Ht.BARCODE_MIN_HEIGHT=10;class ei{constructor(i,a){if(a.length===0)throw new S;this.field=i;let l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let a=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)a=this.field.add(this.field.multiply(i,a),this.coefficients[c]);return a}add(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let c=new Int32Array(l.length),u=l.length-a.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=this.field.add(a[h-u],l[h]);return new ei(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof ei?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new ei(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1);for(let y=0;y<l;y++){let b=a[y];for(let C=0;C<u;C++)h[y+C]=this.field.add(h[y+C],this.field.multiply(b,c[C]))}return new ei(this.field,h)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new ei(this.field,a)}multiplyScalar(i){if(i===0)return new ei(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new ei(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new S;if(a===0)return new ei(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+i);for(let u=0;u<l;u++)c[u]=this.field.multiply(this.coefficients[u],a);return new ei(this.field,c)}toString(){let i=new ne;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class $o{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new S;return this.logTable[i]}inverse(i){if(i===0)throw new et;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class el extends $o{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let c=0;c<i;c++)this.expTable[c]=l,l=l*a%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new ei(this,new Int32Array([0])),this.one=new ei(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new S;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new ei(this,l)}}el.PDF417_GF=new el(_t.NUMBER_OF_CODEWORDS,3);class ql{constructor(){this.field=el.PDF417_GF}decode(i,a,l){let c=new ei(this.field,i),u=new Int32Array(a),h=!1;for(let ve=a;ve>0;ve--){let Ae=c.evaluateAt(this.field.exp(ve));u[a-ve]=Ae,Ae!==0&&(h=!0)}if(!h)return 0;let y=this.field.getOne();if(l!=null)for(const ve of l){let Ae=this.field.exp(i.length-1-ve),Ie=new ei(this.field,new Int32Array([this.field.subtract(0,Ae),1]));y=y.multiply(Ie)}let b=new ei(this.field,u),C=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),b,a),P=C[0],G=C[1],ee=this.findErrorLocations(P),ge=this.findErrorMagnitudes(G,P,ee);for(let ve=0;ve<ee.length;ve++){let Ae=i.length-1-this.field.log(ee[ve]);if(Ae<0)throw w.getChecksumInstance();i[Ae]=this.field.subtract(i[Ae],ge[ve])}return ee.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let ee=i;i=a,a=ee}let c=i,u=a,h=this.field.getZero(),y=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let ee=c,ge=h;if(c=u,h=y,c.isZero())throw w.getChecksumInstance();u=ee;let ve=this.field.getZero(),Ae=c.getCoefficient(c.getDegree()),Ie=this.field.inverse(Ae);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Ue=u.getDegree()-c.getDegree(),tt=this.field.multiply(u.getCoefficient(u.getDegree()),Ie);ve=ve.add(this.field.buildMonomial(Ue,tt)),u=u.subtract(c.multiplyByMonomial(Ue,tt))}y=ve.multiply(h).subtract(ge).negative()}let b=y.getCoefficient(0);if(b===0)throw w.getChecksumInstance();let C=this.field.inverse(b),P=y.multiply(C),G=u.multiply(C);return[P,G]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),c=0;for(let u=1;u<this.field.getSize()&&c<a;u++)i.evaluateAt(u)===0&&(l[c]=this.field.inverse(u),c++);if(c!==a)throw w.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let c=a.getDegree(),u=new Int32Array(c);for(let C=1;C<=c;C++)u[c-C]=this.field.multiply(C,a.getCoefficient(C));let h=new ei(this.field,u),y=l.length,b=new Int32Array(y);for(let C=0;C<y;C++){let P=this.field.inverse(l[C]),G=this.field.subtract(0,i.evaluateAt(P)),ee=this.field.inverse(h.evaluateAt(P));b[C]=this.field.multiply(G,ee)}return b}}class Ra{constructor(i,a,l,c,u){i instanceof Ra?this.constructor_2(i):this.constructor_1(i,a,l,c,u)}constructor_1(i,a,l,c,u){const h=a==null||l==null,y=c==null||u==null;if(h&&y)throw new le;h?(a=new Se(0,c.getY()),l=new Se(0,u.getY())):y&&(c=new Se(i.getWidth()-1,a.getY()),u=new Se(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Ra(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,y=this.bottomRight;if(i>0){let b=l?this.topLeft:this.topRight,C=Math.trunc(b.getY()-i);C<0&&(C=0);let P=new Se(b.getX(),C);l?c=P:h=P}if(a>0){let b=l?this.bottomLeft:this.bottomRight,C=Math.trunc(b.getY()+a);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let P=new Se(b.getX(),C);l?u=P:y=P}return new Ra(this.image,c,u,h,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class tl{constructor(i,a,l,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xr{constructor(){this.buffer=""}static form(i,a){let l=-1;function c(h,y,b,C,P,G){if(h==="%%")return"%";if(a[++l]===void 0)return;h=C?parseInt(C.substr(1)):void 0;let ee=P?parseInt(P.substr(1)):void 0,ge;switch(G){case"s":ge=a[l];break;case"c":ge=a[l][0];break;case"f":ge=parseFloat(a[l]).toFixed(h);break;case"p":ge=parseFloat(a[l]).toPrecision(h);break;case"e":ge=parseFloat(a[l]).toExponential(h);break;case"x":ge=parseInt(a[l]).toString(ee||16);break;case"d":ge=parseFloat(parseInt(a[l],ee||10).toPrecision(h)).toFixed(0);break}ge=typeof ge=="object"?JSON.stringify(ge):(+ge).toString(ee);let ve=parseInt(b),Ae=b&&b[0]+""=="0"?"0":" ";for(;ge.length<ve;)ge=y!==void 0?ge+Ae:Ae+ge;return ge}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}format(i,...a){this.buffer+=Xr.form(i,a)}toString(){return this.buffer}}class Rr{constructor(i){this.boundingBox=new Ra(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<Rr.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(i)-l;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(i)+l,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Xr;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}Rr.MAX_NEARBY_DISTANCE=5;class vs{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,c]of this.values.entries()){const u={getKey:()=>l,getValue:()=>c};u.getValue()>i?(i=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===i&&a.push(u.getKey())}return _t.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Qa extends Rr{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=this.imageRowToCodewordIndex(Math.trunc(u.getY())),b=-1,C=1,P=0;for(let G=h;G<y;G++){if(a[G]==null)continue;let ee=a[G],ge=ee.getRowNumber()-b;if(ge===0)P++;else if(ge===1)C=Math.max(C,P),P=1,b=ee.getRowNumber();else if(ge<0||ee.getRowNumber()>=i.getRowCount()||ge>G)a[G]=null;else{let ve;C>2?ve=(C-2)*ge:ve=ge;let Ae=ve>=G;for(let Ie=1;Ie<=ve&&!Ae;Ie++)Ae=a[G-Ie]!=null;Ae?a[G]=null:(b=ee.getRowNumber(),P=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=this.getCodewords(),b=-1;for(let C=u;C<h;C++){if(y[C]==null)continue;let P=y[C];P.setRowNumberAsRowIndicatorColumn();let G=P.getRowNumber()-b;G===0||(G===1?b=P.getRowNumber():P.getRowNumber()>=i.getRowCount()?y[C]=null:b=P.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new vs,l=new vs,c=new vs,u=new vs;for(let y of i){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let b=y.getValue()%30,C=y.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(b*3+1);break;case 1:u.setValue(b/3),c.setValue(b%3);break;case 2:a.setValue(b+1);break}}if(a.getValue().length===0||l.getValue().length===0||c.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<_t.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>_t.MAX_ROWS_IN_BARCODE)return null;let h=new tl(a.getValue()[0],l.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,h),h}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let c=i[l];if(i[l]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:u+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ja{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=_t.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[l];u!=null&&(u.setRowNumber(i[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let y=this.detectionResultColumns[h].getCodewords()[l];y!=null&&(u=ja.adjustRowNumberIfValid(c,u,y),y.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let y=this.detectionResultColumns[h].getCodewords()[l];y!=null&&(u=ja.adjustRowNumberIfValid(c,u,y),y.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let c=l[a],u=this.detectionResultColumns[i-1].getCodewords(),h=u;this.detectionResultColumns[i+1]!=null&&(h=this.detectionResultColumns[i+1].getCodewords());let y=new Array(14);y[2]=u[a],y[3]=h[a],a>0&&(y[0]=l[a-1],y[4]=u[a-1],y[5]=h[a-1]),a>1&&(y[8]=l[a-2],y[10]=u[a-2],y[11]=h[a-2]),a<l.length-1&&(y[1]=l[a+1],y[6]=u[a+1],y[7]=h[a+1]),a<l.length-2&&(y[9]=l[a+2],y[12]=u[a+2],y[13]=h[a+2]);for(let b of y)if(ja.adjustRowNumber(c,b))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Xr;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[l];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class pa{constructor(i,a,l,c){this.rowNumber=pa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==pa.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}pa.BARCODE_ROW_UNKNOWN=-1;class ki{static initialize(){for(let i=0;i<_t.SYMBOL_TABLE.length;i++){let a=_t.SYMBOL_TABLE[i],l=a&1;for(let c=0;c<_t.BARS_IN_MODULE;c++){let u=0;for(;(a&1)===l;)u+=1,a>>=1;l=a&1,ki.RATIOS_TABLE[i]||(ki.RATIOS_TABLE[i]=new Array(_t.BARS_IN_MODULE)),ki.RATIOS_TABLE[i][_t.BARS_IN_MODULE-c-1]=Math.fround(u/_t.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=ki.getDecodedCodewordValue(ki.sampleBitCounts(i));return a!==-1?a:ki.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=Pe.sum(i),l=new Int32Array(_t.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<_t.MODULES_IN_CODEWORD;h++){let y=a/(2*_t.MODULES_IN_CODEWORD)+h*a/_t.MODULES_IN_CODEWORD;u+i[c]<=y&&(u+=i[c],c++),l[c]++}return l}static getDecodedCodewordValue(i){let a=ki.getBitValue(i);return _t.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let c=0;c<i[l];c++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=Pe.sum(i),l=new Array(_t.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(i[h]/a);let c=Oe.MAX_VALUE,u=-1;this.bSymbolTableReady||ki.initialize();for(let h=0;h<ki.RATIOS_TABLE.length;h++){let y=0,b=ki.RATIOS_TABLE[h];for(let C=0;C<_t.BARS_IN_MODULE;C++){let P=Math.fround(b[C]-l[C]);if(y+=Math.fround(P*P),y>=c)break}y<c&&(c=y,u=_t.SYMBOL_TABLE[h])}return u}}ki.bSymbolTableReady=!1,ki.RATIOS_TABLE=new Array(_t.SYMBOL_TABLE.length).map(V=>new Array(_t.BARS_IN_MODULE));class nl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class il{static parseLong(i,a=void 0){return parseInt(i,a)}}class rl extends x{}rl.kind="NullPointerException";class ma{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new rl;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new H;if(l===0)return;for(let c=0;c<l;c++)this.write(i[a+c])}flush(){}close(){}}class Ba extends x{}class Xc extends ma{constructor(i=32){if(super(),this.count=0,i<0)throw new S("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Ba;l=O.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new H;this.ensureCapacity(this.count+l),M.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var en;(function(V){V[V.ALPHA=0]="ALPHA",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.PUNCT=3]="PUNCT",V[V.ALPHA_SHIFT=4]="ALPHA_SHIFT",V[V.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(en||(en={}));function jr(){if(typeof window<"u")return window.BigInt||null;if(typeof Os<"u")return Os.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ka;function pr(V){if(typeof Ka>"u"&&(Ka=jr()),Ka===null)throw new Error("BigInt is not supported!");return Ka(V)}function Zc(){let V=[];V[0]=pr(1);let i=pr(900);V[1]=i;for(let a=2;a<16;a++)V[a]=V[a-1]*i;return V}class Fe{static decode(i,a){let l=new ne(""),c=j.ISO8859_1;l.enableDecoding(c);let u=1,h=i[u++],y=new nl;for(;u<i[0];){switch(h){case Fe.TEXT_COMPACTION_MODE_LATCH:u=Fe.textCompaction(i,u,l);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:u=Fe.byteCompaction(h,i,c,u,l);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:u=Fe.numericCompaction(i,u,l);break;case Fe.ECI_CHARSET:j.getCharacterSetECIByValue(i[u++]);break;case Fe.ECI_GENERAL_PURPOSE:u+=2;break;case Fe.ECI_USER_DEFINED:u++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Fe.decodeMacroBlock(i,u,y);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new F;default:u--,u=Fe.textCompaction(i,u,l);break}if(u<i.length)h=i[u++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let b=new Ee(null,l.toString(),null,a);return b.setOther(y),b}static decodeMacroBlock(i,a,l){if(a+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw F.getFormatInstance();let c=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;y++,a++)c[y]=i[a];l.setSegmentIndex(O.parseInt(Fe.decodeBase900toBase10(c,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ne;a=Fe.textCompaction(i,a,u),l.setFileId(u.toString());let h=-1;for(i[a]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<i[0];)switch(i[a]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ne;a=Fe.textCompaction(i,a+1,y),l.setFileName(y.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new ne;a=Fe.textCompaction(i,a+1,b),l.setSender(b.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ne;a=Fe.textCompaction(i,a+1,C),l.setAddressee(C.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new ne;a=Fe.numericCompaction(i,a+1,P),l.setSegmentCount(O.parseInt(P.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let G=new ne;a=Fe.numericCompaction(i,a+1,G),l.setTimestamp(il.parseLong(G.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ee=new ne;a=Fe.numericCompaction(i,a+1,ee),l.setChecksum(O.parseInt(ee.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ge=new ne;a=Fe.numericCompaction(i,a+1,ge),l.setFileSize(il.parseLong(ge.toString()));break;default:throw F.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(h!==-1){let y=a-h;l.isLastSegment()&&y--,l.setOptionalData(I.copyOfRange(i,h,h+y))}return a}static textCompaction(i,a,l){let c=new Int32Array((i[0]-a)*2),u=new Int32Array((i[0]-a)*2),h=0,y=!1;for(;a<i[0]&&!y;){let b=i[a++];if(b<Fe.TEXT_COMPACTION_MODE_LATCH)c[h]=b/30,c[h+1]=b%30,h+=2;else switch(b){case Fe.TEXT_COMPACTION_MODE_LATCH:c[h++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:a--,y=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=i[a++],u[h]=b,h++;break}}return Fe.decodeTextCompaction(c,u,h,l),a}static decodeTextCompaction(i,a,l,c){let u=en.ALPHA,h=en.ALPHA,y=0;for(;y<l;){let b=i[y],C="";switch(u){case en.ALPHA:if(b<26)C=String.fromCharCode(65+b);else switch(b){case 26:C=" ";break;case Fe.LL:u=en.LOWER;break;case Fe.ML:u=en.MIXED;break;case Fe.PS:h=u,u=en.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.LOWER:if(b<26)C=String.fromCharCode(97+b);else switch(b){case 26:C=" ";break;case Fe.AS:h=u,u=en.ALPHA_SHIFT;break;case Fe.ML:u=en.MIXED;break;case Fe.PS:h=u,u=en.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.MIXED:if(b<Fe.PL)C=Fe.MIXED_CHARS[b];else switch(b){case Fe.PL:u=en.PUNCT;break;case 26:C=" ";break;case Fe.LL:u=en.LOWER;break;case Fe.AL:u=en.ALPHA;break;case Fe.PS:h=u,u=en.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.PUNCT:if(b<Fe.PAL)C=Fe.PUNCT_CHARS[b];else switch(b){case Fe.PAL:u=en.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.ALPHA_SHIFT:if(u=h,b<26)C=String.fromCharCode(65+b);else switch(b){case 26:C=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.PUNCT_SHIFT:if(u=h,b<Fe.PAL)C=Fe.PUNCT_CHARS[b];else switch(b){case Fe.PAL:u=en.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break}C!==""&&c.append(C),y++}}static byteCompaction(i,a,l,c,u){let h=new Xc,y=0,b=0,C=!1;switch(i){case Fe.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),G=a[c++];for(;c<a[0]&&!C;)switch(P[y++]=G,b=900*b+G,G=a[c++],G){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:c--,C=!0;break;default:if(y%5===0&&y>0){for(let ee=0;ee<6;++ee)h.write(Number(pr(b)>>pr(8*(5-ee))));b=0,y=0}break}c===a[0]&&G<Fe.TEXT_COMPACTION_MODE_LATCH&&(P[y++]=G);for(let ee=0;ee<y;ee++)h.write(P[ee]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!C;){let ee=a[c++];if(ee<Fe.TEXT_COMPACTION_MODE_LATCH)y++,b=900*b+ee;else switch(ee){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:c--,C=!0;break}if(y%5===0&&y>0){for(let ge=0;ge<6;++ge)h.write(Number(pr(b)>>pr(8*(5-ge))));b=0,y=0}}break}return u.append(z.decode(h.toByteArray(),l)),c}static numericCompaction(i,a,l){let c=0,u=!1,h=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!u;){let y=i[a++];if(a===i[0]&&(u=!0),y<Fe.TEXT_COMPACTION_MODE_LATCH)h[c]=y,c++;else switch(y){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(c%Fe.MAX_NUMERIC_CODEWORDS===0||y===Fe.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(l.append(Fe.decodeBase900toBase10(h,c)),c=0)}return a}static decodeBase900toBase10(i,a){let l=pr(0);for(let u=0;u<a;u++)l+=Fe.EXP900[a-u-1]*pr(i[u]);let c=l.toString();if(c.charAt(0)!=="1")throw new F;return c.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=jr()?Zc():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(i,a,l,c,u,h,y){let b=new Ra(i,a,l,c,u),C=null,P=null,G;for(let ve=!0;;ve=!1){if(a!=null&&(C=Yt.getRowIndicatorColumn(i,b,a,!0,h,y)),c!=null&&(P=Yt.getRowIndicatorColumn(i,b,c,!1,h,y)),G=Yt.merge(C,P),G==null)throw le.getNotFoundInstance();let Ae=G.getBoundingBox();if(ve&&Ae!=null&&(Ae.getMinY()<b.getMinY()||Ae.getMaxY()>b.getMaxY()))b=Ae;else break}G.setBoundingBox(b);let ee=G.getBarcodeColumnCount()+1;G.setDetectionResultColumn(0,C),G.setDetectionResultColumn(ee,P);let ge=C!=null;for(let ve=1;ve<=ee;ve++){let Ae=ge?ve:ee-ve;if(G.getDetectionResultColumn(Ae)!==void 0)continue;let Ie;Ae===0||Ae===ee?Ie=new Qa(b,Ae===0):Ie=new Rr(b),G.setDetectionResultColumn(Ae,Ie);let Ue=-1,tt=Ue;for(let rt=b.getMinY();rt<=b.getMaxY();rt++){if(Ue=Yt.getStartColumn(G,Ae,rt,ge),Ue<0||Ue>b.getMaxX()){if(tt===-1)continue;Ue=tt}let nt=Yt.detectCodeword(i,b.getMinX(),b.getMaxX(),ge,Ue,rt,h,y);nt!=null&&(Ie.setCodeword(rt,nt),tt=Ue,h=Math.min(h,nt.getWidth()),y=Math.max(y,nt.getWidth()))}}return Yt.createDecoderResult(G)}static merge(i,a){if(i==null&&a==null)return null;let l=Yt.getBarcodeMetadata(i,a);if(l==null)return null;let c=Ra.merge(Yt.adjustBoundingBox(i),Yt.adjustBoundingBox(a));return new ja(l,c)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=Yt.getMax(a),c=0;for(let y of a)if(c+=l-y,y>0)break;let u=i.getCodewords();for(let y=0;c>0&&u[y]==null;y++)c--;let h=0;for(let y=a.length-1;y>=0&&(h+=l-a[y],!(a[y]>0));y--);for(let y=u.length-1;h>0&&u[y]==null;y--)h--;return i.getBoundingBox().addMissingRows(c,h,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,c,u,h){let y=new Qa(a,c);for(let b=0;b<2;b++){let C=b===0?1:-1,P=Math.trunc(Math.trunc(l.getX()));for(let G=Math.trunc(Math.trunc(l.getY()));G<=a.getMaxY()&&G>=a.getMinY();G+=C){let ee=Yt.detectCodeword(i,0,i.getWidth(),c,P,G,u,h);ee!=null&&(y.setCodeword(G,ee),c?P=ee.getStartX():P=ee.getEndX())}}return y}static adjustCodewordCount(i,a){let l=a[0][1],c=l.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(u<1||u>_t.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();l.setValue(u)}else c[0]!==u&&l.setValue(u)}static createDecoderResult(i){let a=Yt.createBarcodeMatrix(i);Yt.adjustCodewordCount(i,a);let l=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],h=new Array;for(let b=0;b<i.getBarcodeRowCount();b++)for(let C=0;C<i.getBarcodeColumnCount();C++){let P=a[b][C+1].getValue(),G=b*i.getBarcodeColumnCount()+C;P.length===0?l.push(G):P.length===1?c[G]=P[0]:(h.push(G),u.push(P))}let y=new Array(u.length);for(let b=0;b<y.length;b++)y[b]=u[b];return Yt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,_t.toIntArray(l),_t.toIntArray(h),y)}static createDecoderResultFromAmbiguousValues(i,a,l,c,u){let h=new Int32Array(c.length),y=100;for(;y-- >0;){for(let b=0;b<h.length;b++)a[c[b]]=u[b][h[b]];try{return Yt.decodeCodewords(a,i,l)}catch(b){if(!(b instanceof w))throw b}if(h.length===0)throw w.getChecksumInstance();for(let b=0;b<h.length;b++)if(h[b]<u[b].length-1){h[b]++;break}else if(h[b]=0,b===h.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let u=0;u<a[c].length;u++)a[c][u]=new vs;let l=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(u.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,c){let u=c?1:-1,h=null;if(Yt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=i.getDetectionResultColumn(a).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(Yt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let y=0;for(;Yt.isValidBarcodeColumn(i,a-u);){a-=u;for(let b of i.getDetectionResultColumn(a).getCodewords())if(b!=null)return(c?b.getEndX():b.getStartX())+u*y*(b.getEndX()-b.getStartX());y++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,c,u,h,y,b){u=Yt.adjustCodewordStartColumn(i,a,l,c,u,h);let C=Yt.getModuleBitCount(i,a,l,c,u,h);if(C==null)return null;let P,G=Pe.sum(C);if(c)P=u+G;else{for(let ve=0;ve<C.length/2;ve++){let Ae=C[ve];C[ve]=C[C.length-1-ve],C[C.length-1-ve]=Ae}P=u,u=P-G}if(!Yt.checkCodewordSkew(G,y,b))return null;let ee=ki.getDecodedValue(C),ge=_t.getCodeword(ee);return ge===-1?null:new pa(u,P,Yt.getCodewordBucketNumber(ee),ge)}static getModuleBitCount(i,a,l,c,u,h){let y=u,b=new Int32Array(8),C=0,P=c?1:-1,G=c;for(;(c?y<l:y>=a)&&C<b.length;)i.get(y,h)===G?(b[C]++,y+=P):(C++,G=!G);return C===b.length||y===(c?l:a)&&C===b.length-1?b:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,c,u,h){let y=u,b=c?-1:1;for(let C=0;C<2;C++){for(;(c?y>=a:y<l)&&c===i.get(y,h);){if(Math.abs(u-y)>Yt.CODEWORD_SKEW_SIZE)return u;y+=b}b=-b,c=!c}return y}static checkCodewordSkew(i,a,l){return a-Yt.CODEWORD_SKEW_SIZE<=i&&i<=l+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw F.getFormatInstance();let c=1<<a+1,u=Yt.correctErrors(i,l,c);Yt.verifyCodewordCount(i,c);let h=Fe.decode(i,""+a);return h.setErrorsCorrected(u),h.setErasures(l.length),h}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+Yt.MAX_ERRORS||l<0||l>Yt.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return Yt.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw F.getFormatInstance();let l=i[0];if(l>i.length)throw F.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw F.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,c=a.length-1;for(;!((i&1)!==l&&(l=i&1,c--,c<0));)a[c]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new Xr;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let c=0;c<i[l].length;c++){let u=i[l][c];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new ql;class li{decode(i,a=null){let l=li.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw le.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return li.decode(i,a,!0)}catch(l){throw l instanceof F||l instanceof w?le.getNotFoundInstance():l}}static decode(i,a,l){const c=new Array,u=Ht.detectMultiple(i,a,l);for(const h of u.getPoints()){const y=Yt.decode(u.getBits(),h[4],h[5],h[6],h[7],li.getMinCodewordWidth(h),li.getMaxCodewordWidth(h)),b=new ie(y.getText(),y.getRawBytes(),void 0,h,ce.PDF_417);b.putMetadata(be.ERROR_CORRECTION_LEVEL,y.getECLevel());const C=y.getOther();C!=null&&b.putMetadata(be.PDF417_EXTRA_METADATA,C),c.push(b)}return c.map(h=>h)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?O.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(li.getMaxWidth(i[0],i[4]),li.getMaxWidth(i[6],i[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.max(li.getMaxWidth(i[1],i[5]),li.getMaxWidth(i[7],i[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(li.getMinWidth(i[0],i[4]),li.getMinWidth(i[6],i[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.min(li.getMinWidth(i[1],i[5]),li.getMinWidth(i[7],i[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ja extends x{}Ja.kind="ReaderException";class al{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(X.TRY_HARDER)===!0,l=r(i)?null:i.get(X.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const u=l.some(h=>h===ce.UPC_A||h===ce.UPC_E||h===ce.EAN_13||h===ce.EAN_8||h===ce.CODABAR||h===ce.CODE_39||h===ce.CODE_93||h===ce.CODE_128||h===ce.ITF||h===ce.RSS_14||h===ce.RSS_EXPANDED);u&&!a&&c.push(new da(i,this.verbose)),l.includes(ce.QR_CODE)&&c.push(new ga),l.includes(ce.DATA_MATRIX)&&c.push(new Di),l.includes(ce.AZTEC)&&c.push(new lt),l.includes(ce.PDF_417)&&c.push(new li),u&&a&&c.push(new da(i,this.verbose))}c.length===0&&(a||c.push(new da(i,this.verbose)),c.push(new ga),c.push(new Di),c.push(new lt),c.push(new li),a&&c.push(new da(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Ja("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof Ja)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class Ks extends Z{constructor(i=null,a=500){const l=new al;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class sl extends Z{constructor(i=500){super(new li,i)}}class ol extends Z{constructor(i=500){super(new ga,i)}}var Js;(function(V){V[V.ERROR_CORRECTION=0]="ERROR_CORRECTION",V[V.CHARACTER_SET=1]="CHARACTER_SET",V[V.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",V[V.MIN_SIZE=3]="MIN_SIZE",V[V.MAX_SIZE=4]="MAX_SIZE",V[V.MARGIN=5]="MARGIN",V[V.PDF417_COMPACT=6]="PDF417_COMPACT",V[V.PDF417_COMPACTION=7]="PDF417_COMPACTION",V[V.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",V[V.AZTEC_LAYERS=9]="AZTEC_LAYERS",V[V.QR_VERSION=10]="QR_VERSION"})(Js||(Js={}));var ci=Js;class $a{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new ke(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const c=this.field;for(let u=a.length;u<=i;u++){const h=l.multiply(new ke(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));a.push(h),l=h}}return a[i]}encode(i,a){if(a===0)throw new S("No error correction bytes");const l=i.length-a;if(l<=0)throw new S("No data bytes provided");const c=this.buildGenerator(a),u=new Int32Array(l);M.arraycopy(i,0,u,0,l);let h=new ke(this.field,u);h=h.multiplyByMonomial(a,1);const b=h.divide(c)[1].getCoefficients(),C=a-b.length;for(let P=0;P<C;P++)i[l+P]=0;M.arraycopy(b,0,i,l+C,b.length)}}class An{constructor(){}static applyMaskPenaltyRule1(i){return An.applyMaskPenaltyRule1Internal(i,!0)+An.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u-1;h++){const y=l[h];for(let b=0;b<c-1;b++){const C=y[b];C===y[b+1]&&C===l[h+1][b]&&C===l[h+1][b+1]&&a++}}return An.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u;h++)for(let y=0;y<c;y++){const b=l[h];y+6<c&&b[y]===1&&b[y+1]===0&&b[y+2]===1&&b[y+3]===1&&b[y+4]===1&&b[y+5]===0&&b[y+6]===1&&(An.isWhiteHorizontal(b,y-4,y)||An.isWhiteHorizontal(b,y+7,y+11))&&a++,h+6<u&&l[h][y]===1&&l[h+1][y]===0&&l[h+2][y]===1&&l[h+3][y]===1&&l[h+4][y]===1&&l[h+5][y]===0&&l[h+6][y]===1&&(An.isWhiteVertical(l,y,h-4,h)||An.isWhiteVertical(l,y,h+7,h+11))&&a++}return a*An.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let c=a;c<l;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,a,l,c){l=Math.max(l,0),c=Math.min(c,i.length);for(let u=l;u<c;u++)if(i[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let b=0;b<u;b++){const C=l[b];for(let P=0;P<c;P++)C[P]===1&&a++}const h=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*An.N4}static getDataMaskBit(i,a,l){let c,u;switch(i){case 0:c=l+a&1;break;case 1:c=l&1;break;case 2:c=a%3;break;case 3:c=(l+a)%3;break;case 4:c=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:u=l*a,c=(u&1)+u%3;break;case 6:u=l*a,c=(u&1)+u%3&1;break;case 7:u=l*a,c=u%3+(l+a&1)&1;break;default:throw new S("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const c=a?i.getHeight():i.getWidth(),u=a?i.getWidth():i.getHeight(),h=i.getArray();for(let y=0;y<c;y++){let b=0,C=-1;for(let P=0;P<u;P++){const G=a?h[y][P]:h[P][y];G===C?b++:(b>=5&&(l+=An.N1+(b-5)),b=1,C=G)}b>=5&&(l+=An.N1+(b-5))}return l}}An.N1=3,An.N2=3,An.N3=40,An.N4=10;class es{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let c=0;c!==a;c++)l[c]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)I.fill(a,i)}equals(i){if(!(i instanceof es))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,c=this.height;l<c;++l){const u=this.bytes[l],h=a.bytes[l];for(let y=0,b=this.width;y<b;++y)if(u[y]!==h[y])return!1}return!0}toString(){const i=new ne;for(let a=0,l=this.height;a<l;++a){const c=this.bytes[a];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class mr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ne;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<mr.NUM_MASK_PATTERNS}}mr.NUM_MASK_PATTERNS=8;class pn extends x{}pn.kind="WriterException";class A{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,c,u){A.clearMatrix(u),A.embedBasicPatterns(l,u),A.embedTypeInfo(a,c,u),A.maybeEmbedVersionInfo(l,u),A.embedDataBits(i,c,u)}static embedBasicPatterns(i,a){A.embedPositionDetectionPatternsAndSeparators(a),A.embedDarkDotAtLeftBottomCorner(a),A.maybeEmbedPositionAdjustmentPatterns(i,a),A.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const c=new k;A.makeTypeInfoBits(i,a,c);for(let u=0,h=c.getSize();u<h;++u){const y=c.get(c.getSize()-1-u),b=A.TYPE_INFO_COORDINATES[u],C=b[0],P=b[1];if(l.setBoolean(C,P,y),u<8){const G=l.getWidth()-u-1;l.setBoolean(G,8,y)}else{const ee=l.getHeight()-7+(u-8);l.setBoolean(8,ee,y)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new k;A.makeVersionInfoBits(i,l);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const y=l.get(c);c--,a.setBoolean(u,a.getHeight()-11+h,y),a.setBoolean(a.getHeight()-11+h,u,y)}}static embedDataBits(i,a,l){let c=0,u=-1,h=l.getWidth()-1,y=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);y>=0&&y<l.getHeight();){for(let b=0;b<2;++b){const C=h-b;if(!A.isEmpty(l.get(C,y)))continue;let P;c<i.getSize()?(P=i.get(c),++c):P=!1,a!==255&&An.getDataMaskBit(a,C,y)&&(P=!P),l.setBoolean(C,y,P)}y+=u}u=-u,y+=u,h-=2}if(c!==i.getSize())throw new pn("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-O.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new S("0 polynomial");const l=A.findMSBSet(a);for(i<<=l-1;A.findMSBSet(i)>=l;)i^=a<<A.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!mr.isValidMaskPattern(a))throw new pn("Invalid mask pattern");const c=i.getBits()<<3|a;l.appendBits(c,5);const u=A.calculateBCHCode(c,A.TYPE_INFO_POLY);l.appendBits(u,10);const h=new k;if(h.appendBits(A.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new pn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=A.calculateBCHCode(i.getVersionNumber(),A.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new pn("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;A.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),A.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new pn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let c=0;c<8;++c){if(!A.isEmpty(l.get(i+c,a)))throw new pn;l.setNumber(i+c,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let c=0;c<7;++c){if(!A.isEmpty(l.get(i,a+c)))throw new pn;l.setNumber(i,a+c,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let c=0;c<5;++c){const u=A.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPattern(i,a,l){for(let c=0;c<7;++c){const u=A.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(i){const a=A.POSITION_DETECTION_PATTERN[0].length;A.embedPositionDetectionPattern(0,0,i),A.embedPositionDetectionPattern(i.getWidth()-a,0,i),A.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;A.embedHorizontalSeparationPattern(0,l-1,i),A.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),A.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const c=7;A.embedVerticalSeparationPattern(c,0,i),A.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),A.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,c=A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,h=c.length;u!==h;u++){const y=c[u];if(y>=0)for(let b=0;b!==h;b++){const C=c[b];C>=0&&A.isEmpty(a.get(C,y))&&A.embedPositionAdjustmentPattern(C-2,y-2,a)}}}}A.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),A.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),A.VERSION_INFO_POLY=7973,A.TYPE_INFO_POLY=1335,A.TYPE_INFO_MASK_PATTERN=21522;class W{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class de{constructor(){}static calculateMaskPenalty(i){return An.applyMaskPenaltyRule1(i)+An.applyMaskPenaltyRule2(i)+An.applyMaskPenaltyRule3(i)+An.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let c=de.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(ci.CHARACTER_SET)!==void 0;u&&(c=l.get(ci.CHARACTER_SET).toString());const h=this.chooseMode(i,c),y=new k;if(h===Ot.BYTE&&(u||de.DEFAULT_BYTE_MODE_ENCODING!==c)){const rt=j.getCharacterSetECIByName(c);rt!==void 0&&this.appendECI(rt,y)}this.appendModeInfo(h,y);const b=new k;this.appendBytes(i,h,b,c);let C;if(l!==null&&l.get(ci.QR_VERSION)!==void 0){const rt=Number.parseInt(l.get(ci.QR_VERSION).toString(),10);C=Et.getVersionForNumber(rt);const nt=this.calculateBitsNeeded(h,y,b,C);if(!this.willFit(nt,C,a))throw new pn("Data too big for requested version")}else C=this.recommendVersion(a,h,y,b);const P=new k;P.appendBitArray(y);const G=h===Ot.BYTE?b.getSizeInBytes():i.length;this.appendLengthInfo(G,C,h,P),P.appendBitArray(b);const ee=C.getECBlocksForLevel(a),ge=C.getTotalCodewords()-ee.getTotalECCodewords();this.terminateBits(ge,P);const ve=this.interleaveWithECBytes(P,C.getTotalCodewords(),ge,ee.getNumBlocks()),Ae=new mr;Ae.setECLevel(a),Ae.setMode(h),Ae.setVersion(C);const Ie=C.getDimensionForVersion(),Ue=new es(Ie,Ie),tt=this.chooseMaskPattern(ve,a,C,Ue);return Ae.setMaskPattern(tt),A.buildMatrix(ve,a,C,tt,Ue),Ae.setMatrix(Ue),Ae}static recommendVersion(i,a,l,c){const u=this.calculateBitsNeeded(a,l,c,Et.getVersionForNumber(1)),h=this.chooseVersion(u,i),y=this.calculateBitsNeeded(a,l,c,h);return this.chooseVersion(y,i)}static calculateBitsNeeded(i,a,l,c){return a.getSize()+i.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(i){return i<de.ALPHANUMERIC_TABLE.length?de.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(j.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return Ot.KANJI;let l=!1,c=!1;for(let u=0,h=i.length;u<h;++u){const y=i.charAt(u);if(de.isDigit(y))l=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)c=!0;else return Ot.BYTE}return c?Ot.ALPHANUMERIC:l?Ot.NUMERIC:Ot.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=z.encode(i,j.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const u=a[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,a,l,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let y=0;y<mr.NUM_MASK_PATTERNS;y++){A.buildMatrix(i,a,l,y,c);let b=this.calculateMaskPenalty(c);b<u&&(u=b,h=y)}return h}static chooseVersion(i,a){for(let l=1;l<=40;l++){const c=Et.getVersionForNumber(l);if(de.willFit(i,c,a))return c}throw new pn("Data too big")}static willFit(i,a,l){const c=a.getTotalCodewords(),h=a.getECBlocksForLevel(l).getTotalECCodewords(),y=c-h,b=(i+7)/8;return y>=b}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new pn("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let h=c;h<8;h++)a.appendBit(!1);const u=i-a.getSizeInBytes();for(let h=0;h<u;++h)a.appendBits(h&1?17:236,8);if(a.getSize()!==l)throw new pn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,c,u,h){if(c>=l)throw new pn("Block ID too large");const y=i%l,b=l-y,C=Math.floor(i/l),P=C+1,G=Math.floor(a/l),ee=G+1,ge=C-G,ve=P-ee;if(ge!==ve)throw new pn("EC bytes mismatch");if(l!==b+y)throw new pn("RS blocks mismatch");if(i!==(G+ge)*b+(ee+ve)*y)throw new pn("Total bytes mismatch");c<b?(u[0]=G,h[0]=ge):(u[0]=ee,h[0]=ve)}static interleaveWithECBytes(i,a,l,c){if(i.getSizeInBytes()!==l)throw new pn("Number of bits and data bytes does not match");let u=0,h=0,y=0;const b=new Array;for(let P=0;P<c;++P){const G=new Int32Array(1),ee=new Int32Array(1);de.getNumDataBytesAndNumECBytesForBlockID(a,l,c,P,G,ee);const ge=G[0],ve=new Uint8Array(ge);i.toBytes(8*u,ve,0,ge);const Ae=de.generateECBytes(ve,ee[0]);b.push(new W(ve,Ae)),h=Math.max(h,ge),y=Math.max(y,Ae.length),u+=G[0]}if(l!==u)throw new pn("Data bytes does not match offset");const C=new k;for(let P=0;P<h;++P)for(const G of b){const ee=G.getDataBytes();P<ee.length&&C.appendBits(ee[P],8)}for(let P=0;P<y;++P)for(const G of b){const ee=G.getErrorCorrectionBytes();P<ee.length&&C.appendBits(ee[P],8)}if(a!==C.getSizeInBytes())throw new pn("Interleaving error: "+a+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,a){const l=i.length,c=new Int32Array(l+a);for(let h=0;h<l;h++)c[h]=i[h]&255;new $a(qe.QR_CODE_FIELD_256).encode(c,a);const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=c[l+h];return u}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,c){const u=l.getCharacterCountBits(a);if(i>=1<<u)throw new pn(i+" is bigger than "+((1<<u)-1));c.appendBits(i,u)}static appendBytes(i,a,l,c){switch(a){case Ot.NUMERIC:de.appendNumericBytes(i,l);break;case Ot.ALPHANUMERIC:de.appendAlphanumericBytes(i,l);break;case Ot.BYTE:de.append8BitBytes(i,l,c);break;case Ot.KANJI:de.appendKanjiBytes(i,l);break;default:throw new pn("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=de.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=de.getDigit(i.charAt(c));if(c+2<l){const h=de.getDigit(i.charAt(c+1)),y=de.getDigit(i.charAt(c+2));a.appendBits(u*100+h*10+y,10),c+=3}else if(c+1<l){const h=de.getDigit(i.charAt(c+1));a.appendBits(u*10+h,7),c+=2}else a.appendBits(u,4),c++}}static appendAlphanumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=de.getAlphanumericCode(i.charCodeAt(c));if(u===-1)throw new pn;if(c+1<l){const h=de.getAlphanumericCode(i.charCodeAt(c+1));if(h===-1)throw new pn;a.appendBits(u*45+h,11),c+=2}else a.appendBits(u,6),c++}}static append8BitBytes(i,a,l){let c;try{c=z.encode(i,l)}catch(u){throw new pn(u)}for(let u=0,h=c.length;u!==h;u++){const y=c[u];a.appendBits(y,8)}}static appendKanjiBytes(i,a){let l;try{l=z.encode(i,j.SJIS)}catch(u){throw new pn(u)}const c=l.length;for(let u=0;u<c;u+=2){const h=l[u]&255,y=l[u+1]&255,b=h<<8&4294967295|y;let C=-1;if(b>=33088&&b<=40956?C=b-33088:b>=57408&&b<=60351&&(C=b-49472),C===-1)throw new pn("Invalid byte sequence");const P=(C>>8)*192+(C&255);a.appendBits(P,13)}}static appendECI(i,a){a.appendBits(Ot.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}de.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),de.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class we{write(i,a,l,c=null){if(i.length===0)throw new S("Found empty contents");if(a<0||l<0)throw new S("Requested dimensions are too small: "+a+"x"+l);let u=xn.L,h=we.QUIET_ZONE_SIZE;c!==null&&(c.get(ci.ERROR_CORRECTION)!==void 0&&(u=xn.fromString(c.get(ci.ERROR_CORRECTION).toString())),c.get(ci.MARGIN)!==void 0&&(h=Number.parseInt(c.get(ci.MARGIN).toString(),10)));const y=de.encode(i,u,c);return this.renderResult(y,a,l,h)}writeToDom(i,a,l,c,u=null){typeof i=="string"&&(i=document.querySelector(i));const h=this.write(a,l,c,u);i&&i.appendChild(h)}renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new Me;const h=u.getWidth(),y=u.getHeight(),b=h+c*2,C=y+c*2,P=Math.max(a,b),G=Math.max(l,C),ee=Math.min(Math.floor(P/b),Math.floor(G/C)),ge=Math.floor((P-h*ee)/2),ve=Math.floor((G-y*ee)/2),Ae=this.createSVGElement(P,G);for(let Ie=0,Ue=ve;Ie<y;Ie++,Ue+=ee)for(let tt=0,rt=ge;tt<h;tt++,rt+=ee)if(u.get(tt,Ie)===1){const nt=this.createSvgRectElement(rt,Ue,ee,ee);Ae.appendChild(nt)}return Ae}createSVGElement(i,a){const l=document.createElementNS(we.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,c){const u=document.createElementNS(we.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}we.QUIET_ZONE_SIZE=4,we.SVG_NS="http://www.w3.org/2000/svg";class De{encode(i,a,l,c,u){if(i.length===0)throw new S("Found empty contents");if(a!==ce.QR_CODE)throw new S("Can only encode QR_CODE, but got "+a);if(l<0||c<0)throw new S(`Requested dimensions are too small: ${l}x${c}`);let h=xn.L,y=De.QUIET_ZONE_SIZE;u!==null&&(u.get(ci.ERROR_CORRECTION)!==void 0&&(h=xn.fromString(u.get(ci.ERROR_CORRECTION).toString())),u.get(ci.MARGIN)!==void 0&&(y=Number.parseInt(u.get(ci.MARGIN).toString(),10)));const b=de.encode(i,h,u);return De.renderResult(b,l,c,y)}static renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new Me;const h=u.getWidth(),y=u.getHeight(),b=h+c*2,C=y+c*2,P=Math.max(a,b),G=Math.max(l,C),ee=Math.min(Math.floor(P/b),Math.floor(G/C)),ge=Math.floor((P-h*ee)/2),ve=Math.floor((G-y*ee)/2),Ae=new ae(P,G);for(let Ie=0,Ue=ve;Ie<y;Ie++,Ue+=ee)for(let tt=0,rt=ge;tt<h;tt++,rt+=ee)u.get(tt,Ie)===1&&Ae.setRegion(rt,Ue,ee,ee);return Ae}}De.QUIET_ZONE_SIZE=4;class Ve{encode(i,a,l,c,u){let h;switch(a){case ce.QR_CODE:h=new De;break;default:throw new S("No encoder available for format "+a)}return h.encode(i,a,l,c,u)}}class Je extends ue{constructor(i,a,l,c,u,h,y,b){if(super(h,y),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=c,this.top=u,c+h>a||u+y>l)throw new S("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(h,y)}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.yuvData,u,c,0,l),c;for(let h=0;h<a;h++){const y=h*i;M.arraycopy(this.yuvData,u,c,y,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new Je(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,c,!1)}renderThumbnail(){const i=this.getWidth()/Je.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Je.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const y=h*i;for(let b=0;b<i;b++){const C=c[u+b*Je.THUMBNAIL_SCALE_FACTOR]&255;l[y+b]=4278190080|C*65793}u+=this.dataWidth*Je.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Je.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Je.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<a;c++,u+=this.dataWidth){const h=u+i/2;for(let y=u,b=u+i-1;y<h;y++,b--){const C=l[y];l[y]=l[b],l[b]=C}}}invert(){return new oe(this)}}Je.THUMBNAIL_SCALE_FACTOR=2;class mt extends ue{constructor(i,a,l,c,u,h,y){if(super(a,l),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=y,i.BYTES_PER_ELEMENT===4){const b=a*l,C=new Uint8ClampedArray(b);for(let P=0;P<b;P++){const G=i[P],ee=G>>16&255,ge=G>>7&510,ve=G&255;C[P]=(ee+ge+ve)/4&255}this.luminances=C}else this.luminances=i;if(c===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,l),c;for(let h=0;h<a;h++){const y=h*i;M.arraycopy(this.luminances,u,c,y,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new mt(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new oe(this)}}class It extends j{static forName(i){return this.getCharacterSetECIByName(i)}}class Ut{}Ut.ISO_8859_1=j.ISO8859_1;class zt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class tn{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class Zn{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Nn extends Zn{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new Nn(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Nn(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+O.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ti extends Nn{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new ti(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zi(V,i,a){return new ti(V,i,a)}function ni(V,i,a){return new Nn(V,i,a)}const Zr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pi=0,Tr=1,sr=2,$s=3,xr=4,eo=new Nn(null,0,0),bs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ll(V){for(let i of V)I.fill(i,-1);return V[pi][xr]=0,V[Tr][xr]=0,V[Tr][pi]=28,V[$s][xr]=0,V[sr][xr]=0,V[sr][pi]=15,V}const ws=ll(I.createInt32Array(6,6));class Dn{constructor(i,a,l,c){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,c=this.token;if(i!==this.mode){let h=bs[this.mode][i];c=ni(c,h&65535,h>>16),l+=h>>16}let u=i===sr?4:5;return c=ni(c,a,u),new Dn(c,i,0,l+u)}shiftAndAppend(i,a){let l=this.token,c=this.mode===sr?4:5;return l=ni(l,ws[this.mode][i],c),l=ni(l,a,5),new Dn(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,c=this.bitCount;if(this.mode===xr||this.mode===sr){let y=bs[l][pi];a=ni(a,y&65535,y>>16),c+=y>>16,l=pi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Dn(a,l,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(i+1)),h}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Zi(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Dn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(bs[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Dn.calculateBinaryShiftCost(i)-Dn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())a.unshift(c);let l=new k;for(const c of a)c.appendTo(l,i);return l}toString(){return D.format("%s bits=%d bytes=%d",Zr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Dn.INITIAL_STATE=new Dn(eo,pi,0,0);function to(V){const i=D.getCharCode(" "),a=D.getCharCode("."),l=D.getCharCode(",");V[pi][i]=1;const c=D.getCharCode("Z"),u=D.getCharCode("A");for(let ee=u;ee<=c;ee++)V[pi][ee]=ee-u+2;V[Tr][i]=1;const h=D.getCharCode("z"),y=D.getCharCode("a");for(let ee=y;ee<=h;ee++)V[Tr][ee]=ee-y+2;V[sr][i]=1;const b=D.getCharCode("9"),C=D.getCharCode("0");for(let ee=C;ee<=b;ee++)V[sr][ee]=ee-C+2;V[sr][l]=12,V[sr][a]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ee=0;ee<P.length;ee++)V[$s][D.getCharCode(P[ee])]=ee;const G=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ee=0;ee<G.length;ee++)D.getCharCode(G[ee])>0&&(V[xr][D.getCharCode(G[ee])]=ee);return V}const ts=to(I.createInt32Array(5,256));class xa{constructor(i){this.text=i}encode(){const i=D.getCharCode(" "),a=D.getCharCode(`
`);let l=tn.singletonList(Dn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,y=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case D.getCharCode("\r"):h=y===a?2:0;break;case D.getCharCode("."):h=y===i?3:0;break;case D.getCharCode(","):h=y===i?4:0;break;case D.getCharCode(":"):h=y===i?5:0;break;default:h=0}h>0?(l=xa.updateStateListForPair(l,u,h),u++):l=this.updateStateListForChar(l,u)}return tn.min(l,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let c of i)this.updateStateForChar(c,a,l);return xa.simplifyStates(l)}updateStateForChar(i,a,l){let c=this.text[a]&255,u=ts[i.getMode()][c]>0,h=null;for(let y=0;y<=xr;y++){let b=ts[y][c];if(b>0){if(h==null&&(h=i.endBinaryShift(a)),!u||y===i.getMode()||y===sr){const C=h.latchAndAppend(y,b);l.push(C)}if(!u&&ws[i.getMode()][y]>=0){const C=h.shiftAndAppend(y,b);l.push(C)}}}if(i.getBinaryShiftByteCount()>0||ts[i.getMode()][c]===0){let y=i.addBinaryShiftChar(a);l.push(y)}}static updateStateListForPair(i,a,l){const c=[];for(let u of i)this.updateStateForPair(u,a,l,c);return this.simplifyStates(c)}static updateStateForPair(i,a,l,c){let u=i.endBinaryShift(a);if(c.push(u.latchAndAppend(xr,l)),i.getMode()!==xr&&c.push(u.shiftAndAppend(xr,l)),l===3||l===4){let h=u.latchAndAppend(sr,16-l).latchAndAppend(sr,1);c.push(h)}if(i.getBinaryShiftByteCount()>0){let h=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(h)}}static simplifyStates(i){let a=[];for(const l of i){let c=!0;for(const u of a){if(u.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(u)&&(a=a.filter(h=>h!==u))}c&&a.push(l)}return a}}class Jt{constructor(){}static encodeBytes(i){return Jt.encode(i,Jt.DEFAULT_EC_PERCENT,Jt.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let c=new xa(i).encode(),u=O.truncDivision(c.getSize()*a,100)+11,h=c.getSize()+u,y,b,C,P,G;if(l!==Jt.DEFAULT_AZTEC_LAYERS){if(y=l<0,b=Math.abs(l),b>(y?Jt.MAX_NB_BITS_COMPACT:Jt.MAX_NB_BITS))throw new S(D.format("Illegal value %s for layers",l));C=Jt.totalBitsInLayer(b,y),P=Jt.WORD_SIZE[b];let nt=C-C%P;if(G=Jt.stuffBits(c,P),G.getSize()+u>nt)throw new S("Data to large for user specified layer");if(y&&G.getSize()>P*64)throw new S("Data to large for user specified layer")}else{P=0,G=null;for(let nt=0;;nt++){if(nt>Jt.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(y=nt<=3,b=y?nt+1:nt,C=Jt.totalBitsInLayer(b,y),h>C)continue;(G==null||P!==Jt.WORD_SIZE[b])&&(P=Jt.WORD_SIZE[b],G=Jt.stuffBits(c,P));let Qt=C-C%P;if(!(y&&G.getSize()>P*64)&&G.getSize()+u<=Qt)break}}let ee=Jt.generateCheckWords(G,C,P),ge=G.getSize()/P,ve=Jt.generateModeMessage(y,b,ge),Ae=(y?11:14)+b*4,Ie=new Int32Array(Ae),Ue;if(y){Ue=Ae;for(let nt=0;nt<Ie.length;nt++)Ie[nt]=nt}else{Ue=Ae+1+2*O.truncDivision(O.truncDivision(Ae,2)-1,15);let nt=O.truncDivision(Ae,2),Qt=O.truncDivision(Ue,2);for(let Bt=0;Bt<nt;Bt++){let mi=Bt+O.truncDivision(Bt,15);Ie[nt-Bt-1]=Qt-mi-1,Ie[nt+Bt]=Qt+mi+1}}let tt=new ae(Ue);for(let nt=0,Qt=0;nt<b;nt++){let Bt=(b-nt)*4+(y?9:12);for(let mi=0;mi<Bt;mi++){let Fi=mi*2;for(let ui=0;ui<2;ui++)ee.get(Qt+Fi+ui)&&tt.set(Ie[nt*2+ui],Ie[nt*2+mi]),ee.get(Qt+Bt*2+Fi+ui)&&tt.set(Ie[nt*2+mi],Ie[Ae-1-nt*2-ui]),ee.get(Qt+Bt*4+Fi+ui)&&tt.set(Ie[Ae-1-nt*2-ui],Ie[Ae-1-nt*2-mi]),ee.get(Qt+Bt*6+Fi+ui)&&tt.set(Ie[Ae-1-nt*2-mi],Ie[nt*2+ui])}Qt+=Bt*8}if(Jt.drawModeMessage(tt,y,Ue,ve),y)Jt.drawBullsEye(tt,O.truncDivision(Ue,2),5);else{Jt.drawBullsEye(tt,O.truncDivision(Ue,2),7);for(let nt=0,Qt=0;nt<O.truncDivision(Ae,2)-1;nt+=15,Qt+=16)for(let Bt=O.truncDivision(Ue,2)&1;Bt<Ue;Bt+=2)tt.set(O.truncDivision(Ue,2)-Qt,Bt),tt.set(O.truncDivision(Ue,2)+Qt,Bt),tt.set(Bt,O.truncDivision(Ue,2)-Qt),tt.set(Bt,O.truncDivision(Ue,2)+Qt)}let rt=new zt;return rt.setCompact(y),rt.setSize(Ue),rt.setLayers(b),rt.setCodeWords(ge),rt.setMatrix(tt),rt}static drawBullsEye(i,a,l){for(let c=0;c<l;c+=2)for(let u=a-c;u<=a+c;u++)i.set(u,a-c),i.set(u,a+c),i.set(a-c,u),i.set(a+c,u);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let c=new k;return i?(c.appendBits(a-1,2),c.appendBits(l-1,6),c=Jt.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(l-1,11),c=Jt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,a,l,c){let u=O.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let y=u-3+h;c.get(h)&&i.set(y,u-5),c.get(h+7)&&i.set(u+5,y),c.get(20-h)&&i.set(y,u+5),c.get(27-h)&&i.set(u-5,y)}else for(let h=0;h<10;h++){let y=u-5+h+O.truncDivision(h,5);c.get(h)&&i.set(y,u-7),c.get(h+10)&&i.set(u+7,y),c.get(29-h)&&i.set(y,u+7),c.get(39-h)&&i.set(u-7,y)}}static generateCheckWords(i,a,l){let c=i.getSize()/l,u=new $a(Jt.getGF(l)),h=O.truncDivision(a,l),y=Jt.bitsToWords(i,l,h);u.encode(y,h-c);let b=a%l,C=new k;C.appendBits(0,b);for(const P of Array.from(y))C.appendBits(P,l);return C}static bitsToWords(i,a,l){let c=new Int32Array(l),u,h;for(u=0,h=i.getSize()/a;u<h;u++){let y=0;for(let b=0;b<a;b++)y|=i.get(u*a+b)?1<<a-b-1:0;c[u]=y}return c}static getGF(i){switch(i){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new S("Unsupported word size "+i)}}static stuffBits(i,a){let l=new k,c=i.getSize(),u=(1<<a)-2;for(let h=0;h<c;h+=a){let y=0;for(let b=0;b<a;b++)(h+b>=c||i.get(h+b))&&(y|=1<<a-1-b);(y&u)===u?(l.appendBits(y&u,a),h--):y&u?l.appendBits(y,a):(l.appendBits(y|1,a),h--)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Jt.DEFAULT_EC_PERCENT=33,Jt.DEFAULT_AZTEC_LAYERS=0,Jt.MAX_NB_BITS=32,Jt.MAX_NB_BITS_COMPACT=4,Jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Pi{encode(i,a,l,c){return this.encodeWithHints(i,a,l,c,null)}encodeWithHints(i,a,l,c,u){let h=Ut.ISO_8859_1,y=Jt.DEFAULT_EC_PERCENT,b=Jt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(ci.CHARACTER_SET)&&(h=It.forName(u.get(ci.CHARACTER_SET).toString())),u.has(ci.ERROR_CORRECTION)&&(y=O.parseInt(u.get(ci.ERROR_CORRECTION).toString())),u.has(ci.AZTEC_LAYERS)&&(b=O.parseInt(u.get(ci.AZTEC_LAYERS).toString()))),Pi.encodeLayers(i,a,l,c,h,y,b)}static encodeLayers(i,a,l,c,u,h,y){if(a!==ce.AZTEC)throw new S("Can only encode AZTEC, but got "+a);let b=Jt.encode(D.getBytes(i,u),h,y);return Pi.renderResult(b,l,c)}static renderResult(i,a,l){let c=i.getMatrix();if(c==null)throw new Me;let u=c.getWidth(),h=c.getHeight(),y=Math.max(a,u),b=Math.max(l,h),C=Math.min(y/u,b/h),P=(y-u*C)/2,G=(b-h*C)/2,ee=new ae(y,b);for(let ge=0,ve=G;ge<h;ge++,ve+=C)for(let Ae=0,Ie=P;Ae<u;Ae++,Ie+=C)c.get(Ae,ge)&&ee.setRegion(Ie,ve,C,C);return ee}}n.AbstractExpandedDecoder=Er,n.ArgumentException=N,n.ArithmeticException=et,n.AztecCode=zt,n.AztecCodeReader=lt,n.AztecCodeWriter=Pi,n.AztecDecoder=Ge,n.AztecDetector=Gt,n.AztecDetectorResult=ct,n.AztecEncoder=Jt,n.AztecHighLevelEncoder=xa,n.AztecPoint=bt,n.BarcodeFormat=ce,n.Binarizer=R,n.BinaryBitmap=E,n.BitArray=k,n.BitMatrix=ae,n.BitSource=Ws,n.BrowserAztecCodeReader=Sn,n.BrowserBarcodeReader=Wc,n.BrowserCodeReader=Z,n.BrowserDatamatrixCodeReader=Xs,n.BrowserMultiFormatReader=Ks,n.BrowserPDF417Reader=sl,n.BrowserQRCodeReader=ol,n.BrowserQRCodeSvgWriter=we,n.CharacterSetECI=j,n.ChecksumException=w,n.Code128Reader=at,n.Code39Reader=Pt,n.DataMatrixDecodedBitStreamParser=Wr,n.DataMatrixReader=Di,n.DecodeHintType=X,n.DecoderResult=Ee,n.DefaultGridSampler=pt,n.DetectorResult=ze,n.EAN13Reader=nr,n.EncodeHintType=ci,n.Exception=x,n.FormatException=F,n.GenericGF=qe,n.GenericGFPoly=ke,n.GlobalHistogramBinarizer=$,n.GridSampler=At,n.GridSamplerInstance=Lt,n.HTMLCanvasElementLuminanceSource=ye,n.HybridBinarizer=Q,n.ITFReader=Dt,n.IllegalArgumentException=S,n.IllegalStateException=Me,n.InvertedLuminanceSource=oe,n.LuminanceSource=ue,n.MathUtils=Pe,n.MultiFormatOneDReader=da,n.MultiFormatReader=al,n.MultiFormatWriter=Ve,n.NotFoundException=le,n.OneDReader=Tt,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=ql,n.PDF417Reader=li,n.PDF417ResultMetadata=nl,n.PerspectiveTransform=yt,n.PlanarYUVLuminanceSource=Je,n.QRCodeByteMatrix=es,n.QRCodeDataMask=dr,n.QRCodeDecodedBitStreamParser=gn,n.QRCodeDecoderErrorCorrectionLevel=xn,n.QRCodeDecoderFormatInformation=Si,n.QRCodeEncoder=de,n.QRCodeEncoderQRCode=mr,n.QRCodeMaskUtil=An,n.QRCodeMatrixUtil=A,n.QRCodeMode=Ot,n.QRCodeReader=ga,n.QRCodeVersion=Et,n.QRCodeWriter=De,n.RGBLuminanceSource=mt,n.RSS14Reader=zn,n.RSSExpandedReader=Qe,n.ReaderException=Ja,n.ReedSolomonDecoder=me,n.ReedSolomonEncoder=$a,n.ReedSolomonException=st,n.Result=ie,n.ResultMetadataType=be,n.ResultPoint=Se,n.StringUtils=D,n.UnsupportedOperationException=K,n.VideoInputDevice=xe,n.WhiteRectangleDetector=ot,n.WriterException=pn,n.ZXingArrays=I,n.ZXingCharset=It,n.ZXingInteger=O,n.ZXingStandardCharsets=Ut,n.ZXingStringBuilder=ne,n.ZXingStringEncoding=z,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Yo,Object.defineProperty(n,"__esModule",{value:!0})})})(Vd,Vd.exports);var Qn=Vd.exports;const S6=nh(Qn),N6=Ky({__proto__:null,default:S6},[Qn]);var Em=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,Qn.BarcodeFormat.QR_CODE],[wt.AZTEC,Qn.BarcodeFormat.AZTEC],[wt.CODABAR,Qn.BarcodeFormat.CODABAR],[wt.CODE_39,Qn.BarcodeFormat.CODE_39],[wt.CODE_93,Qn.BarcodeFormat.CODE_93],[wt.CODE_128,Qn.BarcodeFormat.CODE_128],[wt.DATA_MATRIX,Qn.BarcodeFormat.DATA_MATRIX],[wt.MAXICODE,Qn.BarcodeFormat.MAXICODE],[wt.ITF,Qn.BarcodeFormat.ITF],[wt.EAN_13,Qn.BarcodeFormat.EAN_13],[wt.EAN_8,Qn.BarcodeFormat.EAN_8],[wt.PDF_417,Qn.BarcodeFormat.PDF_417],[wt.RSS_14,Qn.BarcodeFormat.RSS_14],[wt.RSS_EXPANDED,Qn.BarcodeFormat.RSS_EXPANDED],[wt.UPC_A,Qn.BarcodeFormat.UPC_A],[wt.UPC_E,Qn.BarcodeFormat.UPC_E],[wt.UPC_EAN_EXTENSION,Qn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!N6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),o=new Map;o.set(Qn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Qn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(o){s(o)}})},e.prototype.decode=function(t){var n=new Qn.MultiFormatReader(this.verbose,this.hints),r=new Qn.HTMLCanvasElementLuminanceSource(t),s=new Qn.BinaryBitmap(new Qn.HybridBinarizer(r)),o=n.decode(s);return{text:o.text,format:sy.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),C6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},E6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},_m=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,"qr_code"],[wt.AZTEC,"aztec"],[wt.CODABAR,"codabar"],[wt.CODE_39,"code_39"],[wt.CODE_93,"code_93"],[wt.CODE_128,"code_128"],[wt.DATA_MATRIX,"data_matrix"],[wt.ITF,"itf"],[wt.EAN_13,"ean_13"],[wt.EAN_8,"ean_8"],[wt.PDF_417,"pdf417"],[wt.UPC_A,"upc_a"],[wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return C6(this,void 0,void 0,function(){var n,r;return E6(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:sy.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,o=t;s<o.length;s++){var f=o[s],d=f.boundingBox.width*f.boundingBox.height;d>r&&(r=d,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Tm=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},Im=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},_6=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&_m.isSupported()?(this.primaryDecoder=new _m(t,r,s),this.secondaryDecoder=new Em(t,r,s)):this.primaryDecoder=new Em(t,r,s)}return e.prototype.decodeAsync=function(t){return Tm(this,void 0,void 0,function(){var n;return Im(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Tm(this,void 0,void 0,function(){var n,r;return Im(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),K2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eh=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},th=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},uy=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),T6=function(e){K2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(uy),I6=function(e){K2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(T6),O6=function(e){K2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(uy),L6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new I6(this.track)},e.prototype.torchFeature=function(){return new O6(this.track)},e}(),D6=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return eh(this,void 0,void 0,function(){var o,f;return th(this,function(d){switch(d.label){case 0:return o=new e(t,n,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return eh(this,void 0,void 0,function(){return th(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),o=s.length,f=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++f,f>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new L6(this.getFirstTrackOrFail())},e}(),M6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return eh(this,void 0,void 0,function(){return th(this,function(s){return[2,D6.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return eh(this,void 0,void 0,function(){var n,r;return th(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),Om=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},Lm=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},R6=function(){function e(){}return e.failIfNotSupported=function(){return Om(this,void 0,void 0,function(){return Lm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Om(this,void 0,void 0,function(){return Lm(this,function(n){return[2,M6.create(t)]})})},e}(),j6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},B6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},k6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=yc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=yc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return j6(this,void 0,void 0,function(){var t,n,r,s,o,f,d;return B6(this,function(m){switch(m.label){case 0:return t=function(x){for(var N=x.getVideoTracks(),S=0,E=N;S<E.length;S++){var w=E[S];w.enabled=!1,w.stop(),x.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),s=[],o=0,f=r;o<f.length;o++)d=f[o],d.kind==="videoinput"&&s.push({id:d.deviceId,label:d.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var f=[],d=0,m=o;d<m.length;d++){var x=m[d];x.kind==="video"&&f.push({id:x.id,label:x.label})}t(f)},s=MediaStreamTrack;s.getSources(r)})},e}(),hi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(hi||(hi={}));var P6=function(){function e(){this.state=hi.NOT_STARTED,this.onGoingTransactionNewState=hi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===hi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=hi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===hi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=hi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==hi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case hi.UNKNOWN:throw"Transition from unknown is not allowed";case hi.NOT_STARTED:this.failIfNewStateIs(t,[hi.PAUSED]);break;case hi.SCANNING:break;case hi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var o=s[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),F6=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===hi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==hi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===hi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===hi.PAUSED},e}(),U6=function(){function e(){}return e.create=function(){return new F6(new P6)},e}(),z6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ta=function(e){z6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(qa),H6=function(){function e(t,n){this.logger=n,this.fps=ta.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ta.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cy.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!as(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Dm=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new ly(this.verbose),this.qrcode=new _6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=U6.create()}return e.prototype.start=function(t,n,r,s){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;s?f=s:f=this.verbose?this.logger.log:function(){};var d=H6.create(n,this.logger);this.clearElement();var m=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=m,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:ta.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var S=this,E=this.stateManagerProxy.startTransition(hi.SCANNING);return new Promise(function(w,R){var M=x?d.videoConstraints:S.createVideoConstraints(t);if(!M){E.cancel(),R("videoConstraints should be defined");return}var H={};(!x||d.aspectRatio)&&(H.aspectRatio=d.aspectRatio);var _={onRenderSurfaceReady:function(I,O){S.setupUi(I,O,d),S.isScanning=!0,S.foreverScan(d,r,f)}};R6.failIfNotSupported().then(function(I){I.create(M).then(function(O){return O.render(o.element,H,_).then(function(k){S.renderedCamera=k,E.execute(),w(null)}).catch(function(k){E.cancel(),R(k)})}).catch(function(O){E.cancel(),R(yc.errorGettingUserMedia(O))})}).catch(function(I){E.cancel(),R(yc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(hi.PAUSED),this.showPausedState(),(as(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(hi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(hi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(ta.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(as(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var d=f.width,m=f.height,x=document.getElementById(r.elementId),N=x.clientWidth?x.clientWidth:ta.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:m,ta.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(d,m,N,S);if(n){var w=r.createCanvasElement(N,S,"qr-canvas-visible");w.style.display="inline-block",x.appendChild(w);var R=w.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=N,R.canvas.height=S,R.drawImage(f,0,0,d,m,E.x,E.y,E.width,E.height)}var M=ta.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(f.width,E.width),_=Math.max(f.height,E.height),I=H+2*M,O=_+2*M,k=r.createCanvasElement(I,O);x.appendChild(k);var q=k.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=I,q.canvas.height=O,q.drawImage(f,0,0,d,m,M,M,H,_);try{r.qrcode.decodeRobustlyAsync(k).then(function(X){s(Nm.createFromQrcodeResult(X))}).catch(o)}catch(X){o("QR code parse error, error = ".concat(X))}},f.onerror=o,f.onabort=o,f.onstalled=o,f.onsuspend=o,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return k6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!cy.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[wt.QR_CODE,wt.AZTEC,wt.CODABAR,wt.CODE_39,wt.CODE_93,wt.CODE_128,wt.DATA_MATRIX,wt.MAXICODE,wt.ITF,wt.EAN_13,wt.EAN_8,wt.PDF_417,wt.RSS_14,wt.RSS_EXPANDED,wt.UPC_A,wt.UPC_E,wt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=t.formatsToSupport;s<o.length;s++){var f=o[s];w6(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(as(t))return!0;if(!as(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(as(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return as(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var f=this.toQrdimensions(t,n,o),d=function(x){if(x<ta.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ta.MIN_QR_BOX_SIZE,"px.")},m=function(x){return x>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};d(f.width),d(f.height),f.width=m(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=as(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&o.height<=n,d={x:0,y:0,width:t,height:n},m=f?this.getShadedRegionBounds(t,n,o):d,x=this.createCanvasElement(m.width,m.height),N={willReadFrequently:!0},S=x.getContext("2d",N);S.canvas.width=m.width,S.canvas.height=m.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=yc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Nm.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=yc.codeParseError(s);return n(o,oy.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),f=o.videoWidth/o.clientWidth,d=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*f,x=this.qrRegion.height*d,N=this.qrRegion.x*f,S=this.qrRegion.y*d;this.context.drawImage(o,N,S,m,x,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(w){!w&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(w){s.logger.logError("Error happend while scanning context",w),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={},o="exact",f=function(R){if(R in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var x=t.facingMode;if(typeof x=="string"){if(f(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(f(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var N=typeof x;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(o in S)return{deviceId:{exact:S["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var E=typeof S;throw"Invalid type of 'deviceId' = ".concat(E)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var o=(r-t)/2,f=(s-n)/2;return{x:o,y:f,width:t,height:n}}else{var d=t,m=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ta.BORDER_SHADER_MATCH_COLOR:ta.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,o=n,f=document.createElement("canvas");return f.style.width="".concat(s,"px"),f.style.height="".concat(o,"px"),f.style.display="none",f.id=as(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var f=(n-s.width)/2,d=(r-s.height)/2;if(o.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(ta.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var m=5,x=40;this.insertShaderBorders(o,x,m,-m,null,0,!0),this.insertShaderBorders(o,x,m,-m,null,0,!1),this.insertShaderBorders(o,x,m,null,-m,0,!0),this.insertShaderBorders(o,x,m,null,-m,0,!1),this.insertShaderBorders(o,m,x+m,-m,null,-m,!0),this.insertShaderBorders(o,m,x+m,null,-m,-m,!0),this.insertShaderBorders(o,m,x+m,-m,null,-m,!1),this.insertShaderBorders(o,m,x+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,s,o,f,d){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=ta.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),s!==null&&(m.style.top="".concat(s,"px")),o!==null&&(m.style.bottom="".concat(o,"px")),d?m.style.left="".concat(f,"px"):m.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),J2="data:image/svg+xml;base64,",q6=J2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",G6=J2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Mm=J2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",V6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Rm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Y6=function(){function e(){this.data=Rm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Rm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),W6=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Cm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=Cm.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),X6=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Mm,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=V6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Mm,this.infoIcon.style.opacity="0.6")},e}(),Z6=function(){function e(){var t=this;this.infoDiv=new W6,this.infoIcon=new X6(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Q6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},K6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},jm=function(){function e(){}return e.hasPermissions=function(){return Q6(this,void 0,void 0,function(){var t,n,r,s;return K6(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),go=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===qo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===qo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return qa.DEFAULT_SUPPORTED_SCAN_TYPE;var n=qa.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var o=s[r];if(!qa.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),aa=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ks=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(aa.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),fy=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function m(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},hy=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return m([x,N])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Bm=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return fy(this,void 0,void 0,function(){var t,n;return hy(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Tn.torchOffButton():Tn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Tn.torchOnFailedMessage():Tn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),J6=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ks.createElement("button",aa.TORCH_BUTTON_ID),this.torchController=new Bm(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Tn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return fy(r,void 0,void 0,function(){return hy(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Bm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Tn.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var o=new e(n,s);return o.render(t,r),o},e}(),$6=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=ks.createElement("button",aa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=ks.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var m=d.target;if(!(m.files&&m.files.length===0)){var x=m.files,N=x[0],S=N.name;o.setImageNameToButton(S),r(N)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var m=d.dataTransfer;if(m){var x=m.files;if(!x||x.length===0)return;for(var N=!1,S=0;S<x.length;++S){var E=x.item(S);if(E){var w=/image.*/;if(E.type.match(w)){N=!0;var R=E.name;o.setImageNameToButton(R),r(E),f.innerText=Tn.dragAndDropMessage();break}}}N||(f.innerText=Tn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Tn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,o=t.substring(s-8,s);t="".concat(r,"....").concat(o)}var f=Tn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=Tn.fileSelectionChooseImage()+" - "+Tn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),eA=function(){function e(t){this.selectElement=ks.createElement("select",aa.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Tn.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,f=0,d=this.cameras;f<d.length;f++){var m=d[f],x=m.id,N=m.label==null?x:m.label;(!N||N==="")&&(N=[Tn.anonymousCameraPrefix(),o++].join(" "));var S=document.createElement("option");S.value=x,S.innerText=N,this.options.push(S),this.selectElement.appendChild(S)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),tA=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ks.createElement("input",aa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),na;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(na||(na={}));function nA(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function iA(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var rA=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new go(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ly(this.verbose),this.persistedDataManager=new Y6,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,f){if(t)t(o,f);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Tn.lastMatch(o),na.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,f){n&&n(o,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Dm(this.getScanRegionId(),iA(this.config,this.verbose))},e.prototype.pause=function(t){(as(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=qa.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!qa.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=qa.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=qa.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:qa.SCAN_DEFAULT_FPS,rememberLastUsedCamera:qa.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:qa.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),go.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Z6;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Tn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(t,n)};Dm.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),s.renderCameraSelection(f)):(s.setHeaderMessage(Tn.noCameraFound(),na.STATUS_WARNING),o())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(f,na.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=ks.createElement("button",this.getCameraPermissionButtonId());s.innerText=Tn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(go.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){jm.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=go.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=go.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";go.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Tn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,na.STATUS_WARNING),r.qrCodeErrorCallback(f,oy.createFrom(f))}))};this.fileSelectionUi=$6.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=tA.create(s,!1),f=function(M){var H=M.zoomFeature();if(H.isSupported()){o.setOnCameraZoomValueChangeCallback(function(I){H.apply(I)});var _=1;n.config.defaultZoomValueIfSupported&&(_=n.config.defaultZoomValueIfSupported),_=A6(_,H.min(),H.max()),o.setValues(H.min(),H.max(),_,H.step()),o.show()}},d=eA.create(s,t),m=document.createElement("span"),x=ks.createElement("button",aa.CAMERA_START_BUTTON_ID);x.innerText=Tn.scanButtonStartScanningText(),m.appendChild(x);var N=ks.createElement("button",aa.CAMERA_STOP_BUTTON_ID);N.innerText=Tn.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,m.appendChild(N);var S,E=function(M){if(!M.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(M.torchFeature()):S=J6.create(m,M.torchFeature(),{display:"none",marginLeft:"5px"},function(H){r.setHeaderMessage(H,na.STATUS_WARNING)}),S.show()};s.appendChild(m);var w=function(M){M||(x.style.display="none"),x.innerText=Tn.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,M&&(x.style.display="inline-block")};if(x.addEventListener("click",function(M){x.innerText=Tn.scanButtonScanningStarting(),d.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var H=d.getValue();r.persistedDataManager.setLastUsedCameraId(H),r.html5Qrcode.start(H,nA(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(_){N.disabled=!1,N.style.display="inline-block",w(!1);var I=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(I),n.config.showZoomSliderIfSupported===!0&&f(I)}).catch(function(_){r.showHideScanTypeSwapLink(!0),d.enable(),w(!0),r.setHeaderMessage(_,na.STATUS_WARNING)})}),d.hasSingleItem()&&x.click(),N.addEventListener("click",function(M){if(!r.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,r.html5Qrcode.stop().then(function(H){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),x.disabled=!1,N.style.display="none",x.style.display="inline-block",S&&(S.reset(),S.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(H){N.disabled=!1,r.setHeaderMessage(H,na.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var R=r.persistedDataManager.getLastUsedCameraId();d.hasValue(R)?(d.setValue(R),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Tn.textIfCameraScanSelected(),r=Tn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var f=ks.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=go.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,go.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=qo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=qo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(f),s.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){jm.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=na.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case na.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case na.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case na.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=q6,this.cameraScanImage.alt=Tn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=G6,this.fileScanImage.alt=Tn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return aa.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return aa.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const aA=({onScanSuccess:e})=>(We.useEffect(()=>{const t=new rA("reader",{fps:10,qrbox:{width:250,height:250}},!1),n=s=>{t.clear(),e(s)},r=s=>{};return t.render(n,r),()=>{t&&t.getState()!==hi.NOT_STARTED&&t.clear().catch(s=>{console.error("Failed to clear html5-qrcode-scanner.",s)})}},[e]),p.jsx("div",{id:"reader",className:"w-full"})),sA=({onSave:e})=>{const t=We.useRef(null),[n,r]=We.useState(!1),s=N=>{const S=t.current;if(!S)return{x:0,y:0};const E=S.getBoundingClientRect();return N.nativeEvent instanceof MouseEvent?{x:N.nativeEvent.offsetX,y:N.nativeEvent.offsetY}:N.nativeEvent instanceof TouchEvent?{x:N.nativeEvent.touches[0].clientX-E.left,y:N.nativeEvent.touches[0].clientY-E.top}:{x:0,y:0}},o=N=>{const S=t.current,E=S==null?void 0:S.getContext("2d");if(!E)return;r(!0);const{x:w,y:R}=s(N);E.beginPath(),E.moveTo(w,R)},f=N=>{if(!n)return;const S=t.current,E=S==null?void 0:S.getContext("2d");if(!E)return;const{x:w,y:R}=s(N);E.lineTo(w,R),E.stroke()},d=()=>{r(!1)},m=()=>{const N=t.current,S=N==null?void 0:N.getContext("2d");S&&N&&S.clearRect(0,0,N.width,N.height)},x=()=>{const N=t.current;N&&e(N.toDataURL("image/png"))};return We.useEffect(()=>{const N=t.current,S=N==null?void 0:N.getContext("2d");S&&(S.strokeStyle="#000",S.lineWidth=2)},[]),p.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[p.jsx("canvas",{ref:t,width:"400",height:"200",className:"bg-slate-100 border-2 border-dashed border-slate-300 rounded-lg cursor-crosshair",onMouseDown:o,onMouseMove:f,onMouseUp:d,onMouseLeave:d,onTouchStart:o,onTouchMove:f,onTouchEnd:d}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:m,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 transition font-semibold",children:"Clear"}),p.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-semibold",children:"Save Signature"})]})]})},Ya=({isOpen:e,onClose:t,title:n,children:r,size:s="2xl"})=>e?p.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full max-w-${s} max-h-[90vh] flex flex-col`,children:[p.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:n}),p.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition",children:p.jsx(wh,{className:"w-7 h-7"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto",children:r})]})}):null,oA=()=>{const{currentUser:e,shipments:t,updateShipmentStatus:n,addToast:r}=di(),[s,o]=We.useState(null),[f,d]=We.useState(!1),[m,x]=We.useState(!1),[N,S]=We.useState(null),E=We.useRef({});if(!e)return null;const w=t.filter(q=>q.courierId===e.id&&[gt.IN_TRANSIT,gt.OUT_FOR_DELIVERY].includes(q.status)),R=t.filter(q=>q.courierId===e.id&&q.status===gt.RETURN_IN_PROGRESS),M=(q,X)=>{n(q,X)},H=q=>{o(q),d(!0)},_=q=>{s&&n(s.id,gt.DELIVERED,{signature:q}),d(!1),o(null)},I=We.useCallback(q=>{if(x(!1),[...w,...R].find(L=>L.id===q)){r(`Scanned: ${q}. Task is ready.`,"success");const L=E.current[q];L&&(L.scrollIntoView({behavior:"smooth",block:"center"}),S(q),setTimeout(()=>S(null),3e3))}else r(`Scanned code ${q} not found in your current tasks.`,"error")},[w,R,r]),O={[gt.ASSIGNED_TO_COURIER]:null,[gt.PICKED_UP]:null,[gt.IN_TRANSIT]:{label:"Mark Out for Delivery",nextStatus:gt.OUT_FOR_DELIVERY},[gt.OUT_FOR_DELIVERY]:null,[gt.PENDING_ASSIGNMENT]:null,[gt.DELIVERED]:null,[gt.DELIVERY_FAILED]:null,[gt.RETURN_REQUESTED]:null,[gt.RETURN_IN_PROGRESS]:null,[gt.RETURNED]:null},k=({task:q,isReturn:X=!1})=>p.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 ${X?"border-l-4 border-orange-500":""}`,children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-mono text-sm text-slate-500 flex items-center gap-2",children:[X&&p.jsx(tf,{className:"w-4 h-4 text-orange-600"})," ",q.id]}),p.jsx("p",{className:"text-lg font-bold text-slate-800",children:X?`Return from: ${q.recipientName}`:`Deliver to: ${q.recipientName}`}),p.jsxs("p",{className:"text-slate-600",children:[q.toAddress.street,", ",q.toAddress.zone]}),p.jsxs("p",{className:"text-sm font-semibold text-slate-700 mt-1",children:["Payment: ",q.paymentMethod," (",q.price," EGP)"]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 w-full md:w-auto",children:[p.jsx("div",{className:"flex-grow",children:p.jsx(Eh,{status:q.status})}),X?p.jsx("button",{onClick:()=>M(q.id,gt.RETURNED),className:"px-4 py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition w-full md:w-auto",children:"Confirm Return Pickup"}):p.jsxs(p.Fragment,{children:[O[q.status]&&p.jsx("button",{onClick:()=>M(q.id,O[q.status].nextStatus),className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition w-full md:w-auto",children:O[q.status].label}),q.status===gt.OUT_FOR_DELIVERY&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>H(q),className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition w-full md:w-auto",children:"Mark as Delivered"}),p.jsx("button",{onClick:()=>M(q.id,gt.DELIVERY_FAILED),className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition w-full md:w-auto",children:"Delivery Failed"})]})]})]})]});return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Delivery Tasks"}),p.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[p.jsx(aw,{className:"w-5 h-5"}),"Scan Package"]})]}),p.jsxs("div",{className:"space-y-4",children:[w.length===0&&p.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active delivery tasks."}),w.map(q=>p.jsx("div",{ref:X=>{E.current[q.id]=X},className:`rounded-xl transition-all duration-500 ${N===q.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:p.jsx(k,{task:q})},q.id))]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Return Tasks"}),p.jsxs("div",{className:"space-y-4 mt-4",children:[R.length===0&&p.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active return tasks."}),R.map(q=>p.jsx("div",{ref:X=>{E.current[q.id]=X},className:`rounded-xl transition-all duration-500 ${N===q.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:p.jsx(k,{task:q,isReturn:!0})},q.id))]})]}),p.jsx(Ya,{isOpen:f,onClose:()=>d(!1),title:"Capture Signature for Proof of Delivery",children:s&&p.jsx(sA,{onSave:_})}),p.jsx(Ya,{isOpen:m,onClose:()=>x(!1),title:"Scan Package Barcode",children:p.jsx("div",{className:"w-full h-96 flex justify-center items-center",children:m&&p.jsx(aA,{onScanSuccess:I})})})]})},lA=()=>{const{users:e,addUser:t,updateUser:n,removeUser:r,resetPassword:s,currentUser:o,canCreateUsers:f,updateClientTaxCard:d,getTaxCardNumber:m,addToast:x}=di(),[N,S]=We.useState(null),[E,w]=We.useState(null),[R,M]=We.useState({}),[H,_]=We.useState("");if(!o||!f(o))return p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),p.jsx("p",{className:"text-slate-600",children:"Only administrators and super users can manage users."})]})});const O=(D=>{if(o.role===dt.ADMIN)return Object.values(dt);if(o.role===dt.SUPER_USER){const ne=Object.values(dt).filter(ae=>ae!==dt.ADMIN);return D&&D.role===dt.ADMIN?[dt.ADMIN]:ne}return[]})(N==="edit"&&E||void 0),k=(D,ne)=>{if(D==="taxCard"&&(o==null?void 0:o.role)!==dt.ADMIN&&(o==null?void 0:o.role)!==dt.SUPER_USER){x("Only administrators and super users can manage tax card numbers","error");return}if((D==="edit"||D==="delete")&&(ne==null?void 0:ne.role)===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER){x("Super users cannot modify administrator accounts","error");return}S(D),w(ne||null),M(ne?{...ne}:{role:dt.CLIENT,zone:Ga.CAIRO_DOWNTOWN,flatRateFee:75}),D==="taxCard"&&ne&&_(m(ne.id)||"")},q=()=>{S(null),w(null),M({})},X=D=>{const{name:ne,value:ae}=D.target;M(le=>({...le,[ne]:ae}))},F=D=>{if(D.preventDefault(),N==="add")t(R);else if(N==="edit"&&E)n(E.id,R);else if(N==="reset"&&E&&R.password)s(E.id,R.password);else if(N==="taxCard"&&E){L();return}q()},L=()=>{if(!E)return;if((o==null?void 0:o.role)!==dt.ADMIN&&(o==null?void 0:o.role)!==dt.SUPER_USER){x("Only administrators and super users can manage tax card numbers","error"),q();return}if(H&&!/^\d{3}-\d{3}-\d{3}$/.test(H)){x("Tax card number must be in format XXX-XXX-XXX","error");return}d(E.id,H),x(`Tax card number updated for ${E.name}`,"success"),q()},j=()=>{E&&r(E.id),q()},K=()=>{const D=["ID","Name","Email","Role","Zone","Wallet Balance (EGP)"],ne=e.map(ae=>[ae.id,ae.name,ae.email,ae.role,ae.zone||"N/A",ae.walletBalance!=null?ae.walletBalance.toFixed(2):"N/A"]);Ml(D,ne,"User_List_Export")},z=()=>N==="delete"&&E?p.jsxs("div",{children:[p.jsxs("p",{children:["Are you sure you want to delete the user ",p.jsx("strong",{children:E.name}),"? This action cannot be undone."]}),p.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[p.jsx("button",{onClick:q,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold",children:"Delete User"})]})]}):N==="taxCard"&&E?p.jsxs("form",{onSubmit:F,className:"space-y-4",children:[p.jsxs("p",{children:["Setting tax card number for client ",p.jsx("strong",{children:E.name}),"."]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tax Card Number (XXX-XXX-XXX format)"}),p.jsx("input",{type:"text",value:H,onChange:D=>_(D.target.value),placeholder:"123-456-789",pattern:"\\d{3}-\\d{3}-\\d{3}",className:"w-full px-4 py-2 border border-slate-300 rounded-lg font-mono"}),p.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Leave empty to remove the tax card number. Only administrators and super users can modify this value."})]}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold",children:"Update Tax Card"})]})]}):N==="reset"&&E?p.jsxs("form",{onSubmit:F,className:"space-y-4",children:[p.jsxs("p",{children:["Resetting password for ",p.jsx("strong",{children:E.name}),"."]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),p.jsx("input",{type:"password",name:"password",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:"Reset Password"})]})]}):N==="add"||N==="edit"?p.jsxs("form",{onSubmit:F,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),p.jsx("input",{type:"text",name:"name",value:R.name||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:R.email||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),N==="add"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",name:"password",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),p.jsx("select",{name:"role",value:R.role||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",disabled:N==="edit"&&(E==null?void 0:E.role)===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER,children:O.map(D=>p.jsx("option",{value:D,children:D},D))}),N==="edit"&&(E==null?void 0:E.role)===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER&&p.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Super users cannot change admin roles."})]}),R.role===dt.COURIER&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),p.jsx("select",{name:"zone",value:R.zone||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:Object.values(Ga).map(D=>p.jsx("option",{value:D,children:D},D))})]}),R.role===dt.CLIENT&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Flat Rate Fee (EGP)"}),p.jsx("input",{type:"number",step:"0.01",min:"0",name:"flatRateFee",value:R.flatRateFee??"",onChange:D=>M(ne=>({...ne,flatRateFee:parseFloat(D.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:N==="add"?"Create User":"Save Changes"})]})]}):null;return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Add, edit, or remove users from the platform."})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[p.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]}),p.jsxs("button",{onClick:()=>k("add"),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[p.jsx(V2,{className:"w-5 h-5"}),"Add User"]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Zone"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tax Card"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(D=>p.jsxs("tr",{className:D.role===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER?"bg-slate-50":"",children:[p.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800",children:[D.name,D.role===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER&&p.jsx("span",{className:"ml-2 text-xs text-slate-500",children:"(Protected)"})]}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:D.email}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:D.role}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:D.zone||"N/A"}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:D.role===dt.CLIENT?p.jsx("span",{className:"font-mono text-sm",children:m(D.id)||p.jsx("span",{className:"text-slate-400",children:"Not Set"})}):p.jsx("span",{className:"text-slate-400",children:"N/A"})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-1",children:[!(D.role===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER)&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>k("edit",D),title:"Edit",className:"p-2 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md",children:p.jsx(Ah,{})}),p.jsx("button",{onClick:()=>k("reset",D),title:"Reset Password",className:"p-2 text-slate-500 hover:text-orange-600 hover:bg-slate-100 rounded-md",children:p.jsx(j3,{})})]}),D.role===dt.CLIENT&&((o==null?void 0:o.role)===dt.ADMIN||(o==null?void 0:o.role)===dt.SUPER_USER)&&p.jsx("button",{onClick:()=>k("taxCard",D),title:"Set Tax Card",className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600",children:"Tax Card"}),!(D.role===dt.ADMIN&&(o==null?void 0:o.role)===dt.SUPER_USER)&&p.jsx("button",{onClick:()=>k("delete",D),title:"Delete",className:"p-2 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md",children:p.jsx(nw,{})})]})})]},D.id))})]})}),p.jsx(Ya,{isOpen:!!N,onClose:q,title:N==="add"?"Add New User":N==="edit"?"Edit User":N==="reset"?"Reset Password":N==="taxCard"?"Set Tax Card Number":"Confirm Deletion",children:z()})]})},cA=()=>{const{shipments:e,users:t,assignReturn:n,canCourierReceiveAssignment:r}=di(),s=e.filter(d=>d.status===gt.RETURN_REQUESTED),o=t.filter(d=>d.role===dt.COURIER),f=(d,m)=>{m&&n(d,parseInt(m))};return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Manage Return Requests"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign couriers to pick up returned items from customers."})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pickup Zone"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(d=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:d.id}),p.jsx("td",{className:"px-6 py-4 text-slate-800",children:d.clientName}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:d.toAddress.zone})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("select",{onChange:m=>f(d.id,m.target.value),defaultValue:"",className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[p.jsx("option",{value:"",disabled:!0,children:"Select an available courier..."}),o.filter(m=>m.zone===d.toAddress.zone&&r(m.id)).map(m=>p.jsxs("option",{value:m.id,children:[m.name," (",m.zone,")"]},m.id))]})})]},d.id)),s.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No pending return requests."})})]})]})})]})},uA=()=>{const{currentUser:e,clientTransactions:t}=di();if(!e)return null;const n=t.filter(r=>r.userId===e.id);return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Wallet"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"Your wallet is credited with the value of your delivered packages. You can use this balance to pay for future shipping fees."})]}),p.jsx("div",{className:"max-w-md",children:p.jsx(zi,{title:"Current Balance",value:`${(e.walletBalance??0).toFixed(2)} EGP`,icon:p.jsx(Pc,{className:"w-7 h-7"}),color:"#22c55e"})}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-5 border-b border-slate-200",children:p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Amount"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[n.sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()).map(r=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(r.date).toLocaleString()}),p.jsx("td",{className:"px-6 py-4 text-slate-800",children:r.description}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.type===Id.DEPOSIT?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.type})}),p.jsxs("td",{className:`px-6 py-4 font-semibold text-right ${r.type===Id.DEPOSIT?"text-green-600":"text-red-600"}`,children:[r.amount.toFixed(2)," EGP"]})]},r.id)),n.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions yet."})})]})]})})]})]})},fA=()=>{const{currentUser:e,shipments:t,getTaxCardNumber:n}=di(),r=t.filter(M=>M.status===gt.DELIVERED&&M.deliveryDate),s=(e==null?void 0:e.role)===dt.CLIENT?r.filter(M=>M.clientId===e.id):r,o=s.reduce((M,H)=>M+H.price,0),f=s.length,d=s.reduce((M,H)=>M+H.packageValue,0),m=s.filter(M=>M.paymentMethod===Sa.COD).reduce((M,H)=>M+H.price,0),x=(e==null?void 0:e.role)===dt.CLIENT&&e.id?n(e.id):"",N={},S=new Date;for(let M=29;M>=0;M--){const H=new Date(S);H.setDate(S.getDate()-M);const _=H.toISOString().split("T")[0];N[_]=0}s.forEach(M=>{if(M.deliveryDate){const H=M.deliveryDate.split("T")[0];N.hasOwnProperty(H)&&(N[H]+=M.price)}});const E=Object.entries(N).map(([M,H])=>({date:new Date(M).getDate().toString(),revenue:H})),w=Math.max(...E.map(M=>M.revenue),1),R=()=>{const M=["Shipment ID","Delivery Date","Client","Payment Method","Revenue (EGP)"],H=s.sort((_,I)=>new Date(I.deliveryDate).getTime()-new Date(_.deliveryDate).getTime()).map(_=>[_.id,new Date(_.deliveryDate).toLocaleDateString(),_.clientName,_.paymentMethod,_.price.toFixed(2)]);Ml(M,H,"Financial_Report")};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Financial Reports"}),p.jsx("p",{className:"text-slate-500 mt-1",children:(e==null?void 0:e.role)===dt.CLIENT?"Your order history and financial summary.":"An overview of the company's financial performance."})]}),p.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[p.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]})]}),(e==null?void 0:e.role)===dt.CLIENT&&x&&p.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-xl",children:[p.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Tax Information"}),p.jsxs("p",{className:"text-blue-800",children:["Tax Card Number: ",p.jsx("span",{className:"font-mono font-bold",children:x})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(zi,{title:"Total Revenue",value:`${o.toFixed(2)} EGP`,icon:p.jsx(Ru,{className:"w-7 h-7"}),color:"#16a34a"}),p.jsx(zi,{title:"Shipments Delivered",value:f,icon:p.jsx(wf,{className:"w-7 h-7"}),color:"#3b82f6"}),p.jsx(zi,{title:"COD to Collect",value:`${m.toFixed(2)} EGP`,icon:p.jsx(Pc,{className:"w-7 h-7"}),color:"#f97316"}),p.jsx(zi,{title:"Net Profit",value:`${d.toFixed(2)} EGP`,icon:p.jsx(b0,{className:"w-7 h-7"}),color:"#8b5cf6"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Daily Revenue (Last 30 Days)"}),p.jsx("div",{className:"h-64 flex items-end gap-2 border-l border-b border-slate-200 pl-4 pb-4",children:E.map(({date:M,revenue:H})=>p.jsxs("div",{className:"flex-1 h-full flex flex-col justify-end items-center group",children:[p.jsx("div",{className:"w-full bg-primary-400 hover:bg-primary-500 transition-colors rounded-t-md",style:{height:`${H/w*100}%`},title:`Day ${M}: ${H.toFixed(2)} EGP`}),p.jsx("span",{className:"text-xs text-slate-500 mt-1",children:M})]},M))})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-5",children:p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Delivery Date"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment Method"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Revenue"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.sort((M,H)=>new Date(H.deliveryDate).getTime()-new Date(M.deliveryDate).getTime()).map(M=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:M.id}),p.jsx("td",{className:"px-6 py-4 text-slate-800",children:new Date(M.deliveryDate).toLocaleDateString()}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:M.clientName}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:M.paymentMethod}),p.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right",children:[M.price.toFixed(2)," EGP"]})]},M.id)),s.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"No delivered shipments yet."})})]})]})})]})]})},hA=()=>{const{currentUser:e,getAdminFinancials:t,getClientFinancials:n,canAccessAdminFinancials:r,updateClientFlatRate:s}=di(),[o,f]=We.useState(!1),[d,m]=We.useState(null),[x,N]=We.useState(0);if(!e||!r(e))return p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),p.jsx("p",{className:"text-slate-600",children:"Only administrators can access financial data."})]})});const S=t(),E=n(),w=(_,I)=>{m(_),N(I),f(!0)},R=_=>{_.preventDefault(),d!==null&&x>=0&&(s(d,x),f(!1))},M=()=>{const _=["Metric","Value"],I=[["Gross Revenue (Shipment Prices)",`${S.grossRevenue.toFixed(2)} EGP`],["Total Client Fees (Company Income)",`${S.totalClientFees.toFixed(2)} EGP`],["Total Courier Payouts (Company Cost)",`${S.totalCourierPayouts.toFixed(2)} EGP`],["Net Revenue (Income - Cost)",`${S.netRevenue.toFixed(2)} EGP`],["Total Orders",S.totalOrders.toString()]];Ml(_,I,"Admin_Financial_Report")},H=()=>{const _=["Client Name","Total Orders","Order Sum (EGP)","Flat Rate Fee (EGP)"],I=E.map(O=>[O.clientName,O.totalOrders.toString(),O.orderSum.toFixed(2),O.flatRateFee.toFixed(2)]);Ml(_,I,"Client_Financial_Summary")};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Admin Financial Dashboard"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"Complete financial overview for administrators only."})]}),p.jsx("div",{className:"flex gap-2",children:p.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[p.jsx(Fc,{className:"w-5 h-5"}),"Export Report"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(zi,{title:"Total Client Fees",value:`${S.totalClientFees.toFixed(2)} EGP`,icon:p.jsx(Nl,{className:"w-7 h-7"}),color:"#16a34a"}),p.jsx(zi,{title:"Total Courier Payouts",value:`${S.totalCourierPayouts.toFixed(2)} EGP`,icon:p.jsx(Bo,{className:"w-7 h-7"}),color:"#f97316"}),p.jsx(zi,{title:"Net Revenue",value:`${S.netRevenue.toFixed(2)} EGP`,icon:p.jsx(Pc,{className:"w-7 h-7"}),color:"#3b82f6"}),p.jsx(zi,{title:"Delivered Orders",value:S.totalOrders,icon:p.jsx(wf,{className:"w-7 h-7"}),color:"#8b5cf6"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Client Financial Summary"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Revenue breakdown by client with adjustable flat rates."})]}),p.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[p.jsx(Fc,{className:"w-5 h-5"}),"Export CSV"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Orders"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Order Sum"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Flat Rate Fee"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[E.map(_=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800",children:_.clientName}),p.jsx("td",{className:"px-6 py-4 text-slate-600",children:_.totalOrders}),p.jsxs("td",{className:"px-6 py-4 text-slate-600",children:[_.orderSum.toFixed(2)," EGP"]}),p.jsxs("td",{className:"px-6 py-4 font-semibold text-orange-600",children:[_.flatRateFee.toFixed(2)," EGP"]}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("button",{onClick:()=>w(_.clientId,_.flatRateFee),className:"p-2 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md",title:"Edit Flat Rate",children:p.jsx(Ah,{className:"w-4 h-4"})})})]},_.clientId)),E.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"No client financial data available."})})]})]})})]}),p.jsx(Ya,{isOpen:o,onClose:()=>f(!1),title:"Update Client Flat Rate",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Flat Rate Fee (EGP)"}),p.jsx("input",{type:"number",step:"0.01",min:"0",value:x,onChange:_=>N(parseFloat(_.target.value)||0),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0}),p.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"This fee is charged per package but not visible to the client."})]}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:"Update Rate"})]})]})})]})},dA=()=>{const{notifications:e,notificationStatus:t,resendNotification:n}=di(),r={sending:{text:"Sending...",color:"bg-yellow-100 text-yellow-800"},sent:{text:"Sent",color:"bg-green-100 text-green-800"},failed:{text:"Failed",color:"bg-red-100 text-red-800"}};return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Notifications Log"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A log of all automated email notifications and their delivery status."})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Recipient"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Subject"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.sort((s,o)=>new Date(o.date).getTime()-new Date(s.date).getTime()).map(s=>{const o=t[s.id]||(s.sent?"sent":"failed");return p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:new Date(s.date).toLocaleString()}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r[o].color}`,children:r[o].text})}),p.jsx("td",{className:"px-6 py-4 text-sm",children:s.recipient}),p.jsx("td",{className:"px-6 py-4 text-sm",children:s.message.split(`

`)[0]}),p.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:s.shipmentId}),p.jsx("td",{className:"px-6 py-4",children:o==="failed"&&p.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-2 px-3 py-1 bg-primary-500 text-white text-xs font-semibold rounded-lg hover:bg-primary-600 transition",children:[p.jsx(tf,{className:"w-4 h-4 transform -scale-x-100"}),"Resend"]})})]},s.id)}),e.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No notifications have been generated yet."})})]})]})})]})},gA=()=>{var N,S,E,w;const{currentUser:e,updateUser:t}=di(),[n,r]=We.useState(!1),[s,o]=We.useState({});if(We.useEffect(()=>{e&&o({name:e.name,phone:e.phone||"",address:e.address||{street:"",city:"Cairo",zone:Ga.CAIRO_DOWNTOWN,details:""}})},[e]),!e)return null;const f=R=>{o(M=>({...M,address:R}))},d=()=>{t(e.id,s),r(!1)},m=R=>Object.values(Ga).filter(M=>M.startsWith(R)),x=m(((N=s.address)==null?void 0:N.city)||"Cairo");return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Profile"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"View and edit your personal information and default address."})]}),n?p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Cancel"}),p.jsx("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Save Changes"})]}):p.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[p.jsx(Ah,{className:"w-5 h-5"}),"Edit Profile"]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm space-y-8",children:[p.jsxs("div",{className:"border-b border-slate-200 pb-8",children:[p.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),n?p.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:R=>o(M=>({...M,name:R.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):p.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.name})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),p.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.email})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),n?p.jsx("input",{type:"tel",name:"phone",value:s.phone||"",onChange:R=>o(M=>({...M,phone:R.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):p.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.phone||"Not set"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),p.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.role})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Default Pickup Address"}),n?p.jsxs("div",{className:"space-y-4",children:[p.jsx(ry,{label:"Street Address",value:s.address,onChange:f}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),p.jsxs("select",{name:"address.city",value:((S=s.address)==null?void 0:S.city)||"Cairo",onChange:R=>f({...s.address,city:R.target.value,zone:m(R.target.value)[0]}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[p.jsx("option",{value:"Cairo",children:"Cairo"}),p.jsx("option",{value:"Giza",children:"Giza"}),p.jsx("option",{value:"Alexandria",children:"Alexandria"}),p.jsx("option",{value:"Other",children:"Other Governorates"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),p.jsx("select",{name:"address.zone",value:((E=s.address)==null?void 0:E.zone)||"",onChange:R=>f({...s.address,zone:R.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:x.map(R=>p.jsx("option",{value:R,children:R},R))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apartment, Suite, etc."}),p.jsx("input",{type:"text",name:"address.details",value:((w=s.address)==null?void 0:w.details)||"",onChange:R=>f({...s.address,details:R.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}):e.address?p.jsxs("div",{className:"text-lg text-slate-800 p-4 bg-slate-50 rounded-lg",children:[p.jsx("p",{className:"font-semibold",children:e.address.street}),p.jsx("p",{children:e.address.details}),p.jsxs("p",{children:[e.address.city,", ",e.address.zone]})]}):p.jsx("p",{className:"text-slate-500",children:"Please set your default address."})]})]})]})},pA=()=>{const{users:e}=di(),t=We.useRef(null),[n,r]=We.useState(!1),s=e.filter(o=>o.role===dt.COURIER&&o.location);return We.useEffect(()=>{const o=()=>{window.google&&window.google.maps?r(!0):setTimeout(o,100)};o()},[]),We.useEffect(()=>{if(!n||!t.current)return;const o=new window.google.maps.Map(t.current,{center:{lat:30.0444,lng:31.2357},zoom:11,mapTypeControl:!1,streetViewControl:!1}),f=new window.google.maps.InfoWindow;s.forEach(d=>{if(!d.location)return;const m=new window.google.maps.Marker({position:d.location,map:o,title:d.name,animation:window.google.maps.Animation.DROP});m.addListener("click",()=>{f.setContent(`
                    <div class="font-sans">
                        <div class="font-bold text-md">${d.name}</div>
                        <div class="text-sm text-slate-600">Zone: ${d.zone}</div>
                    </div>
                `),f.open(o,m)})})},[n,s]),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm h-full w-full flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Live Courier Tracking"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Real-time locations of all active couriers."})]}),p.jsx("div",{className:"flex-1 bg-slate-200",children:n?p.jsx("div",{ref:t,className:"w-full h-full"}):p.jsxs("div",{className:"w-full h-full flex items-center justify-center flex-col gap-4",children:[p.jsx("p",{className:"text-slate-600 font-semibold",children:"Loading Map..."}),p.jsx("p",{className:"text-xs text-slate-500 max-w-sm text-center",children:`If the map doesn't load, please ensure the Google Maps API key is set correctly in your environment and has the "Maps JavaScript API" enabled.`})]})})]})},mA=({onSelectShipment:e})=>{const{users:t,shipments:n}=di(),[r,s]=We.useState("asc"),[o,f]=We.useState(null),[d,m]=We.useState(""),[x,N]=We.useState(""),[S,E]=We.useState("all"),w=We.useMemo(()=>t.filter(X=>X.role===dt.CLIENT).map(X=>({id:X.id,name:X.name,shipmentCount:n.filter(F=>F.clientId===X.id).length,flatRateFee:X.flatRateFee||0})).sort((X,F)=>r==="asc"?X.shipmentCount-F.shipmentCount:F.shipmentCount-X.shipmentCount),[t,n,r]),R=We.useMemo(()=>{if(!o)return[];let k=n.filter(q=>q.clientId===o.id);return d&&(k=k.filter(q=>q.creationDate.startsWith(d))),x.trim()!==""&&(k=k.filter(q=>q.id.toLowerCase().includes(x.trim().toLowerCase()))),S!=="all"&&(k=k.filter(q=>q.status===S)),k.sort((q,X)=>new Date(X.creationDate).getTime()-new Date(q.creationDate).getTime())},[o,n,d,x,S]),M=()=>{f(null),N(""),E("all"),m("")},H=k=>{e(k),M()},_=k=>{const q=t.find(X=>X.id===k.id);q&&f(q)},I=()=>{s(k=>k==="asc"?"desc":"asc")},O=()=>{const k=["Client Name","Number of Shipments","Flat Rate Fee (EGP)"],q=w.map(X=>[X.name,X.shipmentCount,X.flatRateFee.toFixed(2)]);Ml(k,q,"Client_Shipment_Analytics")};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Client Shipment Analytics"}),p.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A summary of shipment volumes per client."})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[p.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]}),p.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition","aria-label":`Sort by ${r==="asc"?"highest first":"lowest first"}`,children:[p.jsx(iw,{className:`w-5 h-5 transition-transform duration-300 ${r==="desc"?"rotate-180":""}`}),p.jsxs("span",{children:["Sort by ",r==="asc"?"Highest":"Lowest"]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client Name"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Number of Shipments"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Flat Rate Fee (EGP)"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[w.map(k=>p.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>_(k),children:[p.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-bold text-sm flex-shrink-0",children:k.name.charAt(0)}),k.name]}),p.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right font-mono text-lg",children:k.shipmentCount}),p.jsx("td",{className:"px-6 py-4 font-semibold text-orange-600 text-right font-mono text-lg",children:k.flatRateFee.toFixed(2)})]},k.id)),w.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:3,className:"text-center py-8 text-slate-500",children:"No client data available."})})]})]})})]}),o&&p.jsx(Ya,{isOpen:!!o,onClose:M,title:`Client Details: ${o.name}`,size:"4xl",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Contact Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Y2,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Name"}),p.jsx("p",{className:"font-semibold text-slate-800",children:o.name})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(B3,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Email"}),p.jsx("p",{className:"font-semibold text-slate-800",children:o.email})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(R3,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Phone"}),p.jsx("p",{className:"font-semibold text-slate-800",children:o.phone||"N/A"})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Mu,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Address"}),o.address?p.jsx("p",{className:"font-semibold text-slate-800",children:`${o.address.street}, ${o.address.city}`}):p.jsx("p",{className:"font-semibold text-slate-800",children:"N/A"})]})]})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:["Shipment History (",R.length,")"]}),p.jsxs("div",{className:"mb-4 bg-slate-100 p-3 rounded-lg flex flex-col sm:flex-row gap-3 items-center",children:[p.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:x,onChange:k=>N(k.target.value),className:"w-full sm:w-auto flex-grow px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-sm"}),p.jsxs("select",{value:S,onChange:k=>E(k.target.value),className:"w-full sm:w-auto px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white text-sm",children:[p.jsx("option",{value:"all",children:"All Statuses"}),Object.values(gt).map(k=>p.jsx("option",{value:k,children:k},k))]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("input",{type:"date",value:d,onChange:k=>m(k.target.value),className:"w-full sm:w-auto px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white text-sm","aria-label":"Filter by date"}),d&&p.jsx("button",{onClick:()=>m(""),className:"px-3 py-1.5 text-sm font-semibold text-slate-600 rounded-lg hover:bg-slate-200 transition","aria-label":"Clear date filter",children:"Clear"})]})]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200",children:p.jsx("div",{className:"max-h-96 overflow-y-auto",children:p.jsx(Q2,{shipments:R,onSelect:H})})})]})]})})]})},xA=({courierStats:e})=>{const t=e.deliveriesCompleted+e.deliveriesFailed>0?e.deliveriesCompleted/(e.deliveriesCompleted+e.deliveriesFailed)*100:100,n=e.deliveriesCompleted>0?e.totalEarnings/e.deliveriesCompleted:0;return p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-slate-500",children:"Total Earnings"}),p.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.totalEarnings.toFixed(2)," EGP"]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-slate-500",children:"Current Balance"}),p.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[e.currentBalance.toFixed(2)," EGP"]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-slate-500",children:"Pending Earnings"}),p.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.pendingEarnings.toFixed(2)," EGP"]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-slate-500",children:"Avg. Per Delivery"}),p.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[n.toFixed(2)," EGP"]})]})]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Performance:"}),p.jsxs("div",{className:"flex items-center",title:`Rating: ${e.performanceRating}`,children:[[...Array(5)].map((r,s)=>p.jsx("span",{className:`text-xl ${s<Math.floor(e.performanceRating)?"text-yellow-400":"text-gray-300"}`,children:""},s)),p.jsxs("span",{className:"ml-1 text-sm font-medium",children:["(",e.performanceRating,"/5.0)"]})]})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Success Rate: ",p.jsxs("span",{className:"font-bold",children:[t.toFixed(1),"%"]})]}),e.isRestricted&&p.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:" Restricted"})]})]})},yA=({transactions:e})=>{const t={[Us.PENDING]:"bg-yellow-100 text-yellow-800",[Us.PROCESSED]:"bg-green-100 text-green-800",[Us.FAILED]:"bg-red-100 text-red-800"};return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-5 border-b border-slate-200",children:p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Date"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Description"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Type"}),p.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase text-right",children:"Amount (EGP)"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(n=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 whitespace-nowrap",children:new Date(n.timestamp).toLocaleDateString()}),p.jsx("td",{className:"px-6 py-4 text-sm text-slate-800",children:n.description}),p.jsxs("td",{className:"px-6 py-4 text-sm",children:[p.jsx("span",{className:`px-2 py-1 font-semibold text-xs rounded-full ${n.amount>=0?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:n.type}),n.type===Sl.WITHDRAWAL_REQUEST&&p.jsx("span",{className:`ml-2 px-2 py-1 font-semibold text-xs rounded-full ${t[n.status]}`,children:n.status})]}),p.jsx("td",{className:`px-6 py-4 text-right font-bold ${n.amount>=0?"text-green-600":"text-red-600"}`,children:n.amount.toFixed(2)})]},n.id)),e.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions recorded."})})]})]})})]})},vA=()=>{const{currentUser:e,courierStats:t,courierTransactions:n,requestCourierPayout:r}=di(),[s,o]=We.useState(!1);if(!e)return null;const f=t.find(x=>x.courierId===e.id),d=n.filter(x=>x.courierId===e.id).sort((x,N)=>new Date(N.timestamp).getTime()-new Date(x.timestamp).getTime()),m=()=>{!f||f.pendingEarnings<=0||(r(e.id,f.pendingEarnings),o(!1))};return f?p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Earnings"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"Your performance and financial summary."})]}),p.jsxs("button",{onClick:()=>o(!0),disabled:f.pendingEarnings<=0,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-sm hover:bg-green-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",children:["Request Payout (",f.pendingEarnings.toFixed(2)," EGP)"]})]}),p.jsx(xA,{courierStats:f}),p.jsx(yA,{transactions:d}),p.jsx(Ya,{isOpen:s,onClose:()=>o(!1),title:"Confirm Payout Request",children:p.jsxs("div",{children:[p.jsxs("p",{className:"text-lg",children:["You are about to request a payout for all your pending earnings of ",p.jsxs("strong",{className:"text-green-600",children:[f.pendingEarnings.toFixed(2)," EGP"]}),"."]}),p.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Once confirmed, an administrator will process your request. The funds will then be deducted from your pending balance and transferred to you."}),p.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[p.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]}):p.jsx("div",{className:"text-center p-8 bg-white rounded-lg",children:"Could not load your financial data."})},bA=({onSelectShipment:e})=>{const{users:t,shipments:n,courierStats:r,courierTransactions:s,updateCourierSettings:o,applyManualPenalty:f,processCourierPayout:d}=di(),[m,x]=We.useState(null),[N,S]=We.useState(!1),[E,w]=We.useState(null),[R,M]=We.useState(""),H=q=>{const X=r.find(F=>F.courierId===q);X&&(x(X),S(!0))},_=()=>{S(!1),x(null)},I=(q,X,F)=>{let L=[];F==="delivered"?(L=n.filter(j=>j.courierId===q&&(j.status===gt.DELIVERED||j.status===gt.RETURNED)),M(`Delivered Shipments for ${X}`)):(L=n.filter(j=>j.courierId===q&&[gt.IN_TRANSIT,gt.OUT_FOR_DELIVERY,gt.RETURN_IN_PROGRESS].includes(j.status)),M(`Pending Shipments for ${X}`)),w(L)},O=q=>{e(q),w(null)},k=t.filter(q=>q.role==="Courier").map(q=>{const X=r.find(j=>j.courierId===q.id),F=s.filter(j=>j.courierId===q.id&&j.type===Sl.WITHDRAWAL_REQUEST&&j.status===Us.PENDING),L=n.filter(j=>j.courierId===q.id&&[gt.IN_TRANSIT,gt.OUT_FOR_DELIVERY,gt.RETURN_IN_PROGRESS].includes(j.status)).length;return{user:q,stats:X,pendingPayouts:F,pendingCount:L}});return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Courier Performance"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"Manage courier financials, restrictions, and view performance metrics."})]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Courier"}),p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase text-center",children:"Delivered"}),p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase text-center",children:"Pending"}),p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Earnings (Total / Balance)"}),p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Commission"}),p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Status"}),p.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200",children:k.map(({user:q,stats:X,pendingPayouts:F,pendingCount:L})=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-4 font-semibold",children:q.name}),p.jsx("td",{className:"p-4 font-mono text-center",children:p.jsx("button",{onClick:()=>I(q.id,q.name,"delivered"),className:"font-mono text-blue-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:!X||X.deliveriesCompleted===0,children:(X==null?void 0:X.deliveriesCompleted)??0})}),p.jsx("td",{className:"p-4 font-mono text-center",children:p.jsx("button",{onClick:()=>I(q.id,q.name,"pending"),className:"font-mono text-blue-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:L===0,children:L})}),p.jsx("td",{className:"p-4 font-mono",children:X?`${X.totalEarnings.toFixed(2)} / ${X.currentBalance.toFixed(2)}`:"N/A"}),p.jsx("td",{className:"p-4 text-sm",children:(X==null?void 0:X.commissionType)==="flat"?`${X.commissionValue} EGP`:`${X==null?void 0:X.commissionValue}%`}),p.jsxs("td",{className:"p-4",children:[X!=null&&X.isRestricted?p.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Restricted"}):p.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}),F.length>0&&p.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Payout Pending"})]}),p.jsx("td",{className:"p-4",children:p.jsx("button",{onClick:()=>H(q.id),className:"px-3 py-1.5 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 text-sm",children:"Manage"})})]},q.id))})]})})}),m&&N&&p.jsx(wA,{isOpen:N,onClose:_,courierStats:m,courierUser:t.find(q=>q.id===m.courierId),payoutRequests:s.filter(q=>q.courierId===m.courierId&&q.type===Sl.WITHDRAWAL_REQUEST&&q.status===Us.PENDING),onUpdateSettings:o,onApplyPenalty:f,onProcessPayout:d}),p.jsx(Ya,{isOpen:!!E,onClose:()=>w(null),title:R,size:"4xl",children:E&&p.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:p.jsx(Q2,{shipments:E,onSelect:O})})})]})},wA=({isOpen:e,onClose:t,courierStats:n,courierUser:r,payoutRequests:s,onUpdateSettings:o,onApplyPenalty:f,onProcessPayout:d})=>{const[m,x]=We.useState({commissionType:n.commissionType,commissionValue:n.commissionValue}),[N,S]=We.useState(0),[E,w]=We.useState("");We.useEffect(()=>{x({commissionType:n.commissionType,commissionValue:n.commissionValue})},[n]);const R=()=>{o(r.id,m),t()},M=()=>{N>0&&E&&(f(r.id,N,E),S(0),w(""),t())};return p.jsx(Ya,{isOpen:e,onClose:t,title:`Manage ${r.name}`,size:"4xl",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-6 p-6 bg-slate-50 rounded-lg",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Financial Settings"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Commission Type"}),p.jsxs("select",{value:m.commissionType,onChange:H=>x(_=>({..._,commissionType:H.target.value})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md",children:[p.jsx("option",{value:K0.FLAT,children:"Flat Rate (EGP)"}),p.jsx("option",{value:K0.PERCENTAGE,children:"Percentage (%)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Commission Value"}),p.jsx("input",{type:"number",value:m.commissionValue,onChange:H=>x(_=>({..._,commissionValue:Number(H.target.value)})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),p.jsx("button",{onClick:R,className:"w-full bg-primary-600 text-white font-semibold py-2 rounded-lg",children:"Save Settings"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-4 p-6 bg-red-50 rounded-lg",children:[p.jsx("h3",{className:"font-bold text-lg text-red-800",children:"Apply Manual Penalty"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Penalty Amount (EGP)"}),p.jsx("input",{type:"number",value:N,onChange:H=>S(Number(H.target.value)),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),p.jsx("input",{type:"text",placeholder:"e.g., Damaged item, Stolen item",value:E,onChange:H=>w(H.target.value),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),p.jsx("button",{onClick:M,disabled:N<=0||!E,className:"w-full bg-red-600 text-white font-semibold py-2 rounded-lg disabled:bg-red-300",children:"Apply Penalty"})]}),p.jsxs("div",{className:"space-y-4 p-6 bg-green-50 rounded-lg",children:[p.jsx("h3",{className:"font-bold text-lg text-green-800",children:"Process Payouts"}),s.length>0?s.map(H=>p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("p",{children:["Request for ",-H.amount," EGP"]}),p.jsx("button",{onClick:()=>{d(H.id),t()},className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm",children:"Process"})]},H.id)):p.jsx("p",{className:"text-slate-600 text-sm text-center",children:"No pending payout requests."})]})]})]})})},AA=({shipment:e})=>{const t=()=>p.jsxs("svg",{x:"0px",y:"0px",viewBox:"0 0 200 60",className:"w-full h-12",children:[p.jsx("rect",{x:"0",y:"0",width:"4",height:"50",fill:"#000000"}),p.jsx("rect",{x:"7",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"15",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"18",y:"0",width:"5",height:"50",fill:"#000000"}),p.jsx("rect",{x:"26",y:"0",width:"1",height:"50",fill:"#000000"}),p.jsx("rect",{x:"30",y:"0",width:"3",height:"50",fill:"#000000"}),p.jsx("rect",{x:"36",y:"0",width:"3",height:"50",fill:"#000000"}),p.jsx("rect",{x:"42",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"47",y:"0",width:"1",height:"50",fill:"#000000"}),p.jsx("rect",{x:"51",y:"0",width:"5",height:"50",fill:"#000000"}),p.jsx("rect",{x:"59",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"64",y:"0",width:"4",height:"50",fill:"#000000"}),p.jsx("rect",{x:"71",y:"0",width:"1",height:"50",fill:"#000000"}),p.jsx("rect",{x:"75",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"80",y:"0",width:"4",height:"50",fill:"#000000"}),p.jsx("rect",{x:"87",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"92",y:"0",width:"3",height:"50",fill:"#000000"}),p.jsx("rect",{x:"98",y:"0",width:"3",height:"50",fill:"#000000"}),p.jsx("rect",{x:"104",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"109",y:"0",width:"1",height:"50",fill:"#000000"}),p.jsx("rect",{x:"113",y:"0",width:"5",height:"50",fill:"#000000"}),p.jsx("rect",{x:"121",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"126",y:"0",width:"4",height:"50",fill:"#000000"}),p.jsx("rect",{x:"133",y:"0",width:"1",height:"50",fill:"#000000"}),p.jsx("rect",{x:"137",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"142",y:"0",width:"4",height:"50",fill:"#000000"}),p.jsx("rect",{x:"149",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"154",y:"0",width:"3",height:"50",fill:"#000000"}),p.jsx("rect",{x:"160",y:"0",width:"3",height:"50",fill:"#000000"}),p.jsx("rect",{x:"166",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"171",y:"0",width:"1",height:"50",fill:"#000000"}),p.jsx("rect",{x:"175",y:"0",width:"5",height:"50",fill:"#000000"}),p.jsx("rect",{x:"183",y:"0",width:"2",height:"50",fill:"#000000"}),p.jsx("rect",{x:"188",y:"0",width:"4",height:"50",fill:"#000000"}),p.jsx("rect",{x:"195",y:"0",width:"1",height:"50",fill:"#000000"})]});return p.jsx("div",{className:"bg-white p-8 border-4 border-dashed border-slate-300 w-full printable-label-container",children:p.jsxs("div",{className:"printable-label",style:{fontFamily:"sans-serif",color:"black"},children:[p.jsxs("header",{className:"flex justify-between items-center pb-4 border-b-2 border-black",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(ef,{className:"w-12 h-12"}),p.jsx("div",{children:p.jsx("h1",{className:"text-2xl font-extrabold text-black",children:"Flash Express"})})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-sm",children:["Date: ",new Date(e.creationDate).toLocaleDateString()]}),p.jsx("p",{className:"text-sm",children:"Shipment ID:"}),p.jsx("p",{className:"font-bold font-mono text-lg",children:e.id})]})]}),p.jsxs("main",{className:"grid grid-cols-2 gap-8 my-8",children:[p.jsxs("div",{className:"pr-8 border-r-2 border-dashed border-slate-400",children:[p.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"FROM"}),p.jsx("p",{className:"font-bold text-lg",children:e.clientName}),p.jsxs("p",{children:[e.fromAddress.street,", ",e.fromAddress.details]}),p.jsxs("p",{children:[e.fromAddress.city,", ",e.fromAddress.zone]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"TO"}),p.jsx("p",{className:"font-bold text-xl",children:e.recipientName}),p.jsxs("p",{className:"text-lg",children:[e.toAddress.street,", ",e.toAddress.details]}),p.jsxs("p",{className:"text-lg",children:[e.toAddress.city,", ",e.toAddress.zone]}),p.jsxs("p",{className:"font-bold text-lg mt-2",children:["Phone: ",e.recipientPhone]})]})]}),p.jsx("footer",{className:"border-t-2 border-black pt-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs uppercase font-bold text-slate-600",children:"Payment Details"}),p.jsx("p",{className:"text-2xl font-bold",children:e.paymentMethod}),e.paymentMethod===Sa.COD&&p.jsxs("p",{className:"text-3xl font-extrabold text-green-600",children:[e.price.toFixed(2)," EGP"]}),p.jsx("p",{className:"text-xs uppercase font-bold text-slate-600 mt-4",children:"Package"}),p.jsxs("p",{children:[e.packageDescription,e.isLargeOrder&&" (Large Order)"]})]}),p.jsxs("div",{className:"text-center",children:[p.jsx(t,{}),p.jsx("p",{className:"font-mono tracking-widest text-sm",children:e.id})]})]})})]})})},SA=()=>{var X;const{currentUser:e,logout:t,users:n,updateShipmentStatus:r,reassignCourier:s}=di(),[o,f]=We.useState("dashboard"),[d,m]=We.useState(null),[x,N]=We.useState(null),[S,E]=We.useState(null),[w,R]=We.useState(!1),[M,H]=We.useState(null),_=()=>{m(null),R(!1),H(null)},I=()=>{d&&M&&(s(d.id,M),_())};if(We.useEffect(()=>(x?document.body.classList.add("printing-label"):document.body.classList.remove("printing-label"),()=>document.body.classList.remove("printing-label")),[x]),!e)return null;const O=()=>{window.print()},k=()=>{S&&r(S.id,gt.RETURN_REQUESTED),E(null)},q=()=>{switch(o){case"dashboard":return p.jsx($p,{setActiveView:f});case"shipments":return p.jsx(x6,{onSelectShipment:m});case"create":return p.jsx(v6,{});case"assign":return p.jsx(b6,{});case"tasks":return p.jsx(oA,{});case"users":return p.jsx(lA,{});case"returns":return p.jsx(cA,{});case"wallet":return p.jsx(uA,{});case"financials":return p.jsx(fA,{});case"admin-financials":return p.jsx(hA,{});case"client-analytics":return p.jsx(mA,{onSelectShipment:m});case"notifications":return p.jsx(dA,{});case"profile":return p.jsx(gA,{});case"map":return p.jsx(pA,{});case"courier-financials":return p.jsx(vA,{});case"courier-performance":return p.jsx(bA,{onSelectShipment:m});default:return p.jsx($p,{setActiveView:f})}};return p.jsxs("div",{className:"flex h-screen bg-slate-100",children:[p.jsx(fw,{role:e.role,activeView:o,setActiveView:f}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(hw,{onLogout:t,user:e,onNavigate:f}),p.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:q()})]}),p.jsx(Ya,{isOpen:!!d,onClose:_,title:`Shipment Details: ${d==null?void 0:d.id}`,children:d&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-start gap-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"mb-1",children:[p.jsx("strong",{children:"Status:"})," ",p.jsx(Eh,{status:d.status})]}),p.jsxs("p",{className:"text-sm text-slate-600",children:[p.jsx("strong",{children:"From:"})," ",d.fromAddress.street,", ",d.fromAddress.city]}),p.jsxs("p",{className:"text-sm text-slate-600",children:[p.jsx("strong",{children:"To:"})," ",d.toAddress.street,", ",d.toAddress.city]}),p.jsxs("p",{className:"text-sm text-slate-600",children:[p.jsx("strong",{children:"Courier:"})," ",((X=n.find(F=>F.id===d.courierId))==null?void 0:X.name)||"Not Assigned"]})]}),p.jsxs("div",{className:"flex flex-col gap-2 items-end flex-shrink-0",children:[(e.role===dt.ADMIN||e.role===dt.CLIENT)&&p.jsxs("button",{onClick:()=>N(d),className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition w-full justify-center text-sm",children:[p.jsx(Kp,{className:"w-5 h-5"}),"Print Label"]}),e.role===dt.CLIENT&&d.status===gt.DELIVERED&&p.jsxs("button",{onClick:()=>E(d),className:"flex items-center gap-2 px-3 py-2 bg-orange-100 text-orange-800 font-semibold rounded-lg hover:bg-orange-200 transition w-full justify-center text-sm",children:[p.jsx(tf,{className:"w-5 h-5"}),"Request Return"]})]})]}),d.signature&&p.jsxs("div",{children:[p.jsx("strong",{children:"Signature:"}),p.jsx("img",{src:d.signature,alt:"Recipient Signature",className:"border rounded-lg mt-2"})]}),e.role===dt.ADMIN&&d.courierId&&![gt.DELIVERED,gt.RETURNED,gt.DELIVERY_FAILED].includes(d.status)&&p.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:w?p.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg",children:[p.jsx("h4",{className:"font-semibold text-slate-700",children:"Select new courier:"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{onChange:F=>H(parseInt(F.target.value)),defaultValue:"",className:"flex-grow px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[p.jsx("option",{value:"",disabled:!0,children:"Available Couriers..."}),n.filter(F=>F.role===dt.COURIER).map(F=>p.jsxs("option",{value:F.id,children:[F.name," (",F.zone,")"]},F.id))]}),p.jsx("button",{onClick:I,disabled:!M,className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition disabled:bg-slate-400",children:"Save"}),p.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Cancel"})]})]}):p.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-2 bg-yellow-100 text-yellow-800 font-semibold rounded-lg hover:bg-yellow-200 transition text-sm",children:[p.jsx(rw,{className:"w-5 h-5"}),"Re-assign Courier"]})})]})}),p.jsx(Ya,{isOpen:!!x,onClose:()=>N(null),title:"Print Shipment Label",size:"4xl",children:x&&p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsx(AA,{shipment:x}),p.jsxs("div",{className:"flex justify-end gap-4 p-4 -mb-6 -mx-6 bg-slate-50 rounded-b-xl",children:[p.jsx("button",{onClick:()=>N(null),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Close"}),p.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[p.jsx(Kp,{className:"w-5 h-5"}),"Print"]})]})]})}),p.jsx(Ya,{isOpen:!!S,onClose:()=>E(null),title:"Confirm Return Request",size:"md",children:S&&p.jsxs("div",{children:[p.jsxs("p",{children:["Are you sure you want to request a return for shipment ",p.jsx("strong",{children:S.id}),"? A courier will be assigned to pick up the item from ",p.jsx("strong",{children:S.recipientName}),"."]}),p.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[p.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),p.jsx("button",{onClick:k,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]})},NA=[gt.PENDING_ASSIGNMENT,gt.ASSIGNED_TO_COURIER,gt.PICKED_UP,gt.IN_TRANSIT,gt.OUT_FOR_DELIVERY,gt.DELIVERED],CA=[{status:gt.PENDING_ASSIGNMENT,icon:p.jsx(J0,{}),title:"Shipment Created",description:"The shipment request has been received."},{status:gt.ASSIGNED_TO_COURIER,icon:p.jsx(Y2,{}),title:"Courier Assigned",description:"A courier is on their way to pick up the package."},{status:gt.PICKED_UP,icon:p.jsx(Bo,{}),title:"Picked Up",description:"The courier has collected the package."},{status:gt.IN_TRANSIT,icon:p.jsx(Bo,{}),title:"In Transit",description:"The package is on its way to the destination city."},{status:gt.OUT_FOR_DELIVERY,icon:p.jsx(Mu,{}),title:"Out for Delivery",description:"The package is on its final leg of the journey."},{status:gt.DELIVERED,icon:p.jsx(wf,{}),title:"Delivered",description:"The package has been successfully delivered."}],EA=({shipment:e})=>{const t=NA.indexOf(e.status),n=e.status===gt.DELIVERY_FAILED;return p.jsxs("div",{className:"relative pl-8",children:[p.jsx("div",{className:"absolute left-4 top-4 bottom-4 w-0.5 bg-slate-200"}),p.jsxs("div",{className:"space-y-8",children:[CA.map((r,s)=>{const o=t>=s,f=t===s;return p.jsxs("div",{className:"relative flex items-start gap-4",children:[p.jsx("div",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 rounded-full z-10 ${o?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"}`,children:Rl.cloneElement(r.icon,{className:"w-5 h-5"})}),p.jsxs("div",{className:"pt-1",children:[p.jsx("p",{className:`font-bold ${o?"text-slate-800":"text-slate-500"}`,children:r.title}),p.jsx("p",{className:"text-sm text-slate-600",children:r.description}),f&&e.deliveryDate&&r.status===gt.DELIVERED&&p.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:new Date(e.deliveryDate).toLocaleString()})]})]},r.status)}),n&&p.jsxs("div",{className:"relative flex items-start gap-4",children:[p.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 rounded-full z-10 bg-red-600 text-white",children:p.jsx(wh,{className:"w-5 h-5"})}),p.jsxs("div",{className:"pt-1",children:[p.jsx("p",{className:"font-bold text-red-800",children:"Delivery Attempt Failed"}),p.jsx("p",{className:"text-sm text-slate-600",children:"The courier was unable to deliver the package. They will try again."})]})]})]})]})},_A=({onBackToApp:e})=>{const{trackShipment:t,addToast:n}=di(),[r,s]=We.useState(""),[o,f]=We.useState(""),[d,m]=We.useState(null),[x,N]=We.useState(!1),S=E=>{if(E.preventDefault(),!r.trim()||!o.trim()){n("Please enter both a tracking ID and phone number.","error");return}N(!0),m(null),setTimeout(()=>{const w=t(r,o);w?(m(w),n("Shipment found!","success")):n("No shipment found with those details.","error"),N(!1)},500)};return p.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[p.jsx("header",{className:"p-4 border-b border-slate-200 bg-white",children:p.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(ef,{className:"w-9 h-9"}),p.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Flash Express Tracking"})]}),p.jsx("button",{onClick:e,className:"text-sm font-semibold text-primary-600 hover:text-primary-800",children:"Back to Portal"})]})}),p.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:p.jsx("div",{className:"w-full max-w-6xl mx-auto",children:d?p.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg animate-fade-in-up",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6 pb-6 border-b border-slate-200",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Shipment Details"}),p.jsx("p",{className:"font-mono text-slate-600",children:d.id})]}),p.jsx(Eh,{status:d.status})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"From"}),p.jsx("p",{className:"text-lg font-medium text-slate-800",children:d.clientName}),p.jsxs("p",{className:"text-slate-600",children:[d.fromAddress.street,", ",d.fromAddress.city]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"To"}),p.jsx("p",{className:"text-lg font-medium text-slate-800",children:d.recipientName}),p.jsxs("p",{className:"text-slate-600",children:[d.toAddress.street,", ",d.toAddress.city]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"Last Updated"}),p.jsx("p",{className:"text-lg font-medium text-slate-800",children:new Date(d.creationDate).toLocaleString()})]})]}),p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Tracking History"}),p.jsx(EA,{shipment:d})]})]})]}):p.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white p-8 rounded-xl shadow-lg",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center",children:"Track Your Shipment"}),p.jsx("p",{className:"text-slate-600 text-center mt-2 mb-8",children:"Enter the shipment ID and your phone number to see its status."}),p.jsxs("form",{onSubmit:S,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"trackingId",className:"block text-sm font-medium text-slate-700",children:"Shipment ID"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:p.jsx("svg",{className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-4V3a1 1 0 00-1-1H9zm-1 4a1 1 0 100 2 1 1 0 000-2zM8 9a1 1 0 112 0 1 1 0 01-2 0z",clipRule:"evenodd"})})}),p.jsx("input",{id:"trackingId",type:"text",value:r,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., FLS123456",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-slate-700",children:"Phone Number (Sender or Recipient)"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:p.jsx(R3,{className:"h-5 w-5 text-slate-400"})}),p.jsx("input",{id:"phoneNumber",type:"tel",value:o,onChange:E=>f(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 01012345678",required:!0})]})]}),p.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300 disabled:bg-slate-400",children:x?"Searching...":"Track Now"})]})]})})})]})},TA=()=>{var o,f;const{currentUser:e,addToast:t,isLoading:n}=di(),[r,s]=We.useState(!1);return Jb((f=(o=globalThis.process)==null?void 0:o.env)==null?void 0:f.API_KEY,t),r?p.jsx(_A,{onBackToApp:()=>s(!1)}):n?p.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-600 mx-auto"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mt-4",children:"Loading Data..."}),p.jsx("p",{className:"text-slate-600",children:"Please wait while we fetch your information."})]})}):p.jsxs(p.Fragment,{children:[(e==null?void 0:e.role)===dt.COURIER&&p.jsx($b,{}),p.jsx("div",{className:"transition-opacity duration-500 opacity-100",children:e?p.jsx(SA,{}):p.jsx(uw,{onTrackPackageClick:()=>s(!0)})}),p.jsx(cw,{})]})},IA=()=>p.jsx(Qb,{children:p.jsx(TA,{})}),dy=document.getElementById("root");if(!dy)throw new Error("Could not find root element to mount to");const OA=Zb.createRoot(dy);OA.render(p.jsx(Rl.StrictMode,{children:p.jsx(IA,{})}));export{On as _,Os as c,nh as g};
