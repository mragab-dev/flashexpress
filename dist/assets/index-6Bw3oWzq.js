function U4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ld(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z4(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var S5={exports:{}},V1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4=Symbol.for("react.transitional.element"),q4=Symbol.for("react.fragment");function N5(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:H4,type:e,key:r,ref:t!==void 0?t:null,props:n}}V1.Fragment=q4;V1.jsx=N5;V1.jsxs=N5;S5.exports=V1;var C=S5.exports,C5={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.transitional.element"),G4=Symbol.for("react.portal"),V4=Symbol.for("react.fragment"),Y4=Symbol.for("react.strict_mode"),X4=Symbol.for("react.profiler"),W4=Symbol.for("react.consumer"),Z4=Symbol.for("react.context"),Q4=Symbol.for("react.forward_ref"),K4=Symbol.for("react.suspense"),J4=Symbol.for("react.memo"),E5=Symbol.for("react.lazy"),hg=Symbol.iterator;function $4(e){return e===null||typeof e!="object"?null:(e=hg&&e[hg]||e["@@iterator"],typeof e=="function"?e:null)}var T5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_5=Object.assign,I5={};function Mc(e,t,n){this.props=e,this.context=t,this.refs=I5,this.updater=n||T5}Mc.prototype.isReactComponent={};Mc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L5(){}L5.prototype=Mc.prototype;function Dd(e,t,n){this.props=e,this.context=t,this.refs=I5,this.updater=n||T5}var Od=Dd.prototype=new L5;Od.constructor=Dd;_5(Od,Mc.prototype);Od.isPureReactComponent=!0;var dg=Array.isArray,ri={H:null,A:null,T:null,S:null,V:null},M5=Object.prototype.hasOwnProperty;function Rd(e,t,n,r,s,o){return n=o.ref,{$$typeof:Md,type:e,key:t,ref:n!==void 0?n:null,props:o}}function ey(e,t){return Rd(e.type,t,void 0,void 0,void 0,e.props)}function Bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Md}function ty(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gg=/\/+/g;function L0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ty(""+e.key):t.toString(36)}function pg(){}function ny(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(pg,pg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Xl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(o){case"bigint":case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Md:case G4:f=!0;break;case E5:return f=e._init,Xl(f(e._payload),t,n,r,s)}}if(f)return s=s(e),f=r===""?"."+L0(e,0):r,dg(s)?(n="",f!=null&&(n=f.replace(gg,"$&/")+"/"),Xl(s,t,n,"",function(x){return x})):s!=null&&(Bd(s)&&(s=ey(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(gg,"$&/")+"/")+f)),t.push(s)),1;f=0;var d=r===""?".":r+":";if(dg(e))for(var m=0;m<e.length;m++)r=e[m],o=d+L0(r,m),f+=Xl(r,t,n,o,s);else if(m=$4(e),typeof m=="function")for(e=m.call(e),m=0;!(r=e.next()).done;)r=r.value,o=d+L0(r,m++),f+=Xl(r,t,n,o,s);else if(o==="object"){if(typeof e.then=="function")return Xl(ny(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return f}function Lf(e,t,n){if(e==null)return e;var r=[],s=0;return Xl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function iy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ry(){}Zt.Children={map:Lf,forEach:function(e,t,n){Lf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lf(e,function(){t++}),t},toArray:function(e){return Lf(e,function(t){return t})||[]},only:function(e){if(!Bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Mc;Zt.Fragment=V4;Zt.Profiler=X4;Zt.PureComponent=Dd;Zt.StrictMode=Y4;Zt.Suspense=K4;Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ri;Zt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ri.H.useMemoCache(e)}};Zt.cache=function(e){return function(){return e.apply(null,arguments)}};Zt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=_5({},e.props),s=e.key,o=void 0;if(t!=null)for(f in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(s=""+t.key),t)!M5.call(t,f)||f==="key"||f==="__self"||f==="__source"||f==="ref"&&t.ref===void 0||(r[f]=t[f]);var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){for(var d=Array(f),m=0;m<f;m++)d[m]=arguments[m+2];r.children=d}return Rd(e.type,s,void 0,void 0,o,r)};Zt.createContext=function(e){return e={$$typeof:Z4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:W4,_context:e},e};Zt.createElement=function(e,t,n){var r,s={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)M5.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=t[r]);var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){for(var d=Array(f),m=0;m<f;m++)d[m]=arguments[m+2];s.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)s[r]===void 0&&(s[r]=f[r]);return Rd(e,o,void 0,void 0,null,s)};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:Q4,render:e}};Zt.isValidElement=Bd;Zt.lazy=function(e){return{$$typeof:E5,_payload:{_status:-1,_result:e},_init:iy}};Zt.memo=function(e,t){return{$$typeof:J4,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=ri.T,n={};ri.T=n;try{var r=e(),s=ri.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ry,mg)}catch(o){mg(o)}finally{ri.T=t}};Zt.unstable_useCacheRefresh=function(){return ri.H.useCacheRefresh()};Zt.use=function(e){return ri.H.use(e)};Zt.useActionState=function(e,t,n){return ri.H.useActionState(e,t,n)};Zt.useCallback=function(e,t){return ri.H.useCallback(e,t)};Zt.useContext=function(e){return ri.H.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e,t){return ri.H.useDeferredValue(e,t)};Zt.useEffect=function(e,t,n){var r=ri.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};Zt.useId=function(){return ri.H.useId()};Zt.useImperativeHandle=function(e,t,n){return ri.H.useImperativeHandle(e,t,n)};Zt.useInsertionEffect=function(e,t){return ri.H.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return ri.H.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return ri.H.useMemo(e,t)};Zt.useOptimistic=function(e,t){return ri.H.useOptimistic(e,t)};Zt.useReducer=function(e,t,n){return ri.H.useReducer(e,t,n)};Zt.useRef=function(e){return ri.H.useRef(e)};Zt.useState=function(e){return ri.H.useState(e)};Zt.useSyncExternalStore=function(e,t,n){return ri.H.useSyncExternalStore(e,t,n)};Zt.useTransition=function(){return ri.H.useTransition()};Zt.version="19.1.0";C5.exports=Zt;var ot=C5.exports;const Yu=Ld(ot);var D5={exports:{}},Y1={},O5={exports:{}},R5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Y){var ne=W.length;W.push(Y);e:for(;0<ne;){var oe=ne-1>>>1,me=W[oe];if(0<s(me,Y))W[oe]=Y,W[ne]=me,ne=oe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],ne=W.pop();if(ne!==Y){W[0]=ne;e:for(var oe=0,me=W.length,Oe=me>>>1;oe<Oe;){var P=2*(oe+1)-1,te=W[P],ae=P+1,pe=W[ae];if(0>s(te,ne))ae<me&&0>s(pe,te)?(W[oe]=pe,W[ae]=ne,oe=ae):(W[oe]=te,W[P]=ne,oe=P);else if(ae<me&&0>s(pe,ne))W[oe]=pe,W[ae]=ne,oe=ae;else break e}}return Y}function s(W,Y){var ne=W.sortIndex-Y.sortIndex;return ne!==0?ne:W.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var f=Date,d=f.now();e.unstable_now=function(){return f.now()-d}}var m=[],x=[],S=1,A=null,E=3,b=!1,R=!1,M=!1,q=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var Y=n(x);Y!==null;){if(Y.callback===null)r(x);else if(Y.startTime<=W)r(x),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=n(x)}}function X(W){if(M=!1,B(W),!R)if(n(m)!==null)R=!0,re||(re=!0,j());else{var Y=n(x);Y!==null&&$(X,Y.startTime-W)}}var re=!1,k=-1,U=5,J=-1;function ge(){return q?!0:!(e.unstable_now()-J<U)}function F(){if(q=!1,re){var W=e.unstable_now();J=W;var Y=!0;try{e:{R=!1,M&&(M=!1,T(k),k=-1),b=!0;var ne=E;try{t:{for(B(W),A=n(m);A!==null&&!(A.expirationTime>W&&ge());){var oe=A.callback;if(typeof oe=="function"){A.callback=null,E=A.priorityLevel;var me=oe(A.expirationTime<=W);if(W=e.unstable_now(),typeof me=="function"){A.callback=me,B(W),Y=!0;break t}A===n(m)&&r(m),B(W)}else r(m);A=n(m)}if(A!==null)Y=!0;else{var Oe=n(x);Oe!==null&&$(X,Oe.startTime-W),Y=!1}}break e}finally{A=null,E=ne,b=!1}Y=void 0}}finally{Y?j():re=!1}}}var j;if(typeof L=="function")j=function(){L(F)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=F,j=function(){le.postMessage(null)}}else j=function(){I(F,0)};function $(W,Y){k=I(function(){W(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(W){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var ne=E;E=Y;try{return W()}finally{E=ne}},e.unstable_requestPaint=function(){q=!0},e.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=E;E=W;try{return Y()}finally{E=ne}},e.unstable_scheduleCallback=function(W,Y,ne){var oe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?oe+ne:oe):ne=oe,W){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ne+me,W={id:S++,callback:Y,priorityLevel:W,startTime:ne,expirationTime:me,sortIndex:-1},ne>oe?(W.sortIndex=ne,t(x,W),n(m)===null&&W===n(x)&&(M?(T(k),k=-1):M=!0,$(X,ne-oe))):(W.sortIndex=me,t(m,W),R||b||(R=!0,re||(re=!0,j()))),W},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(W){var Y=E;return function(){var ne=E;E=Y;try{return W.apply(this,arguments)}finally{E=ne}}}})(R5);O5.exports=R5;var ay=O5.exports,B5={exports:{}},Or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=ot;function j5(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ao(){}var Dr={d:{f:ao,r:function(){throw Error(j5(522))},D:ao,C:ao,L:ao,m:ao,X:ao,S:ao,M:ao},p:0,findDOMNode:null},oy=Symbol.for("react.portal");function ly(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oy,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var lu=sy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function X1(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dr;Or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(j5(299));return ly(e,t,null,n)};Or.flushSync=function(e){var t=lu.T,n=Dr.p;try{if(lu.T=null,Dr.p=2,e)return e()}finally{lu.T=t,Dr.p=n,Dr.d.f()}};Or.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dr.d.C(e,t))};Or.prefetchDNS=function(e){typeof e=="string"&&Dr.d.D(e)};Or.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=X1(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Dr.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):n==="script"&&Dr.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Or.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=X1(t.as,t.crossOrigin);Dr.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dr.d.M(e)};Or.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=X1(n,t.crossOrigin);Dr.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Or.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=X1(t.as,t.crossOrigin);Dr.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dr.d.m(e)};Or.requestFormReset=function(e){Dr.d.r(e)};Or.unstable_batchedUpdates=function(e,t){return e(t)};Or.useFormState=function(e,t,n){return lu.H.useFormState(e,t,n)};Or.useFormStatus=function(){return lu.H.useHostTransitionStatus()};Or.version="19.1.0";function k5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k5)}catch(e){console.error(e)}}k5(),B5.exports=Or;var cy=B5.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=ay,P5=ot,uy=cy;function Xe(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function F5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function U5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xg(e){if(Xu(e)!==e)throw Error(Xe(188))}function fy(e){var t=e.alternate;if(!t){if(t=Xu(e),t===null)throw Error(Xe(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return xg(s),e;if(o===r)return xg(s),t;o=o.sibling}throw Error(Xe(188))}if(n.return!==r.return)n=s,r=o;else{for(var f=!1,d=s.child;d;){if(d===n){f=!0,n=s,r=o;break}if(d===r){f=!0,r=s,n=o;break}d=d.sibling}if(!f){for(d=o.child;d;){if(d===n){f=!0,n=o,r=s;break}if(d===r){f=!0,r=o,n=s;break}d=d.sibling}if(!f)throw Error(Xe(189))}}if(n.alternate!==r)throw Error(Xe(190))}if(n.tag!==3)throw Error(Xe(188));return n.stateNode.current===n?e:t}function z5(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=z5(e),t!==null)return t;e=e.sibling}return null}var Kn=Object.assign,hy=Symbol.for("react.element"),Mf=Symbol.for("react.transitional.element"),ru=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),H5=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),q5=Symbol.for("react.consumer"),Is=Symbol.for("react.context"),jd=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),kd=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),Sh=Symbol.for("react.activity"),gy=Symbol.for("react.memo_cache_sentinel"),yg=Symbol.iterator;function Wc(e){return e===null||typeof e!="object"?null:(e=yg&&e[yg]||e["@@iterator"],typeof e=="function"?e:null)}var py=Symbol.for("react.client.reference");function Nh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===py?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $l:return"Fragment";case wh:return"Profiler";case H5:return"StrictMode";case bh:return"Suspense";case Ah:return"SuspenseList";case Sh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ru:return"Portal";case Is:return(e.displayName||"Context")+".Provider";case q5:return(e._context.displayName||"Context")+".Consumer";case jd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kd:return t=e.displayName||null,t!==null?t:Nh(e.type)||"Memo";case fo:t=e._payload,e=e._init;try{return Nh(e(t))}catch{}}return null}var au=Array.isArray,Ot=P5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bn=uy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dl={pending:!1,data:null,method:null,action:null},Ch=[],ec=-1;function fs(e){return{current:e}}function er(e){0>ec||(e.current=Ch[ec],Ch[ec]=null,ec--)}function ai(e,t){ec++,Ch[ec]=e.current,e.current=t}var os=fs(null),_u=fs(null),Co=fs(null),c1=fs(null);function u1(e,t){switch(ai(Co,t),ai(_u,e),ai(os,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sp(t),e=s3(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}er(os),ai(os,e)}function wc(){er(os),er(_u),er(Co)}function Eh(e){e.memoizedState!==null&&ai(c1,e);var t=os.current,n=s3(t,e.type);t!==n&&(ai(_u,e),ai(os,n))}function f1(e){_u.current===e&&(er(os),er(_u)),c1.current===e&&(er(c1),Pu._currentValue=dl)}var Th=Object.prototype.hasOwnProperty,Pd=qi.unstable_scheduleCallback,M0=qi.unstable_cancelCallback,my=qi.unstable_shouldYield,xy=qi.unstable_requestPaint,ls=qi.unstable_now,yy=qi.unstable_getCurrentPriorityLevel,G5=qi.unstable_ImmediatePriority,V5=qi.unstable_UserBlockingPriority,h1=qi.unstable_NormalPriority,vy=qi.unstable_LowPriority,Y5=qi.unstable_IdlePriority,wy=qi.log,by=qi.unstable_setDisableYieldValue,Wu=null,la=null;function wo(e){if(typeof wy=="function"&&by(e),la&&typeof la.setStrictMode=="function")try{la.setStrictMode(Wu,e)}catch{}}var ca=Math.clz32?Math.clz32:Ny,Ay=Math.log,Sy=Math.LN2;function Ny(e){return e>>>=0,e===0?32:31-(Ay(e)/Sy|0)|0}var Df=256,Of=4194304;function ll(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function W1(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var d=r&134217727;return d!==0?(r=d&~o,r!==0?s=ll(r):(f&=d,f!==0?s=ll(f):n||(n=d&~e,n!==0&&(s=ll(n))))):(d=r&~o,d!==0?s=ll(d):f!==0?s=ll(f):n||(n=r&~e,n!==0&&(s=ll(n)))),s===0?0:t!==0&&t!==s&&!(t&o)&&(o=s&-s,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:s}function Zu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Cy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X5(){var e=Df;return Df<<=1,!(Df&4194048)&&(Df=256),e}function W5(){var e=Of;return Of<<=1,!(Of&62914560)&&(Of=4194304),e}function D0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ey(e,t,n,r,s,o){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,m=e.expirationTimes,x=e.hiddenUpdates;for(n=f&~n;0<n;){var S=31-ca(n),A=1<<S;d[S]=0,m[S]=-1;var E=x[S];if(E!==null)for(x[S]=null,S=0;S<E.length;S++){var b=E[S];b!==null&&(b.lane&=-536870913)}n&=~A}r!==0&&Z5(e,r,0),o!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function Z5(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ca(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function Q5(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ca(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Fd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ud(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function K5(){var e=bn.p;return e!==0?e:(e=window.event,e===void 0?32:m3(e.type))}function Ty(e,t){var n=bn.p;try{return bn.p=e,t()}finally{bn.p=n}}var zo=Math.random().toString(36).slice(2),Ar="__reactFiber$"+zo,qr="__reactProps$"+zo,Dc="__reactContainer$"+zo,_h="__reactEvents$"+zo,_y="__reactListeners$"+zo,Iy="__reactHandles$"+zo,vg="__reactResources$"+zo,Ku="__reactMarker$"+zo;function zd(e){delete e[Ar],delete e[qr],delete e[_h],delete e[_y],delete e[Iy]}function tc(e){var t=e[Ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dc]||n[Ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ep(e);e!==null;){if(n=e[Ar])return n;e=Ep(e)}return t}e=n,n=e.parentNode}return null}function Oc(e){if(e=e[Ar]||e[Dc]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function su(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Xe(33))}function hc(e){var t=e[vg];return t||(t=e[vg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ji(e){e[Ku]=!0}var J5=new Set,$5={};function Il(e,t){bc(e,t),bc(e+"Capture",t)}function bc(e,t){for($5[e]=t,e=0;e<t.length;e++)J5.add(t[e])}var Ly=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wg={},bg={};function My(e){return Th.call(bg,e)?!0:Th.call(wg,e)?!1:Ly.test(e)?bg[e]=!0:(wg[e]=!0,!1)}function Qf(e,t,n){if(My(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rf(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ns(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var O0,Ag;function Wl(e){if(O0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O0=t&&t[1]||"",Ag=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O0+e+Ag}var R0=!1;function B0(e,t){if(!e||R0)return"";R0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var A=function(){throw Error()};if(Object.defineProperty(A.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(A,[])}catch(b){var E=b}Reflect.construct(e,[],A)}else{try{A.call()}catch(b){E=b}e.call(A.prototype)}}else{try{throw Error()}catch(b){E=b}(A=e())&&typeof A.catch=="function"&&A.catch(function(){})}}catch(b){if(b&&E&&typeof b.stack=="string")return[b.stack,E.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),f=o[0],d=o[1];if(f&&d){var m=f.split(`
`),x=d.split(`
`);for(s=r=0;r<m.length&&!m[r].includes("DetermineComponentFrameRoot");)r++;for(;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;if(r===m.length||s===x.length)for(r=m.length-1,s=x.length-1;1<=r&&0<=s&&m[r]!==x[s];)s--;for(;1<=r&&0<=s;r--,s--)if(m[r]!==x[s]){if(r!==1||s!==1)do if(r--,s--,0>s||m[r]!==x[s]){var S=`
`+m[r].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=r&&0<=s);break}}}finally{R0=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Wl(n):""}function Dy(e){switch(e.tag){case 26:case 27:case 5:return Wl(e.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 15:return B0(e.type,!1);case 11:return B0(e.type.render,!1);case 1:return B0(e.type,!0);case 31:return Wl("Activity");default:return""}}function Sg(e){try{var t="";do t+=Dy(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function em(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Oy(e){var t=em(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){r=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function d1(e){e._valueTracker||(e._valueTracker=Oy(e))}function tm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=em(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function g1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ry=/[\n"\\]/g;function Ta(e){return e.replace(Ry,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ih(e,t,n,r,s,o,f,d){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Na(t)):e.value!==""+Na(t)&&(e.value=""+Na(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Lh(e,f,Na(t)):n!=null?Lh(e,f,Na(n)):r!=null&&e.removeAttribute("value"),s==null&&o!=null&&(e.defaultChecked=!!o),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Na(d):e.removeAttribute("name")}function nm(e,t,n,r,s,o,f,d){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Na(n):"",t=t!=null?""+Na(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=d?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function Lh(e,t,n){t==="number"&&g1(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function dc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Na(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function im(e,t,n){if(t!=null&&(t=""+Na(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Na(n):""}function rm(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(Xe(92));if(au(r)){if(1<r.length)throw Error(Xe(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Na(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Ac(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var By=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ng(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||By.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function am(e,t,n){if(t!=null&&typeof t!="object")throw Error(Xe(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Ng(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&Ng(e,o,t[o])}function Hd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kf(e){return ky.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mh=null;function qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nc=null,gc=null;function Cg(e){var t=Oc(e);if(t&&(e=t.stateNode)){var n=e[qr]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ih(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ta(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[qr]||null;if(!s)throw Error(Xe(90));Ih(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&tm(r)}break e;case"textarea":im(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&dc(e,!!n.multiple,t,!1)}}}var j0=!1;function sm(e,t,n){if(j0)return e(t,n);j0=!0;try{var r=e(t);return r}finally{if(j0=!1,(nc!==null||gc!==null)&&(r0(),nc&&(t=nc,e=gc,gc=nc=null,Cg(t),e)))for(t=0;t<e.length;t++)Cg(e[t])}}function Iu(e,t){var n=e.stateNode;if(n===null)return null;var r=n[qr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Xe(231,t,typeof n));return n}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=!1;if(ks)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{Dh=!1}var bo=null,Gd=null,Jf=null;function om(){if(Jf)return Jf;var e,t=Gd,n=t.length,r,s="value"in bo?bo.value:bo.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===s[o-r];r++);return Jf=s.slice(e,1<r?1-r:void 0)}function $f(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bf(){return!0}function Eg(){return!1}function Gr(e){function t(n,r,s,o,f){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bf:Eg,this.isPropagationStopped=Eg,this}return Kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z1=Gr(Ll),Ju=Kn({},Ll,{view:0,detail:0}),Py=Gr(Ju),k0,P0,Qc,Q1=Kn({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qc&&(Qc&&e.type==="mousemove"?(k0=e.screenX-Qc.screenX,P0=e.screenY-Qc.screenY):P0=k0=0,Qc=e),k0)},movementY:function(e){return"movementY"in e?e.movementY:P0}}),Tg=Gr(Q1),Fy=Kn({},Q1,{dataTransfer:0}),Uy=Gr(Fy),zy=Kn({},Ju,{relatedTarget:0}),F0=Gr(zy),Hy=Kn({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),qy=Gr(Hy),Gy=Kn({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=Gr(Gy),Yy=Kn({},Ll,{data:0}),_g=Gr(Yy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zy[e])?!!t[e]:!1}function Vd(){return Qy}var Ky=Kn({},Ju,{key:function(e){if(e.key){var t=Xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$f(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(e){return e.type==="keypress"?$f(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$f(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jy=Gr(Ky),$y=Kn({},Q1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=Gr($y),ev=Kn({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),tv=Gr(ev),nv=Kn({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=Gr(nv),rv=Kn({},Q1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),av=Gr(rv),sv=Kn({},Ll,{newState:0,oldState:0}),ov=Gr(sv),lv=[9,13,27,32],Yd=ks&&"CompositionEvent"in window,cu=null;ks&&"documentMode"in document&&(cu=document.documentMode);var cv=ks&&"TextEvent"in window&&!cu,lm=ks&&(!Yd||cu&&8<cu&&11>=cu),Lg=" ",Mg=!1;function cm(e,t){switch(e){case"keyup":return lv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function um(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ic=!1;function uv(e,t){switch(e){case"compositionend":return um(t);case"keypress":return t.which!==32?null:(Mg=!0,Lg);case"textInput":return e=t.data,e===Lg&&Mg?null:e;default:return null}}function fv(e,t){if(ic)return e==="compositionend"||!Yd&&cm(e,t)?(e=om(),Jf=Gd=bo=null,ic=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lm&&t.locale!=="ko"?null:t.data;default:return null}}var hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hv[e.type]:t==="textarea"}function fm(e,t,n,r){nc?gc?gc.push(r):gc=[r]:nc=r,t=D1(t,"onChange"),0<t.length&&(n=new Z1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var uu=null,Lu=null;function dv(e){i3(e,0)}function K1(e){var t=su(e);if(tm(t))return e}function Og(e,t){if(e==="change")return t}var hm=!1;if(ks){var U0;if(ks){var z0="oninput"in document;if(!z0){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),z0=typeof Rg.oninput=="function"}U0=z0}else U0=!1;hm=U0&&(!document.documentMode||9<document.documentMode)}function Bg(){uu&&(uu.detachEvent("onpropertychange",dm),Lu=uu=null)}function dm(e){if(e.propertyName==="value"&&K1(Lu)){var t=[];fm(t,Lu,e,qd(e)),sm(dv,t)}}function gv(e,t,n){e==="focusin"?(Bg(),uu=t,Lu=n,uu.attachEvent("onpropertychange",dm)):e==="focusout"&&Bg()}function pv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return K1(Lu)}function mv(e,t){if(e==="click")return K1(t)}function xv(e,t){if(e==="input"||e==="change")return K1(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ha=typeof Object.is=="function"?Object.is:yv;function Mu(e,t){if(ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Th.call(t,s)||!ha(e[s],t[s]))return!1}return!0}function jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,t){var n=jg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jg(n)}}function gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=g1(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=g1(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var vv=ks&&"documentMode"in document&&11>=document.documentMode,rc=null,Oh=null,fu=null,Rh=!1;function Pg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rh||rc==null||rc!==g1(r)||(r=rc,"selectionStart"in r&&Xd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&Mu(fu,r)||(fu=r,r=D1(Oh,"onSelect"),0<r.length&&(t=new Z1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rc)))}function ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ac={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionrun:ol("Transition","TransitionRun"),transitionstart:ol("Transition","TransitionStart"),transitioncancel:ol("Transition","TransitionCancel"),transitionend:ol("Transition","TransitionEnd")},H0={},mm={};ks&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function Ml(e){if(H0[e])return H0[e];if(!ac[e])return e;var t=ac[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mm)return H0[e]=t[n];return e}var xm=Ml("animationend"),ym=Ml("animationiteration"),vm=Ml("animationstart"),wv=Ml("transitionrun"),bv=Ml("transitionstart"),Av=Ml("transitioncancel"),wm=Ml("transitionend"),bm=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Va(e,t){bm.set(e,t),Il(t,[e])}var Fg=new WeakMap;function _a(e,t){if(typeof e=="object"&&e!==null){var n=Fg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Sg(t)},Fg.set(e,t),t)}return{value:e,source:t,stack:Sg(t)}}var Sa=[],sc=0,Wd=0;function J1(){for(var e=sc,t=Wd=sc=0;t<e;){var n=Sa[t];Sa[t++]=null;var r=Sa[t];Sa[t++]=null;var s=Sa[t];Sa[t++]=null;var o=Sa[t];if(Sa[t++]=null,r!==null&&s!==null){var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}o!==0&&Am(n,s,o)}}function $1(e,t,n,r){Sa[sc++]=e,Sa[sc++]=t,Sa[sc++]=n,Sa[sc++]=r,Wd|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Zd(e,t,n,r){return $1(e,t,n,r),p1(e)}function Rc(e,t){return $1(e,null,null,t),p1(e)}function Am(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(s=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,s&&t!==null&&(s=31-ca(n),e=o.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),o):null}function p1(e){if(50<bu)throw bu=0,nd=null,Error(Xe(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var oc={};function Sv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(e,t,n,r){return new Sv(e,t,n,r)}function Qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bs(e,t){var n=e.alternate;return n===null?(n=ra(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Sm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function e1(e,t,n,r,s,o){var f=0;if(r=e,typeof e=="function")Qd(e)&&(f=1);else if(typeof e=="string")f=Cw(e,n,os.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Sh:return e=ra(31,n,t,s),e.elementType=Sh,e.lanes=o,e;case $l:return gl(n.children,s,o,t);case H5:f=8,s|=24;break;case wh:return e=ra(12,n,t,s|2),e.elementType=wh,e.lanes=o,e;case bh:return e=ra(13,n,t,s),e.elementType=bh,e.lanes=o,e;case Ah:return e=ra(19,n,t,s),e.elementType=Ah,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dy:case Is:f=10;break e;case q5:f=9;break e;case jd:f=11;break e;case kd:f=14;break e;case fo:f=16,r=null;break e}f=29,n=Error(Xe(130,e===null?"null":typeof e,"")),r=null}return t=ra(f,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function gl(e,t,n,r){return e=ra(7,e,r,t),e.lanes=n,e}function q0(e,t,n){return e=ra(6,e,null,t),e.lanes=n,e}function G0(e,t,n){return t=ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lc=[],cc=0,m1=null,x1=0,Ca=[],Ea=0,pl=null,Ls=1,Ms="";function cl(e,t){lc[cc++]=x1,lc[cc++]=m1,m1=e,x1=t}function Nm(e,t,n){Ca[Ea++]=Ls,Ca[Ea++]=Ms,Ca[Ea++]=pl,pl=e;var r=Ls;e=Ms;var s=32-ca(r)-1;r&=~(1<<s),n+=1;var o=32-ca(t)+s;if(30<o){var f=s-s%5;o=(r&(1<<f)-1).toString(32),r>>=f,s-=f,Ls=1<<32-ca(t)+s|n<<s|r,Ms=o+e}else Ls=1<<o|n<<s|r,Ms=e}function Kd(e){e.return!==null&&(cl(e,1),Nm(e,1,0))}function Jd(e){for(;e===m1;)m1=lc[--cc],lc[cc]=null,x1=lc[--cc],lc[cc]=null;for(;e===pl;)pl=Ca[--Ea],Ca[Ea]=null,Ms=Ca[--Ea],Ca[Ea]=null,Ls=Ca[--Ea],Ca[Ea]=null}var Mr=null,yi=null,wn=!1,ml=null,rs=!1,jh=Error(Xe(519));function Cl(e){var t=Error(Xe(418,""));throw Du(_a(t,e)),jh}function Ug(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ar]=e,t[qr]=r,n){case"dialog":tn("cancel",t),tn("close",t);break;case"iframe":case"object":case"embed":tn("load",t);break;case"video":case"audio":for(n=0;n<Bu.length;n++)tn(Bu[n],t);break;case"source":tn("error",t);break;case"img":case"image":case"link":tn("error",t),tn("load",t);break;case"details":tn("toggle",t);break;case"input":tn("invalid",t),nm(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),d1(t);break;case"select":tn("invalid",t);break;case"textarea":tn("invalid",t),rm(t,r.value,r.defaultValue,r.children),d1(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||a3(t.textContent,n)?(r.popover!=null&&(tn("beforetoggle",t),tn("toggle",t)),r.onScroll!=null&&tn("scroll",t),r.onScrollEnd!=null&&tn("scrollend",t),r.onClick!=null&&(t.onclick=o0),t=!0):t=!1,t||Cl(e)}function zg(e){for(Mr=e.return;Mr;)switch(Mr.tag){case 5:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:Mr=Mr.return}}function Kc(e){if(e!==Mr)return!1;if(!wn)return zg(e),wn=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ld(e.type,e.memoizedProps)),n=!n),n&&yi&&Cl(e),zg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){yi=Ga(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}yi=null}}else t===27?(t=yi,Ho(e.type)?(e=fd,fd=null,yi=e):yi=t):yi=Mr?Ga(e.stateNode.nextSibling):null;return!0}function $u(){yi=Mr=null,wn=!1}function Hg(){var e=ml;return e!==null&&(Hr===null?Hr=e:Hr.push.apply(Hr,e),ml=null),e}function Du(e){ml===null?ml=[e]:ml.push(e)}var kh=fs(null),Dl=null,Ds=null;function po(e,t,n){ai(kh,t._currentValue),t._currentValue=n}function js(e){e._currentValue=kh.current,er(kh)}function Ph(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fh(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){var f=s.child;o=o.firstContext;e:for(;o!==null;){var d=o;o=s;for(var m=0;m<t.length;m++)if(d.context===t[m]){o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Ph(o.return,n,e),r||(f=null);break e}o=d.next}}else if(s.tag===18){if(f=s.return,f===null)throw Error(Xe(341));f.lanes|=n,o=f.alternate,o!==null&&(o.lanes|=n),Ph(f,n,e),f=null}else f=s.child;if(f!==null)f.return=s;else for(f=s;f!==null;){if(f===e){f=null;break}if(s=f.sibling,s!==null){s.return=f.return,f=s;break}f=f.return}s=f}}function ef(e,t,n,r){e=null;for(var s=t,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var f=s.alternate;if(f===null)throw Error(Xe(387));if(f=f.memoizedProps,f!==null){var d=s.type;ha(s.pendingProps.value,f.value)||(e!==null?e.push(d):e=[d])}}else if(s===c1.current){if(f=s.alternate,f===null)throw Error(Xe(387));f.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Pu):e=[Pu])}s=s.return}e!==null&&Fh(t,e,n,r),t.flags|=262144}function y1(e){for(e=e.firstContext;e!==null;){if(!ha(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function El(e){Dl=e,Ds=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sr(e){return Cm(Dl,e)}function jf(e,t){return Dl===null&&El(e),Cm(e,t)}function Cm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ds===null){if(e===null)throw Error(Xe(308));Ds=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ds=Ds.next=t;return n}var Nv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Cv=qi.unstable_scheduleCallback,Ev=qi.unstable_NormalPriority,zi={$$typeof:Is,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new Nv,data:new Map,refCount:0}}function tf(e){e.refCount--,e.refCount===0&&Cv(Ev,function(){e.controller.abort()})}var hu=null,Uh=0,Sc=0,pc=null;function Tv(e,t){if(hu===null){var n=hu=[];Uh=0,Sc=A2(),pc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Uh++,t.then(qg,qg),t}function qg(){if(--Uh===0&&hu!==null){pc!==null&&(pc.status="fulfilled");var e=hu;hu=null,Sc=0,pc=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function _v(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var Gg=Ot.S;Ot.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tv(e,t),Gg!==null&&Gg(e,t)};var xl=fs(null);function e2(){var e=xl.current;return e!==null?e:qn.pooledCache}function t1(e,t){t===null?ai(xl,xl.current):ai(xl,t.pool)}function Em(){var e=e2();return e===null?null:{parent:zi._currentValue,pool:e}}var nf=Error(Xe(460)),Tm=Error(Xe(474)),e0=Error(Xe(542)),zh={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kf(){}function _m(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(kf,kf),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xg(e),e;default:if(typeof t.status=="string")t.then(kf,kf);else{if(e=qn,e!==null&&100<e.shellSuspendCounter)throw Error(Xe(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xg(e),e}throw du=t,nf}}var du=null;function Yg(){if(du===null)throw Error(Xe(459));var e=du;return du=null,e}function Xg(e){if(e===nf||e===e0)throw Error(Xe(483))}var ho=!1;function t2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Eo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function To(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=p1(e),Am(e,null,n),t}return $1(e,r,t,n),p1(e)}function gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Q5(e,n)}}function V0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=f:o=o.next=f,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var qh=!1;function pu(){if(qh){var e=pc;if(e!==null)throw e}}function mu(e,t,n,r){qh=!1;var s=e.updateQueue;ho=!1;var o=s.firstBaseUpdate,f=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var m=d,x=m.next;m.next=null,f===null?o=x:f.next=x,f=m;var S=e.alternate;S!==null&&(S=S.updateQueue,d=S.lastBaseUpdate,d!==f&&(d===null?S.firstBaseUpdate=x:d.next=x,S.lastBaseUpdate=m))}if(o!==null){var A=s.baseState;f=0,S=x=m=null,d=o;do{var E=d.lane&-536870913,b=E!==d.lane;if(b?(hn&E)===E:(r&E)===E){E!==0&&E===Sc&&(qh=!0),S!==null&&(S=S.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var R=e,M=d;E=t;var q=n;switch(M.tag){case 1:if(R=M.payload,typeof R=="function"){A=R.call(q,A,E);break e}A=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=M.payload,E=typeof R=="function"?R.call(q,A,E):R,E==null)break e;A=Kn({},A,E);break e;case 2:ho=!0}}E=d.callback,E!==null&&(e.flags|=64,b&&(e.flags|=8192),b=s.callbacks,b===null?s.callbacks=[E]:b.push(E))}else b={lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},S===null?(x=S=b,m=A):S=S.next=b,f|=E;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;b=d,d=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);S===null&&(m=A),s.baseState=m,s.firstBaseUpdate=x,s.lastBaseUpdate=S,o===null&&(s.shared.lanes=0),ko|=f,e.lanes=f,e.memoizedState=A}}function Im(e,t){if(typeof e!="function")throw Error(Xe(191,e));e.call(t)}function Lm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Im(n[e],t)}var Nc=fs(null),v1=fs(0);function Wg(e,t){e=Us,ai(v1,e),ai(Nc,t),Us=e|t.baseLanes}function Gh(){ai(v1,Us),ai(Nc,Nc.current)}function n2(){Us=v1.current,er(Nc),er(v1)}var Bo=0,Kt=null,Rn=null,Ri=null,w1=!1,mc=!1,Tl=!1,b1=0,Ou=0,xc=null,Iv=0;function Ei(){throw Error(Xe(321))}function i2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ha(e[n],t[n]))return!1;return!0}function r2(e,t,n,r,s,o){return Bo=o,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ot.H=e===null||e.memoizedState===null?ox:lx,Tl=!1,o=n(r,s),Tl=!1,mc&&(o=Dm(t,n,r,s)),Mm(e),o}function Mm(e){Ot.H=A1;var t=Rn!==null&&Rn.next!==null;if(Bo=0,Ri=Rn=Kt=null,w1=!1,Ou=0,xc=null,t)throw Error(Xe(300));e===null||$i||(e=e.dependencies,e!==null&&y1(e)&&($i=!0))}function Dm(e,t,n,r){Kt=e;var s=0;do{if(mc&&(xc=null),Ou=0,mc=!1,25<=s)throw Error(Xe(301));if(s+=1,Ri=Rn=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Ot.H=jv,o=t(n,r)}while(mc);return o}function Lv(){var e=Ot.H,t=e.useState()[0];return t=typeof t.then=="function"?rf(t):t,e=e.useState()[0],(Rn!==null?Rn.memoizedState:null)!==e&&(Kt.flags|=1024),t}function a2(){var e=b1!==0;return b1=0,e}function s2(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function o2(e){if(w1){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}w1=!1}Bo=0,Ri=Rn=Kt=null,mc=!1,Ou=b1=0,xc=null}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?Kt.memoizedState=Ri=e:Ri=Ri.next=e,Ri}function Bi(){if(Rn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Ri===null?Kt.memoizedState:Ri.next;if(t!==null)Ri=t,Rn=e;else{if(e===null)throw Kt.alternate===null?Error(Xe(467)):Error(Xe(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Ri===null?Kt.memoizedState=Ri=e:Ri=Ri.next=e}return Ri}function l2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rf(e){var t=Ou;return Ou+=1,xc===null&&(xc=[]),e=_m(xc,e,t),t=Kt,(Ri===null?t.memoizedState:Ri.next)===null&&(t=t.alternate,Ot.H=t===null||t.memoizedState===null?ox:lx),e}function t0(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rf(e);if(e.$$typeof===Is)return Sr(e)}throw Error(Xe(438,String(e)))}function c2(e){var t=null,n=Kt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Kt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=l2(),Kt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=gy;return t.index++,n}function Ps(e,t){return typeof t=="function"?t(e):t}function n1(e){var t=Bi();return u2(t,Rn,e)}function u2(e,t,n){var r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(o!==null){if(s!==null){var f=s.next;s.next=o.next,o.next=f}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,s===null)e.memoizedState=o;else{t=s.next;var d=f=null,m=null,x=t,S=!1;do{var A=x.lane&-536870913;if(A!==x.lane?(hn&A)===A:(Bo&A)===A){var E=x.revertLane;if(E===0)m!==null&&(m=m.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),A===Sc&&(S=!0);else if((Bo&E)===E){x=x.next,E===Sc&&(S=!0);continue}else A={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(d=m=A,f=o):m=m.next=A,Kt.lanes|=E,ko|=E;A=x.action,Tl&&n(o,A),o=x.hasEagerState?x.eagerState:n(o,A)}else E={lane:A,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(d=m=E,f=o):m=m.next=E,Kt.lanes|=A,ko|=A;x=x.next}while(x!==null&&x!==t);if(m===null?f=o:m.next=d,!ha(o,e.memoizedState)&&($i=!0,S&&(n=pc,n!==null)))throw n;e.memoizedState=o,e.baseState=f,e.baseQueue=m,r.lastRenderedState=o}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Y0(e){var t=Bi(),n=t.queue;if(n===null)throw Error(Xe(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var f=s=s.next;do o=e(o,f.action),f=f.next;while(f!==s);ha(o,t.memoizedState)||($i=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Om(e,t,n){var r=Kt,s=Bi(),o=wn;if(o){if(n===void 0)throw Error(Xe(407));n=n()}else n=t();var f=!ha((Rn||s).memoizedState,n);f&&(s.memoizedState=n,$i=!0),s=s.queue;var d=jm.bind(null,r,s,e);if(af(2048,8,d,[e]),s.getSnapshot!==t||f||Ri!==null&&Ri.memoizedState.tag&1){if(r.flags|=2048,Cc(9,n0(),Bm.bind(null,r,s,n,t),null),qn===null)throw Error(Xe(349));o||Bo&124||Rm(r,t,n)}return n}function Rm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t=l2(),Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bm(e,t,n,r){t.value=n,t.getSnapshot=r,km(t)&&Pm(e)}function jm(e,t,n){return n(function(){km(t)&&Pm(e)})}function km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ha(e,n)}catch{return!0}}function Pm(e){var t=Rc(e,2);t!==null&&fa(t,e,2)}function Vh(e){var t=Ur();if(typeof e=="function"){var n=e;if(e=n(),Tl){wo(!0);try{n()}finally{wo(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t}function Fm(e,t,n,r){return e.baseState=n,u2(e,Rn,typeof r=="function"?r:Ps)}function Mv(e,t,n,r,s){if(i0(e))throw Error(Xe(485));if(e=t.action,e!==null){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};Ot.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,Um(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Um(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=Ot.T,f={};Ot.T=f;try{var d=n(s,r),m=Ot.S;m!==null&&m(f,d),Zg(e,t,d)}catch(x){Yh(e,t,x)}finally{Ot.T=o}}else try{o=n(s,r),Zg(e,t,o)}catch(x){Yh(e,t,x)}}function Zg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Qg(e,t,r)},function(r){return Yh(e,t,r)}):Qg(e,t,n)}function Qg(e,t,n){t.status="fulfilled",t.value=n,zm(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Um(e,n)))}function Yh(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,zm(t),t=t.next;while(t!==r)}e.action=null}function zm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hm(e,t){return t}function Kg(e,t){if(wn){var n=qn.formState;if(n!==null){e:{var r=Kt;if(wn){if(yi){t:{for(var s=yi,o=rs;s.nodeType!==8;){if(!o){s=null;break t}if(s=Ga(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){yi=Ga(s.nextSibling),r=s.data==="F!";break e}}Cl(r)}r=!1}r&&(t=n[0])}}return n=Ur(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:t},n.queue=r,n=rx.bind(null,Kt,r),r.dispatch=n,r=Vh(!1),o=g2.bind(null,Kt,!1,r.queue),r=Ur(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=Mv.bind(null,Kt,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function Jg(e){var t=Bi();return qm(t,Rn,e)}function qm(e,t,n){if(t=u2(e,t,Hm)[0],e=n1(Ps)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=rf(t)}catch(f){throw f===nf?e0:f}else r=t;t=Bi();var s=t.queue,o=s.dispatch;return n!==t.memoizedState&&(Kt.flags|=2048,Cc(9,n0(),Dv.bind(null,s,n),null)),[r,o,e]}function Dv(e,t){e.action=t}function $g(e){var t=Bi(),n=Rn;if(n!==null)return qm(t,n,e);Bi(),t=t.memoizedState,n=Bi();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Cc(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Kt.updateQueue,t===null&&(t=l2(),Kt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function n0(){return{destroy:void 0,resource:void 0}}function Gm(){return Bi().memoizedState}function i1(e,t,n,r){var s=Ur();r=r===void 0?null:r,Kt.flags|=e,s.memoizedState=Cc(1|t,n0(),n,r)}function af(e,t,n,r){var s=Bi();r=r===void 0?null:r;var o=s.memoizedState.inst;Rn!==null&&r!==null&&i2(r,Rn.memoizedState.deps)?s.memoizedState=Cc(t,o,n,r):(Kt.flags|=e,s.memoizedState=Cc(1|t,o,n,r))}function ep(e,t){i1(8390656,8,e,t)}function Vm(e,t){af(2048,8,e,t)}function Ym(e,t){return af(4,2,e,t)}function Xm(e,t){return af(4,4,e,t)}function Wm(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zm(e,t,n){n=n!=null?n.concat([e]):null,af(4,4,Wm.bind(null,t,e),n)}function f2(){}function Qm(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&i2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Km(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&i2(t,r[1]))return r[0];if(r=e(),Tl){wo(!0);try{e()}finally{wo(!1)}}return n.memoizedState=[r,t],r}function h2(e,t,n){return n===void 0||Bo&1073741824?e.memoizedState=t:(e.memoizedState=n,e=zx(),Kt.lanes|=e,ko|=e,n)}function Jm(e,t,n,r){return ha(n,t)?n:Nc.current!==null?(e=h2(e,n,r),ha(e,t)||($i=!0),e):Bo&42?(e=zx(),Kt.lanes|=e,ko|=e,t):($i=!0,e.memoizedState=n)}function $m(e,t,n,r,s){var o=bn.p;bn.p=o!==0&&8>o?o:8;var f=Ot.T,d={};Ot.T=d,g2(e,!1,t,n);try{var m=s(),x=Ot.S;if(x!==null&&x(d,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var S=_v(m,r);xu(e,t,S,ua(e))}else xu(e,t,r,ua(e))}catch(A){xu(e,t,{then:function(){},status:"rejected",reason:A},ua())}finally{bn.p=o,Ot.T=f}}function Ov(){}function Xh(e,t,n,r){if(e.tag!==5)throw Error(Xe(476));var s=ex(e).queue;$m(e,s,t,dl,n===null?Ov:function(){return tx(e),n(r)})}function ex(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:dl,baseState:dl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:dl},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function tx(e){var t=ex(e).next.queue;xu(e,t,{},ua())}function d2(){return Sr(Pu)}function nx(){return Bi().memoizedState}function ix(){return Bi().memoizedState}function Rv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ua();e=Eo(n);var r=To(t,e,n);r!==null&&(fa(r,t,n),gu(r,t,n)),t={cache:$d()},e.payload=t;return}t=t.return}}function Bv(e,t,n){var r=ua();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},i0(e)?ax(t,n):(n=Zd(e,t,n,r),n!==null&&(fa(n,e,r),sx(n,t,r)))}function rx(e,t,n){var r=ua();xu(e,t,n,r)}function xu(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(i0(e))ax(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,d=o(f,n);if(s.hasEagerState=!0,s.eagerState=d,ha(d,f))return $1(e,t,s,0),qn===null&&J1(),!1}catch{}finally{}if(n=Zd(e,t,s,r),n!==null)return fa(n,e,r),sx(n,t,r),!0}return!1}function g2(e,t,n,r){if(r={lane:2,revertLane:A2(),action:r,hasEagerState:!1,eagerState:null,next:null},i0(e)){if(t)throw Error(Xe(479))}else t=Zd(e,n,r,2),t!==null&&fa(t,e,2)}function i0(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function ax(e,t){mc=w1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sx(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Q5(e,n)}}var A1={readContext:Sr,use:t0,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei,useHostTransitionStatus:Ei,useFormState:Ei,useActionState:Ei,useOptimistic:Ei,useMemoCache:Ei,useCacheRefresh:Ei},ox={readContext:Sr,use:t0,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:Sr,useEffect:ep,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,i1(4194308,4,Wm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return i1(4194308,4,e,t)},useInsertionEffect:function(e,t){i1(4,2,e,t)},useMemo:function(e,t){var n=Ur();t=t===void 0?null:t;var r=e();if(Tl){wo(!0);try{e()}finally{wo(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ur();if(n!==void 0){var s=n(t);if(Tl){wo(!0);try{n(t)}finally{wo(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Bv.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:function(e){e=Vh(e);var t=e.queue,n=rx.bind(null,Kt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:f2,useDeferredValue:function(e,t){var n=Ur();return h2(n,e,t)},useTransition:function(){var e=Vh(!1);return e=$m.bind(null,Kt,e.queue,!0,!1),Ur().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Kt,s=Ur();if(wn){if(n===void 0)throw Error(Xe(407));n=n()}else{if(n=t(),qn===null)throw Error(Xe(349));hn&124||Rm(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ep(jm.bind(null,r,o,e),[e]),r.flags|=2048,Cc(9,n0(),Bm.bind(null,r,o,n,t),null),n},useId:function(){var e=Ur(),t=qn.identifierPrefix;if(wn){var n=Ms,r=Ls;n=(r&~(1<<32-ca(r)-1)).toString(32)+n,t=""+t+"R"+n,n=b1++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Iv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:d2,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var t=Ur();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=g2.bind(null,Kt,!0,n),n.dispatch=t,[e,t]},useMemoCache:c2,useCacheRefresh:function(){return Ur().memoizedState=Rv.bind(null,Kt)}},lx={readContext:Sr,use:t0,useCallback:Qm,useContext:Sr,useEffect:Vm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:Km,useReducer:n1,useRef:Gm,useState:function(){return n1(Ps)},useDebugValue:f2,useDeferredValue:function(e,t){var n=Bi();return Jm(n,Rn.memoizedState,e,t)},useTransition:function(){var e=n1(Ps)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:rf(e),t]},useSyncExternalStore:Om,useId:nx,useHostTransitionStatus:d2,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,t){var n=Bi();return Fm(n,Rn,e,t)},useMemoCache:c2,useCacheRefresh:ix},jv={readContext:Sr,use:t0,useCallback:Qm,useContext:Sr,useEffect:Vm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:Km,useReducer:Y0,useRef:Gm,useState:function(){return Y0(Ps)},useDebugValue:f2,useDeferredValue:function(e,t){var n=Bi();return Rn===null?h2(n,e,t):Jm(n,Rn.memoizedState,e,t)},useTransition:function(){var e=Y0(Ps)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:rf(e),t]},useSyncExternalStore:Om,useId:nx,useHostTransitionStatus:d2,useFormState:$g,useActionState:$g,useOptimistic:function(e,t){var n=Bi();return Rn!==null?Fm(n,Rn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:c2,useCacheRefresh:ix},yc=null,Ru=0;function Pf(e){var t=Ru;return Ru+=1,yc===null&&(yc=[]),_m(yc,e,t)}function Jc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ff(e,t){throw t.$$typeof===hy?Error(Xe(525)):(e=Object.prototype.toString.call(t),Error(Xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tp(e){var t=e._init;return t(e._payload)}function cx(e){function t(I,T){if(e){var L=I.deletions;L===null?(I.deletions=[T],I.flags|=16):L.push(T)}}function n(I,T){if(!e)return null;for(;T!==null;)t(I,T),T=T.sibling;return null}function r(I){for(var T=new Map;I!==null;)I.key!==null?T.set(I.key,I):T.set(I.index,I),I=I.sibling;return T}function s(I,T){return I=Bs(I,T),I.index=0,I.sibling=null,I}function o(I,T,L){return I.index=L,e?(L=I.alternate,L!==null?(L=L.index,L<T?(I.flags|=67108866,T):L):(I.flags|=67108866,T)):(I.flags|=1048576,T)}function f(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function d(I,T,L,B){return T===null||T.tag!==6?(T=q0(L,I.mode,B),T.return=I,T):(T=s(T,L),T.return=I,T)}function m(I,T,L,B){var X=L.type;return X===$l?S(I,T,L.props.children,B,L.key):T!==null&&(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===fo&&tp(X)===T.type)?(T=s(T,L.props),Jc(T,L),T.return=I,T):(T=e1(L.type,L.key,L.props,null,I.mode,B),Jc(T,L),T.return=I,T)}function x(I,T,L,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==L.containerInfo||T.stateNode.implementation!==L.implementation?(T=G0(L,I.mode,B),T.return=I,T):(T=s(T,L.children||[]),T.return=I,T)}function S(I,T,L,B,X){return T===null||T.tag!==7?(T=gl(L,I.mode,B,X),T.return=I,T):(T=s(T,L),T.return=I,T)}function A(I,T,L){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=q0(""+T,I.mode,L),T.return=I,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mf:return L=e1(T.type,T.key,T.props,null,I.mode,L),Jc(L,T),L.return=I,L;case ru:return T=G0(T,I.mode,L),T.return=I,T;case fo:var B=T._init;return T=B(T._payload),A(I,T,L)}if(au(T)||Wc(T))return T=gl(T,I.mode,L,null),T.return=I,T;if(typeof T.then=="function")return A(I,Pf(T),L);if(T.$$typeof===Is)return A(I,jf(I,T),L);Ff(I,T)}return null}function E(I,T,L,B){var X=T!==null?T.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return X!==null?null:d(I,T,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Mf:return L.key===X?m(I,T,L,B):null;case ru:return L.key===X?x(I,T,L,B):null;case fo:return X=L._init,L=X(L._payload),E(I,T,L,B)}if(au(L)||Wc(L))return X!==null?null:S(I,T,L,B,null);if(typeof L.then=="function")return E(I,T,Pf(L),B);if(L.$$typeof===Is)return E(I,T,jf(I,L),B);Ff(I,L)}return null}function b(I,T,L,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return I=I.get(L)||null,d(T,I,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Mf:return I=I.get(B.key===null?L:B.key)||null,m(T,I,B,X);case ru:return I=I.get(B.key===null?L:B.key)||null,x(T,I,B,X);case fo:var re=B._init;return B=re(B._payload),b(I,T,L,B,X)}if(au(B)||Wc(B))return I=I.get(L)||null,S(T,I,B,X,null);if(typeof B.then=="function")return b(I,T,L,Pf(B),X);if(B.$$typeof===Is)return b(I,T,L,jf(T,B),X);Ff(T,B)}return null}function R(I,T,L,B){for(var X=null,re=null,k=T,U=T=0,J=null;k!==null&&U<L.length;U++){k.index>U?(J=k,k=null):J=k.sibling;var ge=E(I,k,L[U],B);if(ge===null){k===null&&(k=J);break}e&&k&&ge.alternate===null&&t(I,k),T=o(ge,T,U),re===null?X=ge:re.sibling=ge,re=ge,k=J}if(U===L.length)return n(I,k),wn&&cl(I,U),X;if(k===null){for(;U<L.length;U++)k=A(I,L[U],B),k!==null&&(T=o(k,T,U),re===null?X=k:re.sibling=k,re=k);return wn&&cl(I,U),X}for(k=r(k);U<L.length;U++)J=b(k,I,U,L[U],B),J!==null&&(e&&J.alternate!==null&&k.delete(J.key===null?U:J.key),T=o(J,T,U),re===null?X=J:re.sibling=J,re=J);return e&&k.forEach(function(F){return t(I,F)}),wn&&cl(I,U),X}function M(I,T,L,B){if(L==null)throw Error(Xe(151));for(var X=null,re=null,k=T,U=T=0,J=null,ge=L.next();k!==null&&!ge.done;U++,ge=L.next()){k.index>U?(J=k,k=null):J=k.sibling;var F=E(I,k,ge.value,B);if(F===null){k===null&&(k=J);break}e&&k&&F.alternate===null&&t(I,k),T=o(F,T,U),re===null?X=F:re.sibling=F,re=F,k=J}if(ge.done)return n(I,k),wn&&cl(I,U),X;if(k===null){for(;!ge.done;U++,ge=L.next())ge=A(I,ge.value,B),ge!==null&&(T=o(ge,T,U),re===null?X=ge:re.sibling=ge,re=ge);return wn&&cl(I,U),X}for(k=r(k);!ge.done;U++,ge=L.next())ge=b(k,I,U,ge.value,B),ge!==null&&(e&&ge.alternate!==null&&k.delete(ge.key===null?U:ge.key),T=o(ge,T,U),re===null?X=ge:re.sibling=ge,re=ge);return e&&k.forEach(function(j){return t(I,j)}),wn&&cl(I,U),X}function q(I,T,L,B){if(typeof L=="object"&&L!==null&&L.type===$l&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Mf:e:{for(var X=L.key;T!==null;){if(T.key===X){if(X=L.type,X===$l){if(T.tag===7){n(I,T.sibling),B=s(T,L.props.children),B.return=I,I=B;break e}}else if(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===fo&&tp(X)===T.type){n(I,T.sibling),B=s(T,L.props),Jc(B,L),B.return=I,I=B;break e}n(I,T);break}else t(I,T);T=T.sibling}L.type===$l?(B=gl(L.props.children,I.mode,B,L.key),B.return=I,I=B):(B=e1(L.type,L.key,L.props,null,I.mode,B),Jc(B,L),B.return=I,I=B)}return f(I);case ru:e:{for(X=L.key;T!==null;){if(T.key===X)if(T.tag===4&&T.stateNode.containerInfo===L.containerInfo&&T.stateNode.implementation===L.implementation){n(I,T.sibling),B=s(T,L.children||[]),B.return=I,I=B;break e}else{n(I,T);break}else t(I,T);T=T.sibling}B=G0(L,I.mode,B),B.return=I,I=B}return f(I);case fo:return X=L._init,L=X(L._payload),q(I,T,L,B)}if(au(L))return R(I,T,L,B);if(Wc(L)){if(X=Wc(L),typeof X!="function")throw Error(Xe(150));return L=X.call(L),M(I,T,L,B)}if(typeof L.then=="function")return q(I,T,Pf(L),B);if(L.$$typeof===Is)return q(I,T,jf(I,L),B);Ff(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,T!==null&&T.tag===6?(n(I,T.sibling),B=s(T,L),B.return=I,I=B):(n(I,T),B=q0(L,I.mode,B),B.return=I,I=B),f(I)):n(I,T)}return function(I,T,L,B){try{Ru=0;var X=q(I,T,L,B);return yc=null,X}catch(k){if(k===nf||k===e0)throw k;var re=ra(29,k,null,I.mode);return re.lanes=B,re.return=I,re}finally{}}}var Ec=cx(!0),ux=cx(!1),La=fs(null),cs=null;function mo(e){var t=e.alternate;ai(Hi,Hi.current&1),ai(La,e),cs===null&&(t===null||Nc.current!==null||t.memoizedState!==null)&&(cs=e)}function fx(e){if(e.tag===22){if(ai(Hi,Hi.current),ai(La,e),cs===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(cs=e)}}else xo()}function xo(){ai(Hi,Hi.current),ai(La,La.current)}function Os(e){er(La),cs===e&&(cs=null),er(Hi)}var Hi=fs(0);function S1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ud(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function X0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Kn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wh={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ua(),s=Eo(r);s.payload=t,n!=null&&(s.callback=n),t=To(e,s,r),t!==null&&(fa(t,e,r),gu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ua(),s=Eo(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=To(e,s,r),t!==null&&(fa(t,e,r),gu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ua(),r=Eo(n);r.tag=2,t!=null&&(r.callback=t),t=To(e,r,n),t!==null&&(fa(t,e,n),gu(t,e,n))}};function np(e,t,n,r,s,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,f):t.prototype&&t.prototype.isPureReactComponent?!Mu(n,r)||!Mu(s,o):!0}function ip(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wh.enqueueReplaceState(t,t.state,null)}function _l(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Kn({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var N1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function hx(e){N1(e)}function dx(e){console.error(e)}function gx(e){N1(e)}function C1(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function rp(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Zh(e,t,n){return n=Eo(n),n.tag=3,n.payload={element:null},n.callback=function(){C1(e,t)},n}function px(e){return e=Eo(e),e.tag=3,e}function mx(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){rp(t,n,r)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){rp(t,n,r),typeof s!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var d=r.stack;this.componentDidCatch(r.value,{componentStack:d!==null?d:""})})}function kv(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&ef(t,n,s,!0),n=La.current,n!==null){switch(n.tag){case 13:return cs===null?id():n.alternate===null&&vi===0&&(vi=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===zh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),rh(e,r,s)),!1;case 22:return n.flags|=65536,r===zh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),rh(e,r,s)),!1}throw Error(Xe(435,n.tag))}return rh(e,r,s),id(),!1}if(wn)return t=La.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==jh&&(e=Error(Xe(422),{cause:r}),Du(_a(e,n)))):(r!==jh&&(t=Error(Xe(423),{cause:r}),Du(_a(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=_a(r,n),s=Zh(e.stateNode,r,s),V0(e,s),vi!==4&&(vi=2)),!1;var o=Error(Xe(520),{cause:r});if(o=_a(o,n),wu===null?wu=[o]:wu.push(o),vi!==4&&(vi=2),t===null)return!0;r=_a(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Zh(n.stateNode,r,e),V0(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(_o===null||!_o.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=px(s),mx(s,e,n,r),V0(n,s),!1}n=n.return}while(n!==null);return!1}var xx=Error(Xe(461)),$i=!1;function lr(e,t,n,r){t.child=e===null?ux(t,null,n,r):Ec(t,e.child,n,r)}function ap(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var f={};for(var d in r)d!=="ref"&&(f[d]=r[d])}else f=r;return El(t),r=r2(e,t,n,f,o,s),d=a2(),e!==null&&!$i?(s2(e,t,s),Fs(e,t,s)):(wn&&d&&Kd(t),t.flags|=1,lr(e,t,r,s),t.child)}function sp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Qd(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,yx(e,t,o,r,s)):(e=e1(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!p2(e,s)){var f=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(f,r)&&e.ref===t.ref)return Fs(e,t,s)}return t.flags|=1,e=Bs(o,r),e.ref=t.ref,e.return=t,t.child=e}function yx(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Mu(o,r)&&e.ref===t.ref)if($i=!1,t.pendingProps=r=o,p2(e,s))e.flags&131072&&($i=!0);else return t.lanes=e.lanes,Fs(e,t,s)}return Qh(e,t,n,r,s)}function vx(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return op(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&t1(t,o!==null?o.cachePool:null),o!==null?Wg(t,o):Gh(),fx(t);else return t.lanes=t.childLanes=536870912,op(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(t1(t,o.cachePool),Wg(t,o),xo(),t.memoizedState=null):(e!==null&&t1(t,null),Gh(),xo());return lr(e,t,s,n),t.child}function op(e,t,n,r){var s=e2();return s=s===null?null:{parent:zi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&t1(t,null),Gh(),fx(t),e!==null&&ef(e,t,r,!0),null}function r1(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Xe(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Qh(e,t,n,r,s){return El(t),n=r2(e,t,n,r,void 0,s),r=a2(),e!==null&&!$i?(s2(e,t,s),Fs(e,t,s)):(wn&&r&&Kd(t),t.flags|=1,lr(e,t,n,s),t.child)}function lp(e,t,n,r,s,o){return El(t),t.updateQueue=null,n=Dm(t,r,n,s),Mm(e),r=a2(),e!==null&&!$i?(s2(e,t,o),Fs(e,t,o)):(wn&&r&&Kd(t),t.flags|=1,lr(e,t,n,o),t.child)}function cp(e,t,n,r,s){if(El(t),t.stateNode===null){var o=oc,f=n.contextType;typeof f=="object"&&f!==null&&(o=Sr(f)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wh,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},t2(t),f=n.contextType,o.context=typeof f=="object"&&f!==null?Sr(f):oc,o.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(X0(t,n,f,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&Wh.enqueueReplaceState(o,o.state,null),mu(t,r,o,s),pu(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var d=t.memoizedProps,m=_l(n,d);o.props=m;var x=o.context,S=n.contextType;f=oc,typeof S=="object"&&S!==null&&(f=Sr(S));var A=n.getDerivedStateFromProps;S=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,S||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d||x!==f)&&ip(t,o,r,f),ho=!1;var E=t.memoizedState;o.state=E,mu(t,r,o,s),pu(),x=t.memoizedState,d||E!==x||ho?(typeof A=="function"&&(X0(t,n,A,r),x=t.memoizedState),(m=ho||np(t,n,m,r,E,x,f))?(S||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=f,r=m):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Hh(e,t),f=t.memoizedProps,S=_l(n,f),o.props=S,A=t.pendingProps,E=o.context,x=n.contextType,m=oc,typeof x=="object"&&x!==null&&(m=Sr(x)),d=n.getDerivedStateFromProps,(x=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==A||E!==m)&&ip(t,o,r,m),ho=!1,E=t.memoizedState,o.state=E,mu(t,r,o,s),pu();var b=t.memoizedState;f!==A||E!==b||ho||e!==null&&e.dependencies!==null&&y1(e.dependencies)?(typeof d=="function"&&(X0(t,n,d,r),b=t.memoizedState),(S=ho||np(t,n,S,r,E,b,m)||e!==null&&e.dependencies!==null&&y1(e.dependencies))?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,m),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,m)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=m,r=S):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,r1(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Ec(t,e.child,null,s),t.child=Ec(t,null,n,s)):lr(e,t,n,s),t.memoizedState=o.state,e=t.child):e=Fs(e,t,s),e}function up(e,t,n,r){return $u(),t.flags|=256,lr(e,t,n,r),t.child}var W0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Z0(e){return{baseLanes:e,cachePool:Em()}}function Q0(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ia),e}function wx(e,t,n){var r=t.pendingProps,s=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Hi.current&2)!==0),f&&(s=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(wn){if(s?mo(t):xo(),wn){var d=yi,m;if(m=d){e:{for(m=d,d=rs;m.nodeType!==8;){if(!d){d=null;break e}if(m=Ga(m.nextSibling),m===null){d=null;break e}}d=m}d!==null?(t.memoizedState={dehydrated:d,treeContext:pl!==null?{id:Ls,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},m=ra(18,null,null,0),m.stateNode=d,m.return=t,t.child=m,Mr=t,yi=null,m=!0):m=!1}m||Cl(t)}if(d=t.memoizedState,d!==null&&(d=d.dehydrated,d!==null))return ud(d)?t.lanes=32:t.lanes=536870912,null;Os(t)}return d=r.children,r=r.fallback,s?(xo(),s=t.mode,d=E1({mode:"hidden",children:d},s),r=gl(r,s,n,null),d.return=t,r.return=t,d.sibling=r,t.child=d,s=t.child,s.memoizedState=Z0(n),s.childLanes=Q0(e,f,n),t.memoizedState=W0,r):(mo(t),Kh(t,d))}if(m=e.memoizedState,m!==null&&(d=m.dehydrated,d!==null)){if(o)t.flags&256?(mo(t),t.flags&=-257,t=K0(e,t,n)):t.memoizedState!==null?(xo(),t.child=e.child,t.flags|=128,t=null):(xo(),s=r.fallback,d=t.mode,r=E1({mode:"visible",children:r.children},d),s=gl(s,d,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Ec(t,e.child,null,n),r=t.child,r.memoizedState=Z0(n),r.childLanes=Q0(e,f,n),t.memoizedState=W0,t=s);else if(mo(t),ud(d)){if(f=d.nextSibling&&d.nextSibling.dataset,f)var x=f.dgst;f=x,r=Error(Xe(419)),r.stack="",r.digest=f,Du({value:r,source:null,stack:null}),t=K0(e,t,n)}else if($i||ef(e,t,n,!1),f=(n&e.childLanes)!==0,$i||f){if(f=qn,f!==null&&(r=n&-n,r=r&42?1:Fd(r),r=r&(f.suspendedLanes|n)?0:r,r!==0&&r!==m.retryLane))throw m.retryLane=r,Rc(e,r),fa(f,e,r),xx;d.data==="$?"||id(),t=K0(e,t,n)}else d.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,yi=Ga(d.nextSibling),Mr=t,wn=!0,ml=null,rs=!1,e!==null&&(Ca[Ea++]=Ls,Ca[Ea++]=Ms,Ca[Ea++]=pl,Ls=e.id,Ms=e.overflow,pl=t),t=Kh(t,r.children),t.flags|=4096);return t}return s?(xo(),s=r.fallback,d=t.mode,m=e.child,x=m.sibling,r=Bs(m,{mode:"hidden",children:r.children}),r.subtreeFlags=m.subtreeFlags&65011712,x!==null?s=Bs(x,s):(s=gl(s,d,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,d=e.child.memoizedState,d===null?d=Z0(n):(m=d.cachePool,m!==null?(x=zi._currentValue,m=m.parent!==x?{parent:x,pool:x}:m):m=Em(),d={baseLanes:d.baseLanes|n,cachePool:m}),s.memoizedState=d,s.childLanes=Q0(e,f,n),t.memoizedState=W0,r):(mo(t),n=e.child,e=n.sibling,n=Bs(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Kh(e,t){return t=E1({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function E1(e,t){return e=ra(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function K0(e,t,n){return Ec(t,e.child,null,n),e=Kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ph(e.return,t,n)}function J0(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function bx(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(lr(e,t,r.children,n),r=Hi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fp(e,n,t);else if(e.tag===19)fp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(ai(Hi,r),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&S1(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),J0(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&S1(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}J0(t,!0,n,null,o);break;case"together":J0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ko|=t.lanes,!(n&t.childLanes))if(e!==null){if(ef(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Xe(153));if(t.child!==null){for(e=t.child,n=Bs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function p2(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&y1(e)))}function Pv(e,t,n){switch(t.tag){case 3:u1(t,t.stateNode.containerInfo),po(t,zi,e.memoizedState.cache),$u();break;case 27:case 5:Eh(t);break;case 4:u1(t,t.stateNode.containerInfo);break;case 10:po(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(mo(t),t.flags|=128,null):n&t.child.childLanes?wx(e,t,n):(mo(t),e=Fs(e,t,n),e!==null?e.sibling:null);mo(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(ef(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return bx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ai(Hi,Hi.current),r)break;return null;case 22:case 23:return t.lanes=0,vx(e,t,n);case 24:po(t,zi,e.memoizedState.cache)}return Fs(e,t,n)}function Ax(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$i=!0;else{if(!p2(e,n)&&!(t.flags&128))return $i=!1,Pv(e,t,n);$i=!!(e.flags&131072)}else $i=!1,wn&&t.flags&1048576&&Nm(t,x1,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,typeof r=="function")Qd(r)?(e=_l(r,e),t.tag=1,t=cp(null,t,r,e,n)):(t.tag=0,t=Qh(null,t,r,e,n));else{if(r!=null){if(s=r.$$typeof,s===jd){t.tag=11,t=ap(null,t,r,e,n);break e}else if(s===kd){t.tag=14,t=sp(null,t,r,e,n);break e}}throw t=Nh(r)||r,Error(Xe(306,t,""))}}return t;case 0:return Qh(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=_l(r,t.pendingProps),cp(e,t,r,s,n);case 3:e:{if(u1(t,t.stateNode.containerInfo),e===null)throw Error(Xe(387));r=t.pendingProps;var o=t.memoizedState;s=o.element,Hh(e,t),mu(t,r,null,n);var f=t.memoizedState;if(r=f.cache,po(t,zi,r),r!==o.cache&&Fh(t,[zi],n,!0),pu(),r=f.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=up(e,t,r,n);break e}else if(r!==s){s=_a(Error(Xe(424)),t),Du(s),t=up(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(yi=Ga(e.firstChild),Mr=t,wn=!0,ml=null,rs=!0,n=ux(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if($u(),r===s){t=Fs(e,t,n);break e}lr(e,t,r,n)}t=t.child}return t;case 26:return r1(e,t),e===null?(n=_p(t.type,null,t.pendingProps,null))?t.memoizedState=n:wn||(n=t.type,e=t.pendingProps,r=O1(Co.current).createElement(n),r[Ar]=t,r[qr]=e,ur(r,n,e),Ji(r),t.stateNode=r):t.memoizedState=_p(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Eh(t),e===null&&wn&&(r=t.stateNode=l3(t.type,t.pendingProps,Co.current),Mr=t,rs=!0,s=yi,Ho(t.type)?(fd=s,yi=Ga(r.firstChild)):yi=s),lr(e,t,t.pendingProps.children,n),r1(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&wn&&((s=r=yi)&&(r=hw(r,t.type,t.pendingProps,rs),r!==null?(t.stateNode=r,Mr=t,yi=Ga(r.firstChild),rs=!1,s=!0):s=!1),s||Cl(t)),Eh(t),s=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,r=o.children,ld(s,o)?r=null:f!==null&&ld(s,f)&&(t.flags|=32),t.memoizedState!==null&&(s=r2(e,t,Lv,null,null,n),Pu._currentValue=s),r1(e,t),lr(e,t,r,n),t.child;case 6:return e===null&&wn&&((e=n=yi)&&(n=dw(n,t.pendingProps,rs),n!==null?(t.stateNode=n,Mr=t,yi=null,e=!0):e=!1),e||Cl(t)),null;case 13:return wx(e,t,n);case 4:return u1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ec(t,null,r,n):lr(e,t,r,n),t.child;case 11:return ap(e,t,t.type,t.pendingProps,n);case 7:return lr(e,t,t.pendingProps,n),t.child;case 8:return lr(e,t,t.pendingProps.children,n),t.child;case 12:return lr(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,po(t,t.type,r.value),lr(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,El(t),s=Sr(s),r=r(s),t.flags|=1,lr(e,t,r,n),t.child;case 14:return sp(e,t,t.type,t.pendingProps,n);case 15:return yx(e,t,t.type,t.pendingProps,n);case 19:return bx(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=E1(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Bs(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return vx(e,t,n);case 24:return El(t),r=Sr(zi),e===null?(s=e2(),s===null&&(s=qn,o=$d(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},t2(t),po(t,zi,s)):(e.lanes&n&&(Hh(e,t),mu(t,null,null,n),pu()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),po(t,zi,r)):(r=o.cache,po(t,zi,r),r!==s.cache&&Fh(t,[zi],n,!0))),lr(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Xe(156,t.tag))}function Cs(e){e.flags|=4}function hp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!f3(t)){if(t=La.current,t!==null&&((hn&4194048)===hn?cs!==null:(hn&62914560)!==hn&&!(hn&536870912)||t!==cs))throw du=zh,Tm;e.flags|=8192}}function Uf(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?W5():536870912,e.lanes|=t,Tc|=t)}function $c(e,t){if(!wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fv(e,t,n){var r=t.pendingProps;switch(Jd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return ui(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),js(zi),wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?Cs(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hg())),ui(t),null;case 26:return n=t.memoizedState,e===null?(Cs(t),n!==null?(ui(t),hp(t,n)):(ui(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Cs(t),ui(t),hp(t,n)):(ui(t),t.flags&=-16777217):(e.memoizedProps!==r&&Cs(t),ui(t),t.flags&=-16777217),null;case 27:f1(t),n=Co.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cs(t);else{if(!r){if(t.stateNode===null)throw Error(Xe(166));return ui(t),null}e=os.current,Kc(t)?Ug(t):(e=l3(s,r,n),t.stateNode=e,Cs(t))}return ui(t),null;case 5:if(f1(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cs(t);else{if(!r){if(t.stateNode===null)throw Error(Xe(166));return ui(t),null}if(e=os.current,Kc(t))Ug(t);else{switch(s=O1(Co.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Ar]=t,e[qr]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ur(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Cs(t)}}return ui(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Cs(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Xe(166));if(e=Co.current,Kc(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=Mr,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Ar]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||a3(e.nodeValue,n)),e||Cl(t)}else e=O1(e).createTextNode(r),e[Ar]=t,t.stateNode=e}return ui(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Kc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Xe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Xe(317));s[Ar]=t}else $u(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),s=!1}else s=Hg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Os(t),t):(Os(t),null)}if(Os(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Uf(t,t.updateQueue),ui(t),null;case 4:return wc(),e===null&&S2(t.stateNode.containerInfo),ui(t),null;case 10:return js(t.type),ui(t),null;case 19:if(er(Hi),s=t.memoizedState,s===null)return ui(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$c(s,!1);else{if(vi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=S1(e),o!==null){for(t.flags|=128,$c(s,!1),e=o.updateQueue,t.updateQueue=e,Uf(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Sm(n,e),n=n.sibling;return ai(Hi,Hi.current&1|2),t.child}e=e.sibling}s.tail!==null&&ls()>_1&&(t.flags|=128,r=!0,$c(s,!1),t.lanes=4194304)}else{if(!r)if(e=S1(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Uf(t,e),$c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wn)return ui(t),null}else 2*ls()-s.renderingStartTime>_1&&n!==536870912&&(t.flags|=128,r=!0,$c(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ls(),t.sibling=null,e=Hi.current,ai(Hi,r?e&1|2:e&1),t):(ui(t),null);case 22:case 23:return Os(t),n2(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),n=t.updateQueue,n!==null&&Uf(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&er(xl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),js(zi),ui(t),null;case 25:return null;case 30:return null}throw Error(Xe(156,t.tag))}function Uv(e,t){switch(Jd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return js(zi),wc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return f1(t),null;case 13:if(Os(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Xe(340));$u()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(Hi),null;case 4:return wc(),null;case 10:return js(t.type),null;case 22:case 23:return Os(t),n2(),e!==null&&er(xl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return js(zi),null;case 25:return null;default:return null}}function Sx(e,t){switch(Jd(t),t.tag){case 3:js(zi),wc();break;case 26:case 27:case 5:f1(t);break;case 4:wc();break;case 13:Os(t);break;case 19:er(Hi);break;case 10:js(t.type);break;case 22:case 23:Os(t),n2(),e!==null&&er(xl);break;case 24:js(zi)}}function sf(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,f=n.inst;r=o(),f.destroy=r}n=n.next}while(n!==s)}}catch(d){kn(t,t.return,d)}}function jo(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var o=s.next;r=o;do{if((r.tag&e)===e){var f=r.inst,d=f.destroy;if(d!==void 0){f.destroy=void 0,s=t;var m=n,x=d;try{x()}catch(S){kn(s,m,S)}}}r=r.next}while(r!==o)}}catch(S){kn(t,t.return,S)}}function Nx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Lm(t,n)}catch(r){kn(e,e.return,r)}}}function Cx(e,t,n){n.props=_l(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){kn(e,t,r)}}function yu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){kn(e,t,s)}}function as(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){kn(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){kn(e,t,s)}else n.current=null}function Ex(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){kn(e,e.return,s)}}function $0(e,t,n){try{var r=e.stateNode;ow(r,e.type,n,t),r[qr]=t}catch(s){kn(e,e.return,s)}}function Tx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ho(e.type)||e.tag===4}function eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ho(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=o0));else if(r!==4&&(r===27&&Ho(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Jh(e,t,n),e=e.sibling;e!==null;)Jh(e,t,n),e=e.sibling}function T1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ho(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(T1(e,t,n),e=e.sibling;e!==null;)T1(e,t,n),e=e.sibling}function _x(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ur(t,r,n),t[Ar]=e,t[qr]=n}catch(o){kn(e,e.return,o)}}var _s=!1,Ti=!1,th=!1,dp=typeof WeakSet=="function"?WeakSet:Set,Ki=null;function zv(e,t){if(e=e.containerInfo,sd=k1,e=pm(e),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var f=0,d=-1,m=-1,x=0,S=0,A=e,E=null;t:for(;;){for(var b;A!==n||s!==0&&A.nodeType!==3||(d=f+s),A!==o||r!==0&&A.nodeType!==3||(m=f+r),A.nodeType===3&&(f+=A.nodeValue.length),(b=A.firstChild)!==null;)E=A,A=b;for(;;){if(A===e)break t;if(E===n&&++x===s&&(d=f),E===o&&++S===r&&(m=f),(b=A.nextSibling)!==null)break;A=E,E=A.parentNode}A=b}n=d===-1||m===-1?null:{start:d,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(od={focusedElem:e,selectionRange:n},k1=!1,Ki=t;Ki!==null;)if(t=Ki,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ki=e;else for(;Ki!==null;){switch(t=Ki,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var R=_l(n.type,s,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(R,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(M){kn(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Xe(163))}if(e=t.sibling,e!==null){e.return=t.return,Ki=e;break}Ki=t.return}}function Ix(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:so(e,n),r&4&&sf(5,n);break;case 1:if(so(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){kn(n,n.return,f)}else{var s=_l(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){kn(n,n.return,f)}}r&64&&Nx(n),r&512&&yu(n,n.return);break;case 3:if(so(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Lm(e,t)}catch(f){kn(n,n.return,f)}}break;case 27:t===null&&r&4&&_x(n);case 26:case 5:so(e,n),t===null&&r&4&&Ex(n),r&512&&yu(n,n.return);break;case 12:so(e,n);break;case 13:so(e,n),r&4&&Dx(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Qv.bind(null,n),gw(e,n))));break;case 22:if(r=n.memoizedState!==null||_s,!r){t=t!==null&&t.memoizedState!==null||Ti,s=_s;var o=Ti;_s=r,(Ti=t)&&!o?uo(e,n,(n.subtreeFlags&8772)!==0):so(e,n),_s=s,Ti=o}break;case 30:break;default:so(e,n)}}function Lx(e){var t=e.alternate;t!==null&&(e.alternate=null,Lx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ii=null,zr=!1;function Es(e,t,n){for(n=n.child;n!==null;)Mx(e,t,n),n=n.sibling}function Mx(e,t,n){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 26:Ti||as(n,t),Es(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ti||as(n,t);var r=ii,s=zr;Ho(n.type)&&(ii=n.stateNode,zr=!1),Es(e,t,n),Au(n.stateNode),ii=r,zr=s;break;case 5:Ti||as(n,t);case 6:if(r=ii,s=zr,ii=null,Es(e,t,n),ii=r,zr=s,ii!==null)if(zr)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(n.stateNode)}catch(o){kn(n,t,o)}else try{ii.removeChild(n.stateNode)}catch(o){kn(n,t,o)}break;case 18:ii!==null&&(zr?(e=ii,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),zu(e)):Cp(ii,n.stateNode));break;case 4:r=ii,s=zr,ii=n.stateNode.containerInfo,zr=!0,Es(e,t,n),ii=r,zr=s;break;case 0:case 11:case 14:case 15:Ti||jo(2,n,t),Ti||jo(4,n,t),Es(e,t,n);break;case 1:Ti||(as(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Cx(n,t,r)),Es(e,t,n);break;case 21:Es(e,t,n);break;case 22:Ti=(r=Ti)||n.memoizedState!==null,Es(e,t,n),Ti=r;break;default:Es(e,t,n)}}function Dx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zu(e)}catch(n){kn(t,t.return,n)}}function Hv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dp),t;default:throw Error(Xe(435,e.tag))}}function nh(e,t){var n=Hv(e);t.forEach(function(r){var s=Kv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}function $r(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],o=e,f=t,d=f;e:for(;d!==null;){switch(d.tag){case 27:if(Ho(d.type)){ii=d.stateNode,zr=!1;break e}break;case 5:ii=d.stateNode,zr=!1;break e;case 3:case 4:ii=d.stateNode.containerInfo,zr=!0;break e}d=d.return}if(ii===null)throw Error(Xe(160));Mx(o,f,s),ii=null,zr=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ox(t,e),t=t.sibling}var Ha=null;function Ox(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$r(t,e),ea(e),r&4&&(jo(3,e,e.return),sf(3,e),jo(5,e,e.return));break;case 1:$r(t,e),ea(e),r&512&&(Ti||n===null||as(n,n.return)),r&64&&_s&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Ha;if($r(t,e),ea(e),r&512&&(Ti||n===null||as(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":o=s.getElementsByTagName("title")[0],(!o||o[Ku]||o[Ar]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),ur(o,r,n),o[Ar]=e,Ji(o),r=o;break e;case"link":var f=Lp("link","href",s).get(r+(n.href||""));if(f){for(var d=0;d<f.length;d++)if(o=f[d],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(d,1);break t}}o=s.createElement(r),ur(o,r,n),s.head.appendChild(o);break;case"meta":if(f=Lp("meta","content",s).get(r+(n.content||""))){for(d=0;d<f.length;d++)if(o=f[d],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(d,1);break t}}o=s.createElement(r),ur(o,r,n),s.head.appendChild(o);break;default:throw Error(Xe(468,r))}o[Ar]=e,Ji(o),r=o}e.stateNode=r}else Mp(s,e.type,e.stateNode);else e.stateNode=Ip(s,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Mp(s,e.type,e.stateNode):Ip(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&$0(e,e.memoizedProps,n.memoizedProps)}break;case 27:$r(t,e),ea(e),r&512&&(Ti||n===null||as(n,n.return)),n!==null&&r&4&&$0(e,e.memoizedProps,n.memoizedProps);break;case 5:if($r(t,e),ea(e),r&512&&(Ti||n===null||as(n,n.return)),e.flags&32){s=e.stateNode;try{Ac(s,"")}catch(b){kn(e,e.return,b)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,$0(e,s,n!==null?n.memoizedProps:s)),r&1024&&(th=!0);break;case 6:if($r(t,e),ea(e),r&4){if(e.stateNode===null)throw Error(Xe(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(b){kn(e,e.return,b)}}break;case 3:if(o1=null,s=Ha,Ha=R1(t.containerInfo),$r(t,e),Ha=s,ea(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(t.containerInfo)}catch(b){kn(e,e.return,b)}th&&(th=!1,Rx(e));break;case 4:r=Ha,Ha=R1(e.stateNode.containerInfo),$r(t,e),ea(e),Ha=r;break;case 12:$r(t,e),ea(e);break;case 13:$r(t,e),ea(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(w2=ls()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nh(e,r)));break;case 22:s=e.memoizedState!==null;var m=n!==null&&n.memoizedState!==null,x=_s,S=Ti;if(_s=x||s,Ti=S||m,$r(t,e),Ti=S,_s=x,ea(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||m||_s||Ti||ul(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){m=n=t;try{if(o=m.stateNode,s)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{d=m.stateNode;var A=m.memoizedProps.style,E=A!=null&&A.hasOwnProperty("display")?A.display:null;d.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(b){kn(m,m.return,b)}}}else if(t.tag===6){if(n===null){m=t;try{m.stateNode.nodeValue=s?"":m.memoizedProps}catch(b){kn(m,m.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,nh(e,n))));break;case 19:$r(t,e),ea(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nh(e,r)));break;case 30:break;case 21:break;default:$r(t,e),ea(e)}}function ea(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Tx(r)){n=r;break}r=r.return}if(n==null)throw Error(Xe(160));switch(n.tag){case 27:var s=n.stateNode,o=eh(e);T1(e,o,s);break;case 5:var f=n.stateNode;n.flags&32&&(Ac(f,""),n.flags&=-33);var d=eh(e);T1(e,d,f);break;case 3:case 4:var m=n.stateNode.containerInfo,x=eh(e);Jh(e,x,m);break;default:throw Error(Xe(161))}}catch(S){kn(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function so(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ix(e,t.alternate,t),t=t.sibling}function ul(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jo(4,t,t.return),ul(t);break;case 1:as(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Cx(t,t.return,n),ul(t);break;case 27:Au(t.stateNode);case 26:case 5:as(t,t.return),ul(t);break;case 22:t.memoizedState===null&&ul(t);break;case 30:ul(t);break;default:ul(t)}e=e.sibling}}function uo(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:uo(s,o,n),sf(4,o);break;case 1:if(uo(s,o,n),r=o,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(x){kn(r,r.return,x)}if(r=o,s=r.updateQueue,s!==null){var d=r.stateNode;try{var m=s.shared.hiddenCallbacks;if(m!==null)for(s.shared.hiddenCallbacks=null,s=0;s<m.length;s++)Im(m[s],d)}catch(x){kn(r,r.return,x)}}n&&f&64&&Nx(o),yu(o,o.return);break;case 27:_x(o);case 26:case 5:uo(s,o,n),n&&r===null&&f&4&&Ex(o),yu(o,o.return);break;case 12:uo(s,o,n);break;case 13:uo(s,o,n),n&&f&4&&Dx(s,o);break;case 22:o.memoizedState===null&&uo(s,o,n),yu(o,o.return);break;case 30:break;default:uo(s,o,n)}t=t.sibling}}function m2(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&tf(n))}function x2(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tf(e))}function ts(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bx(e,t,n,r),t=t.sibling}function Bx(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ts(e,t,n,r),s&2048&&sf(9,t);break;case 1:ts(e,t,n,r);break;case 3:ts(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tf(e)));break;case 12:if(s&2048){ts(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,d=o.onPostCommit;typeof d=="function"&&d(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){kn(t,t.return,m)}}else ts(e,t,n,r);break;case 13:ts(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?ts(e,t,n,r):vu(e,t):o._visibility&2?ts(e,t,n,r):(o._visibility|=2,Zl(e,t,n,r,(t.subtreeFlags&10256)!==0)),s&2048&&m2(f,t);break;case 24:ts(e,t,n,r),s&2048&&x2(t.alternate,t);break;default:ts(e,t,n,r)}}function Zl(e,t,n,r,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,f=t,d=n,m=r,x=f.flags;switch(f.tag){case 0:case 11:case 15:Zl(o,f,d,m,s),sf(8,f);break;case 23:break;case 22:var S=f.stateNode;f.memoizedState!==null?S._visibility&2?Zl(o,f,d,m,s):vu(o,f):(S._visibility|=2,Zl(o,f,d,m,s)),s&&x&2048&&m2(f.alternate,f);break;case 24:Zl(o,f,d,m,s),s&&x&2048&&x2(f.alternate,f);break;default:Zl(o,f,d,m,s)}t=t.sibling}}function vu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:vu(n,r),s&2048&&m2(r.alternate,r);break;case 24:vu(n,r),s&2048&&x2(r.alternate,r);break;default:vu(n,r)}t=t.sibling}}var ou=8192;function ql(e){if(e.subtreeFlags&ou)for(e=e.child;e!==null;)jx(e),e=e.sibling}function jx(e){switch(e.tag){case 26:ql(e),e.flags&ou&&e.memoizedState!==null&&Tw(Ha,e.memoizedState,e.memoizedProps);break;case 5:ql(e);break;case 3:case 4:var t=Ha;Ha=R1(e.stateNode.containerInfo),ql(e),Ha=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ou,ou=16777216,ql(e),ou=t):ql(e));break;default:ql(e)}}function kx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function eu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ki=r,Fx(r,e)}kx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Px(e),e=e.sibling}function Px(e){switch(e.tag){case 0:case 11:case 15:eu(e),e.flags&2048&&jo(9,e,e.return);break;case 3:eu(e);break;case 12:eu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,a1(e)):eu(e);break;default:eu(e)}}function a1(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ki=r,Fx(r,e)}kx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jo(8,t,t.return),a1(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,a1(t));break;default:a1(t)}e=e.sibling}}function Fx(e,t){for(;Ki!==null;){var n=Ki;switch(n.tag){case 0:case 11:case 15:jo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:tf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ki=r;else e:for(n=e;Ki!==null;){r=Ki;var s=r.sibling,o=r.return;if(Lx(r),r===n){Ki=null;break e}if(s!==null){s.return=o,Ki=s;break e}Ki=o}}}var qv={getCacheForType:function(e){var t=Sr(zi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Gv=typeof WeakMap=="function"?WeakMap:Map,_n=0,qn=null,nn=null,hn=0,En=0,ia=null,Ao=!1,Bc=!1,y2=!1,Us=0,vi=0,ko=0,yl=0,v2=0,Ia=0,Tc=0,wu=null,Hr=null,$h=!1,w2=0,_1=1/0,I1=null,_o=null,cr=0,Io=null,_c=null,vc=0,ed=0,td=null,Ux=null,bu=0,nd=null;function ua(){if(_n&2&&hn!==0)return hn&-hn;if(Ot.T!==null){var e=Sc;return e!==0?e:A2()}return K5()}function zx(){Ia===0&&(Ia=!(hn&536870912)||wn?X5():536870912);var e=La.current;return e!==null&&(e.flags|=32),Ia}function fa(e,t,n){(e===qn&&(En===2||En===9)||e.cancelPendingCommit!==null)&&(Ic(e,0),So(e,hn,Ia,!1)),Qu(e,n),(!(_n&2)||e!==qn)&&(e===qn&&(!(_n&2)&&(yl|=n),vi===4&&So(e,hn,Ia,!1)),hs(e))}function Hx(e,t,n){if(_n&6)throw Error(Xe(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Zu(e,t),s=r?Xv(e,t):ih(e,t,!0),o=r;do{if(s===0){Bc&&!r&&So(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Vv(n)){s=ih(e,t,!1),o=!1;continue}if(s===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var d=e;s=wu;var m=d.current.memoizedState.isDehydrated;if(m&&(Ic(d,f).flags|=256),f=ih(d,f,!1),f!==2){if(y2&&!m){d.errorRecoveryDisabledLanes|=o,yl|=o,s=4;break e}o=Hr,Hr=s,o!==null&&(Hr===null?Hr=o:Hr.push.apply(Hr,o))}s=f}if(o=!1,s!==2)continue}}if(s===1){Ic(e,0),So(e,t,0,!0);break}e:{switch(r=e,o=s,o){case 0:case 1:throw Error(Xe(345));case 4:if((t&4194048)!==t)break;case 6:So(r,t,Ia,!Ao);break e;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(Xe(329))}if((t&62914560)===t&&(s=w2+300-ls(),10<s)){if(So(r,t,Ia,!Ao),W1(r,0,!0)!==0)break e;r.timeoutHandle=o3(gp.bind(null,r,n,Hr,I1,$h,t,Ia,yl,Tc,Ao,o,2,-0,0),s);break e}gp(r,n,Hr,I1,$h,t,Ia,yl,Tc,Ao,o,0,-0,0)}}break}while(!0);hs(e)}function gp(e,t,n,r,s,o,f,d,m,x,S,A,E,b){if(e.timeoutHandle=-1,A=t.subtreeFlags,(A&8192||(A&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:Ew},jx(t),A=_w(),A!==null)){e.cancelPendingCommit=A(mp.bind(null,e,t,o,n,r,s,f,d,m,S,1,E,b)),So(e,o,f,!x);return}mp(e,t,o,n,r,s,f,d,m)}function Vv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ha(o(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function So(e,t,n,r){t&=~v2,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-ca(s),f=1<<o;r[o]=-1,s&=~f}n!==0&&Z5(e,n,t)}function r0(){return _n&6?!0:(of(0),!1)}function b2(){if(nn!==null){if(En===0)var e=nn.return;else e=nn,Ds=Dl=null,o2(e),yc=null,Ru=0,e=nn;for(;e!==null;)Sx(e.alternate,e),e=e.return;nn=null}}function Ic(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,cw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),b2(),qn=e,nn=n=Bs(e.current,null),hn=t,En=0,ia=null,Ao=!1,Bc=Zu(e,t),y2=!1,Tc=Ia=v2=yl=ko=vi=0,Hr=wu=null,$h=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-ca(r),o=1<<s;t|=e[s],r&=~o}return Us=t,J1(),n}function qx(e,t){Kt=null,Ot.H=A1,t===nf||t===e0?(t=Yg(),En=3):t===Tm?(t=Yg(),En=4):En=t===xx?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ia=t,nn===null&&(vi=1,C1(e,_a(t,e.current)))}function Gx(){var e=Ot.H;return Ot.H=A1,e===null?A1:e}function Vx(){var e=Ot.A;return Ot.A=qv,e}function id(){vi=4,Ao||(hn&4194048)!==hn&&La.current!==null||(Bc=!0),!(ko&134217727)&&!(yl&134217727)||qn===null||So(qn,hn,Ia,!1)}function ih(e,t,n){var r=_n;_n|=2;var s=Gx(),o=Vx();(qn!==e||hn!==t)&&(I1=null,Ic(e,t)),t=!1;var f=vi;e:do try{if(En!==0&&nn!==null){var d=nn,m=ia;switch(En){case 8:b2(),f=6;break e;case 3:case 2:case 9:case 6:La.current===null&&(t=!0);var x=En;if(En=0,ia=null,uc(e,d,m,x),n&&Bc){f=0;break e}break;default:x=En,En=0,ia=null,uc(e,d,m,x)}}Yv(),f=vi;break}catch(S){qx(e,S)}while(!0);return t&&e.shellSuspendCounter++,Ds=Dl=null,_n=r,Ot.H=s,Ot.A=o,nn===null&&(qn=null,hn=0,J1()),f}function Yv(){for(;nn!==null;)Yx(nn)}function Xv(e,t){var n=_n;_n|=2;var r=Gx(),s=Vx();qn!==e||hn!==t?(I1=null,_1=ls()+500,Ic(e,t)):Bc=Zu(e,t);e:do try{if(En!==0&&nn!==null){t=nn;var o=ia;t:switch(En){case 1:En=0,ia=null,uc(e,t,o,1);break;case 2:case 9:if(Vg(o)){En=0,ia=null,pp(t);break}t=function(){En!==2&&En!==9||qn!==e||(En=7),hs(e)},o.then(t,t);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:Vg(o)?(En=0,ia=null,pp(t)):(En=0,ia=null,uc(e,t,o,7));break;case 5:var f=null;switch(nn.tag){case 26:f=nn.memoizedState;case 5:case 27:var d=nn;if(!f||f3(f)){En=0,ia=null;var m=d.sibling;if(m!==null)nn=m;else{var x=d.return;x!==null?(nn=x,a0(x)):nn=null}break t}}En=0,ia=null,uc(e,t,o,5);break;case 6:En=0,ia=null,uc(e,t,o,6);break;case 8:b2(),vi=6;break e;default:throw Error(Xe(462))}}Wv();break}catch(S){qx(e,S)}while(!0);return Ds=Dl=null,Ot.H=r,Ot.A=s,_n=n,nn!==null?0:(qn=null,hn=0,J1(),vi)}function Wv(){for(;nn!==null&&!my();)Yx(nn)}function Yx(e){var t=Ax(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?a0(e):nn=t}function pp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=lp(n,t,t.pendingProps,t.type,void 0,hn);break;case 11:t=lp(n,t,t.pendingProps,t.type.render,t.ref,hn);break;case 5:o2(t);default:Sx(n,t),t=nn=Sm(t,Us),t=Ax(n,t,Us)}e.memoizedProps=e.pendingProps,t===null?a0(e):nn=t}function uc(e,t,n,r){Ds=Dl=null,o2(t),yc=null,Ru=0;var s=t.return;try{if(kv(e,s,t,n,hn)){vi=1,C1(e,_a(n,e.current)),nn=null;return}}catch(o){if(s!==null)throw nn=s,o;vi=1,C1(e,_a(n,e.current)),nn=null;return}t.flags&32768?(wn||r===1?e=!0:Bc||hn&536870912?e=!1:(Ao=e=!0,(r===2||r===9||r===3||r===6)&&(r=La.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xx(t,e)):a0(t)}function a0(e){var t=e;do{if(t.flags&32768){Xx(t,Ao);return}e=t.return;var n=Fv(t.alternate,t,Us);if(n!==null){nn=n;return}if(t=t.sibling,t!==null){nn=t;return}nn=t=e}while(t!==null);vi===0&&(vi=5)}function Xx(e,t){do{var n=Uv(e.alternate,e);if(n!==null){n.flags&=32767,nn=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nn=e;return}nn=e=n}while(e!==null);vi=6,nn=null}function mp(e,t,n,r,s,o,f,d,m){e.cancelPendingCommit=null;do s0();while(cr!==0);if(_n&6)throw Error(Xe(327));if(t!==null){if(t===e.current)throw Error(Xe(177));if(o=t.lanes|t.childLanes,o|=Wd,Ey(e,n,o,f,d,m),e===qn&&(nn=qn=null,hn=0),_c=t,Io=e,vc=n,ed=o,td=s,Ux=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Jv(h1,function(){return Jx(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=Ot.T,Ot.T=null,s=bn.p,bn.p=2,f=_n,_n|=4;try{zv(e,t,n)}finally{_n=f,bn.p=s,Ot.T=r}}cr=1,Wx(),Zx(),Qx()}}function Wx(){if(cr===1){cr=0;var e=Io,t=_c,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Ot.T,Ot.T=null;var r=bn.p;bn.p=2;var s=_n;_n|=4;try{Ox(t,e);var o=od,f=pm(e.containerInfo),d=o.focusedElem,m=o.selectionRange;if(f!==d&&d&&d.ownerDocument&&gm(d.ownerDocument.documentElement,d)){if(m!==null&&Xd(d)){var x=m.start,S=m.end;if(S===void 0&&(S=x),"selectionStart"in d)d.selectionStart=x,d.selectionEnd=Math.min(S,d.value.length);else{var A=d.ownerDocument||document,E=A&&A.defaultView||window;if(E.getSelection){var b=E.getSelection(),R=d.textContent.length,M=Math.min(m.start,R),q=m.end===void 0?M:Math.min(m.end,R);!b.extend&&M>q&&(f=q,q=M,M=f);var I=kg(d,M),T=kg(d,q);if(I&&T&&(b.rangeCount!==1||b.anchorNode!==I.node||b.anchorOffset!==I.offset||b.focusNode!==T.node||b.focusOffset!==T.offset)){var L=A.createRange();L.setStart(I.node,I.offset),b.removeAllRanges(),M>q?(b.addRange(L),b.extend(T.node,T.offset)):(L.setEnd(T.node,T.offset),b.addRange(L))}}}}for(A=[],b=d;b=b.parentNode;)b.nodeType===1&&A.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<A.length;d++){var B=A[d];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}k1=!!sd,od=sd=null}finally{_n=s,bn.p=r,Ot.T=n}}e.current=t,cr=2}}function Zx(){if(cr===2){cr=0;var e=Io,t=_c,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Ot.T,Ot.T=null;var r=bn.p;bn.p=2;var s=_n;_n|=4;try{Ix(e,t.alternate,t)}finally{_n=s,bn.p=r,Ot.T=n}}cr=3}}function Qx(){if(cr===4||cr===3){cr=0,xy();var e=Io,t=_c,n=vc,r=Ux;t.subtreeFlags&10256||t.flags&10256?cr=5:(cr=0,_c=Io=null,Kx(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(_o=null),Ud(n),t=t.stateNode,la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(Wu,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Ot.T,s=bn.p,bn.p=2,Ot.T=null;try{for(var o=e.onRecoverableError,f=0;f<r.length;f++){var d=r[f];o(d.value,{componentStack:d.stack})}}finally{Ot.T=t,bn.p=s}}vc&3&&s0(),hs(e),s=e.pendingLanes,n&4194090&&s&42?e===nd?bu++:(bu=0,nd=e):bu=0,of(0)}}function Kx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,tf(t)))}function s0(e){return Wx(),Zx(),Qx(),Jx()}function Jx(){if(cr!==5)return!1;var e=Io,t=ed;ed=0;var n=Ud(vc),r=Ot.T,s=bn.p;try{bn.p=32>n?32:n,Ot.T=null,n=td,td=null;var o=Io,f=vc;if(cr=0,_c=Io=null,vc=0,_n&6)throw Error(Xe(331));var d=_n;if(_n|=4,Px(o.current),Bx(o,o.current,f,n),_n=d,of(0,!1),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(Wu,o)}catch{}return!0}finally{bn.p=s,Ot.T=r,Kx(e,t)}}function xp(e,t,n){t=_a(n,t),t=Zh(e.stateNode,t,2),e=To(e,t,2),e!==null&&(Qu(e,2),hs(e))}function kn(e,t,n){if(e.tag===3)xp(e,e,n);else for(;t!==null;){if(t.tag===3){xp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){e=_a(n,e),n=px(2),r=To(t,n,2),r!==null&&(mx(n,r,t,e),Qu(r,2),hs(r));break}}t=t.return}}function rh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(y2=!0,s.add(n),e=Zv.bind(null,e,t,n),t.then(e,e))}function Zv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qn===e&&(hn&n)===n&&(vi===4||vi===3&&(hn&62914560)===hn&&300>ls()-w2?!(_n&2)&&Ic(e,0):v2|=n,Tc===hn&&(Tc=0)),hs(e)}function $x(e,t){t===0&&(t=W5()),e=Rc(e,t),e!==null&&(Qu(e,t),hs(e))}function Qv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$x(e,n)}function Kv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(Xe(314))}r!==null&&r.delete(t),$x(e,n)}function Jv(e,t){return Pd(e,t)}var L1=null,Ql=null,rd=!1,M1=!1,ah=!1,vl=0;function hs(e){e!==Ql&&e.next===null&&(Ql===null?L1=Ql=e:Ql=Ql.next=e),M1=!0,rd||(rd=!0,ew())}function of(e,t){if(!ah&&M1){ah=!0;do for(var n=!1,r=L1;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var o=0;else{var f=r.suspendedLanes,d=r.pingedLanes;o=(1<<31-ca(42|e)+1)-1,o&=s&~(f&~d),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,yp(r,o))}else o=hn,o=W1(r,r===qn?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||Zu(r,o)||(n=!0,yp(r,o));r=r.next}while(n);ah=!1}}function $v(){e3()}function e3(){M1=rd=!1;var e=0;vl!==0&&(lw()&&(e=vl),vl=0);for(var t=ls(),n=null,r=L1;r!==null;){var s=r.next,o=t3(r,t);o===0?(r.next=null,n===null?L1=s:n.next=s,s===null&&(Ql=n)):(n=r,(e!==0||o&3)&&(M1=!0)),r=s}of(e)}function t3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-ca(o),d=1<<f,m=s[f];m===-1?(!(d&n)||d&r)&&(s[f]=Cy(d,t)):m<=t&&(e.expiredLanes|=d),o&=~d}if(t=qn,n=hn,n=W1(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(En===2||En===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&M0(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Zu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&M0(r),Ud(n)){case 2:case 8:n=V5;break;case 32:n=h1;break;case 268435456:n=Y5;break;default:n=h1}return r=n3.bind(null,e),n=Pd(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&M0(r),e.callbackPriority=2,e.callbackNode=null,2}function n3(e,t){if(cr!==0&&cr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(s0()&&e.callbackNode!==n)return null;var r=hn;return r=W1(e,e===qn?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Hx(e,r,t),t3(e,ls()),e.callbackNode!=null&&e.callbackNode===n?n3.bind(null,e):null)}function yp(e,t){if(s0())return null;Hx(e,t,!0)}function ew(){uw(function(){_n&6?Pd(G5,$v):e3()})}function A2(){return vl===0&&(vl=X5()),vl}function vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kf(""+e)}function wp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function tw(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var o=vp((s[qr]||null).action),f=r.submitter;f&&(t=(t=f[qr]||null)?vp(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var d=new Z1("action","action",null,r,s);e.push({event:d,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(vl!==0){var m=f?wp(s,f):new FormData(s);Xh(n,{pending:!0,data:m,method:s.method,action:o},null,m)}}else typeof o=="function"&&(d.preventDefault(),m=f?wp(s,f):new FormData(s),Xh(n,{pending:!0,data:m,method:s.method,action:o},o,m))},currentTarget:s}]})}}for(var sh=0;sh<Bh.length;sh++){var oh=Bh[sh],nw=oh.toLowerCase(),iw=oh[0].toUpperCase()+oh.slice(1);Va(nw,"on"+iw)}Va(xm,"onAnimationEnd");Va(ym,"onAnimationIteration");Va(vm,"onAnimationStart");Va("dblclick","onDoubleClick");Va("focusin","onFocus");Va("focusout","onBlur");Va(wv,"onTransitionRun");Va(bv,"onTransitionStart");Va(Av,"onTransitionCancel");Va(wm,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function i3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var f=r.length-1;0<=f;f--){var d=r[f],m=d.instance,x=d.currentTarget;if(d=d.listener,m!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=x;try{o(s)}catch(S){N1(S)}s.currentTarget=null,o=m}else for(f=0;f<r.length;f++){if(d=r[f],m=d.instance,x=d.currentTarget,d=d.listener,m!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=x;try{o(s)}catch(S){N1(S)}s.currentTarget=null,o=m}}}}function tn(e,t){var n=t[_h];n===void 0&&(n=t[_h]=new Set);var r=e+"__bubble";n.has(r)||(r3(t,e,2,!1),n.add(r))}function lh(e,t,n){var r=0;t&&(r|=4),r3(n,e,r,t)}var zf="_reactListening"+Math.random().toString(36).slice(2);function S2(e){if(!e[zf]){e[zf]=!0,J5.forEach(function(n){n!=="selectionchange"&&(rw.has(n)||lh(n,!1,e),lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zf]||(t[zf]=!0,lh("selectionchange",!1,t))}}function r3(e,t,n,r){switch(m3(t)){case 2:var s=Mw;break;case 8:s=Dw;break;default:s=T2}n=s.bind(null,t,n,e),s=void 0,!Dh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ch(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var d=r.stateNode.containerInfo;if(d===s)break;if(f===4)for(f=r.return;f!==null;){var m=f.tag;if((m===3||m===4)&&f.stateNode.containerInfo===s)return;f=f.return}for(;d!==null;){if(f=tc(d),f===null)return;if(m=f.tag,m===5||m===6||m===26||m===27){r=o=f;continue e}d=d.parentNode}}r=r.return}sm(function(){var x=o,S=qd(n),A=[];e:{var E=bm.get(e);if(E!==void 0){var b=Z1,R=e;switch(e){case"keypress":if($f(n)===0)break e;case"keydown":case"keyup":b=Jy;break;case"focusin":R="focus",b=F0;break;case"focusout":R="blur",b=F0;break;case"beforeblur":case"afterblur":b=F0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=tv;break;case xm:case ym:case vm:b=qy;break;case wm:b=iv;break;case"scroll":case"scrollend":b=Py;break;case"wheel":b=av;break;case"copy":case"cut":case"paste":b=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ig;break;case"toggle":case"beforetoggle":b=ov}var M=(t&4)!==0,q=!M&&(e==="scroll"||e==="scrollend"),I=M?E!==null?E+"Capture":null:E;M=[];for(var T=x,L;T!==null;){var B=T;if(L=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||L===null||I===null||(B=Iu(T,I),B!=null&&M.push(ju(T,B,L))),q)break;T=T.return}0<M.length&&(E=new b(E,R,null,n,S),A.push({event:E,listeners:M}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",E&&n!==Mh&&(R=n.relatedTarget||n.fromElement)&&(tc(R)||R[Dc]))break e;if((b||E)&&(E=S.window===S?S:(E=S.ownerDocument)?E.defaultView||E.parentWindow:window,b?(R=n.relatedTarget||n.toElement,b=x,R=R?tc(R):null,R!==null&&(q=Xu(R),M=R.tag,R!==q||M!==5&&M!==27&&M!==6)&&(R=null)):(b=null,R=x),b!==R)){if(M=Tg,B="onMouseLeave",I="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(M=Ig,B="onPointerLeave",I="onPointerEnter",T="pointer"),q=b==null?E:su(b),L=R==null?E:su(R),E=new M(B,T+"leave",b,n,S),E.target=q,E.relatedTarget=L,B=null,tc(S)===x&&(M=new M(I,T+"enter",R,n,S),M.target=L,M.relatedTarget=q,B=M),q=B,b&&R)t:{for(M=b,I=R,T=0,L=M;L;L=Gl(L))T++;for(L=0,B=I;B;B=Gl(B))L++;for(;0<T-L;)M=Gl(M),T--;for(;0<L-T;)I=Gl(I),L--;for(;T--;){if(M===I||I!==null&&M===I.alternate)break t;M=Gl(M),I=Gl(I)}M=null}else M=null;b!==null&&bp(A,E,b,M,!1),R!==null&&q!==null&&bp(A,q,R,M,!0)}}e:{if(E=x?su(x):window,b=E.nodeName&&E.nodeName.toLowerCase(),b==="select"||b==="input"&&E.type==="file")var X=Og;else if(Dg(E))if(hm)X=xv;else{X=pv;var re=gv}else b=E.nodeName,!b||b.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?x&&Hd(x.elementType)&&(X=Og):X=mv;if(X&&(X=X(e,x))){fm(A,X,n,S);break e}re&&re(e,E,x),e==="focusout"&&x&&E.type==="number"&&x.memoizedProps.value!=null&&Lh(E,"number",E.value)}switch(re=x?su(x):window,e){case"focusin":(Dg(re)||re.contentEditable==="true")&&(rc=re,Oh=x,fu=null);break;case"focusout":fu=Oh=rc=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Pg(A,n,S);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":Pg(A,n,S)}var k;if(Yd)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else ic?cm(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(lm&&n.locale!=="ko"&&(ic||U!=="onCompositionStart"?U==="onCompositionEnd"&&ic&&(k=om()):(bo=S,Gd="value"in bo?bo.value:bo.textContent,ic=!0)),re=D1(x,U),0<re.length&&(U=new _g(U,e,null,n,S),A.push({event:U,listeners:re}),k?U.data=k:(k=um(n),k!==null&&(U.data=k)))),(k=cv?uv(e,n):fv(e,n))&&(U=D1(x,"onBeforeInput"),0<U.length&&(re=new _g("onBeforeInput","beforeinput",null,n,S),A.push({event:re,listeners:U}),re.data=k)),tw(A,e,x,n,S)}i3(A,t)})}function ju(e,t,n){return{instance:e,listener:t,currentTarget:n}}function D1(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=Iu(e,n),s!=null&&r.unshift(ju(e,s,o)),s=Iu(e,t),s!=null&&r.push(ju(e,s,o))),e.tag===3)return r;e=e.return}return[]}function Gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bp(e,t,n,r,s){for(var o=t._reactName,f=[];n!==null&&n!==r;){var d=n,m=d.alternate,x=d.stateNode;if(d=d.tag,m!==null&&m===r)break;d!==5&&d!==26&&d!==27||x===null||(m=x,s?(x=Iu(n,o),x!=null&&f.unshift(ju(n,x,m))):s||(x=Iu(n,o),x!=null&&f.push(ju(n,x,m)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var aw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function Ap(e){return(typeof e=="string"?e:""+e).replace(aw,`
`).replace(sw,"")}function a3(e,t){return t=Ap(t),Ap(e)===t}function o0(){}function On(e,t,n,r,s,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ac(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ac(e,""+r);break;case"className":Rf(e,"class",r);break;case"tabIndex":Rf(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Rf(e,n,r);break;case"style":am(e,r,o);break;case"data":if(t!=="object"){Rf(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Kf(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&On(e,t,"name",s.name,s,null),On(e,t,"formEncType",s.formEncType,s,null),On(e,t,"formMethod",s.formMethod,s,null),On(e,t,"formTarget",s.formTarget,s,null)):(On(e,t,"encType",s.encType,s,null),On(e,t,"method",s.method,s,null),On(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Kf(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=o0);break;case"onScroll":r!=null&&tn("scroll",e);break;case"onScrollEnd":r!=null&&tn("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Xe(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(Xe(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Kf(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":tn("beforetoggle",e),tn("toggle",e),Qf(e,"popover",r);break;case"xlinkActuate":Ns(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ns(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ns(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ns(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ns(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ns(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ns(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ns(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ns(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Qf(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=jy.get(n)||n,Qf(e,n,r))}}function ad(e,t,n,r,s,o){switch(n){case"style":am(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Xe(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(Xe(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ac(e,r):(typeof r=="number"||typeof r=="bigint")&&Ac(e,""+r);break;case"onScroll":r!=null&&tn("scroll",e);break;case"onScrollEnd":r!=null&&tn("scrollend",e);break;case"onClick":r!=null&&(e.onclick=o0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$5.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),o=e[qr]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,s),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Qf(e,n,r)}}}function ur(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",e),tn("load",e);var r=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(f!=null)switch(o){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Xe(137,t));default:On(e,t,o,f,n,null)}}s&&On(e,t,"srcSet",n.srcSet,n,null),r&&On(e,t,"src",n.src,n,null);return;case"input":tn("invalid",e);var d=o=f=s=null,m=null,x=null;for(r in n)if(n.hasOwnProperty(r)){var S=n[r];if(S!=null)switch(r){case"name":s=S;break;case"type":f=S;break;case"checked":m=S;break;case"defaultChecked":x=S;break;case"value":o=S;break;case"defaultValue":d=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(Xe(137,t));break;default:On(e,t,r,S,n,null)}}nm(e,o,d,m,x,f,s,!1),d1(e);return;case"select":tn("invalid",e),r=f=o=null;for(s in n)if(n.hasOwnProperty(s)&&(d=n[s],d!=null))switch(s){case"value":o=d;break;case"defaultValue":f=d;break;case"multiple":r=d;default:On(e,t,s,d,n,null)}t=o,n=f,e.multiple=!!r,t!=null?dc(e,!!r,t,!1):n!=null&&dc(e,!!r,n,!0);return;case"textarea":tn("invalid",e),o=s=r=null;for(f in n)if(n.hasOwnProperty(f)&&(d=n[f],d!=null))switch(f){case"value":r=d;break;case"defaultValue":s=d;break;case"children":o=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(Xe(91));break;default:On(e,t,f,d,n,null)}rm(e,r,s,o),d1(e);return;case"option":for(m in n)if(n.hasOwnProperty(m)&&(r=n[m],r!=null))switch(m){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:On(e,t,m,r,n,null)}return;case"dialog":tn("beforetoggle",e),tn("toggle",e),tn("cancel",e),tn("close",e);break;case"iframe":case"object":tn("load",e);break;case"video":case"audio":for(r=0;r<Bu.length;r++)tn(Bu[r],e);break;case"image":tn("error",e),tn("load",e);break;case"details":tn("toggle",e);break;case"embed":case"source":case"link":tn("error",e),tn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in n)if(n.hasOwnProperty(x)&&(r=n[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(Xe(137,t));default:On(e,t,x,r,n,null)}return;default:if(Hd(t)){for(S in n)n.hasOwnProperty(S)&&(r=n[S],r!==void 0&&ad(e,t,S,r,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!=null&&On(e,t,d,r,n,null))}function ow(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,f=null,d=null,m=null,x=null,S=null;for(b in n){var A=n[b];if(n.hasOwnProperty(b)&&A!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":m=A;default:r.hasOwnProperty(b)||On(e,t,b,null,r,A)}}for(var E in r){var b=r[E];if(A=n[E],r.hasOwnProperty(E)&&(b!=null||A!=null))switch(E){case"type":o=b;break;case"name":s=b;break;case"checked":x=b;break;case"defaultChecked":S=b;break;case"value":f=b;break;case"defaultValue":d=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(Xe(137,t));break;default:b!==A&&On(e,t,E,b,r,A)}}Ih(e,f,d,m,x,S,o,s);return;case"select":b=f=d=E=null;for(o in n)if(m=n[o],n.hasOwnProperty(o)&&m!=null)switch(o){case"value":break;case"multiple":b=m;default:r.hasOwnProperty(o)||On(e,t,o,null,r,m)}for(s in r)if(o=r[s],m=n[s],r.hasOwnProperty(s)&&(o!=null||m!=null))switch(s){case"value":E=o;break;case"defaultValue":d=o;break;case"multiple":f=o;default:o!==m&&On(e,t,s,o,r,m)}t=d,n=f,r=b,E!=null?dc(e,!!n,E,!1):!!r!=!!n&&(t!=null?dc(e,!!n,t,!0):dc(e,!!n,n?[]:"",!1));return;case"textarea":b=E=null;for(d in n)if(s=n[d],n.hasOwnProperty(d)&&s!=null&&!r.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:On(e,t,d,null,r,s)}for(f in r)if(s=r[f],o=n[f],r.hasOwnProperty(f)&&(s!=null||o!=null))switch(f){case"value":E=s;break;case"defaultValue":b=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Xe(91));break;default:s!==o&&On(e,t,f,s,r,o)}im(e,E,b);return;case"option":for(var R in n)if(E=n[R],n.hasOwnProperty(R)&&E!=null&&!r.hasOwnProperty(R))switch(R){case"selected":e.selected=!1;break;default:On(e,t,R,null,r,E)}for(m in r)if(E=r[m],b=n[m],r.hasOwnProperty(m)&&E!==b&&(E!=null||b!=null))switch(m){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:On(e,t,m,E,r,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)E=n[M],n.hasOwnProperty(M)&&E!=null&&!r.hasOwnProperty(M)&&On(e,t,M,null,r,E);for(x in r)if(E=r[x],b=n[x],r.hasOwnProperty(x)&&E!==b&&(E!=null||b!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(Xe(137,t));break;default:On(e,t,x,E,r,b)}return;default:if(Hd(t)){for(var q in n)E=n[q],n.hasOwnProperty(q)&&E!==void 0&&!r.hasOwnProperty(q)&&ad(e,t,q,void 0,r,E);for(S in r)E=r[S],b=n[S],!r.hasOwnProperty(S)||E===b||E===void 0&&b===void 0||ad(e,t,S,E,r,b);return}}for(var I in n)E=n[I],n.hasOwnProperty(I)&&E!=null&&!r.hasOwnProperty(I)&&On(e,t,I,null,r,E);for(A in r)E=r[A],b=n[A],!r.hasOwnProperty(A)||E===b||E==null&&b==null||On(e,t,A,E,r,b)}var sd=null,od=null;function O1(e){return e.nodeType===9?e:e.ownerDocument}function Sp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s3(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=null;function lw(){var e=window.event;return e&&e.type==="popstate"?e===uh?!1:(uh=e,!0):(uh=null,!1)}var o3=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(e){return Np.resolve(null).then(e).catch(fw)}:o3;function fw(e){setTimeout(function(){throw e})}function Ho(e){return e==="head"}function Cp(e,t){var n=t,r=0,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var f=e.ownerDocument;if(n&1&&Au(f.documentElement),n&2&&Au(f.body),n&4)for(n=f.head,Au(n),f=n.firstChild;f;){var d=f.nextSibling,m=f.nodeName;f[Ku]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=d}}if(s===0){e.removeChild(o),zu(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);zu(t)}function cd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cd(n),zd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function hw(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ku])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Ga(e.nextSibling),e===null)break}return null}function dw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ga(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var fd=null;function Ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function l3(e,t,n){switch(t=O1(n),e){case"html":if(e=t.documentElement,!e)throw Error(Xe(452));return e;case"head":if(e=t.head,!e)throw Error(Xe(453));return e;case"body":if(e=t.body,!e)throw Error(Xe(454));return e;default:throw Error(Xe(451))}}function Au(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zd(e)}var Ma=new Map,Tp=new Set;function R1(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zs=bn.d;bn.d={f:pw,r:mw,D:xw,C:yw,L:vw,m:ww,X:Aw,S:bw,M:Sw};function pw(){var e=zs.f(),t=r0();return e||t}function mw(e){var t=Oc(e);t!==null&&t.tag===5&&t.type==="form"?tx(t):zs.r(e)}var jc=typeof document>"u"?null:document;function c3(e,t,n){var r=jc;if(r&&typeof t=="string"&&t){var s=Ta(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Tp.has(s)||(Tp.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),ur(t,"link",e),Ji(t),r.head.appendChild(t)))}}function xw(e){zs.D(e),c3("dns-prefetch",e,null)}function yw(e,t){zs.C(e,t),c3("preconnect",e,t)}function vw(e,t,n){zs.L(e,t,n);var r=jc;if(r&&e&&t){var s='link[rel="preload"][as="'+Ta(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Ta(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Ta(n.imageSizes)+'"]')):s+='[href="'+Ta(e)+'"]';var o=s;switch(t){case"style":o=Lc(e);break;case"script":o=kc(e)}Ma.has(o)||(e=Kn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ma.set(o,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(lf(o))||t==="script"&&r.querySelector(cf(o))||(t=r.createElement("link"),ur(t,"link",e),Ji(t),r.head.appendChild(t)))}}function ww(e,t){zs.m(e,t);var n=jc;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ta(r)+'"][href="'+Ta(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=kc(e)}if(!Ma.has(o)&&(e=Kn({rel:"modulepreload",href:e},t),Ma.set(o,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cf(o)))return}r=n.createElement("link"),ur(r,"link",e),Ji(r),n.head.appendChild(r)}}}function bw(e,t,n){zs.S(e,t,n);var r=jc;if(r&&e){var s=hc(r).hoistableStyles,o=Lc(e);t=t||"default";var f=s.get(o);if(!f){var d={loading:0,preload:null};if(f=r.querySelector(lf(o)))d.loading=5;else{e=Kn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ma.get(o))&&N2(e,n);var m=f=r.createElement("link");Ji(m),ur(m,"link",e),m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),m.addEventListener("load",function(){d.loading|=1}),m.addEventListener("error",function(){d.loading|=2}),d.loading|=4,s1(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:d},s.set(o,f)}}}function Aw(e,t){zs.X(e,t);var n=jc;if(n&&e){var r=hc(n).hoistableScripts,s=kc(e),o=r.get(s);o||(o=n.querySelector(cf(s)),o||(e=Kn({src:e,async:!0},t),(t=Ma.get(s))&&C2(e,t),o=n.createElement("script"),Ji(o),ur(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function Sw(e,t){zs.M(e,t);var n=jc;if(n&&e){var r=hc(n).hoistableScripts,s=kc(e),o=r.get(s);o||(o=n.querySelector(cf(s)),o||(e=Kn({src:e,async:!0,type:"module"},t),(t=Ma.get(s))&&C2(e,t),o=n.createElement("script"),Ji(o),ur(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function _p(e,t,n,r){var s=(s=Co.current)?R1(s):null;if(!s)throw Error(Xe(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Lc(n.href),n=hc(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Lc(n.href);var o=hc(s).hoistableStyles,f=o.get(e);if(f||(s=s.ownerDocument||s,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=s.querySelector(lf(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Ma.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ma.set(e,n),o||Nw(s,e,n,f.state))),t&&r===null)throw Error(Xe(528,""));return f}if(t&&r!==null)throw Error(Xe(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=kc(n),n=hc(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Xe(444,e))}}function Lc(e){return'href="'+Ta(e)+'"'}function lf(e){return'link[rel="stylesheet"]['+e+"]"}function u3(e){return Kn({},e,{"data-precedence":e.precedence,precedence:null})}function Nw(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ur(t,"link",n),Ji(t),e.head.appendChild(t))}function kc(e){return'[src="'+Ta(e)+'"]'}function cf(e){return"script[async]"+e}function Ip(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ta(n.href)+'"]');if(r)return t.instance=r,Ji(r),r;var s=Kn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ji(r),ur(r,"style",s),s1(r,n.precedence,e),t.instance=r;case"stylesheet":s=Lc(n.href);var o=e.querySelector(lf(s));if(o)return t.state.loading|=4,t.instance=o,Ji(o),o;r=u3(n),(s=Ma.get(s))&&N2(r,s),o=(e.ownerDocument||e).createElement("link"),Ji(o);var f=o;return f._p=new Promise(function(d,m){f.onload=d,f.onerror=m}),ur(o,"link",r),t.state.loading|=4,s1(o,n.precedence,e),t.instance=o;case"script":return o=kc(n.src),(s=e.querySelector(cf(o)))?(t.instance=s,Ji(s),s):(r=n,(s=Ma.get(o))&&(r=Kn({},n),C2(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ji(s),ur(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(Xe(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,s1(r,n.precedence,e));return t.instance}function s1(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,f=0;f<r.length;f++){var d=r[f];if(d.dataset.precedence===t)o=d;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function N2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function C2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var o1=null;function Lp(e,t,n){if(o1===null){var r=new Map,s=o1=new Map;s.set(n,r)}else s=o1,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[Ku]||o[Ar]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var d=r.get(f);d?d.push(o):r.set(f,[o])}}return r}function Mp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Cw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function f3(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ku=null;function Ew(){}function Tw(e,t,n){if(ku===null)throw Error(Xe(475));var r=ku;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Lc(n.href),o=e.querySelector(lf(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=B1.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,Ji(o);return}o=e.ownerDocument||e,n=u3(n),(s=Ma.get(s))&&N2(n,s),o=o.createElement("link"),Ji(o);var f=o;f._p=new Promise(function(d,m){f.onload=d,f.onerror=m}),ur(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=B1.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function _w(){if(ku===null)throw Error(Xe(475));var e=ku;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function B1(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var j1=null;function hd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,j1=new Map,t.forEach(Iw,e),j1=null,B1.call(e))}function Iw(e,t){if(!(t.state.loading&4)){var n=j1.get(e);if(n)var r=n.get(null);else{n=new Map,j1.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var f=s[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),r=f)}r&&n.set(null,r)}s=t.instance,f=s.getAttribute("data-precedence"),o=n.get(f)||r,o===r&&n.set(null,s),n.set(f,s),this.count++,r=B1.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Pu={$$typeof:Is,Provider:null,Consumer:null,_currentValue:dl,_currentValue2:dl,_threadCount:0};function Lw(e,t,n,r,s,o,f,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D0(0),this.hiddenUpdates=D0(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function h3(e,t,n,r,s,o,f,d,m,x,S,A){return e=new Lw(e,t,n,f,d,m,x,A),t=1,o===!0&&(t|=24),o=ra(3,null,null,t),e.current=o,o.stateNode=e,t=$d(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},t2(o),e}function d3(e){return e?(e=oc,e):oc}function g3(e,t,n,r,s,o){s=d3(s),r.context===null?r.context=s:r.pendingContext=s,r=Eo(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=To(e,r,t),n!==null&&(fa(n,e,t),gu(n,e,t))}function Dp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function E2(e,t){Dp(e,t),(e=e.alternate)&&Dp(e,t)}function p3(e){if(e.tag===13){var t=Rc(e,67108864);t!==null&&fa(t,e,67108864),E2(e,67108864)}}var k1=!0;function Mw(e,t,n,r){var s=Ot.T;Ot.T=null;var o=bn.p;try{bn.p=2,T2(e,t,n,r)}finally{bn.p=o,Ot.T=s}}function Dw(e,t,n,r){var s=Ot.T;Ot.T=null;var o=bn.p;try{bn.p=8,T2(e,t,n,r)}finally{bn.p=o,Ot.T=s}}function T2(e,t,n,r){if(k1){var s=dd(r);if(s===null)ch(e,t,r,P1,n),Op(e,r);else if(Rw(s,e,t,n,r))r.stopPropagation();else if(Op(e,r),t&4&&-1<Ow.indexOf(e)){for(;s!==null;){var o=Oc(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=ll(o.pendingLanes);if(f!==0){var d=o;for(d.pendingLanes|=2,d.entangledLanes|=2;f;){var m=1<<31-ca(f);d.entanglements[1]|=m,f&=~m}hs(o),!(_n&6)&&(_1=ls()+500,of(0))}}break;case 13:d=Rc(o,2),d!==null&&fa(d,o,2),r0(),E2(o,2)}if(o=dd(r),o===null&&ch(e,t,r,P1,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ch(e,t,r,null,n)}}function dd(e){return e=qd(e),_2(e)}var P1=null;function _2(e){if(P1=null,e=tc(e),e!==null){var t=Xu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=U5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return P1=e,null}function m3(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yy()){case G5:return 2;case V5:return 8;case h1:case vy:return 32;case Y5:return 268435456;default:return 32}default:return 32}}var gd=!1,Lo=null,Mo=null,Do=null,Fu=new Map,Uu=new Map,yo=[],Ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Fu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(t.pointerId)}}function tu(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Oc(t),t!==null&&p3(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Rw(e,t,n,r,s){switch(t){case"focusin":return Lo=tu(Lo,e,t,n,r,s),!0;case"dragenter":return Mo=tu(Mo,e,t,n,r,s),!0;case"mouseover":return Do=tu(Do,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Fu.set(o,tu(Fu.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Uu.set(o,tu(Uu.get(o)||null,e,t,n,r,s)),!0}return!1}function x3(e){var t=tc(e.target);if(t!==null){var n=Xu(t);if(n!==null){if(t=n.tag,t===13){if(t=U5(n),t!==null){e.blockedOn=t,Ty(e.priority,function(){if(n.tag===13){var r=ua();r=Fd(r);var s=Rc(n,r);s!==null&&fa(s,n,r),E2(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function l1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dd(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mh=r,n.target.dispatchEvent(r),Mh=null}else return t=Oc(n),t!==null&&p3(t),e.blockedOn=n,!1;t.shift()}return!0}function Rp(e,t,n){l1(e)&&n.delete(t)}function Bw(){gd=!1,Lo!==null&&l1(Lo)&&(Lo=null),Mo!==null&&l1(Mo)&&(Mo=null),Do!==null&&l1(Do)&&(Do=null),Fu.forEach(Rp),Uu.forEach(Rp)}function Hf(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,Bw)))}var qf=null;function Bp(e){qf!==e&&(qf=e,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,function(){qf===e&&(qf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(_2(r||n)===null)continue;break}var o=Oc(n);o!==null&&(e.splice(t,3),t-=3,Xh(o,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function zu(e){function t(m){return Hf(m,e)}Lo!==null&&Hf(Lo,e),Mo!==null&&Hf(Mo,e),Do!==null&&Hf(Do,e),Fu.forEach(t),Uu.forEach(t);for(var n=0;n<yo.length;n++){var r=yo[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)x3(n),n.blockedOn===null&&yo.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],f=s[qr]||null;if(typeof o=="function")f||Bp(n);else if(f){var d=null;if(o&&o.hasAttribute("formAction")){if(s=o,f=o[qr]||null)d=f.formAction;else if(_2(s)!==null)continue}else d=f.action;typeof d=="function"?n[r+1]=d:(n.splice(r,3),r-=3),Bp(n)}}}function I2(e){this._internalRoot=e}l0.prototype.render=I2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Xe(409));var n=t.current,r=ua();g3(n,r,e,t,null,null)};l0.prototype.unmount=I2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;g3(e.current,2,null,e,null,null),r0(),t[Dc]=null}};function l0(e){this._internalRoot=e}l0.prototype.unstable_scheduleHydration=function(e){if(e){var t=K5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yo.length&&t!==0&&t<yo[n].priority;n++);yo.splice(n,0,e),n===0&&x3(e)}};var jp=P5.version;if(jp!=="19.1.0")throw Error(Xe(527,jp,"19.1.0"));bn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Xe(188)):(e=Object.keys(e).join(","),Error(Xe(268,e)));return e=fy(t),e=e!==null?z5(e):null,e=e===null?null:e.stateNode,e};var jw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ot,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Wu=Gf.inject(jw),la=Gf}catch{}}Y1.createRoot=function(e,t){if(!F5(e))throw Error(Xe(299));var n=!1,r="",s=hx,o=dx,f=gx,d=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(d=t.unstable_transitionCallbacks)),t=h3(e,1,!1,null,null,n,r,s,o,f,d,null),e[Dc]=t.current,S2(e),new I2(t)};Y1.hydrateRoot=function(e,t,n){if(!F5(e))throw Error(Xe(299));var r=!1,s="",o=hx,f=dx,d=gx,m=null,x=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(m=n.unstable_transitionCallbacks),n.formState!==void 0&&(x=n.formState)),t=h3(e,1,!0,t,n??null,r,s,o,f,d,m,x),t.context=d3(null),n=t.current,r=ua(),r=Fd(r),s=Eo(r),s.callback=null,To(n,s,r),n=r,t.current.lanes=n,Qu(t,n),hs(t),e[Dc]=t.current,S2(e),new l0(t)};Y1.version="19.1.0";function y3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y3)}catch(e){console.error(e)}}y3(),D5.exports=Y1;var kw=D5.exports;const Pw=Ld(kw);var Ut=(e=>(e.CLIENT="Client",e.COURIER="Courier",e.ASSIGNING_USER="Assigning User",e.ADMIN="Administrator",e))(Ut||{}),mt=(e=>(e.PENDING_ASSIGNMENT="Pending Assignment",e.ASSIGNED_TO_COURIER="Assigned to Courier",e.PICKED_UP="Picked Up",e.IN_TRANSIT="In Transit",e.OUT_FOR_DELIVERY="Out for Delivery",e.DELIVERED="Delivered",e.DELIVERY_FAILED="Delivery Failed",e.RETURN_REQUESTED="Return Requested",e.RETURN_IN_PROGRESS="Return in Progress",e.RETURNED="Returned",e))(mt||{}),sa=(e=>(e.COD="Cash on Delivery",e.INSTAPAY="InstaPay",e.WALLET="Wallet",e))(sa||{}),hi=(e=>(e.CAIRO_ZONE_A="Cairo - Zone A",e.CAIRO_ZONE_B="Cairo - Zone B",e.GIZA_ZONE_A="Giza - Zone A",e.GIZA_ZONE_B="Giza - Zone B",e))(hi||{}),Oo=(e=>(e.DEPOSIT="Deposit",e.PAYMENT="Payment",e))(Oo||{}),v3=(e=>(e.EMAIL="Email",e.SMS="SMS",e))(v3||{});const Fw=[{id:1,name:"Admin User",email:"admin@flash.com",password:"password123",role:Ut.ADMIN},{id:2,name:"Assigner One",email:"assigner1@flash.com",password:"password123",role:Ut.ASSIGNING_USER},{id:3,name:"Client Alice",email:"alice@example.com",password:"password123",role:Ut.CLIENT,walletBalance:1500,phone:"01012345678",address:{street:"123 Maadi St",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Apt 5"}},{id:4,name:"Client Bob",email:"bob@example.com",password:"password123",role:Ut.CLIENT,walletBalance:250,phone:"01187654321",address:{street:"789 Dokki St",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Villa 10"}},{id:5,name:"Courier Ahmed",email:"ahmed@flash.com",password:"password123",role:Ut.COURIER,zone:hi.CAIRO_ZONE_A,location:{lat:30.0444,lng:31.2357}},{id:6,name:"Courier Fatima",email:"fatima@flash.com",password:"password123",role:Ut.COURIER,zone:hi.GIZA_ZONE_B,location:{lat:29.9792,lng:31.1342}},{id:7,name:"Courier Omar",email:"omar@flash.com",password:"password123",role:Ut.COURIER,zone:hi.CAIRO_ZONE_B,location:{lat:30.0769,lng:31.3436}},{id:8,name:"Courier Layla",email:"layla@flash.com",password:"password123",role:Ut.COURIER,zone:hi.GIZA_ZONE_A,location:{lat:30.0131,lng:31.2089}}],Uw=[{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:3,clientName:"Client Alice",recipientName:"John Doe",recipientPhone:"01234567890",fromAddress:{street:"123 Maadi St",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Apt 5"},toAddress:{street:"456 Nasr City St",city:"Cairo",zone:hi.CAIRO_ZONE_B,details:"Bldg 2"},packageDescription:"Box of electronics",isLargeOrder:!1,price:75,paymentMethod:sa.COD,status:mt.PENDING_ASSIGNMENT,creationDate:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:4,clientName:"Client Bob",recipientName:"Jane Smith",recipientPhone:"01123456789",fromAddress:{street:"789 Dokki St",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Villa 10"},toAddress:{street:"101 Haram St",city:"Giza",zone:hi.GIZA_ZONE_B,details:"Floor 3"},packageDescription:"Large furniture item",isLargeOrder:!0,price:450,paymentMethod:sa.INSTAPAY,status:mt.ASSIGNED_TO_COURIER,courierId:6,creationDate:new Date(Date.now()-1*24*60*60*1e3).toISOString()},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:3,clientName:"Client Alice",recipientName:"Sam Wilson",recipientPhone:"01098765432",fromAddress:{street:"123 Maadi St",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Apt 5"},toAddress:{street:"213 Zamalek Ave",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Office 404"},packageDescription:"Documents",isLargeOrder:!1,price:75,paymentMethod:sa.WALLET,status:mt.OUT_FOR_DELIVERY,courierId:5,creationDate:new Date(Date.now()-3*24*60*60*1e3).toISOString()},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:4,clientName:"Client Bob",recipientName:"Emily Carter",recipientPhone:"01555123456",fromAddress:{street:"789 Dokki St",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Villa 10"},toAddress:{street:"321 Mohandessin Rd",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Shop 7"},packageDescription:"Fashion apparel",isLargeOrder:!1,price:75,paymentMethod:sa.COD,status:mt.DELIVERED,courierId:8,creationDate:new Date(Date.now()-5*24*60*60*1e3).toISOString(),deliveryDate:new Date(Date.now()-4*24*60*60*1e3).toISOString()}],zw=[{id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:3,type:Oo.DEPOSIT,amount:2e3,date:new Date(Date.now()-10*24*60*60*1e3).toISOString(),description:"Initial wallet deposit"},{id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:3,type:Oo.PAYMENT,amount:-75,date:new Date(Date.now()-3*24*60*60*1e3).toISOString(),description:"Payment for shipment to Sam Wilson"},{id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:4,type:Oo.DEPOSIT,amount:500,date:new Date(Date.now()-8*24*60*60*1e3).toISOString(),description:"Bank Transfer Top-up"}],Hw=[],kp=async e=>{const t="http://localhost:3001/api/send-email",n=e.message.split(`

`),r=n[0]||`Update for Shipment ${e.shipmentId}`,s=n.slice(1).join(`

`);console.log("%cSending API request to backend to send email...","color: blue; font-weight: bold;");try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e.recipient,subject:r,message:s})});if(!o.ok){const f=await o.json();throw new Error(f.error||`Server responded with status ${o.status}`)}return console.log("%cBackend confirmed email sent successfully!","color: green; font-weight: bold;"),Promise.resolve()}catch(o){return console.error("%cError sending email via backend:","color: red; font-weight: bold;",o),Promise.reject(o)}},w3=Yu.createContext(null),tr=()=>{const e=Yu.useContext(w3);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},qw=({children:e})=>{const[t,n]=ot.useState(null),[r,s]=ot.useState(Fw),[o,f]=ot.useState(Uw),[d,m]=ot.useState(zw),[x,S]=ot.useState(Hw),[A,E]=ot.useState({}),[b,R]=ot.useState([]),M=ot.useCallback(($,W)=>{const Y=Date.now();R(ne=>[...ne,{id:Y,message:$,type:W}]),setTimeout(()=>{R(ne=>ne.filter(oe=>oe.id!==Y))},5e3)},[]),q=ot.useCallback(($,W)=>{const Y=r.find(ne=>ne.email.toLowerCase()===$.toLowerCase()&&ne.password===W);return Y?(n(Y),M(`Welcome back, ${Y.name}!`,"success"),!0):(M("Invalid email or password.","error"),!1)},[r,M]),I=ot.useCallback(()=>{M("You have been logged out.","info"),n(null)},[M]),T=ot.useCallback($=>{const W={...$,id:Math.max(...r.map(Y=>Y.id),0)+1};s(Y=>[...Y,W]),M(`User "${W.name}" created successfully.`,"success")},[r,M]),L=ot.useCallback(($,W,Y=!1)=>{s(ne=>ne.map(oe=>oe.id===$?{...oe,...W}:oe)),(t==null?void 0:t.id)===$&&n(ne=>ne?{...ne,...W}:null),Y||M("User details updated.","success")},[t==null?void 0:t.id,M]),B=ot.useCallback($=>{s(W=>W.filter(Y=>Y.id!==$)),M("User removed from the system.","success")},[M]),X=ot.useCallback(($,W)=>{s(ne=>ne.map(oe=>oe.id===$?{...oe,password:W}:oe));const Y=r.find(ne=>ne.id===$);Y&&M(`Password for ${Y.name} has been reset.`,"success")},[r,M]),re=ot.useCallback($=>{if(!t||t.role!==Ut.CLIENT)return;if($.paymentMethod===sa.WALLET){if((t.walletBalance??0)<$.price){M("Insufficient wallet balance.","error");return}const Y=(t.walletBalance??0)-$.price;L(t.id,{walletBalance:Y});const ne={id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:t.id,type:Oo.PAYMENT,amount:-$.price,date:new Date().toISOString(),description:`Payment for shipment to ${$.recipientName}`};m(oe=>[ne,...oe])}const W={...$,id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:t.id,clientName:t.name,creationDate:new Date().toISOString(),status:mt.PENDING_ASSIGNMENT};f(Y=>[W,...Y]),M(`New shipment ${W.id} created!`,"success")},[t,M,L]),k=ot.useCallback(async($,W)=>{let Y,ne,oe;const me=r.find(P=>P.id===$.clientId),Oe=r.find(P=>P.role===Ut.ADMIN);switch(W){case mt.OUT_FOR_DELIVERY:Y=me==null?void 0:me.email,oe=`Your Flash Shipment ${$.id} is Out for Delivery!`,ne=`Hi ${me==null?void 0:me.name},

Great news! Your shipment to ${$.recipientName} is now out for delivery.

Best,
The Flash Express Team`;break;case mt.DELIVERED:Y=me==null?void 0:me.email,oe=`Your Flash Shipment ${$.id} has been Delivered!`,ne=`Hi ${me==null?void 0:me.name},

Your shipment to ${$.recipientName} has been successfully delivered. Thank you for using Flash Express!

Best,
The Flash Express Team`;break;case mt.RETURN_REQUESTED:Y=Oe==null?void 0:Oe.email,oe=`Return Request for Shipment ${$.id}`,ne=`Admin,

Client ${$.clientName} (ID: ${$.clientId}) has requested a return for shipment ${$.id}.

Please review and assign a courier from the 'Manage Returns' portal.`;break;case mt.RETURN_IN_PROGRESS:Y=me==null?void 0:me.email,oe=`Your Return for Shipment ${$.id} is In Progress`,ne=`Hi ${me==null?void 0:me.name},

A courier has been assigned for the return of shipment ${$.id}. They will be in contact shortly.

Best,
The Flash Express Team`;break;case mt.RETURNED:Y=me==null?void 0:me.email,oe=`Your Return for Shipment ${$.id} is Complete`,ne=`Hi ${me==null?void 0:me.name},

The return for shipment ${$.id} has been successfully completed.

Best,
The Flash Express Team`;break;default:return}if(Y&&ne&&oe){const P={id:"NOTIF"+Math.floor(Math.random()*9e5+1e5),shipmentId:$.id,channel:v3.EMAIL,recipient:Y,message:`${oe}

${ne}`,date:new Date().toISOString(),status:W,sent:!1};S(te=>[P,...te]);try{M(`Sending status update to ${(me==null?void 0:me.name)||"Admin"}...`,"info"),E(te=>({...te,[P.id]:"sending"})),await kp(P),S(te=>te.map(ae=>ae.id===P.id?{...ae,sent:!0}:ae)),E(te=>({...te,[P.id]:"sent"})),M(`Email for ${$.id} sent successfully.`,"success")}catch(te){console.error("Failed to send notification:",te),E(ae=>({...ae,[P.id]:"failed"})),M(`Failed to send email for ${$.id}.`,"error")}}},[r,M]),U=ot.useCallback(async($,W,Y)=>{let ne;f(oe=>oe.map(me=>me.id===$?(ne={...me,status:W,deliveryDate:W===mt.DELIVERED?new Date().toISOString():me.deliveryDate,signature:(Y==null?void 0:Y.signature)??me.signature,courierId:(Y==null?void 0:Y.courierId)??me.courierId},ne):me)),M(`Shipment ${$} updated to "${W}".`,"info"),ne&&await k(ne,W)},[M,k]),J=ot.useCallback(async($,W)=>{await U($,mt.ASSIGNED_TO_COURIER,{courierId:W});const Y=r.find(ne=>ne.id===W);Y&&M(`Shipment ${$} assigned to ${Y.name}.`,"success")},[U,r,M]),ge=ot.useCallback(async($,W)=>{await U($,mt.ASSIGNED_TO_COURIER,{courierId:W});const Y=r.find(ne=>ne.id===W);Y&&M(`Shipment ${$} re-assigned to ${Y.name}.`,"success")},[U,r,M]),F=ot.useCallback(async($,W)=>{await U($,mt.RETURN_IN_PROGRESS,{courierId:W});const Y=r.find(ne=>ne.id===W);Y&&M(`Return for ${$} assigned to ${Y.name}.`,"success")},[U,r,M]),j=ot.useCallback(($,W)=>{const Y=r.find(me=>me.id===$);if(!Y)return;const ne=(Y.walletBalance??0)+W;L($,{walletBalance:ne});const oe={id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:$,type:Oo.DEPOSIT,amount:W,date:new Date().toISOString(),description:"Wallet top-up"};m(me=>[oe,...me]),M(`Successfully added ${W.toFixed(2)} EGP to your wallet.`,"success")},[r,L,M]),se=ot.useCallback(async $=>{const W=x.find(Y=>Y.id===$);if(W)try{M(`Resending email for ${W.shipmentId}...`,"info"),E(Y=>({...Y,[W.id]:"sending"})),await kp(W),S(Y=>Y.map(ne=>ne.id===W.id?{...ne,sent:!0}:ne)),E(Y=>({...Y,[W.id]:"sent"})),M(`Email for ${W.shipmentId} resent successfully.`,"success")}catch(Y){console.error("Failed to resend notification:",Y),E(ne=>({...ne,[W.id]:"failed"})),M(`Failed to resend email for ${W.shipmentId}.`,"error")}},[x,M]),le=ot.useMemo(()=>({currentUser:t,users:r,shipments:o,transactions:d,toasts:b,notifications:x,notificationStatus:A,login:q,logout:I,addShipment:re,updateShipmentStatus:U,assignCourier:J,addUser:T,updateUser:L,removeUser:B,resetPassword:X,addToast:M,topUpWallet:j,assignReturn:F,reassignCourier:ge,resendNotification:se}),[t,r,o,d,b,x,A,q,I,re,U,J,T,L,B,X,M,j,F,ge,se]);return C.jsx(w3.Provider,{value:le,children:e})},Gw=e=>new Promise((t,n)=>{if(window.google&&window.google.maps)return t();const r=document.getElementById("google-maps-script");if(r){const o=()=>{t(),r.removeEventListener("load",o)};r.addEventListener("load",o);return}const s=document.createElement("script");s.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`,s.id="google-maps-script",s.async=!0,s.defer=!0,s.onload=()=>t(),s.onerror=()=>{const o=document.getElementById("google-maps-script");o&&document.head.removeChild(o),n(new Error("Google Maps script failed to load. Check API key & network."))},document.head.appendChild(s)}),Vw=(e,t)=>{ot.useEffect(()=>{if(e)Gw(e).catch(n=>{console.error(n.message),t(n.message,"error")});else{const n="Maps API key is missing. Map features are disabled.";console.warn(n),t(n,"error")}},[e,t])},Yw=()=>{const{currentUser:e,updateUser:t,addToast:n}=tr();return ot.useEffect(()=>{if(!e||e.role!==Ut.COURIER)return;let r=null;return"geolocation"in navigator?r=navigator.geolocation.watchPosition(s=>{const o={lat:s.coords.latitude,lng:s.coords.longitude};t(e.id,{location:o},!0)},s=>{console.error("Error getting location:",s),s.code===s.PERMISSION_DENIED&&n("Location permission denied. Tracking is disabled.","error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):n("Geolocation is not supported by your browser.","error"),()=>{r!==null&&navigator.geolocation.clearWatch(r)}},[e,t,n]),null},F1=({className:e="w-10 h-10"})=>C.jsxs("svg",{viewBox:"0 0 128 128",className:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("rect",{width:"128",height:"128",rx:"32",fill:"url(#paint0_linear_1_2)"}),C.jsx("path",{d:"M41.8732 104L73.4475 56.4028H53.0337L86.1268 24L54.5525 71.5972H74.9663L41.8732 104Z",fill:"white"}),C.jsx("defs",{children:C.jsxs("linearGradient",{id:"paint0_linear_1_2",x1:"0",y1:"0",x2:"128",y2:"128",gradientUnits:"userSpaceOnUse",children:[C.jsx("stop",{stopColor:"#4338ca"}),C.jsx("stop",{offset:"1",stopColor:"#6366f1"})]})})]}),Vf=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Hu=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),U1=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),Pp=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m-6 10h6"})}),b3=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.122-1.28-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.122-1.28.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),qu=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Xw=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),L2=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),pd=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),M2=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),A3=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),S3=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ww=({className:e="w-6 h-6"})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Fp=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),N3=({className:e="w-5 h-5"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),Zw=({className:e="w-5 h-5"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),C3=({className:e="w-5 h-5"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4v-3l1.258-1.258a6 6 0 015.742-10.485A6 6 0 0115 7z"})}),Qw=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})}),D2=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c0=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l4-4m-4 4l4 4"})}),Kw=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Jw=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$w=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v1m6 11v1m-6-16v1m12 11v1M4 12H3m10 6H3m10-12H3m18 12h-1M4 20v-1m0-6V3m0 18v-1M20 4v1m0 12v1M4 4h1m15 15h1M4 8h1m15 7h1m-6-4h.01M12 12h.01M8 12h.01M12 16h.01M16 12h.01M16 16h.01M8 16h.01M12 8h.01M16 8h.01M8 8h.01"})}),E3=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),eb=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),tb=({toast:e})=>{const t={success:"bg-green-600",error:"bg-red-600",info:"bg-primary-600"},n={success:C.jsx(A3,{className:"w-6 h-6 text-white"}),error:C.jsx(S3,{className:"w-6 h-6 text-white"}),info:C.jsx(Ww,{className:"w-6 h-6 text-white"})};return C.jsxs("div",{className:`flex items-center gap-4 text-white p-4 pr-6 rounded-xl shadow-2xl animate-fade-in-up ${t[e.type]}`,children:[n[e.type],C.jsx("p",{className:"font-medium",children:e.message})]})},nb=()=>{const{toasts:e}=tr();return C.jsx("div",{className:"fixed bottom-8 right-8 z-[100] space-y-3",children:e.map(t=>C.jsx(tb,{toast:t},t.id))})},ib=()=>{const{login:e}=tr(),[t,n]=ot.useState(""),[r,s]=ot.useState(""),o=f=>{f.preventDefault(),e(t,r)};return C.jsxs("div",{className:"min-h-screen w-full lg:grid lg:grid-cols-2",children:[C.jsxs("div",{className:"relative hidden lg:flex flex-col items-center justify-center p-12 bg-login-image text-white",children:[C.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-60"}),C.jsxs("div",{className:"relative z-10 text-center",children:[C.jsx(F1,{className:"w-28 h-28 mx-auto"}),C.jsx("h1",{className:"mt-6 text-4xl font-bold tracking-tight",children:"Flash Express"}),C.jsx("p",{className:"mt-3 text-lg text-slate-300",children:"Your world, delivered faster."})]})]}),C.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12 lg:p-16 bg-slate-50",children:C.jsxs("div",{className:"w-full max-w-md",children:[C.jsxs("div",{className:"lg:hidden text-center mb-8",children:[C.jsx(F1,{className:"w-20 h-20 mx-auto"}),C.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Flash Express"})]}),C.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Login"}),C.jsx("p",{className:"mt-2 text-slate-600",children:"Enter your credentials to access your account."}),C.jsxs("form",{onSubmit:o,className:"mt-8 space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),C.jsxs("div",{className:"relative mt-1",children:[C.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:C.jsx(eb,{className:"h-5 w-5 text-slate-400"})}),C.jsx("input",{id:"email",type:"email",value:t,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"you@example.com",required:!0})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),C.jsxs("div",{className:"relative mt-1",children:[C.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:C.jsx(C3,{className:"h-5 w-5 text-slate-400"})}),C.jsx("input",{id:"password",type:"password",value:r,onChange:f=>s(f.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"",required:!0})]})]}),C.jsx("button",{type:"submit",className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300",children:"Login"})]}),C.jsxs("p",{className:"text-center text-sm text-slate-500 mt-8",children:["Test with: ",C.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"admin@flash.com"})," / ",C.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"password123"})]})]})})]})},rb=({role:e,activeView:t,setActiveView:n})=>{const s={[Ut.CLIENT]:[{name:"Dashboard",icon:C.jsx(Vf,{}),view:"dashboard"},{name:"My Shipments",icon:C.jsx(Hu,{}),view:"shipments"},{name:"Create Shipment",icon:C.jsx(M2,{}),view:"create"},{name:"Wallet",icon:C.jsx(qu,{}),view:"wallet"},{name:"My Profile",icon:C.jsx(Jw,{}),view:"profile"}],[Ut.COURIER]:[{name:"Dashboard",icon:C.jsx(Vf,{}),view:"dashboard"},{name:"My Tasks",icon:C.jsx(pd,{}),view:"tasks"}],[Ut.ASSIGNING_USER]:[{name:"Dashboard",icon:C.jsx(Vf,{}),view:"dashboard"},{name:"Assign Shipments",icon:C.jsx(U1,{}),view:"assign"},{name:"Live Map",icon:C.jsx(Pp,{}),view:"map"}],[Ut.ADMIN]:[{name:"Dashboard",icon:C.jsx(Vf,{}),view:"dashboard"},{name:"Live Map",icon:C.jsx(Pp,{}),view:"map"},{name:"All Shipments",icon:C.jsx(Hu,{}),view:"shipments"},{name:"Assign Shipments",icon:C.jsx(U1,{}),view:"assign"},{name:"Manage Returns",icon:C.jsx(c0,{}),view:"returns"},{name:"User Management",icon:C.jsx(b3,{}),view:"users"},{name:"Financials",icon:C.jsx(L2,{}),view:"financials"},{name:"Notifications Log",icon:C.jsx(E3,{}),view:"notifications"}]}[e]||[];return C.jsxs("aside",{className:"w-64 bg-slate-800 text-slate-300 flex flex-col flex-shrink-0",children:[C.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-700",children:[C.jsx(F1,{className:"w-9 h-9"}),C.jsx("div",{children:C.jsx("h1",{className:"text-lg font-bold text-white",children:"Flash Express"})})]}),C.jsx("nav",{className:"flex-1 p-4 space-y-1.5",children:s.map(o=>C.jsxs("button",{onClick:()=>n(o.view),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-md text-left transition ${t===o.view?"bg-primary-600 text-white font-semibold":"hover:bg-slate-700 hover:text-white"}`,children:[Yu.cloneElement(o.icon,{className:"w-6 h-6"}),C.jsx("span",{className:"text-sm font-medium",children:o.name})]},o.name))})]})},ab=({onLogout:e,user:t,onNavigate:n})=>{const{notifications:r,notificationStatus:s}=tr(),[o,f]=ot.useState(!1),d=ot.useRef(null),m=r.filter(x=>s[x.id]==="failed");return ot.useEffect(()=>{const x=S=>{d.current&&!d.current.contains(S.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),C.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 p-4 flex justify-between items-center z-20 sticky top-0",children:[C.jsxs("div",{className:"text-lg font-bold text-slate-800",children:[t.role," Portal"]}),C.jsxs("div",{className:"flex items-center gap-4",children:[t.role===Ut.ADMIN&&C.jsxs("div",{className:"relative",ref:d,children:[C.jsxs("button",{onClick:()=>f(x=>!x),className:"p-2 rounded-full hover:bg-slate-100 transition relative",children:[C.jsx(E3,{className:"w-6 h-6 text-slate-600"}),m.length>0&&C.jsxs("span",{className:"absolute top-0 right-0 flex h-3 w-3",children:[C.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),C.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),o&&C.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-slate-200 overflow-hidden",children:[C.jsxs("div",{className:"p-3 font-semibold text-slate-800 border-b border-slate-200",children:["Notifications (",m.length," failed)"]}),C.jsx("div",{className:"max-h-80 overflow-y-auto",children:m.length>0?m.map(x=>C.jsxs("div",{className:"p-3 hover:bg-slate-50 border-b border-slate-100 last:border-b-0",children:[C.jsxs("p",{className:"text-sm font-medium text-red-800",children:["Failed to send to ",x.recipient]}),C.jsx("p",{className:"text-sm text-slate-600 truncate",children:x.message.split(`

`)[0]})]},x.id)):C.jsx("p",{className:"text-sm text-slate-500 p-4 text-center",children:"No delivery failures."})}),C.jsx("div",{className:"p-2 bg-slate-50 border-t border-slate-200",children:C.jsx("button",{onClick:()=>{f(!1),n("notifications")},className:"w-full text-center text-sm font-semibold text-primary-600 hover:text-primary-800 py-1",children:"View Full Log"})})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"font-semibold text-slate-800",children:t.name}),C.jsx("p",{className:"text-xs text-slate-500",children:t.email})]}),C.jsx("button",{onClick:e,title:"Logout",className:"p-2 rounded-full hover:bg-red-50 transition",children:C.jsx(Xw,{className:"w-6 h-6 text-red-500"})})]})]})]})},Lr=({title:e,value:t,icon:n,color:r,onClick:s})=>C.jsxs("div",{className:`bg-white p-5 rounded-xl shadow-sm flex items-center justify-between border-l-4 ${s?"cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition-all duration-300":""}`,style:{borderColor:r},onClick:s,children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),C.jsx("p",{className:"text-3xl font-bold text-slate-800",children:t})]}),C.jsx("div",{className:"p-3 rounded-lg bg-opacity-10",style:{color:r,backgroundColor:`${r}1A`},children:Yu.cloneElement(n,{className:"w-7 h-7"})})]}),Up=({setActiveView:e})=>{const{currentUser:t,shipments:n,users:r}=tr();if(!t)return null;const s=n.filter(x=>x.clientId===t.id),o=n.filter(x=>x.courierId===t.id),f=()=>{var x;return C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[C.jsx(Lr,{title:"Total Shipments",value:s.length,icon:C.jsx(Hu,{className:"w-7 h-7"}),color:"#3b82f6",onClick:()=>e("shipments")}),C.jsx(Lr,{title:"In Transit",value:s.filter(S=>[mt.IN_TRANSIT,mt.OUT_FOR_DELIVERY].includes(S.status)).length,icon:C.jsx(U1,{className:"w-7 h-7"}),color:"#8b5cf6"}),C.jsx(Lr,{title:"Wallet Balance",value:`${((x=t.walletBalance)==null?void 0:x.toFixed(2))??0} EGP`,icon:C.jsx(qu,{className:"w-7 h-7"}),color:"#22c55e",onClick:()=>e("wallet")})]})},d=()=>{const x=o.filter(S=>S.status===mt.DELIVERED&&S.paymentMethod===sa.COD).reduce((S,A)=>S+A.price,0);return C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[C.jsx(Lr,{title:"Assigned Today",value:o.filter(S=>new Date(S.creationDate).toDateString()===new Date().toDateString()).length,icon:C.jsx(pd,{className:"w-7 h-7"}),color:"#3b82f6"}),C.jsx(Lr,{title:"Pending Deliveries",value:o.filter(S=>S.status===mt.OUT_FOR_DELIVERY).length,icon:C.jsx(U1,{className:"w-7 h-7"}),color:"#06b6d4",onClick:()=>e("tasks")}),C.jsx(Lr,{title:"COD Collected",value:`${x.toFixed(2)} EGP`,icon:C.jsx(qu,{className:"w-7 h-7"}),color:"#16a34a"})]})},m=()=>C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[C.jsx(Lr,{title:"Total Shipments",value:n.length,icon:C.jsx(Hu,{className:"w-7 h-7"}),color:"#3b82f6",onClick:t.role===Ut.ADMIN?()=>e("shipments"):void 0}),C.jsx(Lr,{title:"Total Users",value:r.length,icon:C.jsx(b3,{className:"w-7 h-7"}),color:"#8b5cf6",onClick:t.role===Ut.ADMIN?()=>e("users"):void 0}),C.jsx(Lr,{title:"Pending Assignment",value:n.filter(x=>x.status===mt.PENDING_ASSIGNMENT).length,icon:C.jsx(pd,{className:"w-7 h-7"}),color:"#f97316",onClick:()=>e("assign")}),C.jsx(Lr,{title:"Total Revenue",value:`${n.filter(x=>x.status===mt.DELIVERED).reduce((x,S)=>x+S.price,0).toFixed(2)} EGP`,icon:C.jsx(L2,{className:"w-7 h-7"}),color:"#16a34a",onClick:t.role===Ut.ADMIN?()=>e("financials"):void 0})]});return C.jsxs("div",{children:[C.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:["Welcome back, ",t.name.split(" ")[0],"!"]}),t.role===Ut.CLIENT&&f(),t.role===Ut.COURIER&&d(),(t.role===Ut.ADMIN||t.role===Ut.ASSIGNING_USER)&&m()]})},sb="modulepreload",ob=function(e){return"/"+e},zp={},md=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(n.map(m=>{if(m=ob(m),m in zp)return;zp[m]=!0;const x=m.endsWith(".css"),S=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${S}`))return;const A=document.createElement("link");if(A.rel=x?"stylesheet":sb,x||(A.as="script"),A.crossOrigin="",A.href=m,d&&A.setAttribute("nonce",d),document.head.appendChild(A),x)return new Promise((E,b)=>{A.addEventListener("load",E),A.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return s.then(f=>{for(const d of f||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}var br=Uint8Array,oa=Uint16Array,O2=Int32Array,u0=new br([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),f0=new br([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xd=new br([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T3=function(e,t){for(var n=new oa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new O2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)s[o]=o-n[r]<<5|r;return{b:n,r:s}},_3=T3(u0,2),I3=_3.b,yd=_3.r;I3[28]=258,yd[258]=28;var L3=T3(f0,0),lb=L3.b,Hp=L3.r,vd=new oa(32768);for(var Qn=0;Qn<32768;++Qn){var oo=(Qn&43690)>>1|(Qn&21845)<<1;oo=(oo&52428)>>2|(oo&13107)<<2,oo=(oo&61680)>>4|(oo&3855)<<4,vd[Qn]=((oo&65280)>>8|(oo&255)<<8)>>1}var us=function(e,t,n){for(var r=e.length,s=0,o=new oa(t);s<r;++s)e[s]&&++o[e[s]-1];var f=new oa(t);for(s=1;s<t;++s)f[s]=f[s-1]+o[s-1]<<1;var d;if(n){d=new oa(1<<t);var m=15-t;for(s=0;s<r;++s)if(e[s])for(var x=s<<4|e[s],S=t-e[s],A=f[e[s]-1]++<<S,E=A|(1<<S)-1;A<=E;++A)d[vd[A]>>m]=x}else for(d=new oa(r),s=0;s<r;++s)e[s]&&(d[s]=vd[f[e[s]-1]++]>>15-e[s]);return d},Po=new br(288);for(var Qn=0;Qn<144;++Qn)Po[Qn]=8;for(var Qn=144;Qn<256;++Qn)Po[Qn]=9;for(var Qn=256;Qn<280;++Qn)Po[Qn]=7;for(var Qn=280;Qn<288;++Qn)Po[Qn]=8;var Gu=new br(32);for(var Qn=0;Qn<32;++Qn)Gu[Qn]=5;var cb=us(Po,9,0),ub=us(Po,9,1),fb=us(Gu,5,0),hb=us(Gu,5,1),fh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Fa=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},hh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},R2=function(e){return(e+7)/8|0},M3=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new br(e.subarray(t,n))},db=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(e,t,n){var r=new Error(t||db[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,za),!n)throw r;return r},gb=function(e,t,n,r){var s=e.length,o=0;if(!s||t.f&&!t.l)return n||new br(0);var f=!n,d=f||t.i!=2,m=t.i;f&&(n=new br(s*3));var x=function(Ye){var it=n.length;if(Ye>it){var We=new br(Math.max(it*2,Ye));We.set(n),n=We}},S=t.f||0,A=t.p||0,E=t.b||0,b=t.l,R=t.d,M=t.m,q=t.n,I=s*8;do{if(!b){S=Fa(e,A,1);var T=Fa(e,A+1,3);if(A+=3,T)if(T==1)b=ub,R=hb,M=9,q=5;else if(T==2){var re=Fa(e,A,31)+257,k=Fa(e,A+10,15)+4,U=re+Fa(e,A+5,31)+1;A+=14;for(var J=new br(U),ge=new br(19),F=0;F<k;++F)ge[xd[F]]=Fa(e,A+F*3,7);A+=k*3;for(var j=fh(ge),se=(1<<j)-1,le=us(ge,j,1),F=0;F<U;){var $=le[Fa(e,A,se)];A+=$&15;var L=$>>4;if(L<16)J[F++]=L;else{var W=0,Y=0;for(L==16?(Y=3+Fa(e,A,3),A+=2,W=J[F-1]):L==17?(Y=3+Fa(e,A,7),A+=3):L==18&&(Y=11+Fa(e,A,127),A+=7);Y--;)J[F++]=W}}var ne=J.subarray(0,re),oe=J.subarray(re);M=fh(ne),q=fh(oe),b=us(ne,M,1),R=us(oe,q,1)}else za(1);else{var L=R2(A)+4,B=e[L-4]|e[L-3]<<8,X=L+B;if(X>s){m&&za(0);break}d&&x(E+B),n.set(e.subarray(L,X),E),t.b=E+=B,t.p=A=X*8,t.f=S;continue}if(A>I){m&&za(0);break}}d&&x(E+131072);for(var me=(1<<M)-1,Oe=(1<<q)-1,P=A;;P=A){var W=b[hh(e,A)&me],te=W>>4;if(A+=W&15,A>I){m&&za(0);break}if(W||za(2),te<256)n[E++]=te;else if(te==256){P=A,b=null;break}else{var ae=te-254;if(te>264){var F=te-257,pe=u0[F];ae=Fa(e,A,(1<<pe)-1)+I3[F],A+=pe}var ue=R[hh(e,A)&Oe],_e=ue>>4;ue||za(3),A+=ue&15;var oe=lb[_e];if(_e>3){var pe=f0[_e];oe+=hh(e,A)&(1<<pe)-1,A+=pe}if(A>I){m&&za(0);break}d&&x(E+131072);var Ee=E+ae;if(E<oe){var De=o-oe,$e=Math.min(oe,Ee);for(De+E<0&&za(3);E<$e;++E)n[E]=r[De+E]}for(;E<Ee;++E)n[E]=n[E-oe]}}t.l=b,t.p=P,t.b=E,t.f=S,b&&(S=1,t.m=M,t.d=R,t.n=q)}while(!S);return E!=n.length&&f?M3(n,0,E):n.subarray(0,E)},Ts=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},nu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},dh=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,o=n.slice();if(!s)return{t:O3,l:0};if(s==1){var f=new br(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(X,re){return X.f-re.f}),n.push({s:-1,f:25001});var d=n[0],m=n[1],x=0,S=1,A=2;for(n[0]={s:-1,f:d.f+m.f,l:d,r:m};S!=s-1;)d=n[n[x].f<n[A].f?x++:A++],m=n[x!=S&&n[x].f<n[A].f?x++:A++],n[S++]={s:-1,f:d.f+m.f,l:d,r:m};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var b=new oa(E+1),R=wd(n[S-1],b,0);if(R>t){var r=0,M=0,q=R-t,I=1<<q;for(o.sort(function(re,k){return b[k.s]-b[re.s]||re.f-k.f});r<s;++r){var T=o[r].s;if(b[T]>t)M+=I-(1<<R-b[T]),b[T]=t;else break}for(M>>=q;M>0;){var L=o[r].s;b[L]<t?M-=1<<t-b[L]++-1:++r}for(;r>=0&&M;--r){var B=o[r].s;b[B]==t&&(--b[B],++M)}R=t}return{t:new br(b),l:R}},wd=function(e,t,n){return e.s==-1?Math.max(wd(e.l,t,n+1),wd(e.r,t,n+1)):t[e.s]=n},qp=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new oa(++t),r=0,s=e[0],o=1,f=function(m){n[r++]=m},d=1;d<=t;++d)if(e[d]==s&&d!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)f(32754);o>2&&(f(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(f(s),--o;o>6;o-=6)f(8304);o>2&&(f(o-3<<5|8208),o=0)}for(;o--;)f(s);o=1,s=e[d]}return{c:n.subarray(0,r),n:t}},iu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},D3=function(e,t,n){var r=n.length,s=R2(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var o=0;o<r;++o)e[s+o+4]=n[o];return(s+4+r)*8},Gp=function(e,t,n,r,s,o,f,d,m,x,S){Ts(t,S++,n),++s[256];for(var A=dh(s,15),E=A.t,b=A.l,R=dh(o,15),M=R.t,q=R.l,I=qp(E),T=I.c,L=I.n,B=qp(M),X=B.c,re=B.n,k=new oa(19),U=0;U<T.length;++U)++k[T[U]&31];for(var U=0;U<X.length;++U)++k[X[U]&31];for(var J=dh(k,7),ge=J.t,F=J.l,j=19;j>4&&!ge[xd[j-1]];--j);var se=x+5<<3,le=iu(s,Po)+iu(o,Gu)+f,$=iu(s,E)+iu(o,M)+f+14+3*j+iu(k,ge)+2*k[16]+3*k[17]+7*k[18];if(m>=0&&se<=le&&se<=$)return D3(t,S,e.subarray(m,m+x));var W,Y,ne,oe;if(Ts(t,S,1+($<le)),S+=2,$<le){W=us(E,b,0),Y=E,ne=us(M,q,0),oe=M;var me=us(ge,F,0);Ts(t,S,L-257),Ts(t,S+5,re-1),Ts(t,S+10,j-4),S+=14;for(var U=0;U<j;++U)Ts(t,S+3*U,ge[xd[U]]);S+=3*j;for(var Oe=[T,X],P=0;P<2;++P)for(var te=Oe[P],U=0;U<te.length;++U){var ae=te[U]&31;Ts(t,S,me[ae]),S+=ge[ae],ae>15&&(Ts(t,S,te[U]>>5&127),S+=te[U]>>12)}}else W=cb,Y=Po,ne=fb,oe=Gu;for(var U=0;U<d;++U){var pe=r[U];if(pe>255){var ae=pe>>18&31;nu(t,S,W[ae+257]),S+=Y[ae+257],ae>7&&(Ts(t,S,pe>>23&31),S+=u0[ae]);var ue=pe&31;nu(t,S,ne[ue]),S+=oe[ue],ue>3&&(nu(t,S,pe>>5&8191),S+=f0[ue])}else nu(t,S,W[pe]),S+=Y[pe]}return nu(t,S,W[256]),S+Y[256]},pb=new O2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O3=new br(0),mb=function(e,t,n,r,s,o){var f=o.z||e.length,d=new br(r+f+5*(1+Math.ceil(f/7e3))+s),m=d.subarray(r,d.length-s),x=o.l,S=(o.r||0)&7;if(t){S&&(m[0]=o.r>>3);for(var A=pb[t-1],E=A>>13,b=A&8191,R=(1<<n)-1,M=o.p||new oa(32768),q=o.h||new oa(R+1),I=Math.ceil(n/3),T=2*I,L=function(Nt){return(e[Nt]^e[Nt+1]<<I^e[Nt+2]<<T)&R},B=new O2(25e3),X=new oa(288),re=new oa(32),k=0,U=0,J=o.i||0,ge=0,F=o.w||0,j=0;J+2<f;++J){var se=L(J),le=J&32767,$=q[se];if(M[le]=$,q[se]=le,F<=J){var W=f-J;if((k>7e3||ge>24576)&&(W>423||!x)){S=Gp(e,m,0,B,X,re,U,ge,j,J-j,S),ge=k=U=0,j=J;for(var Y=0;Y<286;++Y)X[Y]=0;for(var Y=0;Y<30;++Y)re[Y]=0}var ne=2,oe=0,me=b,Oe=le-$&32767;if(W>2&&se==L(J-Oe))for(var P=Math.min(E,W)-1,te=Math.min(32767,J),ae=Math.min(258,W);Oe<=te&&--me&&le!=$;){if(e[J+ne]==e[J+ne-Oe]){for(var pe=0;pe<ae&&e[J+pe]==e[J+pe-Oe];++pe);if(pe>ne){if(ne=pe,oe=Oe,pe>P)break;for(var ue=Math.min(Oe,pe-2),_e=0,Y=0;Y<ue;++Y){var Ee=J-Oe+Y&32767,De=M[Ee],$e=Ee-De&32767;$e>_e&&(_e=$e,$=Ee)}}}le=$,$=M[le],Oe+=le-$&32767}if(oe){B[ge++]=268435456|yd[ne]<<18|Hp[oe];var Ye=yd[ne]&31,it=Hp[oe]&31;U+=u0[Ye]+f0[it],++X[257+Ye],++re[it],F=J+ne,++k}else B[ge++]=e[J],++X[e[J]]}}for(J=Math.max(J,F);J<f;++J)B[ge++]=e[J],++X[e[J]];S=Gp(e,m,x,B,X,re,U,ge,j,J-j,S),x||(o.r=S&7|m[S/8|0]<<3,S-=7,o.h=q,o.p=M,o.i=J,o.w=F)}else{for(var J=o.w||0;J<f+x;J+=65535){var We=J+65535;We>=f&&(m[S/8|0]=x,We=f),S=D3(m,S+1,e.subarray(J,We))}o.i=f}return M3(d,0,r+R2(S)+s)},R3=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,o=n.length|0,f=0;f!=o;){for(var d=Math.min(f+2655,o);f<d;++f)s+=r+=n[f];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xb=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),f=new br(o.length+e.length);f.set(o),f.set(e,o.length),e=f,s.w=o.length}return mb(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},B3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},yb=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=R3();s.p(t.dictionary),B3(e,2,s.d())}},vb=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&za(6,"invalid zlib data"),(e[1]>>5&1)==1&&za(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function bd(e,t){t||(t={});var n=R3();n.p(e);var r=xb(e,t,t.dictionary?6:2,4);return yb(r,t),B3(r,r.length-4,n.d()),r}function wb(e,t){return gb(e.subarray(vb(e),-4),{i:2},t,t)}var bb=typeof TextDecoder<"u"&&new TextDecoder,Ab=0;try{bb.decode(O3,{stream:!0}),Ab=1}catch{}var Mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gh(){Mt.console&&typeof Mt.console.log=="function"&&Mt.console.log.apply(Mt.console,arguments)}var jn={log:gh,warn:function(e){Mt.console&&(typeof Mt.console.warn=="function"?Mt.console.warn.apply(Mt.console,arguments):gh.call(null,arguments))},error:function(e){Mt.console&&(typeof Mt.console.error=="function"?Mt.console.error.apply(Mt.console,arguments):gh(e))}};function ph(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){fl(r.response,t,n)},r.onerror=function(){jn.error("could not download file")},r.send()}function Vp(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Su,Ad,fl=Mt.saveAs||((typeof window>"u"?"undefined":In(window))!=="object"||window!==Mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Mt.URL||Mt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Vp(s.href)?ph(e,t,n):Yf(s,s.target="_blank"):Yf(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Yf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Vp(e))ph(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Yf(r)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:In(o)!=="object"&&(jn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return ph(e,t,n);var s=e.type==="application/octet-stream",o=/constructor/i.test(Mt.HTMLElement)||Mt.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&o)&&(typeof FileReader>"u"?"undefined":In(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var S=d.result;S=f?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=S:location=S,r=null},d.readAsDataURL(e)}else{var m=Mt.URL||Mt.webkitURL,x=m.createObjectURL(e);r?r.location=x:location.href=x,r=null,setTimeout(function(){m.revokeObjectURL(x)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function j3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,o=n[r].process,f=s.exec(e);f&&(t=o(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),m=this.g.toString(16),x=this.b.toString(16);return d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),x.length==1&&(x="0"+x),"#"+d+m+x}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mh(e,t){var n=e[0],r=e[1],s=e[2],o=e[3];n=xr(n,r,s,o,t[0],7,-680876936),o=xr(o,n,r,s,t[1],12,-389564586),s=xr(s,o,n,r,t[2],17,606105819),r=xr(r,s,o,n,t[3],22,-1044525330),n=xr(n,r,s,o,t[4],7,-176418897),o=xr(o,n,r,s,t[5],12,1200080426),s=xr(s,o,n,r,t[6],17,-1473231341),r=xr(r,s,o,n,t[7],22,-45705983),n=xr(n,r,s,o,t[8],7,1770035416),o=xr(o,n,r,s,t[9],12,-1958414417),s=xr(s,o,n,r,t[10],17,-42063),r=xr(r,s,o,n,t[11],22,-1990404162),n=xr(n,r,s,o,t[12],7,1804603682),o=xr(o,n,r,s,t[13],12,-40341101),s=xr(s,o,n,r,t[14],17,-1502002290),n=yr(n,r=xr(r,s,o,n,t[15],22,1236535329),s,o,t[1],5,-165796510),o=yr(o,n,r,s,t[6],9,-1069501632),s=yr(s,o,n,r,t[11],14,643717713),r=yr(r,s,o,n,t[0],20,-373897302),n=yr(n,r,s,o,t[5],5,-701558691),o=yr(o,n,r,s,t[10],9,38016083),s=yr(s,o,n,r,t[15],14,-660478335),r=yr(r,s,o,n,t[4],20,-405537848),n=yr(n,r,s,o,t[9],5,568446438),o=yr(o,n,r,s,t[14],9,-1019803690),s=yr(s,o,n,r,t[3],14,-187363961),r=yr(r,s,o,n,t[8],20,1163531501),n=yr(n,r,s,o,t[13],5,-1444681467),o=yr(o,n,r,s,t[2],9,-51403784),s=yr(s,o,n,r,t[7],14,1735328473),n=vr(n,r=yr(r,s,o,n,t[12],20,-1926607734),s,o,t[5],4,-378558),o=vr(o,n,r,s,t[8],11,-2022574463),s=vr(s,o,n,r,t[11],16,1839030562),r=vr(r,s,o,n,t[14],23,-35309556),n=vr(n,r,s,o,t[1],4,-1530992060),o=vr(o,n,r,s,t[4],11,1272893353),s=vr(s,o,n,r,t[7],16,-155497632),r=vr(r,s,o,n,t[10],23,-1094730640),n=vr(n,r,s,o,t[13],4,681279174),o=vr(o,n,r,s,t[0],11,-358537222),s=vr(s,o,n,r,t[3],16,-722521979),r=vr(r,s,o,n,t[6],23,76029189),n=vr(n,r,s,o,t[9],4,-640364487),o=vr(o,n,r,s,t[12],11,-421815835),s=vr(s,o,n,r,t[15],16,530742520),n=wr(n,r=vr(r,s,o,n,t[2],23,-995338651),s,o,t[0],6,-198630844),o=wr(o,n,r,s,t[7],10,1126891415),s=wr(s,o,n,r,t[14],15,-1416354905),r=wr(r,s,o,n,t[5],21,-57434055),n=wr(n,r,s,o,t[12],6,1700485571),o=wr(o,n,r,s,t[3],10,-1894986606),s=wr(s,o,n,r,t[10],15,-1051523),r=wr(r,s,o,n,t[1],21,-2054922799),n=wr(n,r,s,o,t[8],6,1873313359),o=wr(o,n,r,s,t[15],10,-30611744),s=wr(s,o,n,r,t[6],15,-1560198380),r=wr(r,s,o,n,t[13],21,1309151649),n=wr(n,r,s,o,t[4],6,-145523070),o=wr(o,n,r,s,t[11],10,-1120210379),s=wr(s,o,n,r,t[2],15,718787259),r=wr(r,s,o,n,t[9],21,-343485551),e[0]=No(n,e[0]),e[1]=No(r,e[1]),e[2]=No(s,e[2]),e[3]=No(o,e[3])}function h0(e,t,n,r,s,o){return t=No(No(t,e),No(r,o)),No(t<<s|t>>>32-s,n)}function xr(e,t,n,r,s,o,f){return h0(t&n|~t&r,e,t,s,o,f)}function yr(e,t,n,r,s,o,f){return h0(t&r|n&~r,e,t,s,o,f)}function vr(e,t,n,r,s,o,f){return h0(t^n^r,e,t,s,o,f)}function wr(e,t,n,r,s,o,f){return h0(n^(t|~r),e,t,s,o,f)}function k3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)mh(r,Sb(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(mh(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,mh(r,s),r}function Sb(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Su=Mt.atob.bind(Mt),Ad=Mt.btoa.bind(Mt);var Yp="0123456789abcdef".split("");function Nb(e){for(var t="",n=0;n<4;n++)t+=Yp[e>>8*n+4&15]+Yp[e>>8*n&15];return t}function Cb(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Sd(e){return k3(e).map(Cb).join("")}var Eb=function(e){for(var t=0;t<e.length;t++)e[t]=Nb(e[t]);return e.join("")}(k3("hello"))!="5d41402abc4b2a76b9719d911017c592";function No(e,t){if(Eb){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nd(e,t){var n,r,s,o;if(e!==n){for(var f=(s=e,o=1+(256/e.length>>0),new Array(o+1).join(s)),d=[],m=0;m<256;m++)d[m]=m;var x=0;for(m=0;m<256;m++){var S=d[m];x=(x+S+f.charCodeAt(m))%256,d[m]=d[x],d[x]=S}n=e,r=d}else d=r;var A=t.length,E=0,b=0,R="";for(m=0;m<A;m++)b=(b+(S=d[E=(E+1)%256]))%256,d[E]=d[b],d[b]=S,f=d[(d[E]+d[b])%256],R+=String.fromCharCode(t.charCodeAt(m)^f);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xp={print:4,modify:8,copy:16,"annot-forms":32};function Kl(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(d){if(Xp.perm!==void 0)throw new Error("Invalid permission: "+d);s+=Xp[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),f=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,f),this.P=-(1+(255^s)),this.encryptionKey=Sd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Nd(this.encryptionKey,this.padding)}function Jl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function Wp(e){if(In(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!s],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[n]){var f=t[n][o];try{f[0].apply(e,r)}catch(d){Mt.console&&jn.error("jsPDF PubSub Error",d.message,d)}f[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vu(e){if(!(this instanceof Vu))return new Vu(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function P3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function vo(e,t,n,r,s){if(!(this instanceof vo))return new vo(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,P3.call(this,r,s)}function hl(e,t,n,r,s){if(!(this instanceof hl))return new hl(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,P3.call(this,r,s)}function It(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],f=[],d=1,m=16,x="S",S=null;In(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,o=e.compress||e.compressPdf||o,(S=e.encryption||null)!==null&&(S.userPassword=S.userPassword||"",S.ownerPassword=S.ownerPassword||"",S.userPermissions=S.userPermissions||[]),d=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(m=e.floatPrecision),x=e.defaultPathOperation||"S"),f=e.filters||(o===!0?["FlateEncode"]:f),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,E={},b={internal:{},__private__:{}};b.__private__.PubSub=Wp;var R="1.3",M=b.__private__.getPdfVersion=function(){return R};b.__private__.setPdfVersion=function(w){R=w};var q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return q};var I=b.__private__.getPageFormat=function(w){return q[w]};s=s||"a4";var T={COMPAT:"compat",ADVANCED:"advanced"},L=T.COMPAT;function B(){this.saveGraphicsState(),xe(new yt(st,0,0,-st,0,pr()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),x="n",L=T.ADVANCED}function X(){this.restoreGraphicsState(),x="S",L=T.COMPAT}var re=b.__private__.combineFontStyleAndFontWeight=function(w,V){if(w=="bold"&&V=="normal"||w=="bold"&&V==400||w=="normal"&&V=="italic"||w=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(w=V==400||V==="normal"?w==="italic"?"italic":"normal":V!=700&&V!=="bold"||w!=="normal"?(V==700?"bold":V)+""+w:"bold"),w};b.advancedAPI=function(w){var V=L===T.COMPAT;return V&&B.call(this),typeof w!="function"||(w(this),V&&X.call(this)),this},b.compatAPI=function(w){var V=L===T.ADVANCED;return V&&X.call(this),typeof w!="function"||(w(this),V&&B.call(this)),this},b.isAdvancedAPI=function(){return L===T.ADVANCED};var k,U=function(w){if(L!==T.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=b.roundToPrecision=b.__private__.roundToPrecision=function(w,V){var fe=t||V;if(isNaN(w)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(fe).replace(/0+$/,"")};k=b.hpf=b.__private__.hpf=typeof m=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return J(w,m)}:m==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return J(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return J(w,16)};var ge=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return J(w,2)},F=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return J(w,3)},j=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return L===T.COMPAT?w*st:L===T.ADVANCED?w:void 0},se=function(w){return L===T.COMPAT?pr()-w:L===T.ADVANCED?w:void 0},le=function(w){return j(se(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var $,W="00000000000000000000000000000000",Y=b.__private__.getFileId=function(){return W},ne=b.__private__.setFileId=function(w){return W=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),S!==null&&(Si=new Kl(S.userPermissions,S.userPassword,S.ownerPassword,W)),W};b.setFileId=function(w){return ne(w),this},b.getFileId=function(){return Y()};var oe=b.__private__.convertDateToPDFDate=function(w){var V=w.getTimezoneOffset(),fe=V<0?"+":"-",ve=Math.floor(Math.abs(V/60)),Te=Math.abs(V%60),Fe=[fe,ae(ve),"'",ae(Te),"'"].join("");return["D:",w.getFullYear(),ae(w.getMonth()+1),ae(w.getDate()),ae(w.getHours()),ae(w.getMinutes()),ae(w.getSeconds()),Fe].join("")},me=b.__private__.convertPDFDateToDate=function(w){var V=parseInt(w.substr(2,4),10),fe=parseInt(w.substr(6,2),10)-1,ve=parseInt(w.substr(8,2),10),Te=parseInt(w.substr(10,2),10),Fe=parseInt(w.substr(12,2),10),Ve=parseInt(w.substr(14,2),10);return new Date(V,fe,ve,Te,Fe,Ve,0)},Oe=b.__private__.setCreationDate=function(w){var V;if(w===void 0&&(w=new Date),w instanceof Date)V=oe(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=w}return $=V},P=b.__private__.getCreationDate=function(w){var V=$;return w==="jsDate"&&(V=me($)),V};b.setCreationDate=function(w){return Oe(w),this},b.getCreationDate=function(w){return P(w)};var te,ae=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},pe=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ue=0,_e=[],Ee=[],De=0,$e=[],Ye=[],it=!1,We=Ee,Nt=function(){ue=0,De=0,Ee=[],_e=[],$e=[],fr=Ln(),Cr=Ln()};b.__private__.setCustomOutputDestination=function(w){it=!0,We=w};var je=function(w){it||(We=w)};b.__private__.resetCustomOutputDestination=function(){it=!1,We=Ee};var xe=b.__private__.out=function(w){return w=w.toString(),De+=w.length+1,We.push(w),We},xt=b.__private__.write=function(w){return xe(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},tt=b.__private__.getArrayBuffer=function(w){for(var V=w.length,fe=new ArrayBuffer(V),ve=new Uint8Array(fe);V--;)ve[V]=w.charCodeAt(V);return fe},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ue};var nt=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return nt=L===T.ADVANCED?w/st:w,this};var Pe,rt=b.__private__.getFontSize=b.getFontSize=function(){return L===T.COMPAT?nt:nt*st},bt=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return bt=w,this},b.__private__.getR2L=b.getR2L=function(){return bt};var Ct,Pt=b.__private__.setZoomMode=function(w){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))Pe=w;else if(isNaN(w)){if(V.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');Pe=w}else Pe=parseInt(w,10)};b.__private__.getZoomMode=function(){return Pe};var Lt,rn=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');Ct=w};b.__private__.getPageMode=function(){return Ct};var Jt=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Lt=w};b.__private__.getLayoutMode=function(){return Lt},b.__private__.setDisplayMode=b.setDisplayMode=function(w,V,fe){return Pt(w),Jt(V),rn(fe),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(pt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[w]},b.__private__.getDocumentProperties=function(){return pt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var V in pt)pt.hasOwnProperty(V)&&w[V]&&(pt[V]=w[V]);return this},b.__private__.setDocumentProperty=function(w,V){if(Object.keys(pt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[w]=V};var Wt,st,Gi,Et,et,Rt={},Tt={},dn=[],an={},Da={},Gn={},Ht={},nr=null,Vn=0,Bt=[],Gt=new Wp(b),Oa=e.hotfixes||[],un={},ir={},Nr=[],yt=function w(V,fe,ve,Te,Fe,Ve){if(!(this instanceof w))return new w(V,fe,ve,Te,Fe,Ve);isNaN(V)&&(V=1),isNaN(fe)&&(fe=0),isNaN(ve)&&(ve=0),isNaN(Te)&&(Te=1),isNaN(Fe)&&(Fe=0),isNaN(Ve)&&(Ve=0),this._matrix=[V,fe,ve,Te,Fe,Ve]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(w)},yt.prototype.multiply=function(w){var V=w.sx*this.sx+w.shy*this.shx,fe=w.sx*this.shy+w.shy*this.sy,ve=w.shx*this.sx+w.sy*this.shx,Te=w.shx*this.shy+w.sy*this.sy,Fe=w.tx*this.sx+w.ty*this.shx+this.tx,Ve=w.tx*this.shy+w.ty*this.sy+this.ty;return new yt(V,fe,ve,Te,Fe,Ve)},yt.prototype.decompose=function(){var w=this.sx,V=this.shy,fe=this.shx,ve=this.sy,Te=this.tx,Fe=this.ty,Ve=Math.sqrt(w*w+V*V),ct=(w/=Ve)*fe+(V/=Ve)*ve;fe-=w*ct,ve-=V*ct;var At=Math.sqrt(fe*fe+ve*ve);return ct/=At,w*(ve/=At)<V*(fe/=At)&&(w=-w,V=-V,ct=-ct,Ve=-Ve),{scale:new yt(Ve,0,0,At,0,0),translate:new yt(1,0,0,1,Te,Fe),rotate:new yt(w,V,-V,w,0,0),skew:new yt(1,0,ct,1,0,0)}},yt.prototype.toString=function(w){return this.join(" ")},yt.prototype.inversed=function(){var w=this.sx,V=this.shy,fe=this.shx,ve=this.sy,Te=this.tx,Fe=this.ty,Ve=1/(w*ve-V*fe),ct=ve*Ve,At=-V*Ve,jt=-fe*Ve,kt=w*Ve;return new yt(ct,At,jt,kt,-ct*Te-jt*Fe,-At*Te-kt*Fe)},yt.prototype.applyToPoint=function(w){var V=w.x*this.sx+w.y*this.shx+this.tx,fe=w.x*this.shy+w.y*this.sy+this.ty;return new Xs(V,fe)},yt.prototype.applyToRectangle=function(w){var V=this.applyToPoint(w),fe=this.applyToPoint(new Xs(w.x+w.w,w.y+w.h));return new il(V.x,V.y,fe.x-V.x,fe.y-V.y)},yt.prototype.clone=function(){var w=this.sx,V=this.shy,fe=this.shx,ve=this.sy,Te=this.tx,Fe=this.ty;return new yt(w,V,fe,ve,Te,Fe)},b.Matrix=yt;var Yr=b.matrixMult=function(w,V){return V.multiply(w)},Vi=new yt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Vi;var Yi=function(w,V){if(!Da[w]){var fe=(V instanceof vo?"Sh":"P")+(Object.keys(an).length+1).toString(10);V.id=fe,Da[w]=fe,an[fe]=V,Gt.publish("addPattern",V)}};b.ShadingPattern=vo,b.TilingPattern=hl,b.addShadingPattern=function(w,V){return U("addShadingPattern()"),Yi(w,V),this},b.beginTilingPattern=function(w){U("beginTilingPattern()"),Ws(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,V){U("endTilingPattern()"),V.stream=Ye[te].join(`
`),Yi(w,V),Gt.publish("endTilingPattern",V),Nr.pop().restore()};var fn=b.__private__.newObject=function(){var w=Ln();return Pn(w,!0),w},Ln=b.__private__.newObjectDeferred=function(){return ue++,_e[ue]=function(){return De},ue},Pn=function(w,V){return V=typeof V=="boolean"&&V,_e[w]=De,V&&xe(w+" 0 obj"),w},ut=b.__private__.newAdditionalObject=function(){var w={objId:Ln(),content:""};return $e.push(w),w},fr=Ln(),Cr=Ln(),Fn=b.__private__.decodeColorString=function(w){var V=w.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var fe=parseFloat(V[0]);V=[fe,fe,fe,"r"]}for(var ve="#",Te=0;Te<3;Te++)ve+=("0"+Math.floor(255*parseFloat(V[Te])).toString(16)).slice(-2);return ve},Xi=b.__private__.encodeColorString=function(w){var V;typeof w=="string"&&(w={ch1:w});var fe=w.ch1,ve=w.ch2,Te=w.ch3,Fe=w.ch4,Ve=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var ct=new j3(fe);if(ct.ok)fe=ct.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var At=parseInt(fe.substr(1),16);fe=At>>16&255,ve=At>>8&255,Te=255&At}if(ve===void 0||Fe===void 0&&fe===ve&&ve===Te)if(typeof fe=="string")V=fe+" "+Ve[0];else switch(w.precision){case 2:V=ge(fe/255)+" "+Ve[0];break;case 3:default:V=F(fe/255)+" "+Ve[0]}else if(Fe===void 0||In(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return V=["1.","1.","1.",Ve[1]].join(" ");if(typeof fe=="string")V=[fe,ve,Te,Ve[1]].join(" ");else switch(w.precision){case 2:V=[ge(fe/255),ge(ve/255),ge(Te/255),Ve[1]].join(" ");break;default:case 3:V=[F(fe/255),F(ve/255),F(Te/255),Ve[1]].join(" ")}}else if(typeof fe=="string")V=[fe,ve,Te,Fe,Ve[2]].join(" ");else switch(w.precision){case 2:V=[ge(fe),ge(ve),ge(Te),ge(Fe),Ve[2]].join(" ");break;case 3:default:V=[F(fe),F(ve),F(Te),F(Fe),Ve[2]].join(" ")}return V},Er=b.__private__.getFilters=function(){return f},rr=b.__private__.putStream=function(w){var V=(w=w||{}).data||"",fe=w.filters||Er(),ve=w.alreadyAppliedFilters||[],Te=w.addLength1||!1,Fe=V.length,Ve=w.objectId,ct=function(Wi){return Wi};if(S!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");S!==null&&(ct=Si.encryptor(Ve,0));var At={};fe===!0&&(fe=["FlateEncode"]);var jt=w.additionalKeyValues||[],kt=(At=It.API.processDataByFilters!==void 0?It.API.processDataByFilters(V,fe):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(At.data.length!==0&&(jt.push({key:"Length",value:At.data.length}),Te===!0&&jt.push({key:"Length1",value:Fe})),kt.length!=0)if(kt.split("/").length-1==1)jt.push({key:"Filter",value:kt});else{jt.push({key:"Filter",value:"["+kt+"]"});for(var en=0;en<jt.length;en+=1)if(jt[en].key==="DecodeParms"){for(var Wn=[],Sn=0;Sn<At.reverseChain.split("/").length-1;Sn+=1)Wn.push("null");Wn.push(jt[en].value),jt[en].value="["+Wn.join(" ")+"]"}}xe("<<");for(var ei=0;ei<jt.length;ei++)xe("/"+jt[ei].key+" "+jt[ei].value);xe(">>"),At.data.length!==0&&(xe("stream"),xe(ct(At.data)),xe("endstream"))},wi=b.__private__.putPage=function(w){var V=w.number,fe=w.data,ve=w.objId,Te=w.contentsObjId;Pn(ve,!0),xe("<</Type /Page"),xe("/Parent "+w.rootDictionaryObjId+" 0 R"),xe("/Resources "+w.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(k(w.mediaBox.bottomLeftX))+" "+parseFloat(k(w.mediaBox.bottomLeftY))+" "+k(w.mediaBox.topRightX)+" "+k(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&xe("/CropBox ["+k(w.cropBox.bottomLeftX)+" "+k(w.cropBox.bottomLeftY)+" "+k(w.cropBox.topRightX)+" "+k(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&xe("/BleedBox ["+k(w.bleedBox.bottomLeftX)+" "+k(w.bleedBox.bottomLeftY)+" "+k(w.bleedBox.topRightX)+" "+k(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&xe("/TrimBox ["+k(w.trimBox.bottomLeftX)+" "+k(w.trimBox.bottomLeftY)+" "+k(w.trimBox.topRightX)+" "+k(w.trimBox.topRightY)+"]"),w.artBox!==null&&xe("/ArtBox ["+k(w.artBox.bottomLeftX)+" "+k(w.artBox.bottomLeftY)+" "+k(w.artBox.topRightX)+" "+k(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&xe("/UserUnit "+w.userUnit),Gt.publish("putPage",{objId:ve,pageContext:Bt[V],pageNumber:V,page:fe}),xe("/Contents "+Te+" 0 R"),xe(">>"),xe("endobj");var Fe=fe.join(`
`);return L===T.ADVANCED&&(Fe+=`
Q`),Pn(Te,!0),rr({data:Fe,filters:Er(),objectId:Te}),xe("endobj"),ve},gs=b.__private__.putPages=function(){var w,V,fe=[];for(w=1;w<=Vn;w++)Bt[w].objId=Ln(),Bt[w].contentsObjId=Ln();for(w=1;w<=Vn;w++)fe.push(wi({number:w,data:Ye[w],objId:Bt[w].objId,contentsObjId:Bt[w].contentsObjId,mediaBox:Bt[w].mediaBox,cropBox:Bt[w].cropBox,bleedBox:Bt[w].bleedBox,trimBox:Bt[w].trimBox,artBox:Bt[w].artBox,userUnit:Bt[w].userUnit,rootDictionaryObjId:fr,resourceDictionaryObjId:Cr}));Pn(fr,!0),xe("<</Type /Pages");var ve="/Kids [";for(V=0;V<Vn;V++)ve+=fe[V]+" 0 R ";xe(ve+"]"),xe("/Count "+Vn),xe(">>"),xe("endobj"),Gt.publish("postPutPages")},Hs=function(w){Gt.publish("putFont",{font:w,out:xe,newObject:fn,putStream:rr}),w.isAlreadyPutted!==!0&&(w.objectNumber=fn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+Jl(w.postScriptName)),xe("/Subtype /Type1"),typeof w.encoding=="string"&&xe("/Encoding /"+w.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ar=function(){for(var w in Rt)Rt.hasOwnProperty(w)&&(A===!1||A===!0&&E.hasOwnProperty(w))&&Hs(Rt[w])},di=function(w){w.objectNumber=fn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[k(w.x),k(w.y),k(w.x+w.width),k(w.y+w.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var fe=w.pages[1].join(`
`);rr({data:fe,additionalKeyValues:V,objectId:w.objectNumber}),xe("endobj")},yn=function(){for(var w in un)un.hasOwnProperty(w)&&di(un[w])},qo=function(w,V){var fe,ve=[],Te=1/(V-1);for(fe=0;fe<1;fe+=Te)ve.push(fe);if(ve.push(1),w[0].offset!=0){var Fe={offset:0,color:w[0].color};w.unshift(Fe)}if(w[w.length-1].offset!=1){var Ve={offset:1,color:w[w.length-1].color};w.push(Ve)}for(var ct="",At=0,jt=0;jt<ve.length;jt++){for(fe=ve[jt];fe>w[At+1].offset;)At++;var kt=w[At].offset,en=(fe-kt)/(w[At+1].offset-kt),Wn=w[At].color,Sn=w[At+1].color;ct+=pe(Math.round((1-en)*Wn[0]+en*Sn[0]).toString(16))+pe(Math.round((1-en)*Wn[1]+en*Sn[1]).toString(16))+pe(Math.round((1-en)*Wn[2]+en*Sn[2]).toString(16))}return ct.trim()},da=function(w,V){V||(V=21);var fe=fn(),ve=qo(w.colors,V),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+V+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rr({data:ve,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),xe("endobj"),w.objectNumber=fn(),xe("<< /ShadingType "+w.type),xe("/ColorSpace /DeviceRGB");var Fe="/Coords ["+k(parseFloat(w.coords[0]))+" "+k(parseFloat(w.coords[1]))+" ";w.type===2?Fe+=k(parseFloat(w.coords[2]))+" "+k(parseFloat(w.coords[3])):Fe+=k(parseFloat(w.coords[2]))+" "+k(parseFloat(w.coords[3]))+" "+k(parseFloat(w.coords[4]))+" "+k(parseFloat(w.coords[5])),xe(Fe+="]"),w.matrix&&xe("/Matrix ["+w.matrix.toString()+"]"),xe("/Function "+fe+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Go=function(w,V){var fe=Ln(),ve=fn();V.push({resourcesOid:fe,objectOid:ve}),w.objectNumber=ve;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+w.boundingBox.map(k).join(" ")+"]"}),Te.push({key:"XStep",value:k(w.xStep)}),Te.push({key:"YStep",value:k(w.yStep)}),Te.push({key:"Resources",value:fe+" 0 R"}),w.matrix&&Te.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),rr({data:w.stream,additionalKeyValues:Te,objectId:w.objectNumber}),xe("endobj")},qe=function(w){var V;for(V in an)an.hasOwnProperty(V)&&(an[V]instanceof vo?da(an[V]):an[V]instanceof hl&&Go(an[V],w))},Rl=function(w){for(var V in w.objectNumber=fn(),xe("<<"),w)switch(V){case"opacity":xe("/ca "+ge(w[V]));break;case"stroke-opacity":xe("/CA "+ge(w[V]))}xe(">>"),xe("endobj")},Un=function(){var w;for(w in Gn)Gn.hasOwnProperty(w)&&Rl(Gn[w])},ga=function(){for(var w in xe("/XObject <<"),un)un.hasOwnProperty(w)&&un[w].objectNumber>=0&&xe("/"+w+" "+un[w].objectNumber+" 0 R");Gt.publish("putXobjectDict"),xe(">>")},Pc=function(){Si.oid=fn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+Si.v),xe("/R "+Si.r),xe("/U <"+Si.toHexString(Si.U)+">"),xe("/O <"+Si.toHexString(Si.O)+">"),xe("/P "+Si.P),xe(">>"),xe("endobj")},on=function(){for(var w in xe("/Font <<"),Rt)Rt.hasOwnProperty(w)&&(A===!1||A===!0&&E.hasOwnProperty(w))&&xe("/"+w+" "+Rt[w].objectNumber+" 0 R");xe(">>")},ln=function(){if(Object.keys(an).length>0){for(var w in xe("/Shading <<"),an)an.hasOwnProperty(w)&&an[w]instanceof vo&&an[w].objectNumber>=0&&xe("/"+w+" "+an[w].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),xe(">>")}},Vt=function(w){if(Object.keys(an).length>0){for(var V in xe("/Pattern <<"),an)an.hasOwnProperty(V)&&an[V]instanceof b.TilingPattern&&an[V].objectNumber>=0&&an[V].objectNumber<w&&xe("/"+V+" "+an[V].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),xe(">>")}},Vo=function(){if(Object.keys(Gn).length>0){var w;for(w in xe("/ExtGState <<"),Gn)Gn.hasOwnProperty(w)&&Gn[w].objectNumber>=0&&xe("/"+w+" "+Gn[w].objectNumber+" 0 R");Gt.publish("putGStateDict"),xe(">>")}},Yn=function(w){Pn(w.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),on(),ln(),Vt(w.objectOid),Vo(),ga(),xe(">>"),xe("endobj")},qs=function(){var w=[];ar(),Un(),yn(),qe(w),Gt.publish("putResources"),w.forEach(Yn),Yn({resourcesOid:Cr,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources")},Jn=function(){Gt.publish("putAdditionalObjects");for(var w=0;w<$e.length;w++){var V=$e[w];Pn(V.objId,!0),xe(V.content),xe("endobj")}Gt.publish("postPutAdditionalObjects")},Xr=function(w){Tt[w.fontName]=Tt[w.fontName]||{},Tt[w.fontName][w.fontStyle]=w.id},Yo=function(w,V,fe,ve,Te){var Fe={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:w,fontName:V,fontStyle:fe,encoding:ve,isStandardFont:Te||!1,metadata:{}};return Gt.publish("addFont",{font:Fe,instance:this}),Rt[Fe.id]=Fe,Xr(Fe),Fe.id},Xn=function(w){for(var V=0,fe=Ue.length;V<fe;V++){var ve=Yo.call(this,w[V][0],w[V][1],w[V][2],Ue[V][3],!0);A===!1&&(E[ve]=!0);var Te=w[V][0].split("-");Xr({id:ve,fontName:Te[0],fontStyle:Te[1]||""})}Gt.publish("addFonts",{fonts:Rt,dictionary:Tt})},Mi=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ve){var V=ve.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var fe="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Mt.console)throw new Error(fe);Mt.console.error(fe,ve),Mt.alert&&alert(fe)}},w.foo.bar=w,w.foo},Gs=function(w,V){var fe,ve,Te,Fe,Ve,ct,At,jt,kt;if(Te=(V=V||{}).sourceEncoding||"Unicode",Ve=V.outputEncoding,(V.autoencode||Ve)&&Rt[Wt].metadata&&Rt[Wt].metadata[Te]&&Rt[Wt].metadata[Te].encoding&&(Fe=Rt[Wt].metadata[Te].encoding,!Ve&&Rt[Wt].encoding&&(Ve=Rt[Wt].encoding),!Ve&&Fe.codePages&&(Ve=Fe.codePages[0]),typeof Ve=="string"&&(Ve=Fe[Ve]),Ve)){for(At=!1,ct=[],fe=0,ve=w.length;fe<ve;fe++)(jt=Ve[w.charCodeAt(fe)])?ct.push(String.fromCharCode(jt)):ct.push(w[fe]),ct[fe].charCodeAt(0)>>8&&(At=!0);w=ct.join("")}for(fe=w.length;At===void 0&&fe!==0;)w.charCodeAt(fe-1)>>8&&(At=!0),fe--;if(!At)return w;for(ct=V.noBOM?[]:[254,255],fe=0,ve=w.length;fe<ve;fe++){if((kt=(jt=w.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(kt),ct.push(jt-(kt<<8))}return String.fromCharCode.apply(void 0,ct)},bi=b.__private__.pdfEscape=b.pdfEscape=function(w,V){return Gs(w,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xn=b.__private__.beginPage=function(w){Ye[++Vn]=[],Bt[Vn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},ce(Vn),je(Ye[te])},Ai=function(w,V){var fe,ve,Te;switch(n=V||n,typeof w=="string"&&(fe=I(w.toLowerCase()),Array.isArray(fe)&&(ve=fe[0],Te=fe[1])),Array.isArray(w)&&(ve=w[0]*st,Te=w[1]*st),isNaN(ve)&&(ve=s[0],Te=s[1]),(ve>14400||Te>14400)&&(jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Te=Math.min(14400,Te)),s=[ve,Te],n.substr(0,1)){case"l":Te>ve&&(s=[Te,ve]);break;case"p":ve>Te&&(s=[Te,ve])}xn(s),ji(Ba),xe(Br),oi!==0&&xe(oi+" J"),Qa!==0&&xe(Qa+" j"),Gt.publish("addPage",{pageNumber:Vn})},Ie=function(w){w>0&&w<=Vn&&(Ye.splice(w,1),Bt.splice(w,1),Vn--,te>Vn&&(te=Vn),this.setPage(te))},ce=function(w){w>0&&w<=Vn&&(te=w)},vt=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ye.length-1},si=function(w,V,fe){var ve,Te=void 0;return fe=fe||{},w=w!==void 0?w:Rt[Wt].fontName,V=V!==void 0?V:Rt[Wt].fontStyle,ve=w.toLowerCase(),Tt[ve]!==void 0&&Tt[ve][V]!==void 0?Te=Tt[ve][V]:Tt[w]!==void 0&&Tt[w][V]!==void 0?Te=Tt[w][V]:fe.disableWarning===!1&&jn.warn("Unable to look up font label for font '"+w+"', '"+V+"'. Refer to getFontList() for available fonts."),Te||fe.noFallback||(Te=Tt.times[V])==null&&(Te=Tt.times.normal),Te},hr=b.__private__.putInfo=function(){var w=fn(),V=function(ve){return ve};for(var fe in S!==null&&(V=Si.encryptor(w,0)),xe("<<"),xe("/Producer ("+bi(V("jsPDF "+It.version))+")"),pt)pt.hasOwnProperty(fe)&&pt[fe]&&xe("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+bi(V(pt[fe]))+")");xe("/CreationDate ("+bi(V($))+")"),xe(">>"),xe("endobj")},Xo=b.__private__.putCatalog=function(w){var V=(w=w||{}).rootDictionaryObjId||fr;switch(fn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+V+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+Pe;fe.substr(fe.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+ge(Pe)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}Ct&&xe("/PageMode /"+Ct),Gt.publish("putCatalog"),xe(">>"),xe("endobj")},Wo=b.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(ue+1)),xe("/Root "+ue+" 0 R"),xe("/Info "+(ue-1)+" 0 R"),S!==null&&xe("/Encrypt "+Si.oid+" 0 R"),xe("/ID [ <"+W+"> <"+W+"> ]"),xe(">>")},dr=b.__private__.putHeader=function(){xe("%PDF-"+R),xe("%")},St=b.__private__.putXRef=function(){var w="0000000000";xe("xref"),xe("0 "+(ue+1)),xe("0000000000 65535 f ");for(var V=1;V<=ue;V++)typeof _e[V]=="function"?xe((w+_e[V]()).slice(-10)+" 00000 n "):_e[V]!==void 0?xe((w+_e[V]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},gn=b.__private__.buildDocument=function(){Nt(),je(Ee),Gt.publish("buildDocument"),dr(),gs(),Jn(),qs(),S!==null&&Pc(),hr(),Xo();var w=De;return St(),Wo(),xe("startxref"),xe(""+w),xe("%%EOF"),je(Ye[te]),Ee.join(`
`)},ps=b.__private__.getBlob=function(w){return new Blob([tt(w)],{type:"application/pdf"})},Vs=b.output=b.__private__.output=Mi(function(w,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",w){case void 0:return gn();case"save":b.save(V.filename);break;case"arraybuffer":return tt(gn());case"blob":return ps(gn());case"bloburi":case"bloburl":if(Mt.URL!==void 0&&typeof Mt.URL.createObjectURL=="function")return Mt.URL&&Mt.URL.createObjectURL(ps(gn()))||void 0;jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ve=gn();try{fe=Ad(ve)}catch{fe=Ad(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+V.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Te=V.pdfObjectUrl,Fe="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ct=Mt.open();return ct!==null&&ct.document.write(Ve),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',jt=Mt.open();if(jt!==null){jt.document.write(At);var kt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=V.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Wn=Mt.open();if(Wn!==null&&(Wn.document.write(en),Wn.document.title=V.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return Mt.document.location.href=this.output("datauristring",V);default:return null}}),Ys=function(w){return Array.isArray(Oa)===!0&&Oa.indexOf(w)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);st=r}var Si=null;Oe(),ne();var Zo=function(w){return S!==null?Si.encryptor(w,0):function(V){return V}},Bl=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[w].objId,pageNumber:w,pageContext:Bt[w]}},gt=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Bt)if(Bt[V].objId===w)break;return Bl(V)},ms=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Bt[te].objId,pageNumber:te,pageContext:Bt[te]}};b.addPage=function(){return Ai.apply(this,arguments),this},b.setPage=function(){return ce.apply(this,arguments),je.call(this,Ye[te]),this},b.insertPage=function(w){return this.addPage(),this.movePage(te,w),this},b.movePage=function(w,V){var fe,ve;if(w>V){fe=Ye[w],ve=Bt[w];for(var Te=w;Te>V;Te--)Ye[Te]=Ye[Te-1],Bt[Te]=Bt[Te-1];Ye[V]=fe,Bt[V]=ve,this.setPage(V)}else if(w<V){fe=Ye[w],ve=Bt[w];for(var Fe=w;Fe<V;Fe++)Ye[Fe]=Ye[Fe+1],Bt[Fe]=Bt[Fe+1];Ye[V]=fe,Bt[V]=ve,this.setPage(V)}return this},b.deletePage=function(){return Ie.apply(this,arguments),this},b.__private__.text=b.text=function(w,V,fe,ve,Te){var Fe,Ve,ct,At,jt,kt,en,Wn,Sn,ei=(ve=ve||{}).scope||this;if(typeof w=="number"&&typeof V=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Wi=fe;fe=V,V=w,w=Wi}if(arguments[3]instanceof yt?(U("The transform parameter of text() with a Matrix value"),Sn=Te):(ct=arguments[4],At=arguments[5],In(en=arguments[3])==="object"&&en!==null||(typeof ct=="string"&&(At=ct,ct=null),typeof en=="string"&&(At=en,en=null),typeof en=="number"&&(ct=en,en=null),ve={flags:en,angle:ct,align:At})),isNaN(V)||isNaN(fe)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return ei;var ti="",Zr=!1,gi=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Wa,Tr=ei.internal.scaleFactor;function sr(zn){return zn=zn.split("	").join(Array(ve.TabLen||9).join(" ")),bi(zn,en)}function Zs(zn){for(var Hn,Ci=zn.concat(),Fi=[],ws=Ci.length;ws--;)typeof(Hn=Ci.shift())=="string"?Fi.push(Hn):Array.isArray(zn)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?Fi.push(Hn[0]):Fi.push([Hn[0],Hn[1],Hn[2]]);return Fi}function mr(zn,Hn){var Ci;if(typeof zn=="string")Ci=Hn(zn)[0];else if(Array.isArray(zn)){for(var Fi,ws,zc=zn.concat(),Pl=[],uf=zc.length;uf--;)typeof(Fi=zc.shift())=="string"?Pl.push(Hn(Fi)[0]):Array.isArray(Fi)&&typeof Fi[0]=="string"&&(ws=Hn(Fi[0],Fi[1],Fi[2]),Pl.push([ws[0],ws[1],ws[2]]));Ci=Pl}return Ci}var Qs=!1,ys=!0;if(typeof w=="string")Qs=!0;else if(Array.isArray(w)){var al=w.concat();Ve=[];for(var vs,Mn=al.length;Mn--;)(typeof(vs=al.shift())!="string"||Array.isArray(vs)&&typeof vs[0]!="string")&&(ys=!1);Qs=ys}if(Qs===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ks=nt/ei.internal.scaleFactor,$a=Ks*(gi-1);switch(ve.baseline){case"bottom":fe-=$a;break;case"top":fe+=Ks-$a;break;case"hanging":fe+=Ks-2*$a;break;case"middle":fe+=Ks/2-$a}if((kt=ve.maxWidth||0)>0&&(typeof w=="string"?w=ei.splitTextToSize(w,kt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(zn,Hn){return zn.concat(ei.splitTextToSize(Hn,kt))},[]))),Fe={text:w,x:V,y:fe,options:ve,mutex:{pdfEscape:bi,activeFontKey:Wt,fonts:Rt,activeFontSize:nt}},Gt.publish("preProcessText",Fe),w=Fe.text,ct=(ve=Fe.options).angle,!(Sn instanceof yt)&&ct&&typeof ct=="number"){ct*=Math.PI/180,ve.rotationDirection===0&&(ct=-ct),L===T.ADVANCED&&(ct=-ct);var ya=Math.cos(ct),Qt=Math.sin(ct);Sn=new yt(ya,Qt,-Qt,ya,0,0)}else ct&&ct instanceof yt&&(Sn=ct);L!==T.ADVANCED||Sn||(Sn=Vi),(jt=ve.charSpace||Re)!==void 0&&(ti+=k(j(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=ve.horizontalScale)!==void 0&&(ti+=k(100*Wn)+` Tz
`),ve.lang;var ki=-1,H=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,i=ei.internal.getCurrentPageInfo().pageContext;switch(H){case 0:case!1:case"fill":ki=0;break;case 1:case!0:case"stroke":ki=1;break;case 2:case"fillThenStroke":ki=2;break;case 3:case"invisible":ki=3;break;case 4:case"fillAndAddForClipping":ki=4;break;case 5:case"strokeAndAddPathForClipping":ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ki=6;break;case 7:case"addToPathForClipping":ki=7}var a=i.usedRenderingMode!==void 0?i.usedRenderingMode:-1;ki!==-1?ti+=ki+` Tr
`:a!==-1&&(ti+=`0 Tr
`),ki!==-1&&(i.usedRenderingMode=ki),At=ve.align||"left";var l,c=nt*gi,u=ei.internal.pageSize.getWidth(),h=Rt[Wt];jt=ve.charSpace||Re,kt=ve.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var p=[],v=function(zn){return ei.getStringUnitWidth(zn,{font:h,charSpace:jt,fontSize:nt,doKerning:!1})*nt/Tr};if(Object.prototype.toString.call(w)==="[object Array]"){var N;Ve=Zs(w),At!=="left"&&(l=Ve.map(v));var O,z=0;if(At==="right"){V-=l[0],w=[],Mn=Ve.length;for(var Q=0;Q<Mn;Q++)Q===0?(O=xa(V),N=ja(fe)):(O=j(z-l[Q]),N=-c),w.push([Ve[Q],O,N]),z=l[Q]}else if(At==="center"){V-=l[0]/2,w=[],Mn=Ve.length;for(var he=0;he<Mn;he++)he===0?(O=xa(V),N=ja(fe)):(O=j((z-l[he])/2),N=-c),w.push([Ve[he],O,N]),z=l[he]}else if(At==="left"){w=[],Mn=Ve.length;for(var ye=0;ye<Mn;ye++)w.push(Ve[ye])}else if(At==="justify"&&h.encoding==="Identity-H"){w=[],Mn=Ve.length,kt=kt!==0?kt:u;for(var we=0,Ne=0;Ne<Mn;Ne++)if(N=Ne===0?ja(fe):-c,O=Ne===0?xa(V):we,Ne<Mn-1){var Be=j((kt-l[Ne])/(Ve[Ne].split(" ").length-1)),Ze=Ve[Ne].split(" ");w.push([Ze[0]+" ",O,N]),we=0;for(var Je=1;Je<Ze.length;Je++){var Qe=(v(Ze[Je-1]+" "+Ze[Je])-v(Ze[Je]))*Tr+Be;Je==Ze.length-1?w.push([Ze[Je],Qe,0]):w.push([Ze[Je]+" ",Qe,0]),we-=Qe}}else w.push([Ve[Ne],O,N]);w.push(["",we,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Mn=Ve.length,kt=kt!==0?kt:u,Ne=0;Ne<Mn;Ne++)N=Ne===0?ja(fe):-c,O=Ne===0?xa(V):0,Ne<Mn-1?p.push(k(j((kt-l[Ne])/(Ve[Ne].split(" ").length-1)))):p.push(0),w.push([Ve[Ne],O,N])}}var Xt=typeof ve.R2L=="boolean"?ve.R2L:bt;Xt===!0&&(w=mr(w,function(zn,Hn,Ci){return[zn.split("").reverse().join(""),Hn,Ci]})),Fe={text:w,x:V,y:fe,options:ve,mutex:{pdfEscape:bi,activeFontKey:Wt,fonts:Rt,activeFontSize:nt}},Gt.publish("postProcessText",Fe),w=Fe.text,Zr=Fe.mutex.isHex||!1;var Dt=Rt[Wt].encoding;Dt!=="WinAnsiEncoding"&&Dt!=="StandardEncoding"||(w=mr(w,function(zn,Hn,Ci){return[sr(zn),Hn,Ci]})),Ve=Zs(w),w=[];for(var pi,Pi,ci,cn=0,ni=1,Ni=Array.isArray(Ve[0])?ni:cn,_r="",va=function(zn,Hn,Ci){var Fi="";return Ci instanceof yt?(Ci=typeof ve.angle=="number"?Yr(Ci,new yt(1,0,0,1,zn,Hn)):Yr(new yt(1,0,0,1,zn,Hn),Ci),L===T.ADVANCED&&(Ci=Yr(new yt(1,0,0,-1,0,0),Ci)),Fi=Ci.join(" ")+` Tm
`):Fi=k(zn)+" "+k(Hn)+` Td
`,Fi},jr=0;jr<Ve.length;jr++){switch(_r="",Ni){case ni:ci=(Zr?"<":"(")+Ve[jr][0]+(Zr?">":")"),pi=parseFloat(Ve[jr][1]),Pi=parseFloat(Ve[jr][2]);break;case cn:ci=(Zr?"<":"(")+Ve[jr]+(Zr?">":")"),pi=xa(V),Pi=ja(fe)}p!==void 0&&p[jr]!==void 0&&(_r=p[jr]+` Tw
`),jr===0?w.push(_r+va(pi,Pi,Sn)+ci):Ni===cn?w.push(_r+ci):Ni===ni&&w.push(_r+va(pi,Pi,Sn)+ci)}w=Ni===cn?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var kr=`BT
/`;return kr+=Wt+" "+nt+` Tf
`,kr+=k(nt*gi)+` TL
`,kr+=gr+`
`,kr+=ti,kr+=w,xe(kr+="ET"),E[Wt]=!0,ei};var pa=b.__private__.clip=b.clip=function(w){return xe(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return pa("evenodd")},b.__private__.discardPath=b.discardPath=function(){return xe("n"),this};var wt=b.__private__.isValidStyle=function(w){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(V=!0),V};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return wt(w)&&(x=w),this};var jl=b.__private__.getStyle=b.getStyle=function(w){var V=x;switch(w){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=w}return V},Ft=b.close=function(){return xe("h"),this};b.stroke=function(){return xe("S"),this},b.fill=function(w){return $n("f",w),this},b.fillEvenOdd=function(w){return $n("f*",w),this},b.fillStroke=function(w){return $n("B",w),this},b.fillStrokeEvenOdd=function(w){return $n("B*",w),this};var $n=function(w,V){In(V)==="object"?kl(V,w):xe(w)},Qo=function(w){w===null||L===T.ADVANCED&&w===void 0||(w=jl(w),xe(w))};function Ko(w,V,fe,ve,Te){var Fe=new hl(V||this.boundingBox,fe||this.xStep,ve||this.yStep,this.gState,Te||this.matrix);Fe.stream=this.stream;var Ve=w+"$$"+this.cloneIndex+++"$$";return Yi(Ve,Fe),Fe}var kl=function(w,V){var fe=Da[w.key],ve=an[fe];if(ve instanceof vo)xe("q"),xe(Ra(V)),ve.gState&&b.setGState(ve.gState),xe(w.matrix.toString()+" cm"),xe("/"+fe+" sh"),xe("Q");else if(ve instanceof hl){var Te=new yt(1,0,0,-1,0,pr());w.matrix&&(Te=Te.multiply(w.matrix||Vi),fe=Ko.call(ve,w.key,w.boundingBox,w.xStep,w.yStep,Te).id),xe("q"),xe("/Pattern cs"),xe("/"+fe+" scn"),ve.gState&&b.setGState(ve.gState),xe(V),xe("Q")}},Ra=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jo=b.moveTo=function(w,V){return xe(k(j(w))+" "+k(le(V))+" m"),this},Wr=b.lineTo=function(w,V){return xe(k(j(w))+" "+k(le(V))+" l"),this},Rr=b.curveTo=function(w,V,fe,ve,Te,Fe){return xe([k(j(w)),k(le(V)),k(j(fe)),k(le(ve)),k(j(Te)),k(le(Fe)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,V,fe,ve,Te){if(isNaN(w)||isNaN(V)||isNaN(fe)||isNaN(ve)||!wt(Te))throw new Error("Invalid arguments passed to jsPDF.line");return L===T.COMPAT?this.lines([[fe-w,ve-V]],w,V,[1,1],Te||"S"):this.lines([[fe-w,ve-V]],w,V,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,V,fe,ve,Te,Fe){var Ve,ct,At,jt,kt,en,Wn,Sn,ei,Wi,ti,Zr;if(typeof w=="number"&&(Zr=fe,fe=V,V=w,w=Zr),ve=ve||[1,1],Fe=Fe||!1,isNaN(V)||isNaN(fe)||!Array.isArray(w)||!Array.isArray(ve)||!wt(Te)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jo(V,fe),Ve=ve[0],ct=ve[1],jt=w.length,Wi=V,ti=fe,At=0;At<jt;At++)(kt=w[At]).length===2?(Wi=kt[0]*Ve+Wi,ti=kt[1]*ct+ti,Wr(Wi,ti)):(en=kt[0]*Ve+Wi,Wn=kt[1]*ct+ti,Sn=kt[2]*Ve+Wi,ei=kt[3]*ct+ti,Wi=kt[4]*Ve+Wi,ti=kt[5]*ct+ti,Rr(en,Wn,Sn,ei,Wi,ti));return Fe&&Ft(),Qo(Te),this},b.path=function(w){for(var V=0;V<w.length;V++){var fe=w[V],ve=fe.c;switch(fe.op){case"m":Jo(ve[0],ve[1]);break;case"l":Wr(ve[0],ve[1]);break;case"c":Rr.apply(this,ve);break;case"h":Ft()}}return this},b.__private__.rect=b.rect=function(w,V,fe,ve,Te){if(isNaN(w)||isNaN(V)||isNaN(fe)||isNaN(ve)||!wt(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return L===T.COMPAT&&(ve=-ve),xe([k(j(w)),k(le(V)),k(j(fe)),k(j(ve)),"re"].join(" ")),Qo(Te),this},b.__private__.triangle=b.triangle=function(w,V,fe,ve,Te,Fe,Ve){if(isNaN(w)||isNaN(V)||isNaN(fe)||isNaN(ve)||isNaN(Te)||isNaN(Fe)||!wt(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-w,ve-V],[Te-fe,Fe-ve],[w-Te,V-Fe]],w,V,[1,1],Ve,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,V,fe,ve,Te,Fe,Ve){if(isNaN(w)||isNaN(V)||isNaN(fe)||isNaN(ve)||isNaN(Te)||isNaN(Fe)||!wt(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*fe),Fe=Math.min(Fe,.5*ve),this.lines([[fe-2*Te,0],[Te*ct,0,Te,Fe-Fe*ct,Te,Fe],[0,ve-2*Fe],[0,Fe*ct,-Te*ct,Fe,-Te,Fe],[2*Te-fe,0],[-Te*ct,0,-Te,-Fe*ct,-Te,-Fe],[0,2*Fe-ve],[0,-Fe*ct,Te*ct,-Fe,Te,-Fe]],w+Te,V,[1,1],Ve,!0),this},b.__private__.ellipse=b.ellipse=function(w,V,fe,ve,Te){if(isNaN(w)||isNaN(V)||isNaN(fe)||isNaN(ve)||!wt(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*fe,Ve=4/3*(Math.SQRT2-1)*ve;return Jo(w+fe,V),Rr(w+fe,V-Ve,w+Fe,V-ve,w,V-ve),Rr(w-Fe,V-ve,w-fe,V-Ve,w-fe,V),Rr(w-fe,V+Ve,w-Fe,V+ve,w,V+ve),Rr(w+Fe,V+ve,w+fe,V+Ve,w+fe,V),Qo(Te),this},b.__private__.circle=b.circle=function(w,V,fe,ve){if(isNaN(w)||isNaN(V)||isNaN(fe)||!wt(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,V,fe,fe,ve)},b.setFont=function(w,V,fe){return fe&&(V=re(V,fe)),Wt=si(w,V,{disableWarning:!1}),this};var xs=b.__private__.getFont=b.getFont=function(){return Rt[si.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,V,fe={};for(w in Tt)if(Tt.hasOwnProperty(w))for(V in fe[w]=[],Tt[w])Tt[w].hasOwnProperty(V)&&fe[w].push(V);return fe},b.addFont=function(w,V,fe,ve,Te){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(fe=re(fe,ve)),Te=Te||"Identity-H",Yo.call(this,w,V,fe,Te)};var Wa,Ba=e.lineWidth||.200025,ma=b.__private__.getLineWidth=b.getLineWidth=function(){return Ba},ji=b.__private__.setLineWidth=b.setLineWidth=function(w){return Ba=w,xe(k(j(w))+" w"),this};b.__private__.setLineDash=It.API.setLineDash=It.API.setLineDashPattern=function(w,V){if(w=w||[],V=V||0,isNaN(V)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(fe){return k(j(fe))}).join(" "),V=k(j(V)),xe("["+w+"] "+V+" d"),this};var $o=b.__private__.getLineHeight=b.getLineHeight=function(){return nt*Wa};b.__private__.getLineHeight=b.getLineHeight=function(){return nt*Wa};var el=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Wa=w),this},tl=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Wa};el(e.lineHeight);var xa=b.__private__.getHorizontalCoordinate=function(w){return j(w)},ja=b.__private__.getVerticalCoordinate=function(w){return L===T.ADVANCED?w:Bt[te].mediaBox.topRightY-Bt[te].mediaBox.bottomLeftY-j(w)},Fc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return k(xa(w))},$t=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return k(ja(w))},Br=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Fn(Br)},b.__private__.setStrokeColor=b.setDrawColor=function(w,V,fe,ve){return Br=Xi({ch1:w,ch2:V,ch3:fe,ch4:ve,pdfColorType:"draw",precision:2}),xe(Br),this};var Za=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Fn(Za)},b.__private__.setFillColor=b.setFillColor=function(w,V,fe,ve){return Za=Xi({ch1:w,ch2:V,ch3:fe,ch4:ve,pdfColorType:"fill",precision:2}),xe(Za),this};var gr=e.textColor||"0 g",Uc=b.__private__.getTextColor=b.getTextColor=function(){return Fn(gr)};b.__private__.setTextColor=b.setTextColor=function(w,V,fe,ve){return gr=Xi({ch1:w,ch2:V,ch3:fe,ch4:ve,pdfColorType:"text",precision:3}),this};var Re=e.charSpace,qt=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Re||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Re=w,this};var oi=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var V=b.CapJoinStyles[w];if(V===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oi=V,xe(V+" J"),this};var Qa=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var V=b.CapJoinStyles[w];if(V===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=V,xe(V+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(k(j(w))+" M"),this},b.GState=Vu,b.setGState=function(w){(w=typeof w=="string"?Gn[Ht[w]]:nl(null,w)).equals(nr)||(xe("/"+w.id+" gs"),nr=w)};var nl=function(w,V){if(!w||!Ht[w]){var fe=!1;for(var ve in Gn)if(Gn.hasOwnProperty(ve)&&Gn[ve].equals(V)){fe=!0;break}if(fe)V=Gn[ve];else{var Te="GS"+(Object.keys(Gn).length+1).toString(10);Gn[Te]=V,V.id=Te}return w&&(Ht[w]=V.id),Gt.publish("addGState",V),V}};b.addGState=function(w,V){return nl(w,V),this},b.saveGraphicsState=function(){return xe("q"),dn.push({key:Wt,size:nt,color:gr}),this},b.restoreGraphicsState=function(){xe("Q");var w=dn.pop();return Wt=w.key,nt=w.size,gr=w.color,nr=null,this},b.setCurrentTransformationMatrix=function(w){return xe(w.toString()+" cm"),this},b.comment=function(w){return xe("#"+w),this};var Xs=function(w,V){var fe=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=parseFloat(Fe))}});var ve=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Fe){isNaN(Fe)||(ve=parseFloat(Fe))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Fe){Te=Fe.toString()}}),this},il=function(w,V,fe,ve){Xs.call(this,w,V),this.type="rect";var Te=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(Ve){isNaN(Ve)||(Te=parseFloat(Ve))}});var Fe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ve){isNaN(Ve)||(Fe=parseFloat(Ve))}}),this},rl=function(){this.page=Vn,this.currentPage=te,this.pages=Ye.slice(0),this.pagesContext=Bt.slice(0),this.x=Gi,this.y=Et,this.matrix=et,this.width=An(te),this.height=pr(te),this.outputDestination=We,this.id="",this.objectNumber=-1};rl.prototype.restore=function(){Vn=this.page,te=this.currentPage,Bt=this.pagesContext,Ye=this.pages,Gi=this.x,Et=this.y,et=this.matrix,Ja(te,this.width),pn(te,this.height),We=this.outputDestination};var Ws=function(w,V,fe,ve,Te){Nr.push(new rl),Vn=te=0,Ye=[],Gi=w,Et=V,et=Te,xn([fe,ve])},li=function(w){if(ir[w])Nr.pop().restore();else{var V=new rl,fe="Xo"+(Object.keys(un).length+1).toString(10);V.id=fe,ir[w]=fe,un[fe]=V,Gt.publish("addFormObject",V),Nr.pop().restore()}};for(var Ka in b.beginFormObject=function(w,V,fe,ve,Te){return Ws(w,V,fe,ve,Te),this},b.endFormObject=function(w){return li(w),this},b.doFormObject=function(w,V){var fe=un[ir[w]];return xe("q"),xe(V.toString()+" cm"),xe("/"+fe.id+" Do"),xe("Q"),this},b.getFormObject=function(w){var V=un[ir[w]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},b.save=function(w,V){return w=w||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(fl(ps(gn()),w),typeof fl.unload=="function"&&Mt.setTimeout&&setTimeout(fl.unload,911),this):new Promise(function(fe,ve){try{var Te=fl(ps(gn()),w);typeof fl.unload=="function"&&Mt.setTimeout&&setTimeout(fl.unload,911),fe(Te)}catch(Fe){ve(Fe.message)}})},It.API)It.API.hasOwnProperty(Ka)&&(Ka==="events"&&It.API.events.length?function(w,V){var fe,ve,Te;for(Te=V.length-1;Te!==-1;Te--)fe=V[Te][0],ve=V[Te][1],w.subscribe.apply(w,[fe].concat(typeof ve=="function"?[ve]:ve))}(Gt,It.API.events):b[Ka]=It.API[Ka]);var An=b.getPageWidth=function(w){return(Bt[w=w||te].mediaBox.topRightX-Bt[w].mediaBox.bottomLeftX)/st},Ja=b.setPageWidth=function(w,V){Bt[w].mediaBox.topRightX=V*st+Bt[w].mediaBox.bottomLeftX},pr=b.getPageHeight=function(w){return(Bt[w=w||te].mediaBox.topRightY-Bt[w].mediaBox.bottomLeftY)/st},pn=b.setPageHeight=function(w,V){Bt[w].mediaBox.topRightY=V*st+Bt[w].mediaBox.bottomLeftY};return b.internal={pdfEscape:bi,getStyle:jl,getFont:xs,getFontSize:rt,getCharSpace:qt,getTextColor:Uc,getLineHeight:$o,getLineHeightFactor:tl,getLineWidth:ma,write:xt,getHorizontalCoordinate:xa,getVerticalCoordinate:ja,getCoordinateString:Fc,getVerticalCoordinateString:$t,collections:{},newObject:fn,newAdditionalObject:ut,newObjectDeferred:Ln,newObjectDeferredBegin:Pn,getFilters:Er,putStream:rr,events:Gt,scaleFactor:st,pageSize:{getWidth:function(){return An(te)},setWidth:function(w){Ja(te,w)},getHeight:function(){return pr(te)},setHeight:function(w){pn(te,w)}},encryptionOptions:S,encryption:Si,getEncryptor:Zo,output:Vs,getNumberOfPages:vt,pages:Ye,out:xe,f2:ge,f3:F,getPageInfo:Bl,getPageInfoByObjId:gt,getCurrentPageInfo:ms,getPDFVersion:M,Point:Xs,Rectangle:il,Matrix:yt,hasHotfix:Ys},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return An(te)},set:function(w){Ja(te,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return pr(te)},set:function(w){pn(te,w)},enumerable:!0,configurable:!0}),Xn.call(b,Ue),Wt="F1",Ai(s,n),Gt.publish("initialized"),b}Kl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Kl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Kl.prototype.processOwnerPassword=function(e,t){return Nd(Sd(t).substr(0,5),e)},Kl.prototype.encryptor=function(e,t){var n=Sd(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Nd(n,r)}},Vu.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||In(e)!==In(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},It.API={events:[]},It.version="2.5.2";var xi=It.API,B2=1,Ol=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zt=function(e){return e.toFixed(2)},lo=function(e){return e.toFixed(5)};xi.__acroform__={};var Vr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Zp=function(e){return e*B2},ns=function(e){var t=new U3,n=dt.internal.getHeight(e)||0,r=dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(zt(r)),Number(zt(n))],t},Tb=xi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},_b=xi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Ib=xi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_i=xi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ib(e,t-1)},Ii=xi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Tb(e,t-1)},Li=xi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _b(e,t-1)},Lb=xi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],o=e[1],f=e[2],d=e[3],m={};return m.lowerLeft_X=n(s)||0,m.lowerLeft_Y=r(o+d)||0,m.upperRight_X=n(s+f)||0,m.upperRight_Y=r(o)||0,[Number(zt(m.lowerLeft_X)),Number(zt(m.lowerLeft_Y)),Number(zt(m.upperRight_X)),Number(zt(m.upperRight_Y))]},Mb=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Cd(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+zt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=ns(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},Cd=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(F){return F.split(`
`)}):s.map(function(F){return[F]});var o=n,f=dt.internal.getHeight(e)||0;f=f<0?-f:f;var d=dt.internal.getWidth(e)||0;d=d<0?-d:d;var m=function(F,j,se){if(F+1<s.length){var le=j+" "+s[F+1][0];return Xf(le,e,se).width<=d-4}return!1};o++;e:for(;o>0;){t="",o--;var x,S,A=Xf("3",e,o).height,E=e.multiline?f-o:(f-A)/2,b=E+=2,R=0,M=0,q=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Xf(t,e,o=12).width+", FieldWidth:"+d+`
`;break}for(var I="",T=0,L=0;L<s.length;L++)if(s.hasOwnProperty(L)){var B=!1;if(s[L].length!==1&&q!==s[L].length-1){if((A+2)*(T+2)+2>f)continue e;I+=s[L][q],B=!0,M=L,L--}else{I=(I+=s[L][q]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var X=parseInt(L),re=m(X,I,o),k=L>=s.length-1;if(re&&!k){I+=" ",q=0;continue}if(re||k){if(k)M=X;else if(e.multiline&&(A+2)*(T+2)+2>f)continue e}else{if(!e.multiline||(A+2)*(T+2)+2>f)continue e;M=X}}for(var U="",J=R;J<=M;J++){var ge=s[J];if(e.multiline){if(J===M){U+=ge[q]+" ",q=(q+1)%ge.length;continue}if(J===R){U+=ge[ge.length-1]+" ";continue}}U+=ge[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,S=Xf(U,e,o).width,e.textAlign){case"right":x=d-S-2;break;case"center":x=(d-S)/2;break;case"left":default:x=2}t+=zt(x)+" "+zt(b)+` Td
`,t+="("+Ol(U)+`) Tj
`,t+=-zt(x)+` 0 Td
`,b=-(o+2),S=0,R=B?M:M+1,T++,I=""}break}return r.text=t,r.fontSize=o,r},Xf=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Db={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ob=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Rb=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),In(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},Bb=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ya.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Db)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");B2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new z3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&Ob(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var o=!r;for(var f in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(f)){var d=r[f],m=[],x=d.Rect;if(d.Rect&&(d.Rect=Lb(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=dt.createDefaultAppearanceStream(d),In(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(m=d.getKeyValueListForStream()),d.Rect=x,d.hasAppearanceStream&&!d.appearanceStreamContent){var S=Mb(d);m.push({key:"AP",value:"<</N "+S+">>"}),s.internal.acroformPlugin.xForms.push(S)}if(d.appearanceStreamContent){var A="";for(var E in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(E)){var b=d.appearanceStreamContent[E];if(A+="/"+E+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var f in b)if(b.hasOwnProperty(f)){var R=b[f];typeof R=="function"&&(R=R.call(s,d)),A+="/"+f+" "+R+" ",s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R)}}else typeof(R=b)=="function"&&(R=R.call(s,d)),A+="/"+f+" "+R,s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R);A+=">>"}m.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:m,objectId:d.objId}),s.internal.out("endobj")}o&&Rb(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},F3=xi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(f){return f};if(Array.isArray(e)){for(var s="[",o=0;o<e.length;o++)switch(o!==0&&(s+=" "),In(e[o])){case"boolean":case"number":case"object":s+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Ol(r(e[o].toString()))+")"):s+=e[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xh=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ol(r(e))+")"},ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ss.prototype.toString=function(){return this.objId+" 0 R"},ss.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ss.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:F3(s,this.objId,this.scope)}):s instanceof ss?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var U3=function(){ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Vr(U3,ss);var z3=function(){ss.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ol(n(e))+")"}},set:function(n){e=n}})};Vr(z3,ss);var Ya=function e(){ss.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');t=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_i(t,3)},set:function(I){I?this.F=Ii(t,3):this.F=Li(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof z1)return;o="FieldObject"+e.FieldNum++}var I=function(T){return T};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Ol(I(o))+")"},set:function(I){o=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(I){o=I}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(I){d=I}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(I){m=I}});var x=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return x===void 0?50/B2:x},set:function(I){x=I}});var S="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return S},set:function(I){S=I}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof z1||this instanceof Ro))return xh(A,this.objId,this.scope)},set:function(I){I=I.toString(),A=I}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Ui?E:xh(E,this.objId,this.scope)},set:function(I){I=I.toString(),E=this instanceof Ui?I:I.substr(0,1)==="("?Vl(I.substr(1,I.length-2)):Vl(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui?Vl(E.substr(1,E.length-1)):E},set:function(I){I=I.toString(),E=this instanceof Ui?"/"+I:I}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ui?b:xh(b,this.objId,this.scope)},set:function(I){I=I.toString(),b=this instanceof Ui?I:I.substr(0,1)==="("?Vl(I.substr(1,I.length-2)):Vl(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui?Vl(b.substr(1,b.length-1)):b},set:function(I){I=I.toString(),b=this instanceof Ui?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(I){I=!!I,M=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(I){R=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,1)},set:function(I){I?this.Ff=Ii(this.Ff,1):this.Ff=Li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,2)},set:function(I){I?this.Ff=Ii(this.Ff,2):this.Ff=Li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,3)},set:function(I){I?this.Ff=Ii(this.Ff,3):this.Ff=Li(this.Ff,3)}});var q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(q!==null)return q},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');q=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(q){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:q=2;break;case"center":case 1:q=1;break;case"left":case 0:default:q=0}}})};Vr(Ya,ss);var wl=function(){Ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F3(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(o,f,d){d||(d=1);for(var m,x=[];m=f.exec(o);)x.push(m[d]);return x}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,18)},set:function(n){n?this.Ff=Ii(this.Ff,18):this.Ff=Li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ii(this.Ff,19):this.Ff=Li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,20)},set:function(n){n?(this.Ff=Ii(this.Ff,20),t.sort()):this.Ff=Li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,22)},set:function(n){n?this.Ff=Ii(this.Ff,22):this.Ff=Li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,23)},set:function(n){n?this.Ff=Ii(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,27)},set:function(n){n?this.Ff=Ii(this.Ff,27):this.Ff=Li(this.Ff,27)}}),this.hasAppearanceStream=!1};Vr(wl,Ya);var bl=function(){wl.call(this),this.fontName="helvetica",this.combo=!1};Vr(bl,wl);var Al=function(){bl.call(this),this.combo=!0};Vr(Al,bl);var Nu=function(){Al.call(this),this.edit=!0};Vr(Nu,Al);var Ui=function(){Ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,15)},set:function(n){n?this.Ff=Ii(this.Ff,15):this.Ff=Li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,16)},set:function(n){n?this.Ff=Ii(this.Ff,16):this.Ff=Li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,17)},set:function(n){n?this.Ff=Ii(this.Ff,17):this.Ff=Li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,26)},set:function(n){n?this.Ff=Ii(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Ol(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){In(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Vr(Ui,Ya);var Cu=function(){Ui.call(this),this.pushButton=!0};Vr(Cu,Ui);var Sl=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Vr(Sl,Ui);var z1=function(){var e,t;Ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,f=[];for(o in f.push("<<"),r)f.push("/"+o+" ("+Ol(s(r[o]))+")");return f.push(">>"),f.join(`
`)},set:function(s){In(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vr(z1,Ya),Sl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Sl.prototype.createOption=function(e){var t=new z1;return t.Parent=this,t.optionName=e,this.Kids.push(t),jb.call(this.scope,t),t};var Eu=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Vr(Eu,Ui);var Ro=function(){Ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,13)},set:function(t){t?this.Ff=Ii(this.Ff,13):this.Ff=Li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,21)},set:function(t){t?this.Ff=Ii(this.Ff,21):this.Ff=Li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,23)},set:function(t){t?this.Ff=Ii(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,24)},set:function(t){t?this.Ff=Ii(this.Ff,24):this.Ff=Li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,25)},set:function(t){t?this.Ff=Ii(this.Ff,25):this.Ff=Li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,26)},set:function(t){t?this.Ff=Ii(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vr(Ro,Ya);var Tu=function(){Ro.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,14)},set:function(e){e?this.Ff=Ii(this.Ff,14):this.Ff=Li(this.Ff,14)}}),this.password=!0};Vr(Tu,Ro);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ns(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=Cd(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+zt(dt.internal.getWidth(e))+" "+zt(dt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+zt(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ns(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],o=dt.internal.getHeight(e),f=dt.internal.getWidth(e),d=Cd(e,e.caption);return s.push("1 g"),s.push("0 0 "+zt(f)+" "+zt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+zt(f-1)+" "+zt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+zt(d.fontSize)+" Tf "+r),s.push(d.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ns(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(dt.internal.getWidth(e))+" "+zt(dt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Circle.YesNormal,t.D[e]=dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ns(e);t.scope=e.scope;var n=[],r=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=dt.internal.Bezier_C,o=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+lo(dt.internal.getWidth(e)/2)+" "+lo(dt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ns(e);t.scope=e.scope;var n=[],r=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*dt.internal.Bezier_C).toFixed(5)),f=Number((r*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lo(dt.internal.getWidth(e)/2)+" "+lo(dt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+lo(dt.internal.getWidth(e)/2)+" "+lo(dt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+f+" "+f+" "+r+" 0 "+r+" c"),n.push("-"+f+" "+r+" -"+r+" "+f+" -"+r+" 0 c"),n.push("-"+r+" -"+f+" -"+f+" -"+r+" 0 -"+r+" c"),n.push(f+" -"+r+" "+r+" -"+f+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ns(e);t.scope=e.scope;var n=[],r=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lo(dt.internal.getWidth(e)/2)+" "+lo(dt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Cross.YesNormal,t.D[e]=dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ns(e);t.scope=e.scope;var n=[],r=dt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+zt(dt.internal.getWidth(e)-2)+" "+zt(dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(zt(r.x1.x)+" "+zt(r.x1.y)+" m"),n.push(zt(r.x2.x)+" "+zt(r.x2.y)+" l"),n.push(zt(r.x4.x)+" "+zt(r.x4.y)+" m"),n.push(zt(r.x3.x)+" "+zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ns(e);t.scope=e.scope;var n=dt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+zt(dt.internal.getWidth(e))+" "+zt(dt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+zt(dt.internal.getWidth(e)-2)+" "+zt(dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(zt(n.x1.x)+" "+zt(n.x1.y)+" m"),r.push(zt(n.x2.x)+" "+zt(n.x2.y)+" l"),r.push(zt(n.x4.x)+" "+zt(n.x4.y)+" m"),r.push(zt(n.x3.x)+" "+zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ns(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(dt.internal.getWidth(e))+" "+zt(dt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dt.internal.getWidth(e),n=dt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},dt.internal.getWidth=function(e){var t=0;return In(e)==="object"&&(t=Zp(e.Rect[2])),t},dt.internal.getHeight=function(e){var t=0;return In(e)==="object"&&(t=Zp(e.Rect[3])),t};var jb=xi.addField=function(e){if(Bb(this,e),!(e instanceof Ya))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xi.AcroFormChoiceField=wl,xi.AcroFormListBox=bl,xi.AcroFormComboBox=Al,xi.AcroFormEditBox=Nu,xi.AcroFormButton=Ui,xi.AcroFormPushButton=Cu,xi.AcroFormRadioButton=Sl,xi.AcroFormCheckBox=Eu,xi.AcroFormTextField=Ro,xi.AcroFormPasswordField=Tu,xi.AcroFormAppearance=dt,xi.AcroForm={ChoiceField:wl,ListBox:bl,ComboBox:Al,EditBox:Nu,Button:Ui,PushButton:Cu,RadioButton:Sl,CheckBox:Eu,TextField:Ro,PasswordField:Tu,Appearance:dt},It.AcroForm={ChoiceField:wl,ListBox:bl,ComboBox:Al,EditBox:Nu,Button:Ui,PushButton:Cu,RadioButton:Sl,CheckBox:Eu,TextField:Ro,PasswordField:Tu,Appearance:dt};var kb=It.AcroForm;function H3(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(F,j){var se,le,$,W,Y,ne=t;if((j=j||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(re(F))for(Y in n)for($=n[Y],se=0;se<$.length;se+=1){for(W=!0,le=0;le<$[se].length;le+=1)if($[se][le]!==void 0&&$[se][le]!==F[le]){W=!1;break}if(W===!0){ne=Y;break}}else for(Y in n)for($=n[Y],se=0;se<$.length;se+=1){for(W=!0,le=0;le<$[se].length;le+=1)if($[se][le]!==void 0&&$[se][le]!==F.charCodeAt(le)){W=!1;break}if(W===!0){ne=Y;break}}return ne===t&&j!==t&&(ne=j),ne},s=function F(j){for(var se=this.internal.write,le=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:j.width}),W.push({key:"Height",value:j.height}),j.colorSpace===q.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===q.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var Y="",ne=0,oe=j.transparency.length;ne<oe;ne++)Y+=j.transparency[ne]+" "+j.transparency[ne]+" ";W.push({key:"Mask",value:"["+Y+"]"})}j.sMask!==void 0&&W.push({key:"SMask",value:j.objectId+1+" 0 R"});var me=j.filter!==void 0?["/"+j.filter]:void 0;if(le({data:j.data,additionalKeyValues:W,alreadyAppliedFilters:me,objectId:j.objectId}),se("endobj"),"sMask"in j&&j.sMask!==void 0){var Oe="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,P={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Oe,data:j.sMask};"filter"in j&&(P.filter=j.filter),F.call(this,P)}if(j.colorSpace===q.INDEXED){var te=this.internal.newObject();le({data:U(new Uint8Array(j.palette)),objectId:te}),se("endobj")}},o=function(){var F=this.internal.collections.addImage_images;for(var j in F)s.call(this,F[j])},f=function(){var F,j=this.internal.collections.addImage_images,se=this.internal.write;for(var le in j)se("/I"+(F=j[le]).index,F.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",f))},m=function(){var F=this.internal.collections.addImage_images;return d.call(this),F},x=function(){return Object.keys(this.internal.collections.addImage_images).length},S=function(F){return typeof e["process"+F.toUpperCase()]=="function"},A=function(F){return In(F)==="object"&&F.nodeType===1},E=function(F,j){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var se=""+F.getAttribute("src");if(se.indexOf("data:image/")===0)return Su(unescape(se).split("base64,").pop());var le=e.loadFile(se,!0);if(le!==void 0)return le}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var $;switch(j){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;case"JPEG":case"JPG":default:$="image/jpeg"}return Su(F.toDataURL($,1).split("base64,").pop())}},b=function(F){var j=this.internal.collections.addImage_images;if(j){for(var se in j)if(F===j[se].alias)return j[se]}},R=function(F,j,se){return F||j||(F=-96,j=-96),F<0&&(F=-1*se.width*72/F/this.internal.scaleFactor),j<0&&(j=-1*se.height*72/j/this.internal.scaleFactor),F===0&&(F=j*se.width/se.height),j===0&&(j=F*se.height/se.width),[F,j]},M=function(F,j,se,le,$,W){var Y=R.call(this,se,le,$),ne=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,me=m.call(this);if(se=Y[0],le=Y[1],me[$.index]=$,W){W*=Math.PI/180;var Oe=Math.cos(W),P=Math.sin(W),te=function(pe){return pe.toFixed(4)},ae=[te(Oe),te(P),te(-1*P),te(Oe),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,ne(F),oe(j+le),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([ne(se),"0","0",ne(le),"0","0","cm"].join(" "))):this.internal.write([ne(se),"0","0",ne(le),ne(F),oe(j+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},q=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=e.__addimage__.sHashCode=function(F){var j,se,le=0;if(typeof F=="string")for(se=F.length,j=0;j<se;j++)le=(le<<5)-le+F.charCodeAt(j),le|=0;else if(re(F))for(se=F.byteLength/2,j=0;j<se;j++)le=(le<<5)-le+F[j],le|=0;return le},L=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var j=!0;return F.length===0&&(j=!1),F.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(j=!1),j},B=e.__addimage__.extractImageFromDataUrl=function(F){var j=(F=F||"").split("base64,"),se=null;if(j.length===2){var le=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(le)&&(se={mimeType:le[1],charset:le[2],data:j[1]})}return se},X=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(F){return X()&&F instanceof ArrayBuffer};var re=e.__addimage__.isArrayBufferView=function(F){return X()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(F){for(var j=F.length,se=new Uint8Array(j),le=0;le<j;le++)se[le]=F.charCodeAt(le);return se},U=e.__addimage__.arrayBufferToBinaryString=function(F){for(var j="",se=re(F)?F:new Uint8Array(F),le=0;le<se.length;le+=8192)j+=String.fromCharCode.apply(null,se.subarray(le,le+8192));return j};e.addImage=function(){var F,j,se,le,$,W,Y,ne,oe;if(typeof arguments[1]=="number"?(j=t,se=arguments[1],le=arguments[2],$=arguments[3],W=arguments[4],Y=arguments[5],ne=arguments[6],oe=arguments[7]):(j=arguments[1],se=arguments[2],le=arguments[3],$=arguments[4],W=arguments[5],Y=arguments[6],ne=arguments[7],oe=arguments[8]),In(F=arguments[0])==="object"&&!A(F)&&"imageData"in F){var me=F;F=me.imageData,j=me.format||j||t,se=me.x||se||0,le=me.y||le||0,$=me.w||me.width||$,W=me.h||me.height||W,Y=me.alias||Y,ne=me.compression||ne,oe=me.rotation||me.angle||oe}var Oe=this.internal.getFilters();if(ne===void 0&&Oe.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(se)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var P=J.call(this,F,j,Y,ne);return M.call(this,se,le,$,W,P,oe),this};var J=function(F,j,se,le){var $,W,Y;if(typeof F=="string"&&r(F)===t){F=unescape(F);var ne=ge(F,!1);(ne!==""||(ne=e.loadFile(F,!0))!==void 0)&&(F=ne)}if(A(F)&&(F=E(F,j)),j=r(F,j),!S(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Y=se)==null||Y.length===0)&&(se=function(oe){return typeof oe=="string"||re(oe)?T(oe):re(oe.data)?T(oe.data):null}(F)),($=b.call(this,se))||(X()&&(F instanceof Uint8Array||j==="RGBA"||(W=F,F=k(F))),$=this["process"+j.toUpperCase()](F,x.call(this),se,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:I.NONE}(le),W)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},ge=e.__addimage__.convertBase64ToBinaryString=function(F,j){var se;j=typeof j!="boolean"||j;var le,$="";if(typeof F=="string"){le=(se=B(F))!==null?se.data:F;try{$=Su(le)}catch(W){if(j)throw L(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(F){var j,se,le="";if(A(F)&&(F=E(F)),typeof F=="string"&&r(F)===t&&((le=ge(F,!1))===""&&(le=e.loadFile(F)||""),F=le),se=r(F),!S(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(!X()||F instanceof Uint8Array||(F=k(F)),!(j=this["process"+se.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=se,j}})(It.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};It.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,o,f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(n.objId),x=n.pageContext.annotations,S=!1,A=0;A<x.length&&!S;A++)switch((r=x[A]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(S=!0);break;case"reference":case"text":case"freetext":S=!0}if(S!=0){this.internal.write("/Annots [");for(var E=0;E<x.length;E++){r=x[E];var b=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(M.objId),T=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+b(I(r.contents))+")",o+=" /Popup "+q.objId+" 0 R",o+=" /P "+m.objId+" 0 R",o+=" /T ("+b(I(T))+") >>",M.content=o;var L=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+f(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(o+=" /Open true"),o+=" >>",q.content=o,this.internal.write(M.objId,"0 R",q.objId,"0 R");break;case"freetext":s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(R(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var re=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,o,f){var d=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:m(n),y:x(r),w:m(n+s),h:x(r+o)},options:f,type:"link"})},e.textWithLink=function(n,r,s,o){var f,d,m=this.getTextWidth(n),x=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var S=this.splitTextToSize(n,d).length;f=Math.ceil(x*S)}else d=m,f=x;return this.text(n,r,s,o),s+=.2*x,o.align==="center"&&(r-=m/2),o.align==="right"&&(r-=m),this.link(r,s-x,d,f,o),m},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(It.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},d=e.__arabicParser__.isArabicEndLetter=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(M){return f(M)&&s.indexOf(M.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=1};var x=e.__arabicParser__.arabicLetterHasFinalForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=3};var S=e.__arabicParser__.arabicLetterHasMedialForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(M){var q=0,I=n,T="",L=0;for(q=0;q<M.length;q+=1)I[M.charCodeAt(q)]!==void 0?(L++,typeof(I=I[M.charCodeAt(q)])=="number"&&(T+=String.fromCharCode(I),I=n,L=0),q===M.length-1&&(I=n,T+=M.charAt(q-(L-1)),q-=L-1,L=0)):(I=n,T+=M.charAt(q-L),q-=L,L=0);return T};e.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(M,q,I){return f(M)?o(M)===!1?-1:!x(M)||!f(q)&&!f(I)||!f(I)&&d(q)||d(M)&&!f(q)||d(M)&&m(q)||d(M)&&d(q)?0:S(M)&&f(q)&&!d(q)&&f(I)&&x(I)?3:d(M)||!f(I)?1:2:-1},b=function(M){var q=0,I=0,T=0,L="",B="",X="",re=(M=M||"").split("\\s+"),k=[];for(q=0;q<re.length;q+=1){for(k.push(""),I=0;I<re[q].length;I+=1)L=re[q][I],B=re[q][I-1],X=re[q][I+1],f(L)?(T=E(L,B,X),k[q]+=T!==-1?String.fromCharCode(t[L.charCodeAt(0)][T]):L):k[q]+=L;k[q]=A(k[q])}return k.join(" ")},R=e.__arabicParser__.processArabic=e.processArabic=function(){var M,q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(q)){var T=0;for(I=[],T=0;T<q.length;T+=1)Array.isArray(q[T])?I.push([b(q[T][0]),q[T][1],q[T][2]]):I.push([b(q[T])]);M=I}else M=b(q);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};e.events.push(["preProcessText",R])}(It.API),It.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(d){f=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(It.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(M){m=M}});var x=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return x},set:function(M){x=M}});var S=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return S},set:function(M){S=M}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(M){A=M}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(M){E=M}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(M){b=M}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(M){R=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return r.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},e.getTextDimensions=function(m,x){r.call(this);var S=(x=x||{}).fontSize||this.getFontSize(),A=x.font||this.getFont(),E=x.scaleFactor||this.internal.scaleFactor,b=0,R=0,M=0,q=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var I=x.maxWidth;I>0?typeof m=="string"?m=this.splitTextToSize(m,I):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(L,B){return L.concat(q.splitTextToSize(B,I))},[])):m=Array.isArray(m)?m:[m];for(var T=0;T<m.length;T++)b<(M=this.getStringUnitWidth(m[T],{font:A})*S)&&(b=M);return b!==0&&(R=m.length),{w:b/=E,h:Math.max((R*S*this.getLineHeightFactor()-S*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var m;m=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var x=this.internal.__cell__.lastCell,S=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return x.lineNumber!==void 0&&(x.lineNumber===m.lineNumber?(m.x=(x.x||0)+(x.width||0),m.y=x.y||0):x.y+x.height+m.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=A.top,b&&E&&(this.printHeaderRow(m.lineNumber,!0),m.y+=E[0].height)):m.y=x.y+x.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,n===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-S,m.y+S,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+S,{align:"center",baseline:"top",maxWidth:m.width-S-S}):this.text(m.text,m.x+S,m.y+S,{align:"left",baseline:"top",maxWidth:m.width-S-S})),this.internal.__cell__.lastCell=m,this};e.table=function(m,x,S,A,E){if(r.call(this),!S)throw new Error("No data for PDF table.");var b,R,M,q,I=[],T=[],L=[],B={},X={},re=[],k=[],U=(E=E||{}).autoSize||!1,J=E.printHeaders!==!1,ge=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,F=E.margins||Object.assign({width:this.getPageWidth()},t),j=typeof E.padding=="number"?E.padding:3,se=E.headerBackgroundColor||"#c8c8c8",le=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=J,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=le,this.setFontSize(ge),A==null)T=I=Object.keys(S[0]),L=I.map(function(){return"left"});else if(Array.isArray(A)&&In(A[0])==="object")for(I=A.map(function(me){return me.name}),T=A.map(function(me){return me.prompt||me.name||""}),L=A.map(function(me){return me.align||"left"}),b=0;b<A.length;b+=1)X[A[b].name]=A[b].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(T=I=A,L=I.map(function(){return"left"}));if(U||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<I.length;b+=1){for(B[q=I[b]]=S.map(function(me){return me[q]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(T[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=B[q],this.setFont(void 0,"normal"),M=0;M<R.length;M+=1)re.push(this.getTextDimensions(R[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[q]=Math.max.apply(null,re)+j+j,re=[]}if(J){var $={};for(b=0;b<I.length;b+=1)$[I[b]]={},$[I[b]].text=T[b],$[I[b]].align=L[b];var W=d.call(this,$,X);k=I.map(function(me){return new o(m,x,X[me],W,$[me].text,void 0,$[me].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var Y=A.reduce(function(me,Oe){return me[Oe.name]=Oe.align,me},{});for(b=0;b<S.length;b+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:b,data:S[b]},this);var ne=d.call(this,S[b],X);for(M=0;M<I.length;M+=1){var oe=S[b][I[M]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:b,col:M,data:oe},this),f.call(this,new o(m,x,X[I[M]],ne,oe,b+2,Y[I[M]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=x,this};var d=function(m,x){var S=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(m).map(function(b){var R=m[b];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,x[b]-S-S)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/E+S+S},this).reduce(function(b,R){return Math.max(b,R)},0)};e.setTableHeaderRow=function(m){r.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,x){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var S;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){S=this.internal.__cell__.tableHeaderRow[b].clone(),x&&(S.y=this.internal.__cell__.margins.top||0,E.push(S)),S.lineNumber=m;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,S),this.setTextColor(R)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(It.API);var q3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},G3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ed=H3(G3),V3=[100,200,300,400,500,600,700,800,900],Pb=H3(V3);function Td(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return q3[o=o||"normal"]?o:"normal"}(e.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(o){return typeof Ed[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Qp(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Fb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Kp={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Jp(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ub(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Fb,n.genericFontFamilies||{}),o=null,f=null,d=0;d<t.length;++d)if(s[(o=Td(t[d])).family]&&(o.family=s[o.family]),e.hasOwnProperty(o.family)){f=e[o.family];break}if(!(f=f||e[r]))throw new Error("Could not find a font-family for the rule '"+Jp(o)+"' and default family '"+r+"'.");if(f=function(m,x){if(x[m])return x[m];var S=Ed[m],A=S<=Ed.normal?-1:1,E=Qp(x,G3,S,A);if(!E)throw new Error("Could not find a matching font-stretch value for "+m);return E}(o.stretch,f),f=function(m,x){if(x[m])return x[m];for(var S=q3[m],A=0;A<S.length;++A)if(x[S[A]])return x[S[A]];throw new Error("Could not find a matching font-style for "+m)}(o.style,f),!(f=function(m,x){if(x[m])return x[m];if(m===400&&x[500])return x[500];if(m===500&&x[400])return x[400];var S=Pb[m],A=Qp(x,V3,S,m<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+m);return A}(o.weight,f)))throw new Error("Failed to resolve a font for the rule '"+Jp(o)+"'.");return f}function $p(e){return e.trimLeft()}function zb(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Hb(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Wf,e5,t5,yh=["times"];(function(e){var t,n,r,s,o,f,d,m,x,S=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new m,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new f,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new f,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,f=this.internal.Point,d=this.internal.Rectangle,m=this.internal.Matrix,x=new S}]);var A=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=P;Object.defineProperty(this,"pdf",{get:function(){return te}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(je){ae=!!je}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(je){pe=!!je}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(je){isNaN(je)||(ue=je)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(je){isNaN(je)||(_e=je)}}),Object.defineProperty(this,"margin",{get:function(){return x.margin},set:function(je){var xe;typeof je=="number"?xe=[je,je,je,je]:((xe=new Array(4))[0]=je[0],xe[1]=je.length>=2?je[1]:xe[0],xe[2]=je.length>=3?je[2]:xe[0],xe[3]=je.length>=4?je[3]:xe[1]),x.margin=xe}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(je){Ee=je}});var De=0;Object.defineProperty(this,"lastBreak",{get:function(){return De},set:function(je){De=je}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(je){$e=je}}),Object.defineProperty(this,"ctx",{get:function(){return x},set:function(je){je instanceof S&&(x=je)}}),Object.defineProperty(this,"path",{get:function(){return x.path},set:function(je){x.path=je}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(je){Ye=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var xe;xe=E(je),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var xe=E(je);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var it=null;function We(je,xe){if(it===null){var xt=function(tt){var Ue=[];return Object.keys(tt).forEach(function(nt){tt[nt].forEach(function(Pe){var rt=null;switch(Pe){case"bold":rt={family:nt,weight:"bold"};break;case"italic":rt={family:nt,style:"italic"};break;case"bolditalic":rt={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:nt}}rt!==null&&(rt.ref={name:nt,style:Pe},Ue.push(rt))})}),Ue}(je.getFontList());it=function(tt){for(var Ue={},nt=0;nt<tt.length;++nt){var Pe=Td(tt[nt]),rt=Pe.family,bt=Pe.stretch,Ct=Pe.style,Pt=Pe.weight;Ue[rt]=Ue[rt]||{},Ue[rt][bt]=Ue[rt][bt]||{},Ue[rt][bt][Ct]=Ue[rt][bt][Ct]||{},Ue[rt][bt][Ct][Pt]=Pe}return Ue}(xt.concat(xe))}return it}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(je){it=null,Nt=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var xe;if(this.ctx.font=je,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var xt=xe[1],tt=(xe[2],xe[3]),Ue=xe[4],nt=(xe[5],xe[6]),Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(Pe==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var rt=function(pt){var Wt,st,Gi=[],Et=pt.trim();if(Et==="")return yh;if(Et in Kp)return[Kp[Et]];for(;Et!=="";){switch(st=null,Wt=(Et=$p(Et)).charAt(0)){case'"':case"'":st=zb(Et.substring(1),Wt);break;default:st=Hb(Et)}if(st===null||(Gi.push(st[0]),(Et=$p(st[1]))!==""&&Et.charAt(0)!==","))return yh;Et=Et.replace(/^,/,"")}return Gi}(nt);if(this.fontFaces){var bt=Ub(We(this.pdf,this.fontFaces),rt.map(function(pt){return{family:pt,stretch:"normal",weight:tt,style:xt}}));this.pdf.setFont(bt.ref.name,bt.ref.style)}else{var Ct="";(tt==="bold"||parseInt(tt,10)>=700||xt==="bold")&&(Ct="bold"),xt==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Pt="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rn=0;rn<rt.length;rn++){if(this.pdf.internal.getFont(rt[rn],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Pt=rt[rn];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(rt[rn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=rt[rn],Ct="bold";else if(this.pdf.internal.getFont(rt[rn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=rt[rn],Ct="normal";break}}if(Pt===""){for(var Jt=0;Jt<rt.length;Jt++)if(Lt[rt[Jt]]){Pt=Lt[rt[Jt]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};A.prototype.setLineDash=function(P){this.lineDash=P},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){B.call(this,"fill",!1)},A.prototype.stroke=function(){B.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(P,te){if(isNaN(P)||isNaN(te))throw jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new f(P,te));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new f(P,te)},A.prototype.closePath=function(){var P=new f(0,0),te=0;for(te=this.path.length-1;te!==-1;te--)if(this.path[te].type==="begin"&&In(this.path[te+1])==="object"&&typeof this.path[te+1].x=="number"){P=new f(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(P.x,P.y)},A.prototype.lineTo=function(P,te){if(isNaN(P)||isNaN(te))throw jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new f(P,te));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new f(ae.x,ae.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},A.prototype.quadraticCurveTo=function(P,te,ae,pe){if(isNaN(ae)||isNaN(pe)||isNaN(P)||isNaN(te))throw jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new f(ae,pe)),_e=this.ctx.transform.applyToPoint(new f(P,te));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new f(ue.x,ue.y)},A.prototype.bezierCurveTo=function(P,te,ae,pe,ue,_e){if(isNaN(ue)||isNaN(_e)||isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe))throw jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new f(ue,_e)),De=this.ctx.transform.applyToPoint(new f(P,te)),$e=this.ctx.transform.applyToPoint(new f(ae,pe));this.path.push({type:"bct",x1:De.x,y1:De.y,x2:$e.x,y2:$e.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new f(Ee.x,Ee.y)},A.prototype.arc=function(P,te,ae,pe,ue,_e){if(isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe)||isNaN(ue))throw jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new f(P,te));P=Ee.x,te=Ee.y;var De=this.ctx.transform.applyToPoint(new f(0,ae)),$e=this.ctx.transform.applyToPoint(new f(0,0));ae=Math.sqrt(Math.pow(De.x-$e.x,2)+Math.pow(De.y-$e.y,2))}Math.abs(ue-pe)>=2*Math.PI&&(pe=0,ue=2*Math.PI),this.path.push({type:"arc",x:P,y:te,radius:ae,startAngle:pe,endAngle:ue,counterclockwise:_e})},A.prototype.arcTo=function(P,te,ae,pe,ue){throw new Error("arcTo not implemented.")},A.prototype.rect=function(P,te,ae,pe){if(isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe))throw jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,te),this.lineTo(P+ae,te),this.lineTo(P+ae,te+pe),this.lineTo(P,te+pe),this.lineTo(P,te),this.lineTo(P+ae,te),this.lineTo(P,te)},A.prototype.fillRect=function(P,te,ae,pe){if(isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe))throw jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,te,ae,pe),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},A.prototype.strokeRect=function(P,te,ae,pe){if(isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe))throw jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(P,te,ae,pe),this.stroke())},A.prototype.clearRect=function(P,te,ae,pe){if(isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe))throw jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,te,ae,pe))},A.prototype.save=function(P){P=typeof P!="boolean"||P;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new S(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},A.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(te),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(P){var te,ae,pe,ue;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))te=0,ae=0,pe=0,ue=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(_e!==null)te=parseInt(_e[1]),ae=parseInt(_e[2]),pe=parseInt(_e[3]),ue=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)te=parseInt(_e[1]),ae=parseInt(_e[2]),pe=parseInt(_e[3]),ue=parseFloat(_e[4]);else{if(ue=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ee=new j3(P);P=Ee.ok?Ee.toHex():"#000000"}P.length===4?(te=P.substring(1,2),te+=te,ae=P.substring(2,3),ae+=ae,pe=P.substring(3,4),pe+=pe):(te=P.substring(1,3),ae=P.substring(3,5),pe=P.substring(5,7)),te=parseInt(te,16),ae=parseInt(ae,16),pe=parseInt(pe,16)}}return{r:te,g:ae,b:pe,a:ue,style:P}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(P,te,ae,pe){if(isNaN(te)||isNaN(ae)||typeof P!="string")throw jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!b.call(this)){var ue=ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;j.call(this,{text:P,x:te,y:ae,scale:_e,angle:ue,align:this.textAlign,maxWidth:pe})}},A.prototype.strokeText=function(P,te,ae,pe){if(isNaN(te)||isNaN(ae)||typeof P!="string")throw jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){pe=isNaN(pe)?void 0:pe;var ue=ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;j.call(this,{text:P,x:te,y:ae,scale:_e,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:pe})}},A.prototype.measureText=function(P){if(typeof P!="string")throw jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,ae=this.pdf.internal.scaleFactor,pe=te.internal.getFontSize(),ue=te.getStringUnitWidth(P)*pe/te.internal.scaleFactor,_e=function(Ee){var De=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this};return new _e({width:ue*=Math.round(96*ae/72*1e4)/1e4})},A.prototype.scale=function(P,te){if(isNaN(P)||isNaN(te))throw jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new m(P,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},A.prototype.rotate=function(P){if(isNaN(P))throw jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new m(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},A.prototype.translate=function(P,te){if(isNaN(P)||isNaN(te))throw jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new m(1,0,0,1,P,te);this.ctx.transform=this.ctx.transform.multiply(ae)},A.prototype.transform=function(P,te,ae,pe,ue,_e){if(isNaN(P)||isNaN(te)||isNaN(ae)||isNaN(pe)||isNaN(ue)||isNaN(_e))throw jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new m(P,te,ae,pe,ue,_e);this.ctx.transform=this.ctx.transform.multiply(Ee)},A.prototype.setTransform=function(P,te,ae,pe,ue,_e){P=isNaN(P)?1:P,te=isNaN(te)?0:te,ae=isNaN(ae)?0:ae,pe=isNaN(pe)?1:pe,ue=isNaN(ue)?0:ue,_e=isNaN(_e)?0:_e,this.ctx.transform=new m(P,te,ae,pe,ue,_e)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(P,te,ae,pe,ue,_e,Ee,De,$e){var Ye=this.pdf.getImageProperties(P),it=1,We=1,Nt=1,je=1;pe!==void 0&&De!==void 0&&(Nt=De/pe,je=$e/ue,it=Ye.width/pe*De/pe,We=Ye.height/ue*$e/ue),_e===void 0&&(_e=te,Ee=ae,te=0,ae=0),pe!==void 0&&De===void 0&&(De=pe,$e=ue),pe===void 0&&De===void 0&&(De=Ye.width,$e=Ye.height);for(var xe,xt=this.ctx.transform.decompose(),tt=ne(xt.rotate.shx),Ue=new m,nt=(Ue=(Ue=(Ue=Ue.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new d(_e-te*Nt,Ee-ae*je,pe*it,ue*We)),Pe=q.call(this,nt),rt=[],bt=0;bt<Pe.length;bt+=1)rt.indexOf(Pe[bt])===-1&&rt.push(Pe[bt]);if(L(rt),this.autoPaging)for(var Ct=rt[0],Pt=rt[rt.length-1],Lt=Ct;Lt<Pt+1;Lt++){this.pdf.setPage(Lt);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=Lt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Lt===1?0:pt+(Lt-2)*Wt;if(this.ctx.clip_path.length!==0){var Gi=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(xe,this.posX+this.margin[3],-st+Jt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Gi}var Et=JSON.parse(JSON.stringify(nt));Et=T([Et],this.posX+this.margin[3],-st+Jt+this.ctx.prevPageLastElemOffset)[0];var et=(Lt>Ct||Lt<Pt)&&M.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,Wt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,tt),et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,tt)};var q=function(P,te,ae){var pe=[];te=te||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":pe.push(Math.floor((P.y+ue)/ae)+1);break;case"arc":pe.push(Math.floor((P.y+ue-P.radius)/ae)+1),pe.push(Math.floor((P.y+ue+P.radius)/ae)+1);break;case"qct":var _e=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);pe.push(Math.floor((_e.y+ue)/ae)+1),pe.push(Math.floor((_e.y+_e.h+ue)/ae)+1);break;case"bct":var Ee=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);pe.push(Math.floor((Ee.y+ue)/ae)+1),pe.push(Math.floor((Ee.y+Ee.h+ue)/ae)+1);break;case"rect":pe.push(Math.floor((P.y+ue)/ae)+1),pe.push(Math.floor((P.y+P.h+ue)/ae)+1)}for(var De=0;De<pe.length;De+=1)for(;this.pdf.internal.getNumberOfPages()<pe[De];)I.call(this);return pe},I=function(){var P=this.fillStyle,te=this.strokeStyle,ae=this.font,pe=this.lineCap,ue=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=te,this.font=ae,this.lineCap=pe,this.lineWidth=ue,this.lineJoin=_e},T=function(P,te,ae){for(var pe=0;pe<P.length;pe++)switch(P[pe].type){case"bct":P[pe].x2+=te,P[pe].y2+=ae;case"qct":P[pe].x1+=te,P[pe].y1+=ae;case"mt":case"lt":case"arc":default:P[pe].x+=te,P[pe].y+=ae}return P},L=function(P){return P.sort(function(te,ae){return te-ae})},B=function(P,te){for(var ae,pe,ue=this.fillStyle,_e=this.strokeStyle,Ee=this.lineCap,De=this.lineWidth,$e=Math.abs(De*this.ctx.transform.scaleX),Ye=this.lineJoin,it=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Nt=[],je=0;je<We.length;je++)if(We[je].x!==void 0)for(var xe=q.call(this,We[je]),xt=0;xt<xe.length;xt+=1)Nt.indexOf(xe[xt])===-1&&Nt.push(xe[xt]);for(var tt=0;tt<Nt.length;tt++)for(;this.pdf.internal.getNumberOfPages()<Nt[tt];)I.call(this);if(L(Nt),this.autoPaging)for(var Ue=Nt[0],nt=Nt[Nt.length-1],Pe=Ue;Pe<nt+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=ue,this.strokeStyle=_e,this.lineCap=Ee,this.lineWidth=$e,this.lineJoin=Ye;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=Pe===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Pe===1?0:Ct+(Pe-2)*Pt;if(this.ctx.clip_path.length!==0){var rn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ae,this.posX+this.margin[3],-Lt+bt+this.ctx.prevPageLastElemOffset),X.call(this,P,!0),this.path=rn}if(pe=JSON.parse(JSON.stringify(it)),this.path=T(pe,this.posX+this.margin[3],-Lt+bt+this.ctx.prevPageLastElemOffset),te===!1||Pe===0){var Jt=(Pe>Ue||Pe<nt)&&M.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Pt,null).clip().discardPath()),X.call(this,P,te),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=De}else this.lineWidth=$e,X.call(this,P,te),this.lineWidth=De;this.path=it},X=function(P,te){if((P!=="stroke"||te||!R.call(this))&&(P==="stroke"||te||!b.call(this))){for(var ae,pe,ue=[],_e=this.path,Ee=0;Ee<_e.length;Ee++){var De=_e[Ee];switch(De.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:De,deltas:[],abs:[]});break;case"lt":var $e=ue.length;if(_e[Ee-1]&&!isNaN(_e[Ee-1].x)&&(ae=[De.x-_e[Ee-1].x,De.y-_e[Ee-1].y],$e>0)){for(;$e>=0;$e--)if(ue[$e-1].close!==!0&&ue[$e-1].begin!==!0){ue[$e-1].deltas.push(ae),ue[$e-1].abs.push(De);break}}break;case"bct":ae=[De.x1-_e[Ee-1].x,De.y1-_e[Ee-1].y,De.x2-_e[Ee-1].x,De.y2-_e[Ee-1].y,De.x-_e[Ee-1].x,De.y-_e[Ee-1].y],ue[ue.length-1].deltas.push(ae);break;case"qct":var Ye=_e[Ee-1].x+2/3*(De.x1-_e[Ee-1].x),it=_e[Ee-1].y+2/3*(De.y1-_e[Ee-1].y),We=De.x+2/3*(De.x1-De.x),Nt=De.y+2/3*(De.y1-De.y),je=De.x,xe=De.y;ae=[Ye-_e[Ee-1].x,it-_e[Ee-1].y,We-_e[Ee-1].x,Nt-_e[Ee-1].y,je-_e[Ee-1].x,xe-_e[Ee-1].y],ue[ue.length-1].deltas.push(ae);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(De)}}pe=te?null:P==="stroke"?"stroke":"fill";for(var xt=!1,tt=0;tt<ue.length;tt++)if(ue[tt].arc)for(var Ue=ue[tt].abs,nt=0;nt<Ue.length;nt++){var Pe=Ue[nt];Pe.type==="arc"?U.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,te,!xt):se.call(this,Pe.x,Pe.y),xt=!0}else if(ue[tt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(ue[tt].begin!==!0){var rt=ue[tt].start.x,bt=ue[tt].start.y;le.call(this,ue[tt].deltas,rt,bt),xt=!0}pe&&J.call(this,pe),te&&ge.call(this)}},re=function(P){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-ae;case"top":return P+te-ae;case"hanging":return P+te-2*ae;case"middle":return P+te/2-ae;case"ideographic":return P;case"alphabetic":default:return P}},k=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(te,ae){this.colorStops.push([te,ae])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(P,te,ae,pe,ue,_e,Ee,De,$e){for(var Ye=W.call(this,ae,pe,ue,_e),it=0;it<Ye.length;it++){var We=Ye[it];it===0&&($e?F.call(this,We.x1+P,We.y1+te):se.call(this,We.x1+P,We.y1+te)),$.call(this,P,te,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}De?ge.call(this):J.call(this,Ee)},J=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(P,te){this.pdf.internal.out(n(P)+" "+r(te)+" m")},j=function(P){var te;switch(P.align){case"right":case"end":te="right";break;case"center":te="center";break;case"left":case"start":default:te="left"}var ae=this.pdf.getTextDimensions(P.text),pe=re.call(this,P.y),ue=k.call(this,pe)-ae.h,_e=this.ctx.transform.applyToPoint(new f(P.x,pe)),Ee=this.ctx.transform.decompose(),De=new m;De=(De=(De=De.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var $e,Ye,it,We=this.ctx.transform.applyToRectangle(new d(P.x,pe,ae.w,ae.h)),Nt=De.applyToRectangle(new d(P.x,ue,ae.w,ae.h)),je=q.call(this,Nt),xe=[],xt=0;xt<je.length;xt+=1)xe.indexOf(je[xt])===-1&&xe.push(je[xt]);if(L(xe),this.autoPaging)for(var tt=xe[0],Ue=xe[xe.length-1],nt=tt;nt<Ue+1;nt++){this.pdf.setPage(nt);var Pe=nt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Ct=bt-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],Lt=Pt-this.margin[3],rn=nt===1?0:rt+(nt-2)*Ct;if(this.ctx.clip_path.length!==0){var Jt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T($e,this.posX+this.margin[3],-1*rn+Pe),X.call(this,"fill",!0),this.path=Jt}var pt=T([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-rn+Pe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*P.scale),it=this.lineWidth,this.lineWidth=it*P.scale);var Wt=this.autoPaging!=="text";if(Wt||pt.y+pt.h<=bt){if(Wt||pt.y>=Pe&&pt.x<=Pt){var st=Wt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Pt-pt.x)[0],Gi=T([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-rn+Pe+this.ctx.prevPageLastElemOffset)[0],Et=Wt&&(nt>tt||nt<Ue)&&M.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Ct,null).clip().discardPath()),this.pdf.text(st,Gi.x,Gi.y,{angle:P.angle,align:te,renderingMode:P.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else pt.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-pt.y);P.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=it)}else P.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*P.scale),it=this.lineWidth,this.lineWidth=it*P.scale),this.pdf.text(P.text,_e.x+this.posX,_e.y+this.posY,{angle:P.angle,align:te,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=it)},se=function(P,te,ae,pe){ae=ae||0,pe=pe||0,this.pdf.internal.out(n(P+ae)+" "+r(te+pe)+" l")},le=function(P,te,ae){return this.pdf.lines(P,te,ae,null,null)},$=function(P,te,ae,pe,ue,_e,Ee,De){this.pdf.internal.out([t(s(ae+P)),t(o(pe+te)),t(s(ue+P)),t(o(_e+te)),t(s(Ee+P)),t(o(De+te)),"c"].join(" "))},W=function(P,te,ae,pe){for(var ue=2*Math.PI,_e=Math.PI/2;te>ae;)te-=ue;var Ee=Math.abs(ae-te);Ee<ue&&pe&&(Ee=ue-Ee);for(var De=[],$e=pe?-1:1,Ye=te;Ee>1e-5;){var it=Ye+$e*Math.min(Ee,_e);De.push(Y.call(this,P,Ye,it)),Ee-=Math.abs(it-Ye),Ye=it}return De},Y=function(P,te,ae){var pe=(ae-te)/2,ue=P*Math.cos(pe),_e=P*Math.sin(pe),Ee=ue,De=-_e,$e=Ee*Ee+De*De,Ye=$e+Ee*ue+De*_e,it=4/3*(Math.sqrt(2*$e*Ye)-Ye)/(Ee*_e-De*ue),We=Ee-it*De,Nt=De+it*Ee,je=We,xe=-Nt,xt=pe+te,tt=Math.cos(xt),Ue=Math.sin(xt);return{x1:P*Math.cos(te),y1:P*Math.sin(te),x2:We*tt-Nt*Ue,y2:We*Ue+Nt*tt,x3:je*tt-xe*Ue,y3:je*Ue+xe*tt,x4:P*Math.cos(ae),y4:P*Math.sin(ae)}},ne=function(P){return 180*P/Math.PI},oe=function(P,te,ae,pe,ue,_e){var Ee=P+.5*(ae-P),De=te+.5*(pe-te),$e=ue+.5*(ae-ue),Ye=_e+.5*(pe-_e),it=Math.min(P,ue,Ee,$e),We=Math.max(P,ue,Ee,$e),Nt=Math.min(te,_e,De,Ye),je=Math.max(te,_e,De,Ye);return new d(it,Nt,We-it,je-Nt)},me=function(P,te,ae,pe,ue,_e,Ee,De){var $e,Ye,it,We,Nt,je,xe,xt,tt,Ue,nt,Pe,rt,bt,Ct=ae-P,Pt=pe-te,Lt=ue-ae,rn=_e-pe,Jt=Ee-ue,pt=De-_e;for(Ye=0;Ye<41;Ye++)tt=(xe=(it=P+($e=Ye/40)*Ct)+$e*((Nt=ae+$e*Lt)-it))+$e*(Nt+$e*(ue+$e*Jt-Nt)-xe),Ue=(xt=(We=te+$e*Pt)+$e*((je=pe+$e*rn)-We))+$e*(je+$e*(_e+$e*pt-je)-xt),Ye==0?(nt=tt,Pe=Ue,rt=tt,bt=Ue):(nt=Math.min(nt,tt),Pe=Math.min(Pe,Ue),rt=Math.max(rt,tt),bt=Math.max(bt,Ue));return new d(Math.round(nt),Math.round(Pe),Math.round(rt-nt),Math.round(bt-Pe))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,te,ae=(P=this.ctx.lineDash,te=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:te}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(It.API),function(e){var t=function(o){var f,d,m,x,S,A,E,b,R,M;for(d=[],m=0,x=(o+=f="\0\0\0\0".slice(o.length%4||4)).length;x>m;m+=4)(S=(o.charCodeAt(m)<<24)+(o.charCodeAt(m+1)<<16)+(o.charCodeAt(m+2)<<8)+o.charCodeAt(m+3))!==0?(A=(S=((S=((S=((S=(S-(M=S%85))/85)-(R=S%85))/85)-(b=S%85))/85)-(E=S%85))/85)%85,d.push(A+33,E+33,b+33,R+33,M+33)):d.push(122);return function(q,I){for(var T=I;T>0;T--)q.pop()}(d,f.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var f,d,m,x,S,A=String,E="length",b=255,R="charCodeAt",M="slice",q="replace";for(o[M](-2),o=o[M](0,-2)[q](/\s/g,"")[q]("z","!!!!!"),m=[],x=0,S=(o+=f="uuuuu"[M](o[E]%5||5))[E];S>x;x+=5)d=52200625*(o[R](x)-33)+614125*(o[R](x+1)-33)+7225*(o[R](x+2)-33)+85*(o[R](x+3)-33)+(o[R](x+4)-33),m.push(b&d>>24,b&d>>16,b&d>>8,b&d);return function(I,T){for(var L=T;L>0;L--)I.pop()}(m,f[E]),A.fromCharCode.apply(A,m)},r=function(o){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),f.test(o)===!1)return"";for(var d="",m=0;m<o.length;m+=2)d+=String.fromCharCode("0x"+(o[m]+o[m+1]));return d},s=function(o){for(var f=new Uint8Array(o.length),d=o.length;d--;)f[d]=o.charCodeAt(d);return o=(f=bd(f)).reduce(function(m,x){return m+String.fromCharCode(x)},"")};e.processDataByFilters=function(o,f){var d=0,m=o||"",x=[];for(typeof(f=f||[])=="string"&&(f=[f]),d=0;d<f.length;d+=1)switch(f[d]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=r(m),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(S){return("0"+S.charCodeAt().toString(16)).slice(-2)}).join("")+">",x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=s(m),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[d]+'" is not implemented')}return{data:m,reverseChain:x.reverse().join(" ")}}}(It.API),function(e){e.loadFile=function(t,n,r){return function(s,o,f){o=o!==!1,f=typeof f=="function"?f:function(){};var d=void 0;try{d=function(m,x,S){var A=new XMLHttpRequest,E=0,b=function(R){var M=R.length,q=[],I=String.fromCharCode;for(E=0;E<M;E+=1)q.push(I(255&R.charCodeAt(E)));return q.join("")};if(A.open("GET",m,!x),A.overrideMimeType("text/plain; charset=x-user-defined"),x===!1&&(A.onload=function(){A.status===200?S(b(this.responseText)):S(void 0)}),A.send(null),x&&A.status===200)return b(A.responseText)}(s,o,f)}catch{}return d}(t,n,r)},e.loadImageFile=e.loadFile}(It.API),function(e){function t(){return(Mt.html2canvas?Promise.resolve(Mt.html2canvas):md(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function n(){return(Mt.DOMPurify?Promise.resolve(Mt.DOMPurify):md(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var r=function(f){var d=In(f);return d==="undefined"?"undefined":d==="string"||f instanceof String?"string":d==="number"||f instanceof Number?"number":d==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(f,d){var m=document.createElement(f);for(var x in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[x]=d.style[x];return m},o=function f(d){var m=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),x=f.convert(Promise.resolve(),m);return x=(x=x.setProgress(1,f,1,[f])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(f,d){return f.__proto__=d||o.prototype,f},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(f,d){return this.then(function(){switch(d=d||function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(n).then(function(m){return this.set({src:s("div",{innerHTML:f,dompurify:m})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},o.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function m(x,S){for(var A=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),E=x.firstChild;E;E=E.nextSibling)S!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||A.appendChild(m(E,S));return x.nodeType===1&&(x.nodeName==="CANVAS"?(A.width=x.width,A.height=x.height,A.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(A.value=x.value),A.addEventListener("load",function(){A.scrollTop=x.scrollTop,A.scrollLeft=x.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var m=this.opt.jsPDF,x=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=x,x)for(var E=0;E<x.length;++E){var b=x[E],R=b.src.find(function(M){return M.format==="truetype"});R&&m.addFont(R.url,b.ref.name,b.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,m.context2d.save(!0),d(this.prop.container,A)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(f,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(f,d):this.outputPdf(f,d)},o.prototype.outputPdf=function(f,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,d)})},o.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},o.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(f){if(r(f)!=="object")return this;var d=Object.keys(f||{}).map(function(m){if(m in o.template.prop)return function(){this.prop[m]=f[m]};switch(m){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[m]=f[m]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(f,d){return this.then(function(){var m=f in o.template.prop?this.prop[f]:this.opt[f];return d?d(m):m})},o.prototype.setMargin=function(f){return this.then(function(){switch(r(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},o.prototype.setPageSize=function(f){function d(m,x){return Math.floor(m*x/72*96)}return this.then(function(){(f=f||It.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:d(f.inner.width,f.k),height:d(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},o.prototype.setProgress=function(f,d,m,x){return f!=null&&(this.progress.val=f),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(f,d,m,x){return this.setProgress(f?this.progress.val+f:null,d||null,m?this.progress.n+m:null,x?this.progress.stack.concat(x):null)},o.prototype.then=function(f,d){var m=this;return this.thenCore(f,d,function(x,S){return m.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(A){return m.updateProgress(null,x),A}).then(x,S).then(function(A){return m.updateProgress(1),A})})},o.prototype.thenCore=function(f,d,m){m=m||Promise.prototype.then,f&&(f=f.bind(this)),d&&(d=d.bind(this));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),S=m.call(x,f,d);return o.convert(S,this.__proto__)},o.prototype.thenExternal=function(f,d){return Promise.prototype.then.call(this,f,d)},o.prototype.thenList=function(f){var d=this;return f.forEach(function(m){d=d.thenCore(m)}),d},o.prototype.catch=function(f){f&&(f=f.bind(this));var d=Promise.prototype.catch.call(this,f);return o.convert(d,this)},o.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},o.prototype.error=function(f){return this.then(function(){throw new Error(f)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,It.getPageSize=function(f,d,m){if(In(f)==="object"){var x=f;f=x.orientation,d=x.unit||d,m=x.format||m}d=d||"mm",m=m||"a4",f=(""+(f||"P")).toLowerCase();var S,A=(""+m).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+d}var b,R=0,M=0;if(E.hasOwnProperty(A))R=E[A][1]/S,M=E[A][0]/S;else try{R=m[1],M=m[0]}catch{throw new Error("Invalid format: "+m)}if(f==="p"||f==="portrait")f="p",M>R&&(b=M,M=R,R=b);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",R>M&&(b=M,M=R,R=b)}return{width:M,height:R,unit:d,k:S,orientation:f}},e.html=function(f,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Td):null;var m=new o(d);return d.worker?m:m.from(f).doCallback()}}(It.API),It.API.addJS=function(e){return t5=e,this.internal.events.subscribe("postPutResources",function(){Wf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+t5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wf!==void 0&&e5!==void 0&&this.internal.out("/Names <</JavaScript "+Wf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var f=s[o],d=r.exec(f);if(d!=null){var m=d[1];n.internal.newObjectDeferredBegin(m,!1)}n.internal.write(f)}if(this.outline.createNamedDestinations){var x=this.internal.pages.length,S=[];for(o=0;o<x;o++){var A=n.internal.newObject();S.push(A);var E=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<S.length;o++)n.internal.write("(page_"+(o+1)+")"+S[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,o){var f={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(f),f},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var f=r.children[o];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var d=this.count=this.count_r({count:0},f);if(d>0&&this.line("/Count "+d),f.options&&f.options.pageNumber){var m=n.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var x=0;x<r.children.length;x++)this.renderItems(r.children[x])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(It.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,o,f,d){var m,x=this.decode.DCT_DECODE,S=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=f||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(m=function(A){for(var E,b=256*A.charCodeAt(4)+A.charCodeAt(5),R=A.length,M={width:0,height:0,numcomponents:1},q=4;q<R;q+=2){if(q+=b,t.indexOf(A.charCodeAt(q+1))!==-1){E=256*A.charCodeAt(q+5)+A.charCodeAt(q+6),M={width:256*A.charCodeAt(q+7)+A.charCodeAt(q+8),height:E,numcomponents:A.charCodeAt(q+9)};break}b=256*A.charCodeAt(q+2)+A.charCodeAt(q+3)}return M}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}S={data:n,width:m.width,height:m.height,colorSpace:d,bitsPerComponent:8,filter:x,index:r,alias:s}}return S}}(It.API);var Yl,Zf,n5,i5,r5,qb=function(){var e,t,n;function r(o){var f,d,m,x,S,A,E,b,R,M,q,I,T,L;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(f=this.readUInt32(),R=(function(){var B,X;for(X=[],B=0;B<4;++B)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),x=this.readUInt16()||100,A.delay=1e3*S/x,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,f-=4),o=(A!=null?A.data:void 0)||this.imgData,I=0;0<=f?I<f:I>f;0<=f?++I:--I)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((M=m-this.transparency.indexed.length)>0)for(T=0;0<=M?T<M:T>M;0<=M?++T:--T)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":E=(q=this.read(f)).indexOf(0),b=String.fromCharCode.apply(String,q.slice(0,E)),this.text[b]=String.fromCharCode.apply(String,q.slice(E+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var f,d;for(d=[],f=0;0<=o?f<o:f>o;0<=o?++f:--f)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var f=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*f),m=0,x=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function S(A,E,b,R){var M,q,I,T,L,B,X,re,k,U,J,ge,F,j,se,le,$,W,Y,ne,oe,me=Math.ceil((x.width-A)/b),Oe=Math.ceil((x.height-E)/R),P=x.width==me&&x.height==Oe;for(j=f*me,ge=P?d:new Uint8Array(j*Oe),B=o.length,F=0,q=0;F<Oe&&m<B;){switch(o[m++]){case 0:for(T=$=0;$<j;T=$+=1)ge[q++]=o[m++];break;case 1:for(T=W=0;W<j;T=W+=1)M=o[m++],L=T<f?0:ge[q-f],ge[q++]=(M+L)%256;break;case 2:for(T=Y=0;Y<j;T=Y+=1)M=o[m++],I=(T-T%f)/f,se=F&&ge[(F-1)*j+I*f+T%f],ge[q++]=(se+M)%256;break;case 3:for(T=ne=0;ne<j;T=ne+=1)M=o[m++],I=(T-T%f)/f,L=T<f?0:ge[q-f],se=F&&ge[(F-1)*j+I*f+T%f],ge[q++]=(M+Math.floor((L+se)/2))%256;break;case 4:for(T=oe=0;oe<j;T=oe+=1)M=o[m++],I=(T-T%f)/f,L=T<f?0:ge[q-f],F===0?se=le=0:(se=ge[(F-1)*j+I*f+T%f],le=I&&ge[(F-1)*j+(I-1)*f+T%f]),X=L+se-le,re=Math.abs(X-L),U=Math.abs(X-se),J=Math.abs(X-le),k=re<=U&&re<=J?L:U<=J?se:le,ge[q++]=(M+k)%256;break;default:throw new Error("Invalid filter algorithm: "+o[m-1])}if(!P){var te=((E+F*R)*x.width+A)*f,ae=F*j;for(T=0;T<me;T+=1){for(var pe=0;pe<f;pe+=1)d[te++]=ge[ae++];te+=(b-1)*f}}F++}}return o=wb(o),x.interlaceMethod==1?(S(0,0,8,8),S(4,0,8,8),S(0,4,4,8),S(2,0,4,4),S(0,2,2,4),S(1,0,2,2),S(0,1,1,2)):S(0,0,1,1),d},r.prototype.decodePalette=function(){var o,f,d,m,x,S,A,E,b;for(d=this.palette,S=this.transparency.indexed||[],x=new Uint8Array((S.length||0)+d.length),m=0,o=0,f=A=0,E=d.length;A<E;f=A+=3)x[m++]=d[f],x[m++]=d[f+1],x[m++]=d[f+2],x[m++]=(b=S[o++])!=null?b:255;return x},r.prototype.copyToImageData=function(o,f){var d,m,x,S,A,E,b,R,M,q,I;if(m=this.colors,M=null,d=this.hasAlphaChannel,this.palette.length&&(M=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),m=4,d=!0),R=(x=o.data||o).length,A=M||f,S=E=0,m===1)for(;S<R;)b=M?4*f[S/4]:E,q=A[b++],x[S++]=q,x[S++]=q,x[S++]=q,x[S++]=d?A[b++]:255,E=b;else for(;S<R;)b=M?4*f[S/4]:E,x[S++]=A[b++],x[S++]=A[b++],x[S++]=A[b++],x[S++]=d?A[b++]:255,E=b},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(Mt)==="[object Window]"){try{t=Mt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(o){var f;if(s()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(f=new Image).src=t.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var f,d,m,x,S,A,E,b;if(this.animation){for(b=[],d=S=0,A=(E=this.animation.frames).length;S<A;d=++S)f=E[d],m=o.createImageData(f.width,f.height),x=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(m,x),f.imageData=m,b.push(f.image=e(m));return b}},r.prototype.renderFrame=function(o,f){var d,m,x;return d=(m=this.animation.frames)[f],x=m[f-1],f===0&&o.clearRect(0,0,this.width,this.height),(x!=null?x.disposeOp:void 0)===1?o.clearRect(x.xOffset,x.yOffset,x.width,x.height):(x!=null?x.disposeOp:void 0)===2&&o.putImageData(x.imageData,x.xOffset,x.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(o){var f,d,m,x,S,A,E=this;return d=0,A=this.animation,x=A.numFrames,m=A.frames,S=A.numPlays,(f=function(){var b,R;if(b=d++%x,R=m[b],E.renderFrame(o,b),x>1&&d/x<S)return E.animation._timeout=setTimeout(f,R.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var f,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,f=o.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(d=f.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),f.putImageData(d,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Gb(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],o=s>>7,f=1<<(7&s)+1;e[t++],e[t++];var d=null,m=null;o&&(d=t,m=f,t+=3*f);var x=!0,S=[],A=0,E=null,b=0,R=null;for(this.width=n,this.height=r;x&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,R=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=e[t++];A=e[t++]|e[t++]<<8,E=e[t++],!(1&M)&&(E=null),b=M>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var q=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,B=e[t++],X=B>>6&1,re=1<<(7&B)+1,k=d,U=m,J=!1;B>>7&&(J=!0,k=t,U=re,t+=3*re);var ge=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}S.push({x:q,y:I,width:T,height:L,has_local_palette:J,palette_offset:k,palette_size:U,data_offset:ge,data_length:t-ge,transparent_index:E,interlaced:!!X,delay:A,disposal:b});break;case 59:x=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return S.length},this.loopCount=function(){return R},this.frameInfo=function(j){if(j<0||j>=S.length)throw new Error("Frame index out of range.");return S[j]},this.decodeAndBlitFrameBGRA=function(j,se){var le=this.frameInfo(j),$=le.width*le.height,W=new Uint8Array($);a5(e,le.data_offset,W,$);var Y=le.palette_offset,ne=le.transparent_index;ne===null&&(ne=256);var oe=le.width,me=n-oe,Oe=oe,P=4*(le.y*n+le.x),te=4*((le.y+le.height)*n+le.x),ae=P,pe=4*me;le.interlaced===!0&&(pe+=4*n*7);for(var ue=8,_e=0,Ee=W.length;_e<Ee;++_e){var De=W[_e];if(Oe===0&&(Oe=oe,(ae+=pe)>=te&&(pe=4*me+4*n*(ue-1),ae=P+(oe+me)*(ue<<1),ue>>=1)),De===ne)ae+=4;else{var $e=e[Y+3*De],Ye=e[Y+3*De+1],it=e[Y+3*De+2];se[ae++]=it,se[ae++]=Ye,se[ae++]=$e,se[ae++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(j,se){var le=this.frameInfo(j),$=le.width*le.height,W=new Uint8Array($);a5(e,le.data_offset,W,$);var Y=le.palette_offset,ne=le.transparent_index;ne===null&&(ne=256);var oe=le.width,me=n-oe,Oe=oe,P=4*(le.y*n+le.x),te=4*((le.y+le.height)*n+le.x),ae=P,pe=4*me;le.interlaced===!0&&(pe+=4*n*7);for(var ue=8,_e=0,Ee=W.length;_e<Ee;++_e){var De=W[_e];if(Oe===0&&(Oe=oe,(ae+=pe)>=te&&(pe=4*me+4*n*(ue-1),ae=P+(oe+me)*(ue<<1),ue>>=1)),De===ne)ae+=4;else{var $e=e[Y+3*De],Ye=e[Y+3*De+1],it=e[Y+3*De+2];se[ae++]=$e,se[ae++]=Ye,se[ae++]=it,se[ae++]=255}--Oe}}}function a5(e,t,n,r){for(var s=e[t++],o=1<<s,f=o+1,d=f+1,m=s+1,x=(1<<m)-1,S=0,A=0,E=0,b=e[t++],R=new Int32Array(4096),M=null;;){for(;S<16&&b!==0;)A|=e[t++]<<S,S+=8,b===1?b=e[t++]:--b;if(S<m)break;var q=A&x;if(A>>=m,S-=m,q!==o){if(q===f)break;for(var I=q<d?q:M,T=0,L=I;L>o;)L=R[L]>>8,++T;var B=L;if(E+T+(I!==q?1:0)>r)return void jn.log("Warning, gif stream longer than expected.");n[E++]=B;var X=E+=T;for(I!==q&&(n[E++]=B),L=I;T--;)L=R[L],n[--X]=255&L,L>>=8;M!==null&&d<4096&&(R[d++]=M<<8|B,d>=x+1&&m<12&&(++m,x=x<<1|1)),M=q}else d=f+1,x=(1<<(m=s+1))-1,M=null}return E!==r&&jn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vh(e){var t,n,r,s,o,f=Math.floor,d=new Array(64),m=new Array(64),x=new Array(64),S=new Array(64),A=new Array(65535),E=new Array(65535),b=new Array(64),R=new Array(64),M=[],q=0,I=7,T=new Array(64),L=new Array(64),B=new Array(64),X=new Array(256),re=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(P,te){for(var ae=0,pe=0,ue=new Array,_e=1;_e<=16;_e++){for(var Ee=1;Ee<=P[_e];Ee++)ue[te[pe]]=[],ue[te[pe]][0]=ae,ue[te[pe]][1]=_e,pe++,ae++;ae*=2}return ue}function Y(P){for(var te=P[0],ae=P[1]-1;ae>=0;)te&1<<ae&&(q|=1<<I),ae--,--I<0&&(q==255?(ne(255),ne(0)):ne(q),I=7,q=0)}function ne(P){M.push(P)}function oe(P){ne(P>>8&255),ne(255&P)}function me(P,te,ae,pe,ue){for(var _e,Ee=ue[0],De=ue[240],$e=function(Ue,nt){var Pe,rt,bt,Ct,Pt,Lt,rn,Jt,pt,Wt,st=0;for(pt=0;pt<8;++pt){Pe=Ue[st],rt=Ue[st+1],bt=Ue[st+2],Ct=Ue[st+3],Pt=Ue[st+4],Lt=Ue[st+5],rn=Ue[st+6];var Gi=Pe+(Jt=Ue[st+7]),Et=Pe-Jt,et=rt+rn,Rt=rt-rn,Tt=bt+Lt,dn=bt-Lt,an=Ct+Pt,Da=Ct-Pt,Gn=Gi+an,Ht=Gi-an,nr=et+Tt,Vn=et-Tt;Ue[st]=Gn+nr,Ue[st+4]=Gn-nr;var Bt=.707106781*(Vn+Ht);Ue[st+2]=Ht+Bt,Ue[st+6]=Ht-Bt;var Gt=.382683433*((Gn=Da+dn)-(Vn=Rt+Et)),Oa=.5411961*Gn+Gt,un=1.306562965*Vn+Gt,ir=.707106781*(nr=dn+Rt),Nr=Et+ir,yt=Et-ir;Ue[st+5]=yt+Oa,Ue[st+3]=yt-Oa,Ue[st+1]=Nr+un,Ue[st+7]=Nr-un,st+=8}for(st=0,pt=0;pt<8;++pt){Pe=Ue[st],rt=Ue[st+8],bt=Ue[st+16],Ct=Ue[st+24],Pt=Ue[st+32],Lt=Ue[st+40],rn=Ue[st+48];var Yr=Pe+(Jt=Ue[st+56]),Vi=Pe-Jt,Yi=rt+rn,fn=rt-rn,Ln=bt+Lt,Pn=bt-Lt,ut=Ct+Pt,fr=Ct-Pt,Cr=Yr+ut,Fn=Yr-ut,Xi=Yi+Ln,Er=Yi-Ln;Ue[st]=Cr+Xi,Ue[st+32]=Cr-Xi;var rr=.707106781*(Er+Fn);Ue[st+16]=Fn+rr,Ue[st+48]=Fn-rr;var wi=.382683433*((Cr=fr+Pn)-(Er=fn+Vi)),gs=.5411961*Cr+wi,Hs=1.306562965*Er+wi,ar=.707106781*(Xi=Pn+fn),di=Vi+ar,yn=Vi-ar;Ue[st+40]=yn+gs,Ue[st+24]=yn-gs,Ue[st+8]=di+Hs,Ue[st+56]=di-Hs,st++}for(pt=0;pt<64;++pt)Wt=Ue[pt]*nt[pt],b[pt]=Wt>0?Wt+.5|0:Wt-.5|0;return b}(P,te),Ye=0;Ye<64;++Ye)R[k[Ye]]=$e[Ye];var it=R[0]-ae;ae=R[0],it==0?Y(pe[0]):(Y(pe[E[_e=32767+it]]),Y(A[_e]));for(var We=63;We>0&&R[We]==0;)We--;if(We==0)return Y(Ee),ae;for(var Nt,je=1;je<=We;){for(var xe=je;R[je]==0&&je<=We;)++je;var xt=je-xe;if(xt>=16){Nt=xt>>4;for(var tt=1;tt<=Nt;++tt)Y(De);xt&=15}_e=32767+R[je],Y(ue[(xt<<4)+E[_e]]),Y(A[_e]),je++}return We!=63&&Y(Ee),ae}function Oe(P){P=Math.min(Math.max(P,1),100),o!=P&&(function(te){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var ue=f((ae[pe]*te+50)/100);ue=Math.min(Math.max(ue,1),255),d[k[pe]]=ue}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var De=f((_e[Ee]*te+50)/100);De=Math.min(Math.max(De,1),255),m[k[Ee]]=De}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,it=0;it<8;it++)for(var We=0;We<8;We++)x[Ye]=1/(d[k[Ye]]*$e[it]*$e[We]*8),S[Ye]=1/(m[k[Ye]]*$e[it]*$e[We]*8),Ye++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,te){te&&Oe(te),M=new Array,q=0,I=7,oe(65496),oe(65504),oe(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),oe(1),oe(1),ne(0),ne(0),function(){oe(65499),oe(132),ne(0);for(var rt=0;rt<64;rt++)ne(d[rt]);ne(1);for(var bt=0;bt<64;bt++)ne(m[bt])}(),function(rt,bt){oe(65472),oe(17),ne(8),oe(bt),oe(rt),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(P.width,P.height),function(){oe(65476),oe(418),ne(0);for(var rt=0;rt<16;rt++)ne(U[rt+1]);for(var bt=0;bt<=11;bt++)ne(J[bt]);ne(16);for(var Ct=0;Ct<16;Ct++)ne(ge[Ct+1]);for(var Pt=0;Pt<=161;Pt++)ne(F[Pt]);ne(1);for(var Lt=0;Lt<16;Lt++)ne(j[Lt+1]);for(var rn=0;rn<=11;rn++)ne(se[rn]);ne(17);for(var Jt=0;Jt<16;Jt++)ne(le[Jt+1]);for(var pt=0;pt<=161;pt++)ne($[pt])}(),oe(65498),oe(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var ae=0,pe=0,ue=0;q=0,I=7,this.encode.displayName="_encode_";for(var _e,Ee,De,$e,Ye,it,We,Nt,je,xe=P.data,xt=P.width,tt=P.height,Ue=4*xt,nt=0;nt<tt;){for(_e=0;_e<Ue;){for(Ye=Ue*nt+_e,We=-1,Nt=0,je=0;je<64;je++)it=Ye+(Nt=je>>3)*Ue+(We=4*(7&je)),nt+Nt>=tt&&(it-=Ue*(nt+1+Nt-tt)),_e+We>=Ue&&(it-=_e+We-Ue+4),Ee=xe[it++],De=xe[it++],$e=xe[it++],T[je]=(re[Ee]+re[De+256>>0]+re[$e+512>>0]>>16)-128,L[je]=(re[Ee+768>>0]+re[De+1024>>0]+re[$e+1280>>0]>>16)-128,B[je]=(re[Ee+1280>>0]+re[De+1536>>0]+re[$e+1792>>0]>>16)-128;ae=me(T,x,ae,t,r),pe=me(L,S,pe,n,s),ue=me(B,S,ue,n,s),_e+=32}nt+=8}if(I>=0){var Pe=[];Pe[1]=I+1,Pe[0]=(1<<I+1)-1,Y(Pe)}return oe(65497),new Uint8Array(M)},e=e||50,function(){for(var P=String.fromCharCode,te=0;te<256;te++)X[te]=P(te)}(),t=W(U,J),n=W(j,se),r=W(ge,F),s=W(le,$),function(){for(var P=1,te=2,ae=1;ae<=15;ae++){for(var pe=P;pe<te;pe++)E[32767+pe]=ae,A[32767+pe]=[],A[32767+pe][1]=ae,A[32767+pe][0]=pe;for(var ue=-(te-1);ue<=-P;ue++)E[32767+ue]=ae,A[32767+ue]=[],A[32767+ue][1]=ae,A[32767+ue][0]=te-1+ue;P<<=1,te<<=1}}(),function(){for(var P=0;P<256;P++)re[P]=19595*P,re[P+256>>0]=38470*P,re[P+512>>0]=7471*P+32768,re[P+768>>0]=-11059*P,re[P+1024>>0]=-21709*P,re[P+1280>>0]=32768*P+8421375,re[P+1536>>0]=-27439*P,re[P+1792>>0]=-5329*P}(),Oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ua(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function s5(e){function t(U){if(!U)throw Error("assert :P")}function n(U,J,ge){for(var F=0;4>F;F++)if(U[J+F]!=ge.charCodeAt(F))return!0;return!1}function r(U,J,ge,F,j){for(var se=0;se<j;se++)U[J+se]=ge[F+se]}function s(U,J,ge,F){for(var j=0;j<F;j++)U[J+j]=ge}function o(U){return new Int32Array(U)}function f(U,J){for(var ge=[],F=0;F<U;F++)ge.push(new J);return ge}function d(U,J){var ge=[];return function F(j,se,le){for(var $=le[se],W=0;W<$&&(j.push(le.length>se+1?[]:new J),!(le.length<se+1));W++)F(j[W],se+1,le)}(ge,0,U),ge}var m=function(){var U=this;function J(g,y){for(var _=1<<y-1>>>0;g&_;)_>>>=1;return _?(g&_-1)+_:g}function ge(g,y,_,D,G){t(!(D%_));do g[y+(D-=_)]=G;while(0<D)}function F(g,y,_,D,G){if(t(2328>=G),512>=G)var Z=o(512);else if((Z=o(G))==null)return 0;return function(K,ee,ie,de,be,Le){var Me,Ce,Ge=ee,ke=1<<ie,Ae=o(16),Se=o(16);for(t(be!=0),t(de!=null),t(K!=null),t(0<ie),Ce=0;Ce<be;++Ce){if(15<de[Ce])return 0;++Ae[de[Ce]]}if(Ae[0]==be)return 0;for(Se[1]=0,Me=1;15>Me;++Me){if(Ae[Me]>1<<Me)return 0;Se[Me+1]=Se[Me]+Ae[Me]}for(Ce=0;Ce<be;++Ce)Me=de[Ce],0<de[Ce]&&(Le[Se[Me]++]=Ce);if(Se[15]==1)return(de=new j).g=0,de.value=Le[0],ge(K,Ge,1,ke,de),ke;var ze,Ke=-1,He=ke-1,ft=0,at=1,_t=1,lt=1<<ie;for(Ce=0,Me=1,be=2;Me<=ie;++Me,be<<=1){if(at+=_t<<=1,0>(_t-=Ae[Me]))return 0;for(;0<Ae[Me];--Ae[Me])(de=new j).g=Me,de.value=Le[Ce++],ge(K,Ge+ft,be,lt,de),ft=J(ft,Me)}for(Me=ie+1,be=2;15>=Me;++Me,be<<=1){if(at+=_t<<=1,0>(_t-=Ae[Me]))return 0;for(;0<Ae[Me];--Ae[Me]){if(de=new j,(ft&He)!=Ke){for(Ge+=lt,ze=1<<(Ke=Me)-ie;15>Ke&&!(0>=(ze-=Ae[Ke]));)++Ke,ze<<=1;ke+=lt=1<<(ze=Ke-ie),K[ee+(Ke=ft&He)].g=ze+ie,K[ee+Ke].value=Ge-ee-Ke}de.g=Me-ie,de.value=Le[Ce++],ge(K,Ge+(ft>>ie),be,lt,de),ft=J(ft,Me)}}return at!=2*Se[15]-1?0:ke}(g,y,_,D,G,Z)}function j(){this.value=this.g=0}function se(){this.value=this.g=0}function le(){this.G=f(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Mn,se)}function $(g,y,_,D){t(g!=null),t(y!=null),t(2147483648>D),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=y,g.pa=_,g.Jd=y,g.Yc=_+D,g.Zc=4<=D?_+D-4+1:_,_e(g)}function W(g,y){for(var _=0;0<y--;)_|=De(g,128)<<y;return _}function Y(g,y){var _=W(g,y);return Ee(g)?-_:_}function ne(g,y,_,D){var G,Z=0;for(t(g!=null),t(y!=null),t(4294967288>D),g.Sb=D,g.Ra=0,g.u=0,g.h=0,4<D&&(D=4),G=0;G<D;++G)Z+=y[_+G]<<8*G;g.Ra=Z,g.bb=D,g.oa=y,g.pa=_}function oe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ya-8>>>0,++g.bb,g.u-=8;ae(g)&&(g.h=1,g.u=0)}function me(g,y){if(t(0<=y),!g.h&&y<=$a){var _=te(g)&Ks[y];return g.u+=y,oe(g),_}return g.h=1,g.u=0}function Oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(g){return g.Ra>>>(g.u&ya-1)>>>0}function ae(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ya}function pe(g,y){g.u=y,g.h=ae(g)}function ue(g){g.u>=Qt&&(t(g.u>=Qt),oe(g))}function _e(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ee(g){return W(g,1)}function De(g,y){var _=g.Ca;0>g.b&&_e(g);var D=g.b,G=_*y>>>8,Z=(g.I>>>D>G)+0;for(Z?(_-=G,g.I-=G+1<<D>>>0):_=G+1,D=_,G=0;256<=D;)G+=8,D>>=8;return D=7^G+ki[D],g.b-=D,g.Ca=(_<<D)-1,Z}function $e(g,y,_){g[y+0]=_>>24&255,g[y+1]=_>>16&255,g[y+2]=_>>8&255,g[y+3]=_>>0&255}function Ye(g,y){return g[y+0]<<0|g[y+1]<<8}function it(g,y){return Ye(g,y)|g[y+2]<<16}function We(g,y){return Ye(g,y)|Ye(g,y+2)<<16}function Nt(g,y){var _=1<<y;return t(g!=null),t(0<y),g.X=o(_),g.X==null?0:(g.Mb=32-y,g.Xa=y,1)}function je(g,y){t(g!=null),t(y!=null),t(g.Xa==y.Xa),r(y.X,0,g.X,0,1<<y.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function xt(g,y,_,D){t(_!=null),t(D!=null);var G=_[0],Z=D[0];return G==0&&(G=(g*Z+y/2)/y),Z==0&&(Z=(y*G+g/2)/g),0>=G||0>=Z?0:(_[0]=G,D[0]=Z,1)}function tt(g,y){return g+(1<<y)-1>>>y}function Ue(g,y){return((4278255360&g)+(4278255360&y)>>>0&4278255360)+((16711935&g)+(16711935&y)>>>0&16711935)>>>0}function nt(g,y){U[y]=function(_,D,G,Z,K,ee,ie){var de;for(de=0;de<K;++de){var be=U[g](ee[ie+de-1],G,Z+de);ee[ie+de]=Ue(_[D+de],be)}}}function Pe(){this.ud=this.hd=this.jd=0}function rt(g,y){return((4278124286&(g^y))>>>1)+(g&y)>>>0}function bt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ct(g,y){return bt(g+(g-y+.5>>1))}function Pt(g,y,_){return Math.abs(y-_)-Math.abs(g-_)}function Lt(g,y,_,D,G,Z,K){for(D=Z[K-1],_=0;_<G;++_)Z[K+_]=D=Ue(g[y+_],D)}function rn(g,y,_,D,G){var Z;for(Z=0;Z<_;++Z){var K=g[y+Z],ee=K>>8&255,ie=16711935&(ie=(ie=16711935&K)+((ee<<16)+ee));D[G+Z]=(4278255360&K)+ie>>>0}}function Jt(g,y){y.jd=g>>0&255,y.hd=g>>8&255,y.ud=g>>16&255}function pt(g,y,_,D,G,Z){var K;for(K=0;K<D;++K){var ee=y[_+K],ie=ee>>>8,de=ee,be=255&(be=(be=ee>>>16)+((g.jd<<24>>24)*(ie<<24>>24)>>>5));de=255&(de=(de=de+((g.hd<<24>>24)*(ie<<24>>24)>>>5))+((g.ud<<24>>24)*(be<<24>>24)>>>5)),G[Z+K]=(4278255360&ee)+(be<<16)+de}}function Wt(g,y,_,D,G){U[y]=function(Z,K,ee,ie,de,be,Le,Me,Ce){for(ie=Le;ie<Me;++ie)for(Le=0;Le<Ce;++Le)de[be++]=G(ee[D(Z[K++])])},U[g]=function(Z,K,ee,ie,de,be,Le){var Me=8>>Z.b,Ce=Z.Ea,Ge=Z.K[0],ke=Z.w;if(8>Me)for(Z=(1<<Z.b)-1,ke=(1<<Me)-1;K<ee;++K){var Ae,Se=0;for(Ae=0;Ae<Ce;++Ae)Ae&Z||(Se=D(ie[de++])),be[Le++]=G(Ge[Se&ke]),Se>>=Me}else U["VP8LMapColor"+_](ie,de,Ge,ke,be,Le,K,ee,Ce)}}function st(g,y,_,D,G){for(_=y+_;y<_;){var Z=g[y++];D[G++]=Z>>16&255,D[G++]=Z>>8&255,D[G++]=Z>>0&255}}function Gi(g,y,_,D,G){for(_=y+_;y<_;){var Z=g[y++];D[G++]=Z>>16&255,D[G++]=Z>>8&255,D[G++]=Z>>0&255,D[G++]=Z>>24&255}}function Et(g,y,_,D,G){for(_=y+_;y<_;){var Z=(K=g[y++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;D[G++]=Z,D[G++]=K}}function et(g,y,_,D,G){for(_=y+_;y<_;){var Z=(K=g[y++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;D[G++]=Z,D[G++]=K}}function Rt(g,y,_,D,G){for(_=y+_;y<_;){var Z=g[y++];D[G++]=Z>>0&255,D[G++]=Z>>8&255,D[G++]=Z>>16&255}}function Tt(g,y,_,D,G,Z){if(Z==0)for(_=y+_;y<_;)$e(D,((Z=g[y++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),G+=32;else r(D,G,g,y,_)}function dn(g,y){U[y][0]=U[g+"0"],U[y][1]=U[g+"1"],U[y][2]=U[g+"2"],U[y][3]=U[g+"3"],U[y][4]=U[g+"4"],U[y][5]=U[g+"5"],U[y][6]=U[g+"6"],U[y][7]=U[g+"7"],U[y][8]=U[g+"8"],U[y][9]=U[g+"9"],U[y][10]=U[g+"10"],U[y][11]=U[g+"11"],U[y][12]=U[g+"12"],U[y][13]=U[g+"13"],U[y][14]=U[g+"0"],U[y][15]=U[g+"0"]}function an(g){return g==p0||g==m0||g==mf||g==x0}function Da(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Da,this.f.kb=new Gn,this.sd=null}function nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Gt(g,y){var _=g.T,D=y.ba.f.RGBA,G=D.eb,Z=D.fb+g.ka*D.A,K=ba[y.ba.S],ee=g.y,ie=g.O,de=g.f,be=g.N,Le=g.ea,Me=g.W,Ce=y.cc,Ge=y.dc,ke=y.Mc,Ae=y.Nc,Se=g.ka,ze=g.ka+g.T,Ke=g.U,He=Ke+1>>1;for(Se==0?K(ee,ie,null,null,de,be,Le,Me,de,be,Le,Me,G,Z,null,null,Ke):(K(y.ec,y.fc,ee,ie,Ce,Ge,ke,Ae,de,be,Le,Me,G,Z-D.A,G,Z,Ke),++_);Se+2<ze;Se+=2)Ce=de,Ge=be,ke=Le,Ae=Me,be+=g.Rc,Me+=g.Rc,Z+=2*D.A,K(ee,(ie+=2*g.fa)-g.fa,ee,ie,Ce,Ge,ke,Ae,de,be,Le,Me,G,Z-D.A,G,Z,Ke);return ie+=g.fa,g.j+ze<g.o?(r(y.ec,y.fc,ee,ie,Ke),r(y.cc,y.dc,de,be,He),r(y.Mc,y.Nc,Le,Me,He),_--):1&ze||K(ee,ie,null,null,de,be,Le,Me,de,be,Le,Me,G,Z+D.A,null,null,Ke),_}function Oa(g,y,_){var D=g.F,G=[g.J];if(D!=null){var Z=g.U,K=y.ba.S,ee=K==pf||K==mf;y=y.ba.f.RGBA;var ie=[0],de=g.ka;ie[0]=g.T,g.Kb&&(de==0?--ie[0]:(--de,G[0]-=g.width),g.j+g.ka+g.T==g.o&&(ie[0]=g.o-g.j-de));var be=y.eb;de=y.fb+de*y.A,g=Hn(D,G[0],g.width,Z,ie,be,de+(ee?0:3),y.A),t(_==ie),g&&an(K)&&kr(be,de,ee,Z,ie,y.A)}return 0}function un(g){var y=g.ma,_=y.ba.S,D=11>_,G=_==df||_==gf||_==pf||_==g0||_==12||an(_);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!ys(y.Oa,g,G?11:12))return 0;if(G&&an(_)&&Ve(),g.da)alert("todo:use_scaling");else{if(D){if(y.Ib=Bt,g.Kb){if(_=g.U+1>>1,y.memory=o(g.U+2*_),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+g.U,y.Mc=y.cc,y.Nc=y.dc+_,y.Ib=Gt,Ve()}}else alert("todo:EmitYUV");G&&(y.Jb=Oa,D&&Te())}if(D&&!W2){for(g=0;256>g;++g)b4[g]=89858*(g-128)+yf>>xf,N4[g]=-22014*(g-128)+yf,S4[g]=-45773*(g-128),A4[g]=113618*(g-128)+yf>>xf;for(g=qc;g<w0;++g)y=76283*(g-16)+yf>>xf,C4[g-qc]=gi(y,255),E4[g-qc]=gi(y+8>>4,15);W2=1}return 1}function ir(g){var y=g.ma,_=g.U,D=g.T;return t(!(1&g.ka)),0>=_||0>=D?0:(_=y.Ib(g,y),y.Jb!=null&&y.Jb(g,y,_),y.Dc+=_,1)}function Nr(g){g.ma.memory=null}function yt(g,y,_,D){return me(g,8)!=47?0:(y[0]=me(g,14)+1,_[0]=me(g,14)+1,D[0]=me(g,1),me(g,3)!=0?0:!g.h)}function Yr(g,y){if(4>g)return g+1;var _=g-2>>1;return(2+(1&g)<<_)+me(y,_)+1}function Vi(g,y){return 120<y?y-120:1<=(_=((_=o4[y-1])>>4)*g+(8-(15&_)))?_:1;var _}function Yi(g,y,_){var D=te(_),G=g[y+=255&D].g-8;return 0<G&&(pe(_,_.u+8),D=te(_),y+=g[y].value,y+=D&(1<<G)-1),pe(_,_.u+g[y].g),g[y].value}function fn(g,y,_){return _.g+=g.g,_.value+=g.value<<y>>>0,t(8>=_.g),g.g}function Ln(g,y,_){var D=g.xc;return t((y=D==0?0:g.vc[g.md*(_>>D)+(y>>D)])<g.Wb),g.Ya[y]}function Pn(g,y,_,D){var G=g.ab,Z=g.c*y,K=g.C;y=K+y;var ee=_,ie=D;for(D=g.Ta,_=g.Ua;0<G--;){var de=g.gc[G],be=K,Le=y,Me=ee,Ce=ie,Ge=(ie=D,ee=_,de.Ea);switch(t(be<Le),t(Le<=de.nc),de.hc){case 2:a(Me,Ce,(Le-be)*Ge,ie,ee);break;case 0:var ke=be,Ae=Le,Se=ie,ze=ee,Ke=(lt=de).Ea;ke==0&&(H(Me,Ce,null,null,1,Se,ze),Lt(Me,Ce+1,0,0,Ke-1,Se,ze+1),Ce+=Ke,ze+=Ke,++ke);for(var He=1<<lt.b,ft=He-1,at=tt(Ke,lt.b),_t=lt.K,lt=lt.w+(ke>>lt.b)*at;ke<Ae;){var vn=_t,Nn=lt,mn=1;for(i(Me,Ce,Se,ze-Ke,1,Se,ze);mn<Ke;){var sn=(mn&~ft)+He;sn>Ke&&(sn=Ke),(0,p[vn[Nn++]>>8&15])(Me,Ce+ +mn,Se,ze+mn-Ke,sn-mn,Se,ze+mn),mn=sn}Ce+=Ke,ze+=Ke,++ke&ft||(lt+=at)}Le!=de.nc&&r(ie,ee-Ge,ie,ee+(Le-be-1)*Ge,Ge);break;case 1:for(Ge=Me,Ae=Ce,Ke=(Me=de.Ea)-(ze=Me&~(Se=(Ce=1<<de.b)-1)),ke=tt(Me,de.b),He=de.K,de=de.w+(be>>de.b)*ke;be<Le;){for(ft=He,at=de,_t=new Pe,lt=Ae+ze,vn=Ae+Me;Ae<lt;)Jt(ft[at++],_t),v(_t,Ge,Ae,Ce,ie,ee),Ae+=Ce,ee+=Ce;Ae<vn&&(Jt(ft[at++],_t),v(_t,Ge,Ae,Ke,ie,ee),Ae+=Ke,ee+=Ke),++be&Se||(de+=ke)}break;case 3:if(Me==ie&&Ce==ee&&0<de.b){for(Ae=ie,Me=Ge=ee+(Le-be)*Ge-(ze=(Le-be)*tt(de.Ea,de.b)),Ce=ie,Se=ee,ke=[],ze=(Ke=ze)-1;0<=ze;--ze)ke[ze]=Ce[Se+ze];for(ze=Ke-1;0<=ze;--ze)Ae[Me+ze]=ke[ze];l(de,be,Le,ie,Ge,ie,ee)}else l(de,be,Le,Me,Ce,ie,ee)}ee=D,ie=_}ie!=_&&r(D,_,ee,ie,Z)}function ut(g,y){var _=g.V,D=g.Ba+g.c*g.C,G=y-g.C;if(t(y<=g.l.o),t(16>=G),0<G){var Z=g.l,K=g.Ta,ee=g.Ua,ie=Z.width;if(Pn(g,G,_,D),G=ee=[ee],t((_=g.C)<(D=y)),t(Z.v<Z.va),D>Z.o&&(D=Z.o),_<Z.j){var de=Z.j-_;_=Z.j,G[0]+=de*ie}if(_>=D?_=0:(G[0]+=4*Z.v,Z.ka=_-Z.j,Z.U=Z.va-Z.v,Z.T=D-_,_=1),_){if(ee=ee[0],11>(_=g.ca).S){var be=_.f.RGBA,Le=(D=_.S,G=Z.U,Z=Z.T,de=be.eb,be.A),Me=Z;for(be=be.fb+g.Ma*be.A;0<Me--;){var Ce=K,Ge=ee,ke=G,Ae=de,Se=be;switch(D){case hf:N(Ce,Ge,ke,Ae,Se);break;case df:O(Ce,Ge,ke,Ae,Se);break;case p0:O(Ce,Ge,ke,Ae,Se),kr(Ae,Se,0,ke,1,0);break;case F2:he(Ce,Ge,ke,Ae,Se);break;case gf:Tt(Ce,Ge,ke,Ae,Se,1);break;case m0:Tt(Ce,Ge,ke,Ae,Se,1),kr(Ae,Se,0,ke,1,0);break;case pf:Tt(Ce,Ge,ke,Ae,Se,0);break;case mf:Tt(Ce,Ge,ke,Ae,Se,0),kr(Ae,Se,1,ke,1,0);break;case g0:z(Ce,Ge,ke,Ae,Se);break;case x0:z(Ce,Ge,ke,Ae,Se),zn(Ae,Se,ke,1,0);break;case U2:Q(Ce,Ge,ke,Ae,Se);break;default:t(0)}ee+=ie,be+=Le}g.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=_.height)}}g.C=y,t(g.C<=g.i)}function fr(g){var y;if(0<g.ua)return 0;for(y=0;y<g.Wb;++y){var _=g.Ya[y].G,D=g.Ya[y].H;if(0<_[1][D[1]+0].g||0<_[2][D[2]+0].g||0<_[3][D[3]+0].g)return 0}return 1}function Cr(g,y,_,D,G,Z){if(g.Z!=0){var K=g.qd,ee=g.rd;for(t($s[g.Z]!=null);y<_;++y)$s[g.Z](K,ee,D,G,D,G,Z),K=D,ee=G,G+=Z;g.qd=K,g.rd=ee}}function Fn(g,y){var _=g.l.ma,D=_.Z==0||_.Z==1?g.l.j:g.C;if(D=g.C<D?D:g.C,t(y<=g.l.o),y>D){var G=g.l.width,Z=_.ca,K=_.tb+G*D,ee=g.V,ie=g.Ba+g.c*D,de=g.gc;t(g.ab==1),t(de[0].hc==3),u(de[0],D,y,ee,ie,Z,K),Cr(_,D,y,Z,K,G)}g.C=g.Ma=y}function Xi(g,y,_,D,G,Z,K){var ee=g.$/D,ie=g.$%D,de=g.m,be=g.s,Le=_+g.$,Me=Le;G=_+D*G;var Ce=_+D*Z,Ge=280+be.ua,ke=g.Pb?ee:16777216,Ae=0<be.ua?be.Wa:null,Se=be.wc,ze=Le<Ce?Ln(be,ie,ee):null;t(g.C<Z),t(Ce<=G);var Ke=!1;e:for(;;){for(;Ke||Le<Ce;){var He=0;if(ee>=ke){var ft=Le-_;t((ke=g).Pb),ke.wd=ke.m,ke.xd=ft,0<ke.s.ua&&je(ke.s.Wa,ke.s.vb),ke=ee+c4}if(ie&Se||(ze=Ln(be,ie,ee)),t(ze!=null),ze.Qb&&(y[Le]=ze.qb,Ke=!0),!Ke)if(ue(de),ze.jc){He=de,ft=y;var at=Le,_t=ze.pd[te(He)&Mn-1];t(ze.jc),256>_t.g?(pe(He,He.u+_t.g),ft[at]=_t.value,He=0):(pe(He,He.u+_t.g-256),t(256<=_t.value),He=_t.value),He==0&&(Ke=!0)}else He=Yi(ze.G[0],ze.H[0],de);if(de.h)break;if(Ke||256>He){if(!Ke)if(ze.nd)y[Le]=(ze.qb|He<<8)>>>0;else{if(ue(de),Ke=Yi(ze.G[1],ze.H[1],de),ue(de),ft=Yi(ze.G[2],ze.H[2],de),at=Yi(ze.G[3],ze.H[3],de),de.h)break;y[Le]=(at<<24|Ke<<16|He<<8|ft)>>>0}if(Ke=!1,++Le,++ie>=D&&(ie=0,++ee,K!=null&&ee<=Z&&!(ee%16)&&K(g,ee),Ae!=null))for(;Me<Le;)He=y[Me++],Ae.X[(506832829*He&4294967295)>>>Ae.Mb]=He}else if(280>He){if(He=Yr(He-256,de),ft=Yi(ze.G[4],ze.H[4],de),ue(de),ft=Vi(D,ft=Yr(ft,de)),de.h)break;if(Le-_<ft||G-Le<He)break e;for(at=0;at<He;++at)y[Le+at]=y[Le+at-ft];for(Le+=He,ie+=He;ie>=D;)ie-=D,++ee,K!=null&&ee<=Z&&!(ee%16)&&K(g,ee);if(t(Le<=G),ie&Se&&(ze=Ln(be,ie,ee)),Ae!=null)for(;Me<Le;)He=y[Me++],Ae.X[(506832829*He&4294967295)>>>Ae.Mb]=He}else{if(!(He<Ge))break e;for(Ke=He-280,t(Ae!=null);Me<Le;)He=y[Me++],Ae.X[(506832829*He&4294967295)>>>Ae.Mb]=He;He=Le,t(!(Ke>>>(ft=Ae).Xa)),y[He]=ft.X[Ke],Ke=!0}Ke||t(de.h==ae(de))}if(g.Pb&&de.h&&Le<G)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&je(g.s.vb,g.s.Wa);else{if(de.h)break e;K!=null&&K(g,ee>Z?Z:ee),g.a=0,g.$=Le-_}return 1}return g.a=3,0}function Er(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var y=g.Wa;y!=null&&(y.X=null),g.vb=null,t(g!=null)}function rr(){var g=new li;return g==null?null:(g.a=0,g.xb=q2,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),a=rn,v=pt,N=st,O=Gi,z=Et,Q=et,he=Rt,U.VP8LMapColor32b=c,U.VP8LMapColor8b=h,g)}function wi(g,y,_,D,G){var Z=1,K=[g],ee=[y],ie=D.m,de=D.s,be=null,Le=0;e:for(;;){if(_)for(;Z&&me(ie,1);){var Me=K,Ce=ee,Ge=D,ke=1,Ae=Ge.m,Se=Ge.gc[Ge.ab],ze=me(Ae,2);if(Ge.Oc&1<<ze)Z=0;else{switch(Ge.Oc|=1<<ze,Se.hc=ze,Se.Ea=Me[0],Se.nc=Ce[0],Se.K=[null],++Ge.ab,t(4>=Ge.ab),ze){case 0:case 1:Se.b=me(Ae,3)+2,ke=wi(tt(Se.Ea,Se.b),tt(Se.nc,Se.b),0,Ge,Se.K),Se.K=Se.K[0];break;case 3:var Ke,He=me(Ae,8)+1,ft=16<He?0:4<He?1:2<He?2:3;if(Me[0]=tt(Se.Ea,ft),Se.b=ft,Ke=ke=wi(He,1,0,Ge,Se.K)){var at,_t=He,lt=Se,vn=1<<(8>>lt.b),Nn=o(vn);if(Nn==null)Ke=0;else{var mn=lt.K[0],sn=lt.w;for(Nn[0]=lt.K[0][0],at=1;at<1*_t;++at)Nn[at]=Ue(mn[sn+at],Nn[at-1]);for(;at<4*vn;++at)Nn[at]=0;lt.K[0]=null,lt.K[0]=Nn,Ke=1}}ke=Ke;break;case 2:break;default:t(0)}Z=ke}}if(K=K[0],ee=ee[0],Z&&me(ie,1)&&!(Z=1<=(Le=me(ie,4))&&11>=Le)){D.a=3;break e}var Bn;if(Bn=Z)t:{var Dn,Yt,Di,Pr=D,Oi=K,Fr=ee,Cn=Le,Kr=_,Jr=Pr.m,Zi=Pr.s,or=[null],Ir=1,Aa=0,es=l4[Cn];n:for(;;){if(Kr&&me(Jr,1)){var Qi=me(Jr,3)+2,As=tt(Oi,Qi),sl=tt(Fr,Qi),Fl=As*sl;if(!wi(As,sl,0,Pr,or))break n;for(or=or[0],Zi.xc=Qi,Dn=0;Dn<Fl;++Dn){var eo=or[Dn]>>8&65535;or[Dn]=eo,eo>=Ir&&(Ir=eo+1)}}if(Jr.h)break n;for(Yt=0;5>Yt;++Yt){var mi=z2[Yt];!Yt&&0<Cn&&(mi+=1<<Cn),Aa<mi&&(Aa=mi)}var b0=f(Ir*es,j),K2=Ir,J2=f(K2,le);if(J2==null)var wf=null;else t(65536>=K2),wf=J2;var Gc=o(Aa);if(wf==null||Gc==null||b0==null){Pr.a=1;break n}var bf=b0;for(Dn=Di=0;Dn<Ir;++Dn){var Pa=wf[Dn],Ul=Pa.G,zl=Pa.H,$2=0,Af=1,eg=0;for(Yt=0;5>Yt;++Yt){mi=z2[Yt],Ul[Yt]=bf,zl[Yt]=Di,!Yt&&0<Cn&&(mi+=1<<Cn);r:{var Sf,A0=mi,Nf=Pr,Vc=Gc,I4=bf,L4=Di,S0=0,to=Nf.m,M4=me(to,1);if(s(Vc,0,0,A0),M4){var D4=me(to,1)+1,O4=me(to,1),tg=me(to,O4==0?1:8);Vc[tg]=1,D4==2&&(Vc[tg=me(to,8)]=1);var Cf=1}else{var ng=o(19),ig=me(to,4)+4;if(19<ig){Nf.a=3;var Ef=0;break r}for(Sf=0;Sf<ig;++Sf)ng[s4[Sf]]=me(to,3);var N0=void 0,Yc=void 0,rg=Nf,R4=ng,Tf=A0,ag=Vc,C0=0,no=rg.m,sg=8,og=f(128,j);i:for(;F(og,0,7,R4,19);){if(me(no,1)){var B4=2+2*me(no,3);if((N0=2+me(no,B4))>Tf)break i}else N0=Tf;for(Yc=0;Yc<Tf&&N0--;){ue(no);var lg=og[0+(127&te(no))];pe(no,no.u+lg.g);var Hl=lg.value;if(16>Hl)ag[Yc++]=Hl,Hl!=0&&(sg=Hl);else{var j4=Hl==16,cg=Hl-16,k4=r4[cg],ug=me(no,i4[cg])+k4;if(Yc+ug>Tf)break i;for(var P4=j4?sg:0;0<ug--;)ag[Yc++]=P4}}C0=1;break i}C0||(rg.a=3),Cf=C0}(Cf=Cf&&!to.h)&&(S0=F(I4,L4,8,Vc,A0)),Cf&&S0!=0?Ef=S0:(Nf.a=3,Ef=0)}if(Ef==0)break n;if(Af&&a4[Yt]==1&&(Af=bf[Di].g==0),$2+=bf[Di].g,Di+=Ef,3>=Yt){var Xc,E0=Gc[0];for(Xc=1;Xc<mi;++Xc)Gc[Xc]>E0&&(E0=Gc[Xc]);eg+=E0}}if(Pa.nd=Af,Pa.Qb=0,Af&&(Pa.qb=(Ul[3][zl[3]+0].value<<24|Ul[1][zl[1]+0].value<<16|Ul[2][zl[2]+0].value)>>>0,$2==0&&256>Ul[0][zl[0]+0].value&&(Pa.Qb=1,Pa.qb+=Ul[0][zl[0]+0].value<<8)),Pa.jc=!Pa.Qb&&6>eg,Pa.jc){var _f,Ss=Pa;for(_f=0;_f<Mn;++_f){var io=_f,ro=Ss.pd[io],If=Ss.G[0][Ss.H[0]+io];256<=If.value?(ro.g=If.g+256,ro.value=If.value):(ro.g=0,ro.value=0,io>>=fn(If,8,ro),io>>=fn(Ss.G[1][Ss.H[1]+io],16,ro),io>>=fn(Ss.G[2][Ss.H[2]+io],0,ro),fn(Ss.G[3][Ss.H[3]+io],24,ro))}}}Zi.vc=or,Zi.Wb=Ir,Zi.Ya=wf,Zi.yc=b0,Bn=1;break t}Bn=0}if(!(Z=Bn)){D.a=3;break e}if(0<Le){if(de.ua=1<<Le,!Nt(de.Wa,Le)){D.a=1,Z=0;break e}}else de.ua=0;var T0=D,fg=K,F4=ee,_0=T0.s,I0=_0.xc;if(T0.c=fg,T0.i=F4,_0.md=tt(fg,I0),_0.wc=I0==0?-1:(1<<I0)-1,_){D.xb=m4;break e}if((be=o(K*ee))==null){D.a=1,Z=0;break e}Z=(Z=Xi(D,be,0,K,ee,ee,null))&&!ie.h;break e}return Z?(G!=null?G[0]=be:(t(be==null),t(_)),D.$=0,_||Er(de)):Er(de),Z}function gs(g,y){var _=g.c*g.i,D=_+y+16*y;return t(g.c<=y),g.V=o(D),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+_+y,1)}function Hs(g,y){var _=g.C,D=y-_,G=g.V,Z=g.Ba+g.c*_;for(t(y<=g.l.o);0<D;){var K=16<D?16:D,ee=g.l.ma,ie=g.l.width,de=ie*K,be=ee.ca,Le=ee.tb+ie*_,Me=g.Ta,Ce=g.Ua;Pn(g,K,G,Z),Ci(Me,Ce,be,Le,de),Cr(ee,_,_+K,be,Le,ie),D-=K,G+=K*g.c,_+=K}t(_==y),g.C=g.Ma=y}function ar(){this.ub=this.yd=this.td=this.Rb=0}function di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function qo(){this.Yb=function(){var g=[];return function y(_,D,G){for(var Z=G[D],K=0;K<Z&&(_.push(G.length>D+1?[]:0),!(G.length<D+1));K++)y(_[K],D+1,G)}(g,0,[3,11]),g}()}function da(){this.jb=o(3),this.Wc=d([4,8],qo),this.Xc=d([4,17],qo)}function Go(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function qe(){this.ld=this.La=this.dd=this.tc=0}function Rl(){this.Na=this.la=0}function Un(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ga(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pc(){this.uc=this.M=this.Nb=0,this.wa=Array(new qe),this.Y=0,this.ya=Array(new ga),this.aa=0,this.l=new Vt}function on(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ln(){this.cb=this.a=0,this.sc="",this.m=new Oe,this.Od=new ar,this.Kc=new di,this.ed=new Go,this.Qa=new yn,this.Ic=this.$c=this.Aa=0,this.D=new Pc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,Oe),this.ia=0,this.pb=f(4,Un),this.Pa=new da,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new on),this.Hd=0,this.rb=Array(new Rl),this.sb=0,this.wa=Array(new qe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ga),this.L=this.aa=0,this.gd=d([4,2],qe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vo(){var g=new ln;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Hc||(Hc=Xr)),g}function Yn(g,y,_){return g.a==0&&(g.a=y,g.sc=_,g.cb=0),0}function qs(g,y,_){return 3<=_&&g[y+0]==157&&g[y+1]==1&&g[y+2]==42}function Jn(g,y){if(g==null)return 0;if(g.a=0,g.sc="OK",y==null)return Yn(g,2,"null VP8Io passed to VP8GetHeaders()");var _=y.data,D=y.w,G=y.ha;if(4>G)return Yn(g,7,"Truncated header.");var Z=_[D+0]|_[D+1]<<8|_[D+2]<<16,K=g.Od;if(K.Rb=!(1&Z),K.td=Z>>1&7,K.yd=Z>>4&1,K.ub=Z>>5,3<K.td)return Yn(g,3,"Incorrect keyframe parameters.");if(!K.yd)return Yn(g,4,"Frame not displayable.");D+=3,G-=3;var ee=g.Kc;if(K.Rb){if(7>G)return Yn(g,7,"cannot parse picture header");if(!qs(_,D,G))return Yn(g,3,"Bad code word");ee.c=16383&(_[D+4]<<8|_[D+3]),ee.Td=_[D+4]>>6,ee.i=16383&(_[D+6]<<8|_[D+5]),ee.Ud=_[D+6]>>6,D+=7,G-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,y.width=ee.c,y.height=ee.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((Z=g.Pa).jb,0,255,Z.jb.length),t((Z=g.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,s(Z.Zb,0,0,Z.Zb.length),s(Z.Lb,0,0,Z.Lb)}if(K.ub>G)return Yn(g,7,"bad partition length");$(Z=g.m,_,D,K.ub),D+=K.ub,G-=K.ub,K.Rb&&(ee.Ld=Ee(Z),ee.Kd=Ee(Z)),ee=g.Qa;var ie,de=g.Pa;if(t(Z!=null),t(ee!=null),ee.Cb=Ee(Z),ee.Cb){if(ee.Bb=Ee(Z),Ee(Z)){for(ee.Fb=Ee(Z),ie=0;4>ie;++ie)ee.Zb[ie]=Ee(Z)?Y(Z,7):0;for(ie=0;4>ie;++ie)ee.Lb[ie]=Ee(Z)?Y(Z,6):0}if(ee.Bb)for(ie=0;3>ie;++ie)de.jb[ie]=Ee(Z)?W(Z,8):255}else ee.Bb=0;if(Z.Ka)return Yn(g,3,"cannot parse segment header");if((ee=g.ed).zd=Ee(Z),ee.Tb=W(Z,6),ee.wb=W(Z,3),ee.Pc=Ee(Z),ee.Pc&&Ee(Z)){for(de=0;4>de;++de)Ee(Z)&&(ee.vd[de]=Y(Z,6));for(de=0;4>de;++de)Ee(Z)&&(ee.od[de]=Y(Z,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,Z.Ka)return Yn(g,3,"cannot parse filter header");var be=G;if(G=ie=D,D=ie+be,ee=be,g.Xb=(1<<W(g.m,2))-1,be<3*(de=g.Xb))_=7;else{for(ie+=3*de,ee-=3*de,be=0;be<de;++be){var Le=_[G+0]|_[G+1]<<8|_[G+2]<<16;Le>ee&&(Le=ee),$(g.Jc[+be],_,ie,Le),ie+=Le,ee-=Le,G+=3}$(g.Jc[+de],_,ie,ee),_=ie<D?0:5}if(_!=0)return Yn(g,_,"cannot parse partitions");for(_=W(ie=g.m,7),G=Ee(ie)?Y(ie,4):0,D=Ee(ie)?Y(ie,4):0,ee=Ee(ie)?Y(ie,4):0,de=Ee(ie)?Y(ie,4):0,ie=Ee(ie)?Y(ie,4):0,be=g.Qa,Le=0;4>Le;++Le){if(be.Cb){var Me=be.Zb[Le];be.Fb||(Me+=_)}else{if(0<Le){g.pb[Le]=g.pb[0];continue}Me=_}var Ce=g.pb[Le];Ce.Sc[0]=y0[gi(Me+G,127)],Ce.Sc[1]=v0[gi(Me+0,127)],Ce.Eb[0]=2*y0[gi(Me+D,127)],Ce.Eb[1]=101581*v0[gi(Me+ee,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=y0[gi(Me+de,117)],Ce.Qc[1]=v0[gi(Me+ie,127)],Ce.lc=Me+ie}if(!K.Rb)return Yn(g,4,"Not a key frame.");for(Ee(Z),K=g.Pa,_=0;4>_;++_){for(G=0;8>G;++G)for(D=0;3>D;++D)for(ee=0;11>ee;++ee)de=De(Z,g4[_][G][D][ee])?W(Z,8):h4[_][G][D][ee],K.Wc[_][G].Yb[D][ee]=de;for(G=0;17>G;++G)K.Xc[_][G]=K.Wc[_][p4[G]]}return g.kc=Ee(Z),g.kc&&(g.Bd=W(Z,8)),g.cb=1}function Xr(g,y,_,D,G,Z,K){var ee=y[G].Yb[_];for(_=0;16>G;++G){if(!De(g,ee[_+0]))return G;for(;!De(g,ee[_+1]);)if(ee=y[++G].Yb[0],_=0,G==16)return 16;var ie=y[G+1].Yb;if(De(g,ee[_+2])){var de=g,be=0;if(De(de,(Me=ee)[(Le=_)+3]))if(De(de,Me[Le+6])){for(ee=0,Le=2*(be=De(de,Me[Le+8]))+(Me=De(de,Me[Le+9+be])),be=0,Me=u4[Le];Me[ee];++ee)be+=be+De(de,Me[ee]);be+=3+(8<<Le)}else De(de,Me[Le+7])?(be=7+2*De(de,165),be+=De(de,145)):be=5+De(de,159);else be=De(de,Me[Le+4])?3+De(de,Me[Le+5]):2;ee=ie[2]}else be=1,ee=ie[1];ie=K+f4[G],0>(de=g).b&&_e(de);var Le,Me=de.b,Ce=(Le=de.Ca>>1)-(de.I>>Me)>>31;--de.b,de.Ca+=Ce,de.Ca|=1,de.I-=(Le+1&Ce)<<Me,Z[ie]=((be^Ce)-Ce)*D[(0<G)+0]}return 16}function Yo(g){var y=g.rb[g.sb-1];y.la=0,y.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Xn(g,y){if(g==null)return 0;if(y==null)return Yn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Jn(g,y))return 0;if(t(g.cb),y.ac==null||y.ac(y)){y.ob&&(g.L=0);var _=vf[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=y.v-_>>4,g.zb=y.j-_>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=y.o+15+_>>4,g.Hb=y.va+15+_>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var D=g.ed;for(_=0;4>_;++_){var G;if(g.Qa.Cb){var Z=g.Qa.Lb[_];g.Qa.Fb||(Z+=D.Tb)}else Z=D.Tb;for(G=0;1>=G;++G){var K=g.gd[_][G],ee=Z;if(D.Pc&&(ee+=D.vd[0],G&&(ee+=D.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ie=ee;0<D.wb&&(ie=4<D.wb?ie>>2:ie>>1)>9-D.wb&&(ie=9-D.wb),1>ie&&(ie=1),K.dd=ie,K.tc=2*ee+ie,K.ld=40<=ee?2:15<=ee?1:0}else K.tc=0;K.La=G}}}_=0}else Yn(g,6,"Frame setup failed"),_=g.a;if(_=_==0){if(_){g.$c=0,0<g.Aa||(g.Ic=_4);e:{_=g.Ic,D=4*(ie=g.za);var de=32*ie,be=ie+1,Le=0<g.L?ie*(0<g.Aa?2:1):0,Me=(g.Aa==2?2:1)*ie;if((K=D+832+(G=3*(16*_+vf[g.L])/2*de)+(Z=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=K)_=0;else{if(K>g.Vb){if(g.Vb=0,g.Ec=o(K),g.Fc=0,g.Ec==null){_=Yn(g,1,"no memory during frame initialization.");break e}g.Vb=K}K=g.Ec,ee=g.Fc,g.Ac=K,g.Bc=ee,ee+=D,g.Gd=f(de,on),g.Hd=0,g.rb=f(be+1,Rl),g.sb=1,g.wa=Le?f(Le,qe):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ie),t(!0),g.oc=K,g.pc=ee,ee+=832,g.ya=f(Me,ga),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ie),g.R=16*ie,g.B=8*ie,ie=(de=vf[g.L])*g.R,de=de/2*g.B,g.sa=K,g.ta=ee+ie,g.qa=g.sa,g.ra=g.ta+16*_*g.R+de,g.Ha=g.qa,g.Ia=g.ra+8*_*g.B+de,g.$c=0,ee+=G,g.mb=Z?K:null,g.nb=Z?ee:null,t(ee+Z<=g.Fc+g.Vb),Yo(g),s(g.Ac,g.Bc,0,D),_=1}}if(_){if(y.ka=0,y.y=g.sa,y.O=g.ta,y.f=g.qa,y.N=g.ra,y.ea=g.Ha,y.Vd=g.Ia,y.fa=g.R,y.Rc=g.B,y.F=null,y.J=0,!uf){for(_=-255;255>=_;++_)Fi[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)ws[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)zc[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Pl[255+_]=0>_?0:255<_?255:_;uf=1}ye=hr,we=Ie,Be=ce,Ze=vt,Je=si,Ne=Ai,Qe=Za,Xt=gr,Dt=qt,pi=oi,Pi=Uc,ci=Re,cn=Qa,ni=nl,Ni=tl,_r=xa,va=ja,jr=Fc,ka[0]=wt,ka[1]=Wo,ka[2]=ms,ka[3]=pa,ka[4]=jl,ka[5]=$n,ka[6]=Ft,ka[7]=Qo,ka[8]=kl,ka[9]=Ko,Js[0]=Ys,Js[1]=St,Js[2]=gn,Js[3]=ps,Js[4]=Si,Js[5]=Zo,Js[6]=Bl,bs[0]=Rr,bs[1]=dr,bs[2]=Ra,bs[3]=Jo,bs[4]=Wa,bs[5]=xs,bs[6]=Ba,_=1}else _=0}_&&(_=function(Ce,Ge){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var ke,Ae=Ce.Jc[Ce.M&Ce.Xb],Se=Ce.m,ze=Ce;for(ke=0;ke<ze.za;++ke){var Ke=Se,He=ze,ft=He.Ac,at=He.Bc+4*ke,_t=He.zc,lt=He.ya[He.aa+ke];if(He.Qa.Bb?lt.$b=De(Ke,He.Pa.jb[0])?2+De(Ke,He.Pa.jb[2]):De(Ke,He.Pa.jb[1]):lt.$b=0,He.kc&&(lt.Ad=De(Ke,He.Bd)),lt.Za=!De(Ke,145)+0,lt.Za){var vn=lt.Ob,Nn=0;for(He=0;4>He;++He){var mn,sn=_t[0+He];for(mn=0;4>mn;++mn){sn=d4[ft[at+mn]][sn];for(var Bn=H2[De(Ke,sn[0])];0<Bn;)Bn=H2[2*Bn+De(Ke,sn[Bn])];sn=-Bn,ft[at+mn]=sn}r(vn,Nn,ft,at,4),Nn+=4,_t[0+He]=sn}}else sn=De(Ke,156)?De(Ke,128)?1:3:De(Ke,163)?2:0,lt.Ob[0]=sn,s(ft,at,sn,4),s(_t,0,sn,4);lt.Dd=De(Ke,142)?De(Ke,114)?De(Ke,183)?1:3:2:0}if(ze.m.Ka)return Yn(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(ze=Ae,Ke=(Se=Ce).rb[Se.sb-1],ft=Se.rb[Se.sb+Se.ja],ke=Se.ya[Se.aa+Se.ja],at=Se.kc?ke.Ad:0)Ke.la=ft.la=0,ke.Za||(Ke.Na=ft.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var Dn,Yt;if(Ke=ft,ft=ze,at=Se.Pa.Xc,_t=Se.ya[Se.aa+Se.ja],lt=Se.pb[_t.$b],He=_t.ad,vn=0,Nn=Se.rb[Se.sb-1],sn=mn=0,s(He,vn,0,384),_t.Za)var Di=0,Pr=at[3];else{Bn=o(16);var Oi=Ke.Na+Nn.Na;if(Oi=Hc(ft,at[1],Oi,lt.Eb,0,Bn,0),Ke.Na=Nn.Na=(0<Oi)+0,1<Oi)ye(Bn,0,He,vn);else{var Fr=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)He[vn+Bn]=Fr}Di=1,Pr=at[0]}var Cn=15&Ke.la,Kr=15&Nn.la;for(Bn=0;4>Bn;++Bn){var Jr=1&Kr;for(Fr=Yt=0;4>Fr;++Fr)Cn=Cn>>1|(Jr=(Oi=Hc(ft,Pr,Oi=Jr+(1&Cn),lt.Sc,Di,He,vn))>Di)<<7,Yt=Yt<<2|(3<Oi?3:1<Oi?2:He[vn+0]!=0),vn+=16;Cn>>=4,Kr=Kr>>1|Jr<<7,mn=(mn<<8|Yt)>>>0}for(Pr=Cn,Di=Kr>>4,Dn=0;4>Dn;Dn+=2){for(Yt=0,Cn=Ke.la>>4+Dn,Kr=Nn.la>>4+Dn,Bn=0;2>Bn;++Bn){for(Jr=1&Kr,Fr=0;2>Fr;++Fr)Oi=Jr+(1&Cn),Cn=Cn>>1|(Jr=0<(Oi=Hc(ft,at[2],Oi,lt.Qc,0,He,vn)))<<3,Yt=Yt<<2|(3<Oi?3:1<Oi?2:He[vn+0]!=0),vn+=16;Cn>>=2,Kr=Kr>>1|Jr<<5}sn|=Yt<<4*Dn,Pr|=Cn<<4<<Dn,Di|=(240&Kr)<<Dn}Ke.la=Pr,Nn.la=Di,_t.Hc=mn,_t.Gc=sn,_t.ia=43690&sn?0:lt.ia,at=!(mn|sn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[ke.$b][ke.Za],Se.wa[Se.Y+Se.ja].La|=!at),ze.Ka)return Yn(Ce,7,"Premature end-of-file encountered.")}if(Yo(Ce),Se=Ge,ze=1,ke=(Ae=Ce).D,Ke=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(ke.M=Ae.M,ke.uc=Ke,mr(Ae,ke),ze=1,ke=(Yt=Ae.D).Nb,Ke=(sn=vf[Ae.L])*Ae.R,ft=sn/2*Ae.B,Bn=16*ke*Ae.R,Fr=8*ke*Ae.B,at=Ae.sa,_t=Ae.ta-Ke+Bn,lt=Ae.qa,He=Ae.ra-ft+Fr,vn=Ae.Ha,Nn=Ae.Ia-ft+Fr,Kr=(Cn=Yt.M)==0,mn=Cn>=Ae.Va-1,Ae.Aa==2&&mr(Ae,Yt),Yt.uc)for(Jr=(Oi=Ae).D.M,t(Oi.D.uc),Yt=Oi.yb;Yt<Oi.Hb;++Yt){Di=Yt,Pr=Jr;var Zi=(or=(mi=Oi).D).Nb;Dn=mi.R;var or=or.wa[or.Y+Di],Ir=mi.sa,Aa=mi.ta+16*Zi*Dn+16*Di,es=or.dd,Qi=or.tc;if(Qi!=0)if(t(3<=Qi),mi.L==1)0<Di&&_r(Ir,Aa,Dn,Qi+4),or.La&&jr(Ir,Aa,Dn,Qi),0<Pr&&Ni(Ir,Aa,Dn,Qi+4),or.La&&va(Ir,Aa,Dn,Qi);else{var As=mi.B,sl=mi.qa,Fl=mi.ra+8*Zi*As+8*Di,eo=mi.Ha,mi=mi.Ia+8*Zi*As+8*Di;Zi=or.ld,0<Di&&(Xt(Ir,Aa,Dn,Qi+4,es,Zi),pi(sl,Fl,eo,mi,As,Qi+4,es,Zi)),or.La&&(ci(Ir,Aa,Dn,Qi,es,Zi),ni(sl,Fl,eo,mi,As,Qi,es,Zi)),0<Pr&&(Qe(Ir,Aa,Dn,Qi+4,es,Zi),Dt(sl,Fl,eo,mi,As,Qi+4,es,Zi)),or.La&&(Pi(Ir,Aa,Dn,Qi,es,Zi),cn(sl,Fl,eo,mi,As,Qi,es,Zi))}}if(Ae.ia&&alert("todo:DitherRow"),Se.put!=null){if(Yt=16*Cn,Cn=16*(Cn+1),Kr?(Se.y=Ae.sa,Se.O=Ae.ta+Bn,Se.f=Ae.qa,Se.N=Ae.ra+Fr,Se.ea=Ae.Ha,Se.W=Ae.Ia+Fr):(Yt-=sn,Se.y=at,Se.O=_t,Se.f=lt,Se.N=He,Se.ea=vn,Se.W=Nn),mn||(Cn-=sn),Cn>Se.o&&(Cn=Se.o),Se.F=null,Se.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&Yt<Cn&&(Se.J=pn(Ae,Se,Yt,Cn-Yt),Se.F=Ae.mb,Se.F==null&&Se.F.length==0)){ze=Yn(Ae,3,"Could not decode alpha data.");break e}Yt<Se.j&&(sn=Se.j-Yt,Yt=Se.j,t(!(1&sn)),Se.O+=Ae.R*sn,Se.N+=Ae.B*(sn>>1),Se.W+=Ae.B*(sn>>1),Se.F!=null&&(Se.J+=Se.width*sn)),Yt<Cn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Yt-Se.j,Se.U=Se.va-Se.v,Se.T=Cn-Yt,ze=Se.put(Se))}ke+1!=Ae.Ic||mn||(r(Ae.sa,Ae.ta-Ke,at,_t+16*Ae.R,Ke),r(Ae.qa,Ae.ra-ft,lt,He+8*Ae.B,ft),r(Ae.Ha,Ae.Ia-ft,vn,Nn+8*Ae.B,ft))}if(!ze)return Yn(Ce,6,"Output aborted.")}return 1}(g,y)),y.bc!=null&&y.bc(y),_&=1}return _?(g.cb=0,_):0}function Mi(g,y,_,D,G){G=g[y+_+32*D]+(G>>3),g[y+_+32*D]=-256&G?0>G?0:255:G}function Gs(g,y,_,D,G,Z){Mi(g,y,0,_,D+G),Mi(g,y,1,_,D+Z),Mi(g,y,2,_,D-Z),Mi(g,y,3,_,D-G)}function bi(g){return(20091*g>>16)+g}function xn(g,y,_,D){var G,Z=0,K=o(16);for(G=0;4>G;++G){var ee=g[y+0]+g[y+8],ie=g[y+0]-g[y+8],de=(35468*g[y+4]>>16)-bi(g[y+12]),be=bi(g[y+4])+(35468*g[y+12]>>16);K[Z+0]=ee+be,K[Z+1]=ie+de,K[Z+2]=ie-de,K[Z+3]=ee-be,Z+=4,y++}for(G=Z=0;4>G;++G)ee=(g=K[Z+0]+4)+K[Z+8],ie=g-K[Z+8],de=(35468*K[Z+4]>>16)-bi(K[Z+12]),Mi(_,D,0,0,ee+(be=bi(K[Z+4])+(35468*K[Z+12]>>16))),Mi(_,D,1,0,ie+de),Mi(_,D,2,0,ie-de),Mi(_,D,3,0,ee-be),Z++,D+=32}function Ai(g,y,_,D){var G=g[y+0]+4,Z=35468*g[y+4]>>16,K=bi(g[y+4]),ee=35468*g[y+1]>>16;Gs(_,D,0,G+K,g=bi(g[y+1]),ee),Gs(_,D,1,G+Z,g,ee),Gs(_,D,2,G-Z,g,ee),Gs(_,D,3,G-K,g,ee)}function Ie(g,y,_,D,G){xn(g,y,_,D),G&&xn(g,y+16,_,D+4)}function ce(g,y,_,D){we(g,y+0,_,D,1),we(g,y+32,_,D+128,1)}function vt(g,y,_,D){var G;for(g=g[y+0]+4,G=0;4>G;++G)for(y=0;4>y;++y)Mi(_,D,y,G,g)}function si(g,y,_,D){g[y+0]&&Ze(g,y+0,_,D),g[y+16]&&Ze(g,y+16,_,D+4),g[y+32]&&Ze(g,y+32,_,D+128),g[y+48]&&Ze(g,y+48,_,D+128+4)}function hr(g,y,_,D){var G,Z=o(16);for(G=0;4>G;++G){var K=g[y+0+G]+g[y+12+G],ee=g[y+4+G]+g[y+8+G],ie=g[y+4+G]-g[y+8+G],de=g[y+0+G]-g[y+12+G];Z[0+G]=K+ee,Z[8+G]=K-ee,Z[4+G]=de+ie,Z[12+G]=de-ie}for(G=0;4>G;++G)K=(g=Z[0+4*G]+3)+Z[3+4*G],ee=Z[1+4*G]+Z[2+4*G],ie=Z[1+4*G]-Z[2+4*G],de=g-Z[3+4*G],_[D+0]=K+ee>>3,_[D+16]=de+ie>>3,_[D+32]=K-ee>>3,_[D+48]=de-ie>>3,D+=64}function Xo(g,y,_){var D,G=y-32,Z=Qr,K=255-g[G-1];for(D=0;D<_;++D){var ee,ie=Z,de=K+g[y-1];for(ee=0;ee<_;++ee)g[y+ee]=ie[de+g[G+ee]];y+=32}}function Wo(g,y){Xo(g,y,4)}function dr(g,y){Xo(g,y,8)}function St(g,y){Xo(g,y,16)}function gn(g,y){var _;for(_=0;16>_;++_)r(g,y+32*_,g,y-32,16)}function ps(g,y){var _;for(_=16;0<_;--_)s(g,y,g[y-1],16),y+=32}function Vs(g,y,_){var D;for(D=0;16>D;++D)s(y,_+32*D,g,16)}function Ys(g,y){var _,D=16;for(_=0;16>_;++_)D+=g[y-1+32*_]+g[y+_-32];Vs(D>>5,g,y)}function Si(g,y){var _,D=8;for(_=0;16>_;++_)D+=g[y-1+32*_];Vs(D>>4,g,y)}function Zo(g,y){var _,D=8;for(_=0;16>_;++_)D+=g[y+_-32];Vs(D>>4,g,y)}function Bl(g,y){Vs(128,g,y)}function gt(g,y,_){return g+2*y+_+2>>2}function ms(g,y){var _,D=y-32;for(D=new Uint8Array([gt(g[D-1],g[D+0],g[D+1]),gt(g[D+0],g[D+1],g[D+2]),gt(g[D+1],g[D+2],g[D+3]),gt(g[D+2],g[D+3],g[D+4])]),_=0;4>_;++_)r(g,y+32*_,D,0,D.length)}function pa(g,y){var _=g[y-1],D=g[y-1+32],G=g[y-1+64],Z=g[y-1+96];$e(g,y+0,16843009*gt(g[y-1-32],_,D)),$e(g,y+32,16843009*gt(_,D,G)),$e(g,y+64,16843009*gt(D,G,Z)),$e(g,y+96,16843009*gt(G,Z,Z))}function wt(g,y){var _,D=4;for(_=0;4>_;++_)D+=g[y+_-32]+g[y-1+32*_];for(D>>=3,_=0;4>_;++_)s(g,y+32*_,D,4)}function jl(g,y){var _=g[y-1+0],D=g[y-1+32],G=g[y-1+64],Z=g[y-1-32],K=g[y+0-32],ee=g[y+1-32],ie=g[y+2-32],de=g[y+3-32];g[y+0+96]=gt(D,G,g[y-1+96]),g[y+1+96]=g[y+0+64]=gt(_,D,G),g[y+2+96]=g[y+1+64]=g[y+0+32]=gt(Z,_,D),g[y+3+96]=g[y+2+64]=g[y+1+32]=g[y+0+0]=gt(K,Z,_),g[y+3+64]=g[y+2+32]=g[y+1+0]=gt(ee,K,Z),g[y+3+32]=g[y+2+0]=gt(ie,ee,K),g[y+3+0]=gt(de,ie,ee)}function Ft(g,y){var _=g[y+1-32],D=g[y+2-32],G=g[y+3-32],Z=g[y+4-32],K=g[y+5-32],ee=g[y+6-32],ie=g[y+7-32];g[y+0+0]=gt(g[y+0-32],_,D),g[y+1+0]=g[y+0+32]=gt(_,D,G),g[y+2+0]=g[y+1+32]=g[y+0+64]=gt(D,G,Z),g[y+3+0]=g[y+2+32]=g[y+1+64]=g[y+0+96]=gt(G,Z,K),g[y+3+32]=g[y+2+64]=g[y+1+96]=gt(Z,K,ee),g[y+3+64]=g[y+2+96]=gt(K,ee,ie),g[y+3+96]=gt(ee,ie,ie)}function $n(g,y){var _=g[y-1+0],D=g[y-1+32],G=g[y-1+64],Z=g[y-1-32],K=g[y+0-32],ee=g[y+1-32],ie=g[y+2-32],de=g[y+3-32];g[y+0+0]=g[y+1+64]=Z+K+1>>1,g[y+1+0]=g[y+2+64]=K+ee+1>>1,g[y+2+0]=g[y+3+64]=ee+ie+1>>1,g[y+3+0]=ie+de+1>>1,g[y+0+96]=gt(G,D,_),g[y+0+64]=gt(D,_,Z),g[y+0+32]=g[y+1+96]=gt(_,Z,K),g[y+1+32]=g[y+2+96]=gt(Z,K,ee),g[y+2+32]=g[y+3+96]=gt(K,ee,ie),g[y+3+32]=gt(ee,ie,de)}function Qo(g,y){var _=g[y+0-32],D=g[y+1-32],G=g[y+2-32],Z=g[y+3-32],K=g[y+4-32],ee=g[y+5-32],ie=g[y+6-32],de=g[y+7-32];g[y+0+0]=_+D+1>>1,g[y+1+0]=g[y+0+64]=D+G+1>>1,g[y+2+0]=g[y+1+64]=G+Z+1>>1,g[y+3+0]=g[y+2+64]=Z+K+1>>1,g[y+0+32]=gt(_,D,G),g[y+1+32]=g[y+0+96]=gt(D,G,Z),g[y+2+32]=g[y+1+96]=gt(G,Z,K),g[y+3+32]=g[y+2+96]=gt(Z,K,ee),g[y+3+64]=gt(K,ee,ie),g[y+3+96]=gt(ee,ie,de)}function Ko(g,y){var _=g[y-1+0],D=g[y-1+32],G=g[y-1+64],Z=g[y-1+96];g[y+0+0]=_+D+1>>1,g[y+2+0]=g[y+0+32]=D+G+1>>1,g[y+2+32]=g[y+0+64]=G+Z+1>>1,g[y+1+0]=gt(_,D,G),g[y+3+0]=g[y+1+32]=gt(D,G,Z),g[y+3+32]=g[y+1+64]=gt(G,Z,Z),g[y+3+64]=g[y+2+64]=g[y+0+96]=g[y+1+96]=g[y+2+96]=g[y+3+96]=Z}function kl(g,y){var _=g[y-1+0],D=g[y-1+32],G=g[y-1+64],Z=g[y-1+96],K=g[y-1-32],ee=g[y+0-32],ie=g[y+1-32],de=g[y+2-32];g[y+0+0]=g[y+2+32]=_+K+1>>1,g[y+0+32]=g[y+2+64]=D+_+1>>1,g[y+0+64]=g[y+2+96]=G+D+1>>1,g[y+0+96]=Z+G+1>>1,g[y+3+0]=gt(ee,ie,de),g[y+2+0]=gt(K,ee,ie),g[y+1+0]=g[y+3+32]=gt(_,K,ee),g[y+1+32]=g[y+3+64]=gt(D,_,K),g[y+1+64]=g[y+3+96]=gt(G,D,_),g[y+1+96]=gt(Z,G,D)}function Ra(g,y){var _;for(_=0;8>_;++_)r(g,y+32*_,g,y-32,8)}function Jo(g,y){var _;for(_=0;8>_;++_)s(g,y,g[y-1],8),y+=32}function Wr(g,y,_){var D;for(D=0;8>D;++D)s(y,_+32*D,g,8)}function Rr(g,y){var _,D=8;for(_=0;8>_;++_)D+=g[y+_-32]+g[y-1+32*_];Wr(D>>4,g,y)}function xs(g,y){var _,D=4;for(_=0;8>_;++_)D+=g[y+_-32];Wr(D>>3,g,y)}function Wa(g,y){var _,D=4;for(_=0;8>_;++_)D+=g[y-1+32*_];Wr(D>>3,g,y)}function Ba(g,y){Wr(128,g,y)}function ma(g,y,_){var D=g[y-_],G=g[y+0],Z=3*(G-D)+d0[1020+g[y-2*_]-g[y+_]],K=ff[112+(Z+4>>3)];g[y-_]=Qr[255+D+ff[112+(Z+3>>3)]],g[y+0]=Qr[255+G-K]}function ji(g,y,_,D){var G=g[y+0],Z=g[y+_];return wa[255+g[y-2*_]-g[y-_]]>D||wa[255+Z-G]>D}function $o(g,y,_,D){return 4*wa[255+g[y-_]-g[y+0]]+wa[255+g[y-2*_]-g[y+_]]<=D}function el(g,y,_,D,G){var Z=g[y-3*_],K=g[y-2*_],ee=g[y-_],ie=g[y+0],de=g[y+_],be=g[y+2*_],Le=g[y+3*_];return 4*wa[255+ee-ie]+wa[255+K-de]>D?0:wa[255+g[y-4*_]-Z]<=G&&wa[255+Z-K]<=G&&wa[255+K-ee]<=G&&wa[255+Le-be]<=G&&wa[255+be-de]<=G&&wa[255+de-ie]<=G}function tl(g,y,_,D){var G=2*D+1;for(D=0;16>D;++D)$o(g,y+D,_,G)&&ma(g,y+D,_)}function xa(g,y,_,D){var G=2*D+1;for(D=0;16>D;++D)$o(g,y+D*_,1,G)&&ma(g,y+D*_,1)}function ja(g,y,_,D){var G;for(G=3;0<G;--G)tl(g,y+=4*_,_,D)}function Fc(g,y,_,D){var G;for(G=3;0<G;--G)xa(g,y+=4,_,D)}function $t(g,y,_,D,G,Z,K,ee){for(Z=2*Z+1;0<G--;){if(el(g,y,_,Z,K))if(ji(g,y,_,ee))ma(g,y,_);else{var ie=g,de=y,be=_,Le=ie[de-2*be],Me=ie[de-be],Ce=ie[de+0],Ge=ie[de+be],ke=ie[de+2*be],Ae=27*(ze=d0[1020+3*(Ce-Me)+d0[1020+Le-Ge]])+63>>7,Se=18*ze+63>>7,ze=9*ze+63>>7;ie[de-3*be]=Qr[255+ie[de-3*be]+ze],ie[de-2*be]=Qr[255+Le+Se],ie[de-be]=Qr[255+Me+Ae],ie[de+0]=Qr[255+Ce-Ae],ie[de+be]=Qr[255+Ge-Se],ie[de+2*be]=Qr[255+ke-ze]}y+=D}}function Br(g,y,_,D,G,Z,K,ee){for(Z=2*Z+1;0<G--;){if(el(g,y,_,Z,K))if(ji(g,y,_,ee))ma(g,y,_);else{var ie=g,de=y,be=_,Le=ie[de-be],Me=ie[de+0],Ce=ie[de+be],Ge=ff[112+((ke=3*(Me-Le))+4>>3)],ke=ff[112+(ke+3>>3)],Ae=Ge+1>>1;ie[de-2*be]=Qr[255+ie[de-2*be]+Ae],ie[de-be]=Qr[255+Le+ke],ie[de+0]=Qr[255+Me-Ge],ie[de+be]=Qr[255+Ce-Ae]}y+=D}}function Za(g,y,_,D,G,Z){$t(g,y,_,1,16,D,G,Z)}function gr(g,y,_,D,G,Z){$t(g,y,1,_,16,D,G,Z)}function Uc(g,y,_,D,G,Z){var K;for(K=3;0<K;--K)Br(g,y+=4*_,_,1,16,D,G,Z)}function Re(g,y,_,D,G,Z){var K;for(K=3;0<K;--K)Br(g,y+=4,1,_,16,D,G,Z)}function qt(g,y,_,D,G,Z,K,ee){$t(g,y,G,1,8,Z,K,ee),$t(_,D,G,1,8,Z,K,ee)}function oi(g,y,_,D,G,Z,K,ee){$t(g,y,1,G,8,Z,K,ee),$t(_,D,1,G,8,Z,K,ee)}function Qa(g,y,_,D,G,Z,K,ee){Br(g,y+4*G,G,1,8,Z,K,ee),Br(_,D+4*G,G,1,8,Z,K,ee)}function nl(g,y,_,D,G,Z,K,ee){Br(g,y+4,1,G,8,Z,K,ee),Br(_,D+4,1,G,8,Z,K,ee)}function Xs(){this.ba=new Ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function il(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ws(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new j}function li(){this.xb=this.a=0,this.l=new Vt,this.ca=new Ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ws,this.ab=0,this.gc=f(4,rl),this.Oc=0}function Ka(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(g,y,_,D,G,Z,K){for(g=g==null?0:g[y+0],y=0;y<K;++y)G[Z+y]=g+_[D+y]&255,g=G[Z+y]}function Ja(g,y,_,D,G,Z,K){var ee;if(g==null)An(null,null,_,D,G,Z,K);else for(ee=0;ee<K;++ee)G[Z+ee]=g[y+ee]+_[D+ee]&255}function pr(g,y,_,D,G,Z,K){if(g==null)An(null,null,_,D,G,Z,K);else{var ee,ie=g[y+0],de=ie,be=ie;for(ee=0;ee<K;++ee)de=be+(ie=g[y+ee])-de,be=_[D+ee]+(-256&de?0>de?0:255:de)&255,de=ie,G[Z+ee]=be}}function pn(g,y,_,D){var G=y.width,Z=y.o;if(t(g!=null&&y!=null),0>_||0>=D||_+D>Z)return null;if(!g.Cc){if(g.ga==null){var K;if(g.ga=new Ka,(K=g.ga==null)||(K=y.width*y.o,t(g.Gb.length==0),g.Gb=o(K),g.Uc=0,g.Gb==null?K=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,K=1),K=!K),!K){K=g.ga;var ee=g.Fa,ie=g.P,de=g.qc,be=g.mb,Le=g.nb,Me=ie+1,Ce=de-1,Ge=K.l;if(t(ee!=null&&be!=null&&y!=null),$s[0]=null,$s[1]=An,$s[2]=Ja,$s[3]=pr,K.ca=be,K.tb=Le,K.c=y.width,K.i=y.height,t(0<K.c&&0<K.i),1>=de)y=0;else if(K.$a=ee[ie+0]>>0&3,K.Z=ee[ie+0]>>2&3,K.Lc=ee[ie+0]>>4&3,ie=ee[ie+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ie)y=0;else if(Ge.put=ir,Ge.ac=un,Ge.bc=Nr,Ge.ma=K,Ge.width=y.width,Ge.height=y.height,Ge.Da=y.Da,Ge.v=y.v,Ge.va=y.va,Ge.j=y.j,Ge.o=y.o,K.$a)e:{t(K.$a==1),y=rr();t:for(;;){if(y==null){y=0;break e}if(t(K!=null),K.mc=y,y.c=K.c,y.i=K.i,y.l=K.l,y.l.ma=K,y.l.width=K.c,y.l.height=K.i,y.a=0,ne(y.m,ee,Me,Ce),!wi(K.c,K.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&fr(y.s)?(K.ic=1,ee=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(ee),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(K.ic=0,y=gs(y,K.c)),!y))break t;y=1;break e}K.mc=null,y=0}else y=Ce>=K.c*K.i;K=!y}if(K)return null;g.ga.Lc!=1?g.Ga=0:D=Z-_}t(g.ga!=null),t(_+D<=Z);e:{if(y=(ee=g.ga).c,Z=ee.l.o,ee.$a==0){if(Me=g.rc,Ce=g.Vc,Ge=g.Fa,ie=g.P+1+_*y,de=g.mb,be=g.nb+_*y,t(ie<=g.P+g.qc),ee.Z!=0)for(t($s[ee.Z]!=null),K=0;K<D;++K)$s[ee.Z](Me,Ce,Ge,ie,de,be,y),Me=de,Ce=be,be+=y,ie+=y;else for(K=0;K<D;++K)r(de,be,Ge,ie,y),Me=de,Ce=be,be+=y,ie+=y;g.rc=Me,g.Vc=Ce}else{if(t(ee.mc!=null),y=_+D,t((K=ee.mc)!=null),t(y<=K.i),K.C>=y)y=1;else if(ee.ic||Te(),ee.ic){ee=K.V,Me=K.Ba,Ce=K.c;var ke=K.i,Ae=(Ge=1,ie=K.$/Ce,de=K.$%Ce,be=K.m,Le=K.s,K.$),Se=Ce*ke,ze=Ce*y,Ke=Le.wc,He=Ae<ze?Ln(Le,de,ie):null;t(Ae<=Se),t(y<=ke),t(fr(Le));t:for(;;){for(;!be.h&&Ae<ze;){if(de&Ke||(He=Ln(Le,de,ie)),t(He!=null),ue(be),256>(ke=Yi(He.G[0],He.H[0],be)))ee[Me+Ae]=ke,++Ae,++de>=Ce&&(de=0,++ie<=y&&!(ie%16)&&Fn(K,ie));else{if(!(280>ke)){Ge=0;break t}ke=Yr(ke-256,be);var ft,at=Yi(He.G[4],He.H[4],be);if(ue(be),!(Ae>=(at=Vi(Ce,at=Yr(at,be)))&&Se-Ae>=ke)){Ge=0;break t}for(ft=0;ft<ke;++ft)ee[Me+Ae+ft]=ee[Me+Ae+ft-at];for(Ae+=ke,de+=ke;de>=Ce;)de-=Ce,++ie<=y&&!(ie%16)&&Fn(K,ie);Ae<ze&&de&Ke&&(He=Ln(Le,de,ie))}t(be.h==ae(be))}Fn(K,ie>y?y:ie);break t}!Ge||be.h&&Ae<Se?(Ge=0,K.a=be.h?5:3):K.$=Ae,y=Ge}else y=Xi(K,K.V,K.Ba,K.c,K.i,y,Hs);if(!y){D=0;break e}}_+D>=Z&&(g.Cc=1),D=1}if(!D)return null;if(g.Cc&&((D=g.ga)!=null&&(D.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+_*G}function w(g,y,_,D,G,Z){for(;0<G--;){var K,ee=g,ie=y+(_?1:0),de=g,be=y+(_?0:3);for(K=0;K<D;++K){var Le=de[be+4*K];Le!=255&&(Le*=32897,ee[ie+4*K+0]=ee[ie+4*K+0]*Le>>23,ee[ie+4*K+1]=ee[ie+4*K+1]*Le>>23,ee[ie+4*K+2]=ee[ie+4*K+2]*Le>>23)}y+=Z}}function V(g,y,_,D,G){for(;0<D--;){var Z;for(Z=0;Z<_;++Z){var K=g[y+2*Z+0],ee=15&(de=g[y+2*Z+1]),ie=4369*ee,de=(240&de|de>>4)*ie>>16;g[y+2*Z+0]=(240&K|K>>4)*ie>>16&240|(15&K|K<<4)*ie>>16>>4&15,g[y+2*Z+1]=240&de|ee}y+=G}}function fe(g,y,_,D,G,Z,K,ee){var ie,de,be=255;for(de=0;de<G;++de){for(ie=0;ie<D;++ie){var Le=g[y+ie];Z[K+4*ie]=Le,be&=Le}y+=_,K+=ee}return be!=255}function ve(g,y,_,D,G){var Z;for(Z=0;Z<G;++Z)_[D+Z]=g[y+Z]>>8}function Te(){kr=w,zn=V,Hn=fe,Ci=ve}function Fe(g,y,_){U[g]=function(D,G,Z,K,ee,ie,de,be,Le,Me,Ce,Ge,ke,Ae,Se,ze,Ke){var He,ft=Ke-1>>1,at=ee[ie+0]|de[be+0]<<16,_t=Le[Me+0]|Ce[Ge+0]<<16;t(D!=null);var lt=3*at+_t+131074>>2;for(y(D[G+0],255&lt,lt>>16,ke,Ae),Z!=null&&(lt=3*_t+at+131074>>2,y(Z[K+0],255&lt,lt>>16,Se,ze)),He=1;He<=ft;++He){var vn=ee[ie+He]|de[be+He]<<16,Nn=Le[Me+He]|Ce[Ge+He]<<16,mn=at+vn+_t+Nn+524296,sn=mn+2*(vn+_t)>>3;lt=sn+at>>1,at=(mn=mn+2*(at+Nn)>>3)+vn>>1,y(D[G+2*He-1],255&lt,lt>>16,ke,Ae+(2*He-1)*_),y(D[G+2*He-0],255&at,at>>16,ke,Ae+(2*He-0)*_),Z!=null&&(lt=mn+_t>>1,at=sn+Nn>>1,y(Z[K+2*He-1],255&lt,lt>>16,Se,ze+(2*He-1)*_),y(Z[K+2*He+0],255&at,at>>16,Se,ze+(2*He+0)*_)),at=vn,_t=Nn}1&Ke||(lt=3*at+_t+131074>>2,y(D[G+Ke-1],255&lt,lt>>16,ke,Ae+(Ke-1)*_),Z!=null&&(lt=3*_t+at+131074>>2,y(Z[K+Ke-1],255&lt,lt>>16,Se,ze+(Ke-1)*_)))}}function Ve(){ba[hf]=x4,ba[df]=G2,ba[F2]=y4,ba[gf]=V2,ba[pf]=Y2,ba[g0]=X2,ba[U2]=v4,ba[p0]=G2,ba[m0]=V2,ba[mf]=Y2,ba[x0]=X2}function ct(g){return g&-16384?0>g?0:255:g>>w4}function At(g,y){return ct((19077*g>>8)+(26149*y>>8)-14234)}function jt(g,y,_){return ct((19077*g>>8)-(6419*y>>8)-(13320*_>>8)+8708)}function kt(g,y){return ct((19077*g>>8)+(33050*y>>8)-17685)}function en(g,y,_,D,G){D[G+0]=At(g,_),D[G+1]=jt(g,y,_),D[G+2]=kt(g,y)}function Wn(g,y,_,D,G){D[G+0]=kt(g,y),D[G+1]=jt(g,y,_),D[G+2]=At(g,_)}function Sn(g,y,_,D,G){var Z=jt(g,y,_);y=Z<<3&224|kt(g,y)>>3,D[G+0]=248&At(g,_)|Z>>5,D[G+1]=y}function ei(g,y,_,D,G){var Z=240&kt(g,y)|15;D[G+0]=240&At(g,_)|jt(g,y,_)>>4,D[G+1]=Z}function Wi(g,y,_,D,G){D[G+0]=255,en(g,y,_,D,G+1)}function ti(g,y,_,D,G){Wn(g,y,_,D,G),D[G+3]=255}function Zr(g,y,_,D,G){en(g,y,_,D,G),D[G+3]=255}function gi(g,y){return 0>g?0:g>y?y:g}function Tr(g,y,_){U[g]=function(D,G,Z,K,ee,ie,de,be,Le){for(var Me=be+(-2&Le)*_;be!=Me;)y(D[G+0],Z[K+0],ee[ie+0],de,be),y(D[G+1],Z[K+0],ee[ie+0],de,be+_),G+=2,++K,++ie,be+=2*_;1&Le&&y(D[G+0],Z[K+0],ee[ie+0],de,be)}}function sr(g,y,_){return _==0?g==0?y==0?6:5:y==0?4:0:_}function Zs(g,y,_,D,G){switch(g>>>30){case 3:we(y,_,D,G,0);break;case 2:Ne(y,_,D,G);break;case 1:Ze(y,_,D,G)}}function mr(g,y){var _,D,G=y.M,Z=y.Nb,K=g.oc,ee=g.pc+40,ie=g.oc,de=g.pc+584,be=g.oc,Le=g.pc+600;for(_=0;16>_;++_)K[ee+32*_-1]=129;for(_=0;8>_;++_)ie[de+32*_-1]=129,be[Le+32*_-1]=129;for(0<G?K[ee-1-32]=ie[de-1-32]=be[Le-1-32]=129:(s(K,ee-32-1,127,21),s(ie,de-32-1,127,9),s(be,Le-32-1,127,9)),D=0;D<g.za;++D){var Me=y.ya[y.aa+D];if(0<D){for(_=-1;16>_;++_)r(K,ee+32*_-4,K,ee+32*_+12,4);for(_=-1;8>_;++_)r(ie,de+32*_-4,ie,de+32*_+4,4),r(be,Le+32*_-4,be,Le+32*_+4,4)}var Ce=g.Gd,Ge=g.Hd+D,ke=Me.ad,Ae=Me.Hc;if(0<G&&(r(K,ee-32,Ce[Ge].y,0,16),r(ie,de-32,Ce[Ge].f,0,8),r(be,Le-32,Ce[Ge].ea,0,8)),Me.Za){var Se=K,ze=ee-32+16;for(0<G&&(D>=g.za-1?s(Se,ze,Ce[Ge].y[15],4):r(Se,ze,Ce[Ge+1].y,0,4)),_=0;4>_;_++)Se[ze+128+_]=Se[ze+256+_]=Se[ze+384+_]=Se[ze+0+_];for(_=0;16>_;++_,Ae<<=2)Se=K,ze=ee+Z2[_],ka[Me.Ob[_]](Se,ze),Zs(Ae,ke,16*+_,Se,ze)}else if(Se=sr(D,G,Me.Ob[0]),Js[Se](K,ee),Ae!=0)for(_=0;16>_;++_,Ae<<=2)Zs(Ae,ke,16*+_,K,ee+Z2[_]);for(_=Me.Gc,Se=sr(D,G,Me.Dd),bs[Se](ie,de),bs[Se](be,Le),Ae=ke,Se=ie,ze=de,255&(Me=_>>0)&&(170&Me?Be(Ae,256,Se,ze):Je(Ae,256,Se,ze)),Me=be,Ae=Le,255&(_>>=8)&&(170&_?Be(ke,320,Me,Ae):Je(ke,320,Me,Ae)),G<g.Ub-1&&(r(Ce[Ge].y,0,K,ee+480,16),r(Ce[Ge].f,0,ie,de+224,8),r(Ce[Ge].ea,0,be,Le+224,8)),_=8*Z*g.B,Ce=g.sa,Ge=g.ta+16*D+16*Z*g.R,ke=g.qa,Me=g.ra+8*D+_,Ae=g.Ha,Se=g.Ia+8*D+_,_=0;16>_;++_)r(Ce,Ge+_*g.R,K,ee+32*_,16);for(_=0;8>_;++_)r(ke,Me+_*g.B,ie,de+32*_,8),r(Ae,Se+_*g.B,be,Le+32*_,8)}}function Qs(g,y,_,D,G,Z,K,ee,ie){var de=[0],be=[0],Le=0,Me=ie!=null?ie.kd:0,Ce=ie??new il;if(g==null||12>_)return 7;Ce.data=g,Ce.w=y,Ce.ha=_,y=[y],_=[_],Ce.gb=[Ce.gb];e:{var Ge=y,ke=_,Ae=Ce.gb;if(t(g!=null),t(ke!=null),t(Ae!=null),Ae[0]=0,12<=ke[0]&&!n(g,Ge[0],"RIFF")){if(n(g,Ge[0]+8,"WEBP")){Ae=3;break e}var Se=We(g,Ge[0]+4);if(12>Se||4294967286<Se){Ae=3;break e}if(Me&&Se>ke[0]-8){Ae=7;break e}Ae[0]=Se,Ge[0]+=12,ke[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Se=0<Ce.gb[0],_=_[0];;){e:{var ze=g;ke=y,Ae=_;var Ke=de,He=be,ft=Ge=[0];if((lt=Le=[Le])[0]=0,8>Ae[0])Ae=7;else{if(!n(ze,ke[0],"VP8X")){if(We(ze,ke[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var at=We(ze,ke[0]+8),_t=1+it(ze,ke[0]+12);if(2147483648<=_t*(ze=1+it(ze,ke[0]+15))){Ae=3;break e}ft!=null&&(ft[0]=at),Ke!=null&&(Ke[0]=_t),He!=null&&(He[0]=ze),ke[0]+=18,Ae[0]-=18,lt[0]=1}Ae=0}}if(Le=Le[0],Ge=Ge[0],Ae!=0)return Ae;if(ke=!!(2&Ge),!Se&&Le)return 3;if(Z!=null&&(Z[0]=!!(16&Ge)),K!=null&&(K[0]=ke),ee!=null&&(ee[0]=0),K=de[0],Ge=be[0],Le&&ke&&ie==null){Ae=0;break}if(4>_){Ae=7;break}if(Se&&Le||!Se&&!Le&&!n(g,y[0],"ALPH")){_=[_],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{at=g,Ae=y,Se=_;var lt=Ce.gb;Ke=Ce.na,He=Ce.P,ft=Ce.Sa,_t=22,t(at!=null),t(Se!=null),ze=Ae[0];var vn=Se[0];for(t(Ke!=null),t(ft!=null),Ke[0]=null,He[0]=null,ft[0]=0;;){if(Ae[0]=ze,Se[0]=vn,8>vn){Ae=7;break e}var Nn=We(at,ze+4);if(4294967286<Nn){Ae=3;break e}var mn=8+Nn+1&-2;if(_t+=mn,0<lt&&_t>lt){Ae=3;break e}if(!n(at,ze,"VP8 ")||!n(at,ze,"VP8L")){Ae=0;break e}if(vn[0]<mn){Ae=7;break e}n(at,ze,"ALPH")||(Ke[0]=at,He[0]=ze+8,ft[0]=Nn),ze+=mn,vn-=mn}}if(_=_[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Ae!=0)break}_=[_],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(lt=g,Ae=y,Se=_,Ke=Ce.gb[0],He=Ce.Ja,ft=Ce.xa,at=Ae[0],ze=!n(lt,at,"VP8 "),_t=!n(lt,at,"VP8L"),t(lt!=null),t(Se!=null),t(He!=null),t(ft!=null),8>Se[0])Ae=7;else{if(ze||_t){if(lt=We(lt,at+4),12<=Ke&&lt>Ke-12){Ae=3;break e}if(Me&&lt>Se[0]-8){Ae=7;break e}He[0]=lt,Ae[0]+=8,Se[0]-=8,ft[0]=_t}else ft[0]=5<=Se[0]&&lt[at+0]==47&&!(lt[at+4]>>5),He[0]=Se[0];Ae=0}if(_=_[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],y=y[0],Ae!=0)break;if(4294967286<Ce.Ja)return 3;if(ee==null||ke||(ee[0]=Ce.xa?2:1),K=[K],Ge=[Ge],Ce.xa){if(5>_){Ae=7;break}ee=K,Me=Ge,ke=Z,g==null||5>_?g=0:5<=_&&g[y+0]==47&&!(g[y+4]>>5)?(Se=[0],lt=[0],Ke=[0],ne(He=new P,g,y,_),yt(He,Se,lt,Ke)?(ee!=null&&(ee[0]=Se[0]),Me!=null&&(Me[0]=lt[0]),ke!=null&&(ke[0]=Ke[0]),g=1):g=0):g=0}else{if(10>_){Ae=7;break}ee=Ge,g==null||10>_||!qs(g,y+3,_-3)?g=0:(Me=g[y+0]|g[y+1]<<8|g[y+2]<<16,ke=16383&(g[y+7]<<8|g[y+6]),g=16383&(g[y+9]<<8|g[y+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Ce.Ja||!ke||!g?g=0:(K&&(K[0]=ke),ee&&(ee[0]=g),g=1))}if(!g||(K=K[0],Ge=Ge[0],Le&&(de[0]!=K||be[0]!=Ge)))return 3;ie!=null&&(ie[0]=Ce,ie.offset=y-ie.w,t(4294967286>y-ie.w),t(ie.offset==ie.ha-_));break}return Ae==0||Ae==7&&Le&&ie==null?(Z!=null&&(Z[0]|=Ce.na!=null&&0<Ce.na.length),D!=null&&(D[0]=K),G!=null&&(G[0]=Ge),0):Ae}function ys(g,y,_){var D=y.width,G=y.height,Z=0,K=0,ee=D,ie=G;if(y.Da=g!=null&&0<g.Da,y.Da&&(ee=g.cd,ie=g.bd,Z=g.v,K=g.j,11>_||(Z&=-2,K&=-2),0>Z||0>K||0>=ee||0>=ie||Z+ee>D||K+ie>G))return 0;if(y.v=Z,y.j=K,y.va=Z+ee,y.o=K+ie,y.U=ee,y.T=ie,y.da=g!=null&&0<g.da,y.da){if(!xt(ee,ie,_=[g.ib],Z=[g.hb]))return 0;y.ib=_[0],y.hb=Z[0]}return y.ob=g!=null&&g.ob,y.Kb=g==null||!g.Sd,y.da&&(y.ob=y.ib<3*D/4&&y.hb<3*G/4,y.Kb=0),1}function al(g){if(g==null)return 2;if(11>g.S){var y=g.f.RGBA;y.fb+=(g.height-1)*y.A,y.A=-y.A}else y=g.f.kb,g=g.height,y.O+=(g-1)*y.fa,y.fa=-y.fa,y.N+=(g-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(g-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(g-1)*y.lb,y.lb=-y.lb);return 0}function vs(g,y,_,D){if(D==null||0>=g||0>=y)return 2;if(_!=null){if(_.Da){var G=_.cd,Z=_.bd,K=-2&_.v,ee=-2&_.j;if(0>K||0>ee||0>=G||0>=Z||K+G>g||ee+Z>y)return 2;g=G,y=Z}if(_.da){if(!xt(g,y,G=[_.ib],Z=[_.hb]))return 2;g=G[0],y=Z[0]}}D.width=g,D.height=y;e:{var ie=D.width,de=D.height;if(g=D.S,0>=ie||0>=de||!(g>=hf&&13>g))g=2;else{if(0>=D.Rd&&D.sd==null){K=Z=G=y=0;var be=(ee=ie*Q2[g])*de;if(11>g||(Z=(de+1)/2*(y=(ie+1)/2),g==12&&(K=(G=ie)*de)),(de=o(be+2*Z+K))==null){g=1;break e}D.sd=de,11>g?((ie=D.f.RGBA).eb=de,ie.fb=0,ie.A=ee,ie.size=be):((ie=D.f.kb).y=de,ie.O=0,ie.fa=ee,ie.Fd=be,ie.f=de,ie.N=0+be,ie.Ab=y,ie.Cd=Z,ie.ea=de,ie.W=0+be+Z,ie.Db=y,ie.Ed=Z,g==12&&(ie.F=de,ie.J=0+be+2*Z),ie.Tc=K,ie.lb=G)}if(y=1,G=D.S,Z=D.width,K=D.height,G>=hf&&13>G)if(11>G)g=D.f.RGBA,y&=(ee=Math.abs(g.A))*(K-1)+Z<=g.size,y&=ee>=Z*Q2[G],y&=g.eb!=null;else{g=D.f.kb,ee=(Z+1)/2,be=(K+1)/2,ie=Math.abs(g.fa),de=Math.abs(g.Ab);var Le=Math.abs(g.Db),Me=Math.abs(g.lb),Ce=Me*(K-1)+Z;y&=ie*(K-1)+Z<=g.Fd,y&=de*(be-1)+ee<=g.Cd,y=(y&=Le*(be-1)+ee<=g.Ed)&ie>=Z&de>=ee&Le>=ee,y&=g.y!=null,y&=g.f!=null,y&=g.ea!=null,G==12&&(y&=Me>=Z,y&=Ce<=g.Tc,y&=g.F!=null)}else y=0;g=y?0:2}}return g!=0||_!=null&&_.fd&&(g=al(D)),g}var Mn=64,Ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$a=24,ya=32,Qt=8,ki=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(g){return g},U.Predictor2=function(g,y,_){return y[_+0]},U.Predictor3=function(g,y,_){return y[_+1]},U.Predictor4=function(g,y,_){return y[_-1]},U.Predictor5=function(g,y,_){return rt(rt(g,y[_+1]),y[_+0])},U.Predictor6=function(g,y,_){return rt(g,y[_-1])},U.Predictor7=function(g,y,_){return rt(g,y[_+0])},U.Predictor8=function(g,y,_){return rt(y[_-1],y[_+0])},U.Predictor9=function(g,y,_){return rt(y[_+0],y[_+1])},U.Predictor10=function(g,y,_){return rt(rt(g,y[_-1]),rt(y[_+0],y[_+1]))},U.Predictor11=function(g,y,_){var D=y[_+0];return 0>=Pt(D>>24&255,g>>24&255,(y=y[_-1])>>24&255)+Pt(D>>16&255,g>>16&255,y>>16&255)+Pt(D>>8&255,g>>8&255,y>>8&255)+Pt(255&D,255&g,255&y)?D:g},U.Predictor12=function(g,y,_){var D=y[_+0];return(bt((g>>24&255)+(D>>24&255)-((y=y[_-1])>>24&255))<<24|bt((g>>16&255)+(D>>16&255)-(y>>16&255))<<16|bt((g>>8&255)+(D>>8&255)-(y>>8&255))<<8|bt((255&g)+(255&D)-(255&y)))>>>0},U.Predictor13=function(g,y,_){var D=y[_-1];return(Ct((g=rt(g,y[_+0]))>>24&255,D>>24&255)<<24|Ct(g>>16&255,D>>16&255)<<16|Ct(g>>8&255,D>>8&255)<<8|Ct(g>>0&255,D>>0&255))>>>0};var H=U.PredictorAdd0;U.PredictorAdd1=Lt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var i=U.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var a,l=U.ColorIndexInverseTransform,c=U.MapARGB,u=U.VP8LColorIndexInverseTransformAlpha,h=U.MapAlpha,p=U.VP8LPredictorsAdd=[];p.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var v,N,O,z,Q,he,ye,we,Ne,Be,Ze,Je,Qe,Xt,Dt,pi,Pi,ci,cn,ni,Ni,_r,va,jr,kr,zn,Hn,Ci,Fi=o(511),ws=o(2041),zc=o(225),Pl=o(767),uf=0,d0=ws,ff=zc,Qr=Pl,wa=Fi,hf=0,df=1,F2=2,gf=3,pf=4,g0=5,U2=6,p0=7,m0=8,mf=9,x0=10,i4=[2,3,7],r4=[3,3,11],z2=[280,256,256,256,40],a4=[0,1,1,1,0],s4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],o4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],l4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],c4=8,y0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hc=null,u4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],f4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],H2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],h4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],d4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],g4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],p4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Js=[],ka=[],bs=[],m4=1,q2=2,$s=[],ba=[];Fe("UpsampleRgbLinePair",en,3),Fe("UpsampleBgrLinePair",Wn,3),Fe("UpsampleRgbaLinePair",Zr,4),Fe("UpsampleBgraLinePair",ti,4),Fe("UpsampleArgbLinePair",Wi,4),Fe("UpsampleRgba4444LinePair",ei,2),Fe("UpsampleRgb565LinePair",Sn,2);var x4=U.UpsampleRgbLinePair,y4=U.UpsampleBgrLinePair,G2=U.UpsampleRgbaLinePair,V2=U.UpsampleBgraLinePair,Y2=U.UpsampleArgbLinePair,X2=U.UpsampleRgba4444LinePair,v4=U.UpsampleRgb565LinePair,xf=16,yf=1<<xf-1,qc=-227,w0=482,w4=6,W2=0,b4=o(256),A4=o(256),S4=o(256),N4=o(256),C4=o(w0-qc),E4=o(w0-qc);Tr("YuvToRgbRow",en,3),Tr("YuvToBgrRow",Wn,3),Tr("YuvToRgbaRow",Zr,4),Tr("YuvToBgraRow",ti,4),Tr("YuvToArgbRow",Wi,4),Tr("YuvToRgba4444Row",ei,2),Tr("YuvToRgb565Row",Sn,2);var Z2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vf=[0,2,8],T4=[8,7,6,4,4,2,2,2,1,1,1,1],_4=1;this.WebPDecodeRGBA=function(g,y,_,D,G){var Z=df,K=new Xs,ee=new Ht;K.ba=ee,ee.S=Z,ee.width=[ee.width],ee.height=[ee.height];var ie=ee.width,de=ee.height,be=new nr;if(be==null||g==null)var Le=2;else t(be!=null),Le=Qs(g,y,_,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Le!=0?ie=0:(ie!=null&&(ie[0]=be.width[0]),de!=null&&(de[0]=be.height[0]),ie=1),ie){ee.width=ee.width[0],ee.height=ee.height[0],D!=null&&(D[0]=ee.width),G!=null&&(G[0]=ee.height);e:{if(D=new Vt,(G=new il).data=g,G.w=y,G.ha=_,G.kd=1,y=[0],t(G!=null),((g=Qs(G.data,G.w,G.ha,null,null,null,y,null,G))==0||g==7)&&y[0]&&(g=4),(y=g)==0){if(t(K!=null),D.data=G.data,D.w=G.w+G.offset,D.ha=G.ha-G.offset,D.put=ir,D.ac=un,D.bc=Nr,D.ma=K,G.xa){if((g=rr())==null){K=1;break e}if(function(Me,Ce){var Ge=[0],ke=[0],Ae=[0];t:for(;;){if(Me==null)return 0;if(Ce==null)return Me.a=2,0;if(Me.l=Ce,Me.a=0,ne(Me.m,Ce.data,Ce.w,Ce.ha),!yt(Me.m,Ge,ke,Ae)){Me.a=3;break t}if(Me.xb=q2,Ce.width=Ge[0],Ce.height=ke[0],!wi(Ge[0],ke[0],1,Me,null))break t;return 1}return t(Me.a!=0),0}(g,D)){if(D=(y=vs(D.width,D.height,K.Oa,K.ba))==0){t:{D=g;n:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((_=D.l)!=null),t((G=_.ma)!=null),D.xb!=0){if(D.ca=G.ba,D.tb=G.tb,t(D.ca!=null),!ys(G.Oa,_,gf)){D.a=2;break n}if(!gs(D,_.width)||_.da)break n;if((_.da||an(D.ca.S))&&Te(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Te()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Nt(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Xi(D,D.V,D.Ba,D.c,D.i,_.o,ut))break n;G.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(y=g.a)}else y=g.a}else{if((g=new Vo)==null){K=1;break e}if(g.Fa=G.na,g.P=G.P,g.qc=G.Sa,Jn(g,D)){if((y=vs(D.width,D.height,K.Oa,K.ba))==0){if(g.Aa=0,_=K.Oa,t((G=g)!=null),_!=null){if(0<(ie=0>(ie=_.Md)?0:100<ie?255:255*ie/100)){for(de=be=0;4>de;++de)12>(Le=G.pb[de]).lc&&(Le.ia=ie*T4[0>Le.lc?0:Le.lc]>>3),be|=Le.ia;be&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=_.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Xn(g,D)||(y=g.a)}}else y=g.a}y==0&&K.Oa!=null&&K.Oa.fd&&(y=al(K.ba))}K=y}Z=K!=0?null:11>Z?ee.f.RGBA.eb:ee.f.kb.y}else Z=null;return Z};var Q2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function x(U,J){for(var ge="",F=0;F<4;F++)ge+=String.fromCharCode(U[J++]);return ge}function S(U,J){return(U[J+0]<<0|U[J+1]<<8|U[J+2]<<16)>>>0}function A(U,J){return(U[J+0]<<0|U[J+1]<<8|U[J+2]<<16|U[J+3]<<24)>>>0}new m;var E=[0],b=[0],R=[],M=new m,q=e,I=function(U,J){var ge={},F=0,j=!1,se=0,le=0;if(ge.frames=[],!function(te,ae,pe,ue){for(var _e=0;_e<ue;_e++)if(te[ae+_e]!=pe.charCodeAt(_e))return!0;return!1}(U,J,"RIFF",4)){var $,W;for(A(U,J+=4),J+=8;J<U.length;){var Y=x(U,J),ne=A(U,J+=4);J+=4;var oe=ne+(1&ne);switch(Y){case"VP8 ":case"VP8L":ge.frames[F]===void 0&&(ge.frames[F]={}),(P=ge.frames[F]).src_off=j?le:J-8,P.src_size=se+ne+8,F++,j&&(j=!1,se=0,le=0);break;case"VP8X":(P=ge.header={}).feature_flags=U[J];var me=J+4;P.canvas_width=1+S(U,me),me+=3,P.canvas_height=1+S(U,me),me+=3;break;case"ALPH":j=!0,se=oe+8,le=J-8;break;case"ANIM":(P=ge.header).bgcolor=A(U,J),me=J+4,P.loop_count=($=U)[(W=me)+0]<<0|$[W+1]<<8,me+=2;break;case"ANMF":var Oe,P;(P=ge.frames[F]={}).offset_x=2*S(U,J),J+=3,P.offset_y=2*S(U,J),J+=3,P.width=1+S(U,J),J+=3,P.height=1+S(U,J),J+=3,P.duration=S(U,J),J+=3,Oe=U[J++],P.dispose=1&Oe,P.blend=Oe>>1&1}Y!="ANMF"&&(J+=oe)}return ge}}(q,0);I.response=q,I.rgbaoutput=!0,I.dataurl=!1;var T=I.header?I.header:null,L=I.frames?I.frames:null;if(T){T.loop_counter=T.loop_count,E=[T.canvas_height],b=[T.canvas_width];for(var B=0;B<L.length&&L[B].blend!=0;B++);}var X=L[0],re=M.WebPDecodeRGBA(q,X.src_off,X.src_size,b,E);X.rgba=re,X.imgwidth=b[0],X.imgheight=E[0];for(var k=0;k<b[0]*E[0]*4;k++)R[k]=re[k];return this.width=b,this.height=E,this.data=R,this}(function(e){var t=function(){return typeof bd=="function"},n=function(E,b,R,M){var q=4,I=f;switch(M){case e.image_compression.FAST:q=1,I=o;break;case e.image_compression.MEDIUM:q=6,I=d;break;case e.image_compression.SLOW:q=9,I=m}E=r(E,b,R,I);var T=bd(E,{level:q});return e.__addimage__.arrayBufferToBinaryString(T)},r=function(E,b,R,M){for(var q,I,T,L=E.length/b,B=new Uint8Array(E.length+L),X=S(),re=0;re<L;re+=1){if(T=re*b,q=E.subarray(T,T+b),M)B.set(M(q,R,I),T+re);else{for(var k,U=X.length,J=[];k<U;k+=1)J[k]=X[k](q,R,I);var ge=A(J.concat());B.set(J[ge],T+re)}I=q}return B},s=function(E){var b=Array.apply([],E);return b.unshift(0),b},o=function(E,b){var R,M=[],q=E.length;M[0]=1;for(var I=0;I<q;I+=1)R=E[I-b]||0,M[I+1]=E[I]-R+256&255;return M},f=function(E,b,R){var M,q=[],I=E.length;q[0]=2;for(var T=0;T<I;T+=1)M=R&&R[T]||0,q[T+1]=E[T]-M+256&255;return q},d=function(E,b,R){var M,q,I=[],T=E.length;I[0]=3;for(var L=0;L<T;L+=1)M=E[L-b]||0,q=R&&R[L]||0,I[L+1]=E[L]+256-(M+q>>>1)&255;return I},m=function(E,b,R){var M,q,I,T,L=[],B=E.length;L[0]=4;for(var X=0;X<B;X+=1)M=E[X-b]||0,q=R&&R[X]||0,I=R&&R[X-b]||0,T=x(M,q,I),L[X+1]=E[X]-T+256&255;return L},x=function(E,b,R){if(E===b&&b===R)return E;var M=Math.abs(b-R),q=Math.abs(E-R),I=Math.abs(E+b-R-R);return M<=q&&M<=I?E:q<=I?b:R},S=function(){return[s,o,f,d,m]},A=function(E){var b=E.map(function(R){return R.reduce(function(M,q){return M+Math.abs(q)},0)});return b.indexOf(Math.min.apply(null,b))};e.processPNG=function(E,b,R,M){var q,I,T,L,B,X,re,k,U,J,ge,F,j,se,le,$=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(T=new qb(E)).imgData,I=T.bits,q=T.colorSpace,B=T.colors,[4,6].indexOf(T.colorType)!==-1){if(T.bits===8){U=(k=T.pixelBitlength==32?new Uint32Array(T.decodePixels().buffer):T.pixelBitlength==16?new Uint16Array(T.decodePixels().buffer):new Uint8Array(T.decodePixels().buffer)).length,ge=new Uint8Array(U*T.colors),J=new Uint8Array(U);var Y,ne=T.pixelBitlength-T.bits;for(se=0,le=0;se<U;se++){for(j=k[se],Y=0;Y<ne;)ge[le++]=j>>>Y&255,Y+=T.bits;J[se]=j>>>Y&255}}if(T.bits===16){U=(k=new Uint32Array(T.decodePixels().buffer)).length,ge=new Uint8Array(U*(32/T.pixelBitlength)*T.colors),J=new Uint8Array(U*(32/T.pixelBitlength)),F=T.colors>1,se=0,le=0;for(var oe=0;se<U;)j=k[se++],ge[le++]=j>>>0&255,F&&(ge[le++]=j>>>16&255,j=k[se++],ge[le++]=j>>>0&255),J[oe++]=j>>>16&255;I=8}M!==e.image_compression.NONE&&t()?(E=n(ge,T.width*T.colors,T.colors,M),re=n(J,T.width,1,M)):(E=ge,re=J,$=void 0)}if(T.colorType===3&&(q=this.color_spaces.INDEXED,X=T.palette,T.transparency.indexed)){var me=T.transparency.indexed,Oe=0;for(se=0,U=me.length;se<U;++se)Oe+=me[se];if((Oe/=255)===U-1&&me.indexOf(0)!==-1)L=[me.indexOf(0)];else if(Oe!==U){for(k=T.decodePixels(),J=new Uint8Array(k.length),se=0,U=k.length;se<U;se++)J[se]=me[k[se]];re=n(J,T.width,1)}}var P=function(te){var ae;switch(te){case e.image_compression.FAST:ae=11;break;case e.image_compression.MEDIUM:ae=13;break;case e.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(M);return $===this.decode.FLATE_DECODE&&(W="/Predictor "+P+" "),W+="/Colors "+B+" /BitsPerComponent "+I+" /Columns "+T.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(re&&this.__addimage__.isArrayBuffer(re)||this.__addimage__.isArrayBufferView(re))&&(re=this.__addimage__.arrayBufferToBinaryString(re)),{alias:R,data:E,index:b,filter:$,decodeParameters:W,transparency:L,palette:X,sMask:re,predictor:P,width:T.width,height:T.height,bitsPerComponent:I,colorSpace:q}}}})(It.API),function(e){e.processGIF89A=function(t,n,r,s){var o=new Gb(t),f=o.width,d=o.height,m=[];o.decodeAndBlitFrameRGBA(0,m);var x={data:m,width:f,height:d},S=new vh(100).encode(x,100);return e.processJPEG.call(this,S,n,r,s)},e.processGIF87A=e.processGIF89A}(It.API),Ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ua.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){jn.log("bit decode error:"+n)}},Ua.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var m=this.palette[o>>7-d&1];this.data[f+4*d]=m.blue,this.data[f+4*d+1]=m.green,this.data[f+4*d+2]=m.red,this.data[f+4*d+3]=255}n!==0&&(this.pos+=4-n)}},Ua.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+2*s*4,d=o>>4,m=15&o,x=this.palette[d];if(this.data[f]=x.blue,this.data[f+1]=x.green,this.data[f+2]=x.red,this.data[f+3]=255,2*s+1>=this.width)break;x=this.palette[m],this.data[f+4]=x.blue,this.data[f+4+1]=x.green,this.data[f+4+2]=x.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},Ua.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(s<this.palette.length){var f=this.palette[s];this.data[o]=f.red,this.data[o+1]=f.green,this.data[o+2]=f.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Ua.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(o&t)/t*255|0,d=(o>>5&t)/t*255|0,m=(o>>10&t)/t*255|0,x=o>>15?255:0,S=r*this.width*4+4*s;this.data[S]=m,this.data[S+1]=d,this.data[S+2]=f,this.data[S+3]=x}this.pos+=e}},Ua.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(f&t)/t*255|0,m=(f>>5&n)/n*255|0,x=(f>>11)/t*255|0,S=s*this.width*4+4*o;this.data[S]=x,this.data[S+1]=m,this.data[S+2]=d,this.data[S+3]=255}this.pos+=e}},Ua.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*n;this.data[f]=o,this.data[f+1]=s,this.data[f+2]=r,this.data[f+3]=255}this.pos+=this.width%4}},Ua.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=r,this.data[d+3]=f}},Ua.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var o=new Ua(t,!1),f=o.width,d=o.height,m={data:o.getData(),width:f,height:d},x=new vh(100).encode(m,100);return e.processJPEG.call(this,x,n,r,s)}}(It.API),s5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var o=new s5(t),f=o.width,d=o.height,m={data:o.getData(),width:f,height:d},x=new vh(100).encode(m,100);return e.processJPEG.call(this,x,n,r,s)}}(It.API),It.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,o=new Uint8Array(s/4*3),f=new Uint8Array(s/4),d=0,m=0,x=0;x<s;x+=4){var S=r[x],A=r[x+1],E=r[x+2],b=r[x+3];o[d++]=S,o[d++]=A,o[d++]=E,f[m++]=b}var R=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:R,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},It.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yl=It.API,Zf=Yl.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:s.metadata.Unicode.widths,m=d.fof?d.fof:1,x=t.kerning?t.kerning:s.metadata.Unicode.kerning,S=x.fof?x.fof:1,A=t.doKerning!==!1,E=0,b=e.length,R=0,M=d[0]||m,q=[];for(n=0;n<b;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?q.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+f*(1e3/o)||0)/1e3):(E=A&&In(x[r])==="object"&&!isNaN(parseInt(x[r][R],10))?x[r][R]/S:0,q.push((d[r]||M)/m+E)),R=r;return q},n5=Yl.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Yl.processArabic&&(e=Yl.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:Zf.apply(this,arguments).reduce(function(o,f){return o+f},0)},i5=function(e,t,n,r){for(var s=[],o=0,f=e.length,d=0;o!==f&&d+t[o]<n;)d+=t[o],o++;s.push(e.slice(0,o));var m=o;for(d=0;o!==f;)d+t[o]>r&&(s.push(e.slice(m,o)),d=0,m=o),d+=t[o],o++;return m!==o&&s.push(e.slice(m,o)),s},r5=function(e,t,n){n||(n={});var r,s,o,f,d,m,x,S=[],A=[S],E=n.textIndent||0,b=0,R=0,M=e.split(" "),q=Zf.apply(this,[" ",n])[0];if(m=n.lineIndent===-1?M[0].length+2:n.lineIndent||0){var I=Array(m).join(" "),T=[];M.map(function(B){(B=B.split(/\s*\n/)).length>1?T=T.concat(B.map(function(X,re){return(re&&X.length?`
`:"")+X})):T.push(B[0])}),M=T,m=n5.apply(this,[I,n])}for(o=0,f=M.length;o<f;o++){var L=0;if(r=M[o],m&&r[0]==`
`&&(r=r.substr(1),L=1),E+b+(R=(s=Zf.apply(this,[r,n])).reduce(function(B,X){return B+X},0))>t||L){if(R>t){for(d=i5.apply(this,[r,s,t-(E+b),t]),S.push(d.shift()),S=[d.pop()];d.length;)A.push([d.shift()]);R=s.slice(r.length-(S[0]?S[0].length:0)).reduce(function(B,X){return B+X},0)}else S=[r];A.push(S),E=R+m,b=q}else S.push(r),E+=b+R,b=q}return x=m?function(B,X){return(X?I:"")+B.join(" ")}:function(B){return B.join(" ")},A.map(x)},Yl.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(S){if(S.widths&&S.kerning)return{widths:S.widths,kerning:S.kerning};var A=this.internal.getFont(S.fontName,S.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var d,m,x=[];for(d=0,m=r.length;d<m;d++)x=x.concat(r5.apply(this,[r[d],f,o]));return x},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var o=function(A){return"0x"+parseInt(A,10).toString(16)},f=e.__fontmetrics__.compress=function(A){var E,b,R,M,q=["{"];for(var I in A){if(E=A[I],isNaN(parseInt(I,10))?b="'"+I+"'":(I=parseInt(I,10),b=(b=o(I).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof E=="number")E<0?(R=o(E).slice(3),M="-"):(R=o(E).slice(2),M=""),R=M+R.slice(0,-1)+r[R.slice(-1)];else{if(In(E)!=="object")throw new Error("Don't know what to do with value type "+In(E)+".");R=f(E)}q.push(b+R)}return q.push("}"),q.join("")},d=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,b,R,M,q={},I=1,T=q,L=[],B="",X="",re=A.length-1,k=1;k<re;k+=1)(M=A[k])=="'"?E?(R=E.join(""),E=void 0):E=[]:E?E.push(M):M=="{"?(L.push([T,R]),T={},R=void 0):M=="}"?((b=L.pop())[0][b[1]]=T,R=void 0,T=b[0]):M=="-"?I=-1:R===void 0?n.hasOwnProperty(M)?(B+=n[M],R=parseInt(B,16)*I,I=1,B=""):B+=M:n.hasOwnProperty(M)?(X+=n[M],T[R]=parseInt(X,16)*I,I=1,R=void 0,X=""):X+=M;return q},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},S={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var E=A.font,b=S.Unicode[E.postScriptName];b&&(E.metadata.Unicode={},E.metadata.Unicode.widths=b.widths,E.metadata.Unicode.kerning=b.kerning);var R=x.Unicode[E.postScriptName];R&&(E.metadata.Unicode.encoding=R,E.encoding=R.codePages[0])}])}(It.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=n.charCodeAt(o);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(f,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Su(d)),f.metadata=e.API.TTFFont.open(d),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(s,r)}}])}(It),function(e){function t(){return(Mt.canvg?Promise.resolve(Mt.canvg):md(()=>import("./index.es-TuHXDpSM.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}It.API.addSvgAsImage=function(n,r,s,o,f,d,m,x){if(isNaN(r)||isNaN(s))throw jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(f))throw jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var S=document.createElement("canvas");S.width=o,S.height=f;var A=S.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,S.width,S.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(R){return R.fromString(A,n,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(E)}).then(function(){b.addImage(S.toDataURL("image/jpeg",1),r,s,o,f,m,x)})}}(),It.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},It.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,o,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(f),m=[],x=0,S=0,A=0;function E(R,M){var q,I=!1;for(q=0;q<R.length;q+=1)R[q]===M&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var b=d.length;for(A=0;A<b;A+=1)n[d[A]].value=n[d[A]].defaultValue,n[d[A]].explicitSet=!1}if(In(e)==="object"){for(s in e)if(o=e[s],E(d,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&E(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(x=0;x<o.length;x+=1)if(r=!0,o[x].length===1&&typeof o[x][0]=="number")m.push(String(o[x]-1));else if(o[x].length>1){for(S=0;S<o[x].length;S+=1)typeof o[x][S]!="number"&&(r=!1);r===!0&&m.push([o[x][0]-1,o[x][1]-1].join(" "))}n[s].value="["+m.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,M=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?M.push("/"+R+" /"+n[R].value):M.push("/"+R+" "+n[R].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),x=o.length+f.length+d.length+s.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+x+" >>"),this.internal.write("stream"),this.internal.write(s+o+f+d+m),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(It.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,f){for(var d,m=f.metadata.Unicode.widths,x=["","0","00","000","0000"],S=[""],A=0,E=o.length;A<E;++A){if(d=f.metadata.characterToGlyph(o.charCodeAt(A)),f.metadata.glyIdsUsed.push(d),f.metadata.toUnicode[d]=o.charCodeAt(A),m.indexOf(d)==-1&&(m.push(d),m.push([parseInt(f.metadata.widthOfGlyph(d),10)])),d=="0")return S.join("");d=d.toString(16),S.push(x[4-d.length],d)}return S.join("")},r=function(o){var f,d,m,x,S,A,E;for(S=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],A=0,E=(d=Object.keys(o).sort(function(b,R){return b-R})).length;A<E;A++)f=d[A],m.length>=100&&(S+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),o[f]!==void 0&&o[f]!==null&&typeof o[f].toString=="function"&&(x=("0000"+o[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),m.push("<"+f+"><"+x+">"));return m.length&&(S+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),S+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(f){var d=f.font,m=f.out,x=f.newObject,S=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="Identity-H"){for(var A=d.metadata.Unicode.widths,E=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),b="",R=0;R<E.length;R++)b+=String.fromCharCode(E[R]);var M=x();S({data:b,addLength1:!0,objectId:M}),m("endobj");var q=x();S({data:r(d.metadata.toUnicode),addLength1:!0,objectId:q}),m("endobj");var I=x();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+Jl(d.fontName)),m("/FontFile2 "+M+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),m("/Flags "+d.metadata.flags),m("/StemV "+d.metadata.stemV),m("/ItalicAngle "+d.metadata.italicAngle),m("/Ascent "+d.metadata.ascender),m("/Descent "+d.metadata.decender),m("/CapHeight "+d.metadata.capHeight),m(">>"),m("endobj");var T=x();m("<<"),m("/Type /Font"),m("/BaseFont /"+Jl(d.fontName)),m("/FontDescriptor "+I+" 0 R"),m("/W "+e.API.PDFObject.convert(A)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+d.encoding+")"),m(">>"),m(">>"),m("endobj"),d.objectNumber=x(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+q+" 0 R"),m("/BaseFont /"+Jl(d.fontName)),m("/Encoding /"+d.encoding),m("/DescendantFonts ["+T+" 0 R]"),m(">>"),m("endobj"),d.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(f){var d=f.font,m=f.out,x=f.newObject,S=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var A=d.metadata.rawData,E="",b=0;b<A.length;b++)E+=String.fromCharCode(A[b]);var R=x();S({data:E,addLength1:!0,objectId:R}),m("endobj");var M=x();S({data:r(d.metadata.toUnicode),addLength1:!0,objectId:M}),m("endobj");var q=x();m("<<"),m("/Descent "+d.metadata.decender),m("/CapHeight "+d.metadata.capHeight),m("/StemV "+d.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+R+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),m("/FontName /"+Jl(d.fontName)),m("/ItalicAngle "+d.metadata.italicAngle),m("/Ascent "+d.metadata.ascender),m(">>"),m("endobj"),d.objectNumber=x();for(var I=0;I<d.metadata.hmtx.widths.length;I++)d.metadata.hmtx.widths[I]=parseInt(d.metadata.hmtx.widths[I]*(1e3/d.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Jl(d.fontName)+"/FontDescriptor "+q+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),m("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var f,d=o.text||"",m=o.x,x=o.y,S=o.options||{},A=o.mutex||{},E=A.pdfEscape,b=A.activeFontKey,R=A.fonts,M=b,q="",I=0,T="",L=R[M].encoding;if(R[M].encoding!=="Identity-H")return{text:d,x:m,y:x,options:S,mutex:A};for(T=d,M=b,Array.isArray(d)&&(T=d[0]),I=0;I<T.length;I+=1)R[M].metadata.hasOwnProperty("cmap")&&(f=R[M].metadata.cmap.unicode.codeMap[T[I].charCodeAt(0)]),f||T[I].charCodeAt(0)<256&&R[M].metadata.hasOwnProperty("Unicode")?q+=T[I]:q+="";var B="";return parseInt(M.slice(1))<14||L==="WinAnsiEncoding"?B=E(q,M).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(B=n(q,R[M])),A.isHex=!0,{text:B,x:m,y:x,options:S,mutex:A}};t.events.push(["postProcessText",function(o){var f=o.text||"",d=[],m={text:f,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(f)){var x=0;for(x=0;x<f.length;x+=1)Array.isArray(f[x])&&f[x].length===3?d.push([s(Object.assign({},m,{text:f[x][0]})).text,f[x][1],f[x][2]]):d.push(s(Object.assign({},m,{text:f[x]})).text);o.text=d}else o.text=s(Object.assign({},m,{text:f})).text}])}(It),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(It.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,o,f,d,m,x,S,A=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},q=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,L=0;this.__bidiEngine__={};var B=function(F){var j=F.charCodeAt(),se=j>>8,le=M[se];return le!==void 0?A[256*le+(255&j)]:se===252||se===253?"AL":I.test(se)?"L":se===8?"R":"N"},X=function(F){for(var j,se=0;se<F.length;se++){if((j=B(F.charAt(se)))==="L")return!1;if(j==="R")return!0}return!1},re=function(F,j,se,le){var $,W,Y,ne,oe=j[le];switch(oe){case"L":case"R":T=!1;break;case"N":case"AN":break;case"EN":T&&(oe="AN");break;case"AL":T=!0,oe="R";break;case"WS":oe="N";break;case"CS":le<1||le+1>=j.length||($=se[le-1])!=="EN"&&$!=="AN"||(W=j[le+1])!=="EN"&&W!=="AN"?oe="N":T&&(W="AN"),oe=W===$?W:"N";break;case"ES":oe=($=le>0?se[le-1]:"B")==="EN"&&le+1<j.length&&j[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&se[le-1]==="EN"){oe="EN";break}if(T){oe="N";break}for(Y=le+1,ne=j.length;Y<ne&&j[Y]==="ET";)Y++;oe=Y<ne&&j[Y]==="EN"?"EN":"N";break;case"NSM":if(f&&!d){for(ne=j.length,Y=le+1;Y<ne&&j[Y]==="NSM";)Y++;if(Y<ne){var me=F[le],Oe=me>=1425&&me<=2303||me===64286;if($=j[Y],Oe&&($==="R"||$==="AL")){oe="R";break}}}oe=le<1||($=j[le-1])==="B"?"N":se[le-1];break;case"B":T=!1,s=!0,oe=L;break;case"S":o=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"BN":oe="N"}return oe},k=function(F,j,se){var le=F.split("");return se&&U(le,se,{hiLevel:L}),le.reverse(),j&&j.reverse(),le.join("")},U=function(F,j,se){var le,$,W,Y,ne,oe=-1,me=F.length,Oe=0,P=[],te=L?b:E,ae=[];for(T=!1,s=!1,o=!1,$=0;$<me;$++)ae[$]=B(F[$]);for(W=0;W<me;W++){if(ne=Oe,P[W]=re(F,ae,P,W),le=240&(Oe=te[ne][R[P[W]]]),Oe&=15,j[W]=Y=te[Oe][5],le>0)if(le===16){for($=oe;$<W;$++)j[$]=1;oe=-1}else oe=-1;if(te[Oe][6])oe===-1&&(oe=W);else if(oe>-1){for($=oe;$<W;$++)j[$]=Y;oe=-1}ae[W]==="B"&&(j[W]=0),se.hiLevel|=Y}o&&function(pe,ue,_e){for(var Ee=0;Ee<_e;Ee++)if(pe[Ee]==="S"){ue[Ee]=L;for(var De=Ee-1;De>=0&&pe[De]==="WS";De--)ue[De]=L}}(ae,j,me)},J=function(F,j,se,le,$){if(!($.hiLevel<F)){if(F===1&&L===1&&!s)return j.reverse(),void(se&&se.reverse());for(var W,Y,ne,oe,me=j.length,Oe=0;Oe<me;){if(le[Oe]>=F){for(ne=Oe+1;ne<me&&le[ne]>=F;)ne++;for(oe=Oe,Y=ne-1;oe<Y;oe++,Y--)W=j[oe],j[oe]=j[Y],j[Y]=W,se&&(W=se[oe],se[oe]=se[Y],se[Y]=W);Oe=ne}Oe++}}},ge=function(F,j,se){var le=F.split(""),$={hiLevel:L};return se||(se=[]),U(le,se,$),function(W,Y,ne){if(ne.hiLevel!==0&&S)for(var oe,me=0;me<W.length;me++)Y[me]===1&&(oe=q.indexOf(W[me]))>=0&&(W[me]=q[oe+1])}(le,se,$),J(2,le,j,se,$),J(1,le,j,se,$),le.join("")};return this.__bidiEngine__.doBidiReorder=function(F,j,se){if(function($,W){if(W)for(var Y=0;Y<$.length;Y++)W[Y]=Y;d===void 0&&(d=X($)),x===void 0&&(x=X($))}(F,j),f||!m||x)if(f&&m&&d^x)L=d?1:0,F=k(F,j,se);else if(!f&&m&&x)L=d?1:0,F=ge(F,j,se),F=k(F,j);else if(!f||d||m||x){if(f&&!m&&d^x)F=k(F,j),d?(L=0,F=ge(F,j,se)):(L=1,F=ge(F,j,se),F=k(F,j));else if(f&&d&&!m&&x)L=1,F=ge(F,j,se),F=k(F,j);else if(!f&&!m&&d^x){var le=S;d?(L=1,F=ge(F,j,se),L=0,S=!1,F=ge(F,j,se),S=le):(L=0,F=ge(F,j,se),F=k(F,j),L=1,S=!1,F=ge(F,j,se),S=le,F=k(F,j))}}else L=0,F=ge(F,j,se);else L=d?1:0,F=ge(F,j,se);return F},this.__bidiEngine__.setOptions=function(F){F&&(f=F.isInputVisual,m=F.isOutputVisual,d=F.isInputRtl,x=F.isOutputRtl,S=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,o=(r.x,r.y,r.options||{}),f=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(f=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?f.push([n.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):f.push([n.doBidiReorder(s[d])]);r.text=f}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(It),It.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Fo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new a6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Vb(this.contents),this.head=new Xb(this),this.name=new Jb(this),this.cmap=new Y3(this),this.toUnicode={},this.hhea=new Wb(this),this.maxp=new $b(this),this.hmtx=new e6(this),this.post=new Qb(this),this.os2=new Zb(this),this.loca=new r6(this),this.glyf=new t6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,d,m,x;for(x=[],f=0,d=(m=this.bbox).length;f<d;f++)t=m[f],x.push(Math.round(t*this.scaleFactor));return x}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,o,f,d;for(f=0,o=0,d=(t=""+t).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=t.charCodeAt(o),f+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return f*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Xa,Fo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,o,f,d,m;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),f=this.readByte(),d=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^f)+256*(255^d)+(255^m)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*o+65536*f+256*d+m},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),Vb=function(){var e;function t(n){var r,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,o,f,d,m,x,S,A,E,b,R,M;for(M in b=Object.keys(n).length,m=Math.log(2),A=16*Math.floor(Math.log(b)/m),f=Math.floor(A/m),S=16*b-A,(s=new Fo).writeInt(this.scalarType),s.writeShort(b),s.writeShort(A),s.writeShort(f),s.writeShort(S),o=16*b,x=s.pos+o,d=null,R=[],n)for(E=n[M],s.writeString(M),s.writeInt(e(E)),s.writeInt(x),s.writeInt(E.length),R=R.concat(E),M==="head"&&(d=x),x+=E.length;x%4;)R.push(0),x++;return s.write(R),r=2981146554-e(s.data),s.pos=d+8,s.writeUInt32(r),s.data},e=function(n){var r,s,o,f;for(n=X3.call(n);n.length%4;)n.push(0);for(o=new Fo(n),s=0,r=0,f=n.length;r<f;r=r+=4)s+=o.readUInt32();return 4294967295&s},t}(),Yb={}.hasOwnProperty,ds=function(e,t){for(var n in t)Yb.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Xa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Xb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Fo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),o5=function(){function e(t,n){var r,s,o,f,d,m,x,S,A,E,b,R,M,q,I,T,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(b=t.readUInt16(),E=b/2,t.pos+=6,o=function(){var B,X;for(X=[],m=B=0;0<=E?B<E:B>E;m=0<=E?++B:--B)X.push(t.readUInt16());return X}(),t.pos+=2,M=function(){var B,X;for(X=[],m=B=0;0<=E?B<E:B>E;m=0<=E?++B:--B)X.push(t.readUInt16());return X}(),x=function(){var B,X;for(X=[],m=B=0;0<=E?B<E:B>E;m=0<=E?++B:--B)X.push(t.readUInt16());return X}(),S=function(){var B,X;for(X=[],m=B=0;0<=E?B<E:B>E;m=0<=E?++B:--B)X.push(t.readUInt16());return X}(),s=(this.length-t.pos+this.offset)/2,d=function(){var B,X;for(X=[],m=B=0;0<=s?B<s:B>s;m=0<=s?++B:--B)X.push(t.readUInt16());return X}(),m=I=0,L=o.length;I<L;m=++I)for(q=o[m],r=T=R=M[m];R<=q?T<=q:T>=q;r=R<=q?++T:--T)S[m]===0?f=r+x[m]:(f=d[S[m]/2+(r-R)-(E-m)]||0)!==0&&(f+=x[m]),this.codeMap[r]=65535&f}t.pos=A}return e.encode=function(t,n){var r,s,o,f,d,m,x,S,A,E,b,R,M,q,I,T,L,B,X,re,k,U,J,ge,F,j,se,le,$,W,Y,ne,oe,me,Oe,P,te,ae,pe,ue,_e,Ee,De,$e,Ye,it;switch(le=new Fo,f=Object.keys(t).sort(function(We,Nt){return We-Nt}),n){case"macroman":for(M=0,q=function(){var We=[];for(R=0;R<256;++R)We.push(0);return We}(),T={0:0},o={},$=0,oe=f.length;$<oe;$++)T[De=t[s=f[$]]]==null&&(T[De]=++M),o[s]={old:t[s],new:T[t[s]]},q[s]=T[t[s]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(q),{charMap:o,subtable:le.data,maxGlyphID:M+1};case"unicode":for(j=[],A=[],L=0,T={},r={},I=x=null,W=0,me=f.length;W<me;W++)T[X=t[s=f[W]]]==null&&(T[X]=++L),r[s]={old:X,new:T[X]},d=T[X]-s,I!=null&&d===x||(I&&A.push(I),j.push(s),x=d),I=s;for(I&&A.push(I),A.push(65535),j.push(65535),ge=2*(J=j.length),U=2*Math.pow(Math.log(J)/Math.LN2,2),E=Math.log(U/2)/Math.LN2,k=2*J-U,m=[],re=[],b=[],R=Y=0,Oe=j.length;Y<Oe;R=++Y){if(F=j[R],S=A[R],F===65535){m.push(0),re.push(0);break}if(F-(se=r[F].new)>=32768)for(m.push(0),re.push(2*(b.length+J-R)),s=ne=F;F<=S?ne<=S:ne>=S;s=F<=S?++ne:--ne)b.push(r[s].new);else m.push(se-F),re.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*J+2*b.length),le.writeUInt16(0),le.writeUInt16(ge),le.writeUInt16(U),le.writeUInt16(E),le.writeUInt16(k),_e=0,P=A.length;_e<P;_e++)s=A[_e],le.writeUInt16(s);for(le.writeUInt16(0),Ee=0,te=j.length;Ee<te;Ee++)s=j[Ee],le.writeUInt16(s);for($e=0,ae=m.length;$e<ae;$e++)d=m[$e],le.writeUInt16(d);for(Ye=0,pe=re.length;Ye<pe;Ye++)B=re[Ye],le.writeUInt16(B);for(it=0,ue=b.length;it<ue;it++)M=b[it],le.writeUInt16(M);return{charMap:r,subtable:le.data,maxGlyphID:L+1}}},e}(),Y3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new o5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,o;return r==null&&(r="macroman"),s=o5.encode(n,r),(o=new Fo).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},t}(),Wb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Zb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Qb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var f;for(s=n.readUInt16(),this.glyphNameIndex=[],f=0;0<=s?f<s:f>s;f=0<=s?++f:--f)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var d,m,x;for(x=[],f=d=0,m=this.file.maxp.numGlyphs;0<=m?d<m:d>m;f=0<=m?++d:--d)x.push(n.readUInt32());return x}).call(this)}},t}(),Kb=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,o,f,d,m,x,S,A,E,b;for(n.pos=this.offset,n.readShort(),r=n.readShort(),m=n.readShort(),s=[],f=0;0<=r?f<r:f>r;f=0<=r?++f:--f)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+m+n.readShort()});for(x={},f=A=0,E=s.length;A<E;f=++A)o=s[f],n.pos=o.offset,S=n.readString(o.length),d=new Kb(S,o),x[b=o.nameID]==null&&(x[b]=[]),x[o.nameID].push(d);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},t}(),$b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),e6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,o,f,d,m,x;for(n.pos=this.offset,this.metrics=[],r=0,m=this.file.hhea.numberOfMetrics;0<=m?r<m:r>m;r=0<=m?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var S,A;for(A=[],r=S=0;0<=o?S<o:S>o;r=0<=o?++S:--S)A.push(n.readInt16());return A}(),this.widths=(function(){var S,A,E,b;for(b=[],S=0,A=(E=this.metrics).length;S<A;S++)f=E[S],b.push(f.advance);return b}).call(this),s=this.widths[this.widths.length-1],x=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)x.push(this.widths.push(s));return x},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),X3=[].slice,t6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,o,f,d,m,x,S,A,E;return n in this.cache?this.cache[n]:(f=this.file.loca,r=this.file.contents,s=f.indexOf(n),(o=f.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,d=(m=new Fo(r.read(o))).readShort(),S=m.readShort(),E=m.readShort(),x=m.readShort(),A=m.readShort(),this.cache[n]=d===-1?new i6(m,S,E,x,A):new n6(m,d,S,E,x,A),this.cache[n]))},t.prototype.encode=function(n,r,s){var o,f,d,m,x;for(d=[],f=[],m=0,x=r.length;m<x;m++)o=n[r[m]],f.push(d.length),o&&(d=d.concat(o.encode(s)));return f.push(d.length),{table:d,offsets:f}},t}(),n6=function(){function e(t,n,r,s,o,f){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),i6=function(){function e(t,n,r,s,o){var f,d;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;d=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&d;)f.pos+=1&d?4:2,128&d?f.pos+=8:64&d?f.pos+=4:8&d&&(f.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Fo(X3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),r6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ds(t,Xa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=2)f.push(2*n.readUInt16());return f}).call(this):(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=4)f.push(n.readUInt32());return f}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),o=0,f=0,d=0;d<s.length;++d)if(s[d]=o,f<r.length&&r[f]==d){++f,s[d]=o;var m=this.offsets[d],x=this.offsets[d+1]-m;x>0&&(o+=x)}for(var S=new Array(4*s.length),A=0;A<s.length;++A)S[4*A+3]=255&s[A],S[4*A+2]=(65280&s[A])>>8,S[4*A+1]=(16711680&s[A])>>16,S[4*A]=(4278190080&s[A])>>24;return S},t}(),a6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,o;for(n in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,o,f,d,m;for(s={},f=0,d=t.length;f<d;f++)s[o=t[f]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(r=s[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in m=this.glyphsFor(n))r=m[o],s[o]=r;return s},e.prototype.encode=function(t,n){var r,s,o,f,d,m,x,S,A,E,b,R,M,q,I;for(s in r=Y3.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),b={0:0},I=r.charMap)b[(m=I[s]).old]=m.new;for(R in E=r.maxGlyphID,f)R in b||(b[R]=E++);return S=function(T){var L,B;for(L in B={},T)B[T[L]]=L;return B}(b),A=Object.keys(S).sort(function(T,L){return T-L}),M=function(){var T,L,B;for(B=[],T=0,L=A.length;T<L;T++)d=A[T],B.push(S[d]);return B}(),o=this.font.glyf.encode(f,M,b),x=this.font.loca.encode(o.offsets,M),q={cmap:this.font.cmap.raw(),glyf:o.table,loca:x,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(q)},e}();It.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,o,f;if(Array.isArray(n))return"["+function(){var d,m,x;for(x=[],d=0,m=n.length;d<m;d++)r=n[d],x.push(t.convert(r));return x}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)f=n[s],o.push("/"+s+" "+t.convert(f));return o.push(">>"),o.join(`
`)}return""+n},t}();const s6=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:kb,AcroFormAppearance:dt,AcroFormButton:Ui,AcroFormCheckBox:Eu,AcroFormChoiceField:wl,AcroFormComboBox:Al,AcroFormEditBox:Nu,AcroFormListBox:bl,AcroFormPasswordField:Tu,AcroFormPushButton:Cu,AcroFormRadioButton:Sl,AcroFormTextField:Ro,GState:Vu,ShadingPattern:vo,TilingPattern:hl,default:It,jsPDF:It},Symbol.toStringTag,{value:"Module"}));var o6={exports:{}};const l6=z4(s6);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,s){e.exports=s(function(){try{return l6}catch{}}())})(typeof globalThis<"u"?globalThis:typeof go<"u"?go:typeof window<"u"?window:typeof self<"u"?self:go,function(n){return function(){var r={172:function(d,m){var x=this&&this.__extends||function(){var E=function(b,R){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,q){M.__proto__=q}||function(M,q){for(var I in q)Object.prototype.hasOwnProperty.call(q,I)&&(M[I]=q[I])},E(b,R)};return function(b,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");E(b,R);function M(){this.constructor=b}b.prototype=R===null?Object.create(R):(M.prototype=R.prototype,new M)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.CellHookData=m.HookData=void 0;var S=function(){function E(b,R,M){this.table=R,this.pageNumber=R.pageNumber,this.pageCount=this.pageNumber,this.settings=R.settings,this.cursor=M,this.doc=b.getDocument()}return E}();m.HookData=S;var A=function(E){x(b,E);function b(R,M,q,I,T,L){var B=E.call(this,R,M,L)||this;return B.cell=q,B.row=I,B.column=T,B.section=I.section,B}return b}(S);m.CellHookData=A},340:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0});var S=x(4),A=x(136),E=x(744),b=x(776),R=x(664),M=x(972);function q(I){I.API.autoTable=function(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];var B;T.length===1?B=T[0]:(console.error("Use of deprecated autoTable initiation"),B=T[2]||{},B.columns=T[0],B.body=T[1]);var X=(0,b.parseInput)(this,B),re=(0,M.createTable)(this,X);return(0,R.drawTable)(this,re),this},I.API.lastAutoTable=!1,I.API.previousAutoTable=!1,I.API.autoTable.previous=!1,I.API.autoTableText=function(T,L,B,X){(0,A.default)(T,L,B,X,this)},I.API.autoTableSetDefaults=function(T){return E.DocHandler.setDefaults(T,this),this},I.autoTableSetDefaults=function(T,L){E.DocHandler.setDefaults(T,L)},I.API.autoTableHtmlToJson=function(T,L){var B;if(L===void 0&&(L=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var X=new E.DocHandler(this),re=(0,S.parseHtml)(X,T,window,L,!1),k=re.head,U=re.body,J=((B=k[0])===null||B===void 0?void 0:B.map(function(ge){return ge.content}))||[];return{columns:J,rows:U,data:U}},I.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var T=this.lastAutoTable;return T&&T.finalY?T.finalY:0},I.API.autoTableAddPageContent=function(T){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),I.API.autoTable.globalDefaults||(I.API.autoTable.globalDefaults={}),I.API.autoTable.globalDefaults.addPageContent=T,this},I.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}m.default=q},136:function(d,m){Object.defineProperty(m,"__esModule",{value:!0});function x(S,A,E,b,R){b=b||{};var M=1.15,q=R.internal.scaleFactor,I=R.internal.getFontSize()/q,T=R.getLineHeightFactor?R.getLineHeightFactor():M,L=I*T,B=/\r\n|\r|\n/g,X="",re=1;if((b.valign==="middle"||b.valign==="bottom"||b.halign==="center"||b.halign==="right")&&(X=typeof S=="string"?S.split(B):S,re=X.length||1),E+=I*(2-M),b.valign==="middle"?E-=re/2*L:b.valign==="bottom"&&(E-=re*L),b.halign==="center"||b.halign==="right"){var k=I;if(b.halign==="center"&&(k*=.5),X&&re>=1){for(var U=0;U<X.length;U++)R.text(X[U],A-R.getStringUnitWidth(X[U])*k,E),E+=L;return R}A-=R.getStringUnitWidth(S)*k}return b.halign==="justify"?R.text(S,A,E,{maxWidth:b.maxWidth||100,align:"justify"}):R.text(S,A,E),R}m.default=x},420:function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),m.getPageAvailableWidth=m.parseSpacing=m.getFillStyle=m.addTableBorder=m.getStringWidth=void 0;function x(R,M,q){q.applyStyles(M,!0);var I=Array.isArray(R)?R:[R],T=I.map(function(L){return q.getTextWidth(L)}).reduce(function(L,B){return Math.max(L,B)},0);return T}m.getStringWidth=x;function S(R,M,q,I){var T=M.settings.tableLineWidth,L=M.settings.tableLineColor;R.applyStyles({lineWidth:T,lineColor:L});var B=A(T,!1);B&&R.rect(q.x,q.y,M.getWidth(R.pageSize().width),I.y-q.y,B)}m.addTableBorder=S;function A(R,M){var q=R>0,I=M||M===0;return q&&I?"DF":q?"S":I?"F":null}m.getFillStyle=A;function E(R,M){var q,I,T,L;if(R=R||M,Array.isArray(R)){if(R.length>=4)return{top:R[0],right:R[1],bottom:R[2],left:R[3]};if(R.length===3)return{top:R[0],right:R[1],bottom:R[2],left:R[1]};if(R.length===2)return{top:R[0],right:R[1],bottom:R[0],left:R[1]};R.length===1?R=R[0]:R=M}return typeof R=="object"?(typeof R.vertical=="number"&&(R.top=R.vertical,R.bottom=R.vertical),typeof R.horizontal=="number"&&(R.right=R.horizontal,R.left=R.horizontal),{left:(q=R.left)!==null&&q!==void 0?q:M,top:(I=R.top)!==null&&I!==void 0?I:M,right:(T=R.right)!==null&&T!==void 0?T:M,bottom:(L=R.bottom)!==null&&L!==void 0?L:M}):(typeof R!="number"&&(R=M),{top:R,right:R,bottom:R,left:R})}m.parseSpacing=E;function b(R,M){var q=E(M.settings.margin,0);return R.pageSize().width-(q.left+q.right)}m.getPageAvailableWidth=b},796:function(d,m){var x=this&&this.__extends||function(){var b=function(R,M){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,I){q.__proto__=I}||function(q,I){for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(q[T]=I[T])},b(R,M)};return function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");b(R,M);function q(){this.constructor=R}R.prototype=M===null?Object.create(M):(q.prototype=M.prototype,new q)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.getTheme=m.defaultStyles=m.HtmlRowInput=void 0;var S=function(b){x(R,b);function R(M){var q=b.call(this)||this;return q._element=M,q}return R}(Array);m.HtmlRowInput=S;function A(b){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/b,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}m.defaultStyles=A;function E(b){var R={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return R[b]}m.getTheme=E},903:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.parseCss=void 0;var S=x(420);function A(q,I,T,L,B){var X={},re=1.3333333333333333,k=b(I,function(oe){return B.getComputedStyle(oe).backgroundColor});k!=null&&(X.fillColor=k);var U=b(I,function(oe){return B.getComputedStyle(oe).color});U!=null&&(X.textColor=U);var J=M(L,T);J&&(X.cellPadding=J);var ge="borderTopColor",F=re*T,j=L.borderTopWidth;if(L.borderBottomWidth===j&&L.borderRightWidth===j&&L.borderLeftWidth===j){var se=(parseFloat(j)||0)/F;se&&(X.lineWidth=se)}else X.lineWidth={top:(parseFloat(L.borderTopWidth)||0)/F,right:(parseFloat(L.borderRightWidth)||0)/F,bottom:(parseFloat(L.borderBottomWidth)||0)/F,left:(parseFloat(L.borderLeftWidth)||0)/F},X.lineWidth.top||(X.lineWidth.right?ge="borderRightColor":X.lineWidth.bottom?ge="borderBottomColor":X.lineWidth.left&&(ge="borderLeftColor"));var le=b(I,function(oe){return B.getComputedStyle(oe)[ge]});le!=null&&(X.lineColor=le);var $=["left","right","center","justify"];$.indexOf(L.textAlign)!==-1&&(X.halign=L.textAlign),$=["middle","bottom","top"],$.indexOf(L.verticalAlign)!==-1&&(X.valign=L.verticalAlign);var W=parseInt(L.fontSize||"");isNaN(W)||(X.fontSize=W/re);var Y=E(L);Y&&(X.fontStyle=Y);var ne=(L.fontFamily||"").toLowerCase();return q.indexOf(ne)!==-1&&(X.font=ne),X}m.parseCss=A;function E(q){var I="";return(q.fontWeight==="bold"||q.fontWeight==="bolder"||parseInt(q.fontWeight)>=700)&&(I="bold"),(q.fontStyle==="italic"||q.fontStyle==="oblique")&&(I+="italic"),I}function b(q,I){var T=R(q,I);if(!T)return null;var L=T.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!L||!Array.isArray(L))return null;var B=[parseInt(L[1]),parseInt(L[2]),parseInt(L[3])],X=parseInt(L[4]);return X===0||isNaN(B[0])||isNaN(B[1])||isNaN(B[2])?null:B}function R(q,I){var T=I(q);return T==="rgba(0, 0, 0, 0)"||T==="transparent"||T==="initial"||T==="inherit"?q.parentElement==null?null:R(q.parentElement,I):T}function M(q,I){var T=[q.paddingTop,q.paddingRight,q.paddingBottom,q.paddingLeft],L=96/(72/I),B=(parseInt(q.lineHeight)-parseInt(q.fontSize))/I/2,X=T.map(function(k){return parseInt(k||"0")/L}),re=(0,S.parseSpacing)(X,0);return B>re.top&&(re.top=B),B>re.bottom&&(re.bottom=B),re}},744:function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),m.DocHandler=void 0;var x={},S=function(){function A(E){this.jsPDFDocument=E,this.userStyles={textColor:E.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:E.internal.getFontSize(),fontStyle:E.internal.getFont().fontStyle,font:E.internal.getFont().fontName,lineWidth:E.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:E.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return A.setDefaults=function(E,b){b===void 0&&(b=null),b?b.__autoTableDocumentDefaults=E:x=E},A.unifyColor=function(E){return Array.isArray(E)?E:typeof E=="number"?[E,E,E]:typeof E=="string"?[E]:null},A.prototype.applyStyles=function(E,b){var R,M,q;b===void 0&&(b=!1),E.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E.fontStyle);var I=this.jsPDFDocument.internal.getFont(),T=I.fontStyle,L=I.fontName;if(E.font&&(L=E.font),E.fontStyle){T=E.fontStyle;var B=this.getFontList()[L];B&&B.indexOf(T)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(B[0]),T=B[0])}if(this.jsPDFDocument.setFont(L,T),E.fontSize&&this.jsPDFDocument.setFontSize(E.fontSize),!b){var X=A.unifyColor(E.fillColor);X&&(R=this.jsPDFDocument).setFillColor.apply(R,X),X=A.unifyColor(E.textColor),X&&(M=this.jsPDFDocument).setTextColor.apply(M,X),X=A.unifyColor(E.lineColor),X&&(q=this.jsPDFDocument).setDrawColor.apply(q,X),typeof E.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(E.lineWidth)}},A.prototype.splitTextToSize=function(E,b,R){return this.jsPDFDocument.splitTextToSize(E,b,R)},A.prototype.rect=function(E,b,R,M,q){return this.jsPDFDocument.rect(E,b,R,M,q)},A.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},A.prototype.getTextWidth=function(E){return this.jsPDFDocument.getTextWidth(E)},A.prototype.getDocument=function(){return this.jsPDFDocument},A.prototype.setPage=function(E){this.jsPDFDocument.setPage(E)},A.prototype.addPage=function(){return this.jsPDFDocument.addPage()},A.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},A.prototype.getGlobalOptions=function(){return x||{}},A.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},A.prototype.pageSize=function(){var E=this.jsPDFDocument.internal.pageSize;return E.width==null&&(E={width:E.getWidth(),height:E.getHeight()}),E},A.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},A.prototype.getLineHeightFactor=function(){var E=this.jsPDFDocument;return E.getLineHeightFactor?E.getLineHeightFactor():1.15},A.prototype.getLineHeight=function(E){return E/this.scaleFactor()*this.getLineHeightFactor()},A.prototype.pageNumber=function(){var E=this.jsPDFDocument.internal.getCurrentPageInfo();return E?E.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},A}();m.DocHandler=S},4:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.parseHtml=void 0;var S=x(903),A=x(796);function E(M,q,I,T,L){var B,X;T===void 0&&(T=!1),L===void 0&&(L=!1);var re;typeof q=="string"?re=I.document.querySelector(q):re=q;var k=Object.keys(M.getFontList()),U=M.scaleFactor(),J=[],ge=[],F=[];if(!re)return console.error("Html table could not be found with input: ",q),{head:J,body:ge,foot:F};for(var j=0;j<re.rows.length;j++){var se=re.rows[j],le=(X=(B=se==null?void 0:se.parentElement)===null||B===void 0?void 0:B.tagName)===null||X===void 0?void 0:X.toLowerCase(),$=b(k,U,I,se,T,L);$&&(le==="thead"?J.push($):le==="tfoot"?F.push($):ge.push($))}return{head:J,body:ge,foot:F}}m.parseHtml=E;function b(M,q,I,T,L,B){for(var X=new A.HtmlRowInput(T),re=0;re<T.cells.length;re++){var k=T.cells[re],U=I.getComputedStyle(k);if(L||U.display!=="none"){var J=void 0;B&&(J=(0,S.parseCss)(M,k,q,U,I)),X.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:J,_element:k,content:R(k)})}}var ge=I.getComputedStyle(T);if(X.length>0&&(L||ge.display!=="none"))return X}function R(M){var q=M.cloneNode(!0);return q.innerHTML=q.innerHTML.replace(/\n/g,"").replace(/ +/g," "),q.innerHTML=q.innerHTML.split(/<br.*?>/).map(function(I){return I.trim()}).join(`
`),q.innerText||q.textContent||""}},776:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.parseInput=void 0;var S=x(4),A=x(356),E=x(420),b=x(744),R=x(792);function M(re,k){var U=new b.DocHandler(re),J=U.getDocumentOptions(),ge=U.getGlobalOptions();(0,R.default)(U,ge,J,k);var F=(0,A.assign)({},ge,J,k),j;typeof window<"u"&&(j=window);var se=q(ge,J,k),le=I(ge,J,k),$=T(U,F),W=B(U,F,j);return{id:k.tableId,content:W,hooks:le,styles:se,settings:$}}m.parseInput=M;function q(re,k,U){for(var J={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ge=function(le){if(le==="columnStyles"){var $=re[le],W=k[le],Y=U[le];J.columnStyles=(0,A.assign)({},$,W,Y)}else{var ne=[re,k,U],oe=ne.map(function(me){return me[le]||{}});J[le]=(0,A.assign)({},oe[0],oe[1],oe[2])}},F=0,j=Object.keys(J);F<j.length;F++){var se=j[F];ge(se)}return J}function I(re,k,U){for(var J=[re,k,U],ge={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},F=0,j=J;F<j.length;F++){var se=j[F];se.didParseCell&&ge.didParseCell.push(se.didParseCell),se.willDrawCell&&ge.willDrawCell.push(se.willDrawCell),se.didDrawCell&&ge.didDrawCell.push(se.didDrawCell),se.willDrawPage&&ge.willDrawPage.push(se.willDrawPage),se.didDrawPage&&ge.didDrawPage.push(se.didDrawPage)}return ge}function T(re,k){var U,J,ge,F,j,se,le,$,W,Y,ne,oe,me=(0,E.parseSpacing)(k.margin,40/re.scaleFactor()),Oe=(U=L(re,k.startY))!==null&&U!==void 0?U:me.top,P;k.showFoot===!0?P="everyPage":k.showFoot===!1?P="never":P=(J=k.showFoot)!==null&&J!==void 0?J:"everyPage";var te;k.showHead===!0?te="everyPage":k.showHead===!1?te="never":te=(ge=k.showHead)!==null&&ge!==void 0?ge:"everyPage";var ae=(F=k.useCss)!==null&&F!==void 0?F:!1,pe=k.theme||(ae?"plain":"striped"),ue=!!k.horizontalPageBreak,_e=(j=k.horizontalPageBreakRepeat)!==null&&j!==void 0?j:null;return{includeHiddenHtml:(se=k.includeHiddenHtml)!==null&&se!==void 0?se:!1,useCss:ae,theme:pe,startY:Oe,margin:me,pageBreak:(le=k.pageBreak)!==null&&le!==void 0?le:"auto",rowPageBreak:($=k.rowPageBreak)!==null&&$!==void 0?$:"auto",tableWidth:(W=k.tableWidth)!==null&&W!==void 0?W:"auto",showHead:te,showFoot:P,tableLineWidth:(Y=k.tableLineWidth)!==null&&Y!==void 0?Y:0,tableLineColor:(ne=k.tableLineColor)!==null&&ne!==void 0?ne:200,horizontalPageBreak:ue,horizontalPageBreakRepeat:_e,horizontalPageBreakBehaviour:(oe=k.horizontalPageBreakBehaviour)!==null&&oe!==void 0?oe:"afterAllRows"}}function L(re,k){var U=re.getLastAutoTable(),J=re.scaleFactor(),ge=re.pageNumber(),F=!1;if(U&&U.startPageNumber){var j=U.startPageNumber+U.pageNumber-1;F=j===ge}return typeof k=="number"?k:(k==null||k===!1)&&F&&(U==null?void 0:U.finalY)!=null?U.finalY+20/J:null}function B(re,k,U){var J=k.head||[],ge=k.body||[],F=k.foot||[];if(k.html){var j=k.includeHiddenHtml;if(U){var se=(0,S.parseHtml)(re,k.html,U,j,k.useCss)||{};J=se.head||J,ge=se.body||J,F=se.foot||J}else console.error("Cannot parse html in non browser environment")}var le=k.columns||X(J,ge,F);return{columns:le,head:J,body:ge,foot:F}}function X(re,k,U){var J=re[0]||k[0]||U[0]||[],ge=[];return Object.keys(J).filter(function(F){return F!=="_element"}).forEach(function(F){var j=1,se;Array.isArray(J)?se=J[parseInt(F)]:se=J[F],typeof se=="object"&&!Array.isArray(se)&&(j=(se==null?void 0:se.colSpan)||1);for(var le=0;le<j;le++){var $=void 0;Array.isArray(J)?$=ge.length:$=F+(le>0?"_".concat(le):"");var W={dataKey:$};ge.push(W)}}),ge}},792:function(d,m){Object.defineProperty(m,"__esModule",{value:!0});function x(A,E,b,R){for(var M=function(L){L&&typeof L!="object"&&console.error("The options parameter should be of type object, is: "+typeof L),typeof L.extendWidth<"u"&&(L.tableWidth=L.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof L.margins<"u"&&(typeof L.margin>"u"&&(L.margin=L.margins),console.error("Use of deprecated option: margins, use margin instead.")),L.startY&&typeof L.startY!="number"&&(console.error("Invalid value for startY option",L.startY),delete L.startY),!L.didDrawPage&&(L.afterPageContent||L.beforePageContent||L.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),L.didDrawPage=function(F){A.applyStyles(A.userStyles),L.beforePageContent&&L.beforePageContent(F),A.applyStyles(A.userStyles),L.afterPageContent&&L.afterPageContent(F),A.applyStyles(A.userStyles),L.afterPageAdd&&F.pageNumber>1&&F.afterPageAdd(F),A.applyStyles(A.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(F){L[F]&&console.error('The "'.concat(F,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(F){var j=F[0],se=F[1];L[se]&&(console.error("Use of deprecated option ".concat(se,". Use ").concat(j," instead")),L[j]=L[se])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(F){var j=typeof F=="string"?F:F[0],se=typeof F=="string"?F:F[1];typeof L[j]<"u"&&(typeof L.styles[se]>"u"&&(L.styles[se]=L[j]),console.error("Use of deprecated option: "+j+", use the style "+se+" instead."))});for(var B=0,X=["styles","bodyStyles","headStyles","footStyles"];B<X.length;B++){var re=X[B];S(L[re]||{})}for(var k=L.columnStyles||{},U=0,J=Object.keys(k);U<J.length;U++){var ge=J[U];S(k[ge]||{})}},q=0,I=[E,b,R];q<I.length;q++){var T=I[q];M(T)}}m.default=x;function S(A){A.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),A.minCellHeight||(A.minCellHeight=A.rowHeight)):A.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),A.cellWidth||(A.cellWidth=A.columnWidth))}},260:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.Column=m.Cell=m.Row=m.Table=void 0;var S=x(796),A=x(172),E=x(420),b=function(){function I(T,L){this.pageNumber=1,this.pageCount=1,this.id=T.id,this.settings=T.settings,this.styles=T.styles,this.hooks=T.hooks,this.columns=L.columns,this.head=L.head,this.body=L.body,this.foot=L.foot}return I.prototype.getHeadHeight=function(T){return this.head.reduce(function(L,B){return L+B.getMaxCellHeight(T)},0)},I.prototype.getFootHeight=function(T){return this.foot.reduce(function(L,B){return L+B.getMaxCellHeight(T)},0)},I.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},I.prototype.callCellHooks=function(T,L,B,X,re,k){for(var U=0,J=L;U<J.length;U++){var ge=J[U],F=new A.CellHookData(T,this,B,X,re,k),j=ge(F)===!1;if(B.text=Array.isArray(B.text)?B.text:[B.text],j)return!1}return!0},I.prototype.callEndPageHooks=function(T,L){T.applyStyles(T.userStyles);for(var B=0,X=this.hooks.didDrawPage;B<X.length;B++){var re=X[B];re(new A.HookData(T,this,L))}},I.prototype.callWillDrawPageHooks=function(T,L){for(var B=0,X=this.hooks.willDrawPage;B<X.length;B++){var re=X[B];re(new A.HookData(T,this,L))}},I.prototype.getWidth=function(T){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var L=this.columns.reduce(function(X,re){return X+re.wrappedWidth},0);return L}else{var B=this.settings.margin;return T-B.left-B.right}},I}();m.Table=b;var R=function(){function I(T,L,B,X,re){re===void 0&&(re=!1),this.height=0,this.raw=T,T instanceof S.HtmlRowInput&&(this.raw=T._element,this.element=T._element),this.index=L,this.section=B,this.cells=X,this.spansMultiplePages=re}return I.prototype.getMaxCellHeight=function(T){var L=this;return T.reduce(function(B,X){var re;return Math.max(B,((re=L.cells[X.index])===null||re===void 0?void 0:re.height)||0)},0)},I.prototype.hasRowSpan=function(T){var L=this;return T.filter(function(B){var X=L.cells[B.index];return X?X.rowSpan>1:!1}).length>0},I.prototype.canEntireRowFit=function(T,L){return this.getMaxCellHeight(L)<=T},I.prototype.getMinimumRowHeight=function(T,L){var B=this;return T.reduce(function(X,re){var k=B.cells[re.index];if(!k)return 0;var U=L.getLineHeight(k.styles.fontSize),J=k.padding("vertical"),ge=J+U;return ge>X?ge:X},0)},I}();m.Row=R;var M=function(){function I(T,L,B){var X,re;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=L,this.section=B,this.raw=T;var k=T;T!=null&&typeof T=="object"&&!Array.isArray(T)?(this.rowSpan=T.rowSpan||1,this.colSpan=T.colSpan||1,k=(re=(X=T.content)!==null&&X!==void 0?X:T.title)!==null&&re!==void 0?re:T,T._element&&(this.raw=T._element)):(this.rowSpan=1,this.colSpan=1);var U=k!=null?""+k:"",J=/\r\n|\r|\n/g;this.text=U.split(J)}return I.prototype.getTextPos=function(){var T;if(this.styles.valign==="top")T=this.y+this.padding("top");else if(this.styles.valign==="bottom")T=this.y+this.height-this.padding("bottom");else{var L=this.height-this.padding("vertical");T=this.y+L/2+this.padding("top")}var B;if(this.styles.halign==="right")B=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var X=this.width-this.padding("horizontal");B=this.x+X/2+this.padding("left")}else B=this.x+this.padding("left");return{x:B,y:T}},I.prototype.getContentHeight=function(T,L){L===void 0&&(L=1.15);var B=Array.isArray(this.text)?this.text.length:1,X=this.styles.fontSize/T*L,re=B*X+this.padding("vertical");return Math.max(re,this.styles.minCellHeight)},I.prototype.padding=function(T){var L=(0,E.parseSpacing)(this.styles.cellPadding,0);return T==="vertical"?L.top+L.bottom:T==="horizontal"?L.left+L.right:L[T]},I}();m.Cell=M;var q=function(){function I(T,L,B){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=T,this.raw=L,this.index=B}return I.prototype.getMaxCustomCellWidth=function(T){for(var L=0,B=0,X=T.allRows();B<X.length;B++){var re=X[B],k=re.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(L=Math.max(L,k.styles.cellWidth))}return L},I}();m.Column=q},356:function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),m.assign=void 0;function x(S,A,E,b,R){if(S==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(S),q=1;q<arguments.length;q++){var I=arguments[q];if(I!=null)for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(M[T]=I[T])}return M}m.assign=x},972:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.createTable=void 0;var S=x(744),A=x(260),E=x(324),b=x(796),R=x(356);function M(re,k){var U=new S.DocHandler(re),J=q(k,U.scaleFactor()),ge=new A.Table(k,J);return(0,E.calculateWidths)(U,ge),U.applyStyles(U.userStyles),ge}m.createTable=M;function q(re,k){var U=re.content,J=B(U.columns);if(U.head.length===0){var ge=T(J,"head");ge&&U.head.push(ge)}if(U.foot.length===0){var ge=T(J,"foot");ge&&U.foot.push(ge)}var F=re.settings.theme,j=re.styles;return{columns:J,head:I("head",U.head,J,j,F,k),body:I("body",U.body,J,j,F,k),foot:I("foot",U.foot,J,j,F,k)}}function I(re,k,U,J,ge,F){var j={},se=k.map(function(le,$){for(var W=0,Y={},ne=0,oe=0,me=0,Oe=U;me<Oe.length;me++){var P=Oe[me];if(j[P.index]==null||j[P.index].left===0)if(oe===0){var te=void 0;Array.isArray(le)?te=le[P.index-ne-W]:te=le[P.dataKey];var ae={};typeof te=="object"&&!Array.isArray(te)&&(ae=(te==null?void 0:te.styles)||{});var pe=X(re,P,$,ge,J,F,ae),ue=new A.Cell(te,pe,re);Y[P.dataKey]=ue,Y[P.index]=ue,oe=ue.colSpan-1,j[P.index]={left:ue.rowSpan-1,times:oe}}else oe--,ne++;else j[P.index].left--,oe=j[P.index].times,W++}return new A.Row(le,$,re,Y)});return se}function T(re,k){var U={};return re.forEach(function(J){if(J.raw!=null){var ge=L(k,J.raw);ge!=null&&(U[J.dataKey]=ge)}}),Object.keys(U).length>0?U:null}function L(re,k){if(re==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(re==="foot"&&typeof k=="object")return k.footer;return null}function B(re){return re.map(function(k,U){var J,ge,F;return typeof k=="object"?F=(ge=(J=k.dataKey)!==null&&J!==void 0?J:k.key)!==null&&ge!==void 0?ge:U:F=U,new A.Column(F,k,U)})}function X(re,k,U,J,ge,F,j){var se=(0,b.getTheme)(J),le;re==="head"?le=ge.headStyles:re==="body"?le=ge.bodyStyles:re==="foot"&&(le=ge.footStyles);var $=(0,R.assign)({},se.table,se[re],ge.styles,le),W=ge.columnStyles[k.dataKey]||ge.columnStyles[k.index]||{},Y=re==="body"?W:{},ne=re==="body"&&U%2===0?(0,R.assign)({},se.alternateRow,ge.alternateRowStyles):{},oe=(0,b.defaultStyles)(F),me=(0,R.assign)({},oe,$,ne,Y);return(0,R.assign)(me,j)}},664:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.addPage=m.drawTable=void 0;var S=x(420),A=x(260),E=x(744),b=x(356),R=x(136),M=x(224);function q(W,Y){var ne=Y.settings,oe=ne.startY,me=ne.margin,Oe={x:me.left,y:oe},P=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns),te=oe+me.bottom+P;if(ne.pageBreak==="avoid"){var ae=Y.body,pe=ae.reduce(function(Ee,De){return Ee+De.height},0);te+=pe}var ue=new E.DocHandler(W);(ne.pageBreak==="always"||ne.startY!=null&&te>ue.pageSize().height)&&($(ue),Oe.y=me.top),Y.callWillDrawPageHooks(ue,Oe);var _e=(0,b.assign)({},Oe);Y.startPageNumber=ue.pageNumber(),ne.horizontalPageBreak?I(ue,Y,_e,Oe):(ue.applyStyles(ue.userStyles),(ne.showHead==="firstPage"||ne.showHead==="everyPage")&&Y.head.forEach(function(Ee){return ge(ue,Y,Ee,Oe,Y.columns)}),ue.applyStyles(ue.userStyles),Y.body.forEach(function(Ee,De){var $e=De===Y.body.length-1;J(ue,Y,Ee,$e,_e,Oe,Y.columns)}),ue.applyStyles(ue.userStyles),(ne.showFoot==="lastPage"||ne.showFoot==="everyPage")&&Y.foot.forEach(function(Ee){return ge(ue,Y,Ee,Oe,Y.columns)})),(0,S.addTableBorder)(ue,Y,_e,Oe),Y.callEndPageHooks(ue,Oe),Y.finalY=Oe.y,W.lastAutoTable=Y,W.previousAutoTable=Y,W.autoTable&&(W.autoTable.previous=Y),ue.applyStyles(ue.userStyles)}m.drawTable=q;function I(W,Y,ne,oe){var me=(0,M.calculateAllColumnsCanFitInPage)(W,Y),Oe=Y.settings;if(Oe.horizontalPageBreakBehaviour==="afterAllRows")me.forEach(function(pe,ue){W.applyStyles(W.userStyles),ue>0?le(W,Y,ne,oe,pe.columns,!0):T(W,Y,oe,pe.columns),L(W,Y,ne,oe,pe.columns),X(W,Y,oe,pe.columns)});else for(var P=-1,te=me[0],ae=function(){var pe=P;if(te){W.applyStyles(W.userStyles);var ue=te.columns;P>=0?le(W,Y,ne,oe,ue,!0):T(W,Y,oe,ue),pe=B(W,Y,P+1,oe,ue),X(W,Y,oe,ue)}var _e=pe-P;me.slice(1).forEach(function(Ee){W.applyStyles(W.userStyles),le(W,Y,ne,oe,Ee.columns,!0),B(W,Y,P+1,oe,Ee.columns,_e),X(W,Y,oe,Ee.columns)}),P=pe};P<Y.body.length-1;)ae()}function T(W,Y,ne,oe){var me=Y.settings;W.applyStyles(W.userStyles),(me.showHead==="firstPage"||me.showHead==="everyPage")&&Y.head.forEach(function(Oe){return ge(W,Y,Oe,ne,oe)})}function L(W,Y,ne,oe,me){W.applyStyles(W.userStyles),Y.body.forEach(function(Oe,P){var te=P===Y.body.length-1;J(W,Y,Oe,te,ne,oe,me)})}function B(W,Y,ne,oe,me,Oe){W.applyStyles(W.userStyles),Oe=Oe??Y.body.length;var P=Math.min(ne+Oe,Y.body.length),te=-1;return Y.body.slice(ne,P).forEach(function(ae,pe){var ue=ne+pe===Y.body.length-1,_e=se(W,Y,ue,oe);ae.canEntireRowFit(_e,me)&&(ge(W,Y,ae,oe,me),te=ne+pe)}),te}function X(W,Y,ne,oe){var me=Y.settings;W.applyStyles(W.userStyles),(me.showFoot==="lastPage"||me.showFoot==="everyPage")&&Y.foot.forEach(function(Oe){return ge(W,Y,Oe,ne,oe)})}function re(W,Y,ne){var oe=ne.getLineHeight(W.styles.fontSize),me=W.padding("vertical"),Oe=Math.floor((Y-me)/oe);return Math.max(0,Oe)}function k(W,Y,ne,oe){var me={};W.spansMultiplePages=!0,W.height=0;for(var Oe=0,P=0,te=ne.columns;P<te.length;P++){var ae=te[P],pe=W.cells[ae.index];if(pe){Array.isArray(pe.text)||(pe.text=[pe.text]);var ue=new A.Cell(pe.raw,pe.styles,pe.section);ue=(0,b.assign)(ue,pe),ue.text=[];var _e=re(pe,Y,oe);pe.text.length>_e&&(ue.text=pe.text.splice(_e,pe.text.length));var Ee=oe.scaleFactor(),De=oe.getLineHeightFactor();pe.contentHeight=pe.getContentHeight(Ee,De),pe.contentHeight>=Y&&(pe.contentHeight=Y,ue.styles.minCellHeight-=Y),pe.contentHeight>W.height&&(W.height=pe.contentHeight),ue.contentHeight=ue.getContentHeight(Ee,De),ue.contentHeight>Oe&&(Oe=ue.contentHeight),me[ae.index]=ue}}var $e=new A.Row(W.raw,-1,W.section,me,!0);$e.height=Oe;for(var Ye=0,it=ne.columns;Ye<it.length;Ye++){var ae=it[Ye],ue=$e.cells[ae.index];ue&&(ue.height=$e.height);var pe=W.cells[ae.index];pe&&(pe.height=W.height)}return $e}function U(W,Y,ne,oe){var me=W.pageSize().height,Oe=oe.settings.margin,P=Oe.top+Oe.bottom,te=me-P;Y.section==="body"&&(te-=oe.getHeadHeight(oe.columns)+oe.getFootHeight(oe.columns));var ae=Y.getMinimumRowHeight(oe.columns,W),pe=ae<ne;if(ae>te)return console.error("Will not be able to print row ".concat(Y.index," correctly since it's minimum height is larger than page height")),!0;if(!pe)return!1;var ue=Y.hasRowSpan(oe.columns),_e=Y.getMaxCellHeight(oe.columns)>te;return _e?(ue&&console.error("The content of row ".concat(Y.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ue||oe.settings.rowPageBreak==="avoid")}function J(W,Y,ne,oe,me,Oe,P){var te=se(W,Y,oe,Oe);if(ne.canEntireRowFit(te,P))ge(W,Y,ne,Oe,P);else if(U(W,ne,te,Y)){var ae=k(ne,te,Y,W);ge(W,Y,ne,Oe,P),le(W,Y,me,Oe,P),J(W,Y,ae,oe,me,Oe,P)}else le(W,Y,me,Oe,P),J(W,Y,ne,oe,me,Oe,P)}function ge(W,Y,ne,oe,me){oe.x=Y.settings.margin.left;for(var Oe=0,P=me;Oe<P.length;Oe++){var te=P[Oe],ae=ne.cells[te.index];if(!ae){oe.x+=te.width;continue}W.applyStyles(ae.styles),ae.x=oe.x,ae.y=oe.y;var pe=Y.callCellHooks(W,Y.hooks.willDrawCell,ae,ne,te,oe);if(pe===!1){oe.x+=te.width;continue}F(W,ae,oe);var ue=ae.getTextPos();(0,R.default)(ae.text,ue.x,ue.y,{halign:ae.styles.halign,valign:ae.styles.valign,maxWidth:Math.ceil(ae.width-ae.padding("left")-ae.padding("right"))},W.getDocument()),Y.callCellHooks(W,Y.hooks.didDrawCell,ae,ne,te,oe),oe.x+=te.width}oe.y+=ne.height}function F(W,Y,ne){var oe=Y.styles;if(W.getDocument().setFillColor(W.getDocument().getFillColor()),typeof oe.lineWidth=="number"){var me=(0,S.getFillStyle)(oe.lineWidth,oe.fillColor);me&&W.rect(Y.x,ne.y,Y.width,Y.height,me)}else typeof oe.lineWidth=="object"&&(oe.fillColor&&W.rect(Y.x,ne.y,Y.width,Y.height,"F"),j(W,Y,ne,oe.lineWidth))}function j(W,Y,ne,oe){var me,Oe,P,te;oe.top&&(me=ne.x,Oe=ne.y,P=ne.x+Y.width,te=ne.y,oe.right&&(P+=.5*oe.right),oe.left&&(me-=.5*oe.left),ae(oe.top,me,Oe,P,te)),oe.bottom&&(me=ne.x,Oe=ne.y+Y.height,P=ne.x+Y.width,te=ne.y+Y.height,oe.right&&(P+=.5*oe.right),oe.left&&(me-=.5*oe.left),ae(oe.bottom,me,Oe,P,te)),oe.left&&(me=ne.x,Oe=ne.y,P=ne.x,te=ne.y+Y.height,oe.top&&(Oe-=.5*oe.top),oe.bottom&&(te+=.5*oe.bottom),ae(oe.left,me,Oe,P,te)),oe.right&&(me=ne.x+Y.width,Oe=ne.y,P=ne.x+Y.width,te=ne.y+Y.height,oe.top&&(Oe-=.5*oe.top),oe.bottom&&(te+=.5*oe.bottom),ae(oe.right,me,Oe,P,te));function ae(pe,ue,_e,Ee,De){W.getDocument().setLineWidth(pe),W.getDocument().line(ue,_e,Ee,De,"S")}}function se(W,Y,ne,oe){var me=Y.settings.margin.bottom,Oe=Y.settings.showFoot;return(Oe==="everyPage"||Oe==="lastPage"&&ne)&&(me+=Y.getFootHeight(Y.columns)),W.pageSize().height-oe.y-me}function le(W,Y,ne,oe,me,Oe){me===void 0&&(me=[]),Oe===void 0&&(Oe=!1),W.applyStyles(W.userStyles),Y.settings.showFoot==="everyPage"&&!Oe&&Y.foot.forEach(function(te){return ge(W,Y,te,oe,me)}),Y.callEndPageHooks(W,oe);var P=Y.settings.margin;(0,S.addTableBorder)(W,Y,ne,oe),$(W),Y.pageNumber++,Y.pageCount++,oe.x=P.left,oe.y=P.top,ne.y=P.top,Y.callWillDrawPageHooks(W,oe),Y.settings.showHead==="everyPage"&&(Y.head.forEach(function(te){return ge(W,Y,te,oe,me)}),W.applyStyles(W.userStyles))}m.addPage=le;function $(W){var Y=W.pageNumber();W.setPage(Y+1);var ne=W.pageNumber();return ne===Y?(W.addPage(),!0):!1}},224:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.calculateAllColumnsCanFitInPage=void 0;var S=x(420);function A(b,R,M){var q;M===void 0&&(M={});var I=(0,S.getPageAvailableWidth)(b,R),T=new Map,L=[],B=[],X=[];R.settings.horizontalPageBreakRepeat,Array.isArray(R.settings.horizontalPageBreakRepeat)?X=R.settings.horizontalPageBreakRepeat:(typeof R.settings.horizontalPageBreakRepeat=="string"||typeof R.settings.horizontalPageBreakRepeat=="number")&&(X=[R.settings.horizontalPageBreakRepeat]),X.forEach(function(J){var ge=R.columns.find(function(F){return F.dataKey===J||F.index===J});ge&&!T.has(ge.index)&&(T.set(ge.index,!0),L.push(ge.index),B.push(R.columns[ge.index]),I-=ge.wrappedWidth)});for(var re=!0,k=(q=M==null?void 0:M.start)!==null&&q!==void 0?q:0;k<R.columns.length;){if(T.has(k)){k++;continue}var U=R.columns[k].wrappedWidth;if(re||I>=U)re=!1,L.push(k),B.push(R.columns[k]),I-=U;else break;k++}return{colIndexes:L,columns:B,lastIndex:k-1}}function E(b,R){for(var M=[],q=0;q<R.columns.length;q++){var I=A(b,R,{start:q});I.columns.length&&(M.push(I),q=I.lastIndex)}return M}m.calculateAllColumnsCanFitInPage=E},324:function(d,m,x){Object.defineProperty(m,"__esModule",{value:!0}),m.ellipsize=m.resizeColumns=m.calculateWidths=void 0;var S=x(420);function A(L,B){E(L,B);var X=[],re=0;B.columns.forEach(function(U){var J=U.getMaxCustomCellWidth(B);J?U.width=J:(U.width=U.wrappedWidth,X.push(U)),re+=U.width});var k=B.getWidth(L.pageSize().width)-re;k&&(k=b(X,k,function(U){return Math.max(U.minReadableWidth,U.minWidth)})),k&&(k=b(X,k,function(U){return U.minWidth})),k=Math.abs(k),!B.settings.horizontalPageBreak&&k>.1/L.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),M(B),q(B,L),R(B)}m.calculateWidths=A;function E(L,B){var X=L.scaleFactor(),re=B.settings.horizontalPageBreak,k=(0,S.getPageAvailableWidth)(L,B);B.allRows().forEach(function(U){for(var J=0,ge=B.columns;J<ge.length;J++){var F=ge[J],j=U.cells[F.index];if(j){var se=B.hooks.didParseCell;B.callCellHooks(L,se,j,U,F,null);var le=j.padding("horizontal");j.contentWidth=(0,S.getStringWidth)(j.text,j.styles,L)+le;var $=(0,S.getStringWidth)(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,L);if(j.minReadableWidth=$+j.padding("horizontal"),typeof j.styles.cellWidth=="number")j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if(j.styles.cellWidth==="wrap"||re===!0)j.contentWidth>k?(j.minWidth=k,j.wrappedWidth=k):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var W=10/X;j.minWidth=j.styles.minCellWidth||W,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),B.allRows().forEach(function(U){for(var J=0,ge=B.columns;J<ge.length;J++){var F=ge[J],j=U.cells[F.index];if(j&&j.colSpan===1)F.wrappedWidth=Math.max(F.wrappedWidth,j.wrappedWidth),F.minWidth=Math.max(F.minWidth,j.minWidth),F.minReadableWidth=Math.max(F.minReadableWidth,j.minReadableWidth);else{var se=B.styles.columnStyles[F.dataKey]||B.styles.columnStyles[F.index]||{},le=se.cellWidth||se.minCellWidth;le&&typeof le=="number"&&(F.minWidth=le,F.wrappedWidth=le)}j&&(j.colSpan>1&&!F.minWidth&&(F.minWidth=j.minWidth),j.colSpan>1&&!F.wrappedWidth&&(F.wrappedWidth=j.minWidth))}})}function b(L,B,X){for(var re=B,k=L.reduce(function(W,Y){return W+Y.wrappedWidth},0),U=0;U<L.length;U++){var J=L[U],ge=J.wrappedWidth/k,F=re*ge,j=J.width+F,se=X(J),le=j<se?se:j;B-=le-J.width,J.width=le}if(B=Math.round(B*1e10)/1e10,B){var $=L.filter(function(W){return B<0?W.width>X(W):!0});$.length&&(B=b($,B,X))}return B}m.resizeColumns=b;function R(L){for(var B={},X=1,re=L.allRows(),k=0;k<re.length;k++)for(var U=re[k],J=0,ge=L.columns;J<ge.length;J++){var F=ge[J],j=B[F.index];if(X>1)X--,delete U.cells[F.index];else if(j)j.cell.height+=U.height,X=j.cell.colSpan,delete U.cells[F.index],j.left--,j.left<=1&&delete B[F.index];else{var se=U.cells[F.index];if(!se)continue;if(se.height=U.height,se.rowSpan>1){var le=re.length-k,$=se.rowSpan>le?le:se.rowSpan;B[F.index]={cell:se,left:$,row:U}}}}}function M(L){for(var B=L.allRows(),X=0;X<B.length;X++)for(var re=B[X],k=null,U=0,J=0,ge=0;ge<L.columns.length;ge++){var F=L.columns[ge];if(J-=1,J>1&&L.columns[ge+1])U+=F.width,delete re.cells[F.index];else if(k){var j=k;delete re.cells[F.index],k=null,j.width=F.width+U}else{var j=re.cells[F.index];if(!j)continue;if(J=j.colSpan,U=0,j.colSpan>1){k=j,U+=F.width;continue}j.width=F.width+U}}}function q(L,B){for(var X={count:0,height:0},re=0,k=L.allRows();re<k.length;re++){for(var U=k[re],J=0,ge=L.columns;J<ge.length;J++){var F=ge[J],j=U.cells[F.index];if(j){B.applyStyles(j.styles,!0);var se=j.width-j.padding("horizontal");if(j.styles.overflow==="linebreak")j.text=B.splitTextToSize(j.text,se+1/B.scaleFactor(),{fontSize:j.styles.fontSize});else if(j.styles.overflow==="ellipsize")j.text=I(j.text,se,j.styles,B,"...");else if(j.styles.overflow==="hidden")j.text=I(j.text,se,j.styles,B,"");else if(typeof j.styles.overflow=="function"){var le=j.styles.overflow(j.text,se);typeof le=="string"?j.text=[le]:j.text=le}j.contentHeight=j.getContentHeight(B.scaleFactor(),B.getLineHeightFactor());var $=j.contentHeight/j.rowSpan;j.rowSpan>1&&X.count*X.height<$*j.rowSpan?X={height:$,count:j.rowSpan}:X&&X.count>0&&X.height>$&&($=X.height),$>U.height&&(U.height=$)}}X.count--}}function I(L,B,X,re,k){return L.map(function(U){return T(U,B,X,re,k)})}m.ellipsize=I;function T(L,B,X,re,k){var U=1e4*re.scaleFactor();if(B=Math.ceil(B*U)/U,B>=(0,S.getStringWidth)(L,X,re))return L;for(;B<(0,S.getStringWidth)(L+k,X,re)&&!(L.length<=1);)L=L.substring(0,L.length-1);return L.trim()+k}},964:function(d){if(typeof n>"u"){var m=new Error("Cannot find module 'undefined'");throw m.code="MODULE_NOT_FOUND",m}d.exports=n}},s={};function o(d){var m=s[d];if(m!==void 0)return m.exports;var x=s[d]={exports:{}};return r[d].call(x.exports,x,x.exports,o),x.exports}var f={};return function(){var d=f;Object.defineProperty(d,"__esModule",{value:!0}),d.Cell=d.Column=d.Row=d.Table=d.CellHookData=d.__drawTable=d.__createTable=d.applyPlugin=void 0;var m=o(340),x=o(776),S=o(664),A=o(972),E=o(260);Object.defineProperty(d,"Table",{enumerable:!0,get:function(){return E.Table}});var b=o(172);Object.defineProperty(d,"CellHookData",{enumerable:!0,get:function(){return b.CellHookData}});var R=o(260);Object.defineProperty(d,"Cell",{enumerable:!0,get:function(){return R.Cell}}),Object.defineProperty(d,"Column",{enumerable:!0,get:function(){return R.Column}}),Object.defineProperty(d,"Row",{enumerable:!0,get:function(){return R.Row}});function M(B){(0,m.default)(B)}d.applyPlugin=M;function q(B,X){var re=(0,x.parseInput)(B,X),k=(0,A.createTable)(B,re);(0,S.drawTable)(B,k)}function I(B,X){var re=(0,x.parseInput)(B,X);return(0,A.createTable)(B,re)}d.__createTable=I;function T(B,X){(0,S.drawTable)(B,X)}d.__drawTable=T;try{var L=o(964);L.jsPDF&&(L=L.jsPDF),M(L)}catch{}d.default=q}(),f}()})})(o6);const c6=e=>{const t=String(e??"");return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},H1=(e,t,n)=>{const s=[e.join(","),...t.map(d=>d.map(c6).join(","))].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const d=URL.createObjectURL(o);f.setAttribute("href",d),f.setAttribute("download",`${n}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}},j2=({status:e})=>{const t={[mt.PENDING_ASSIGNMENT]:"bg-yellow-100 text-yellow-800",[mt.ASSIGNED_TO_COURIER]:"bg-blue-100 text-blue-800",[mt.PICKED_UP]:"bg-indigo-100 text-indigo-800",[mt.IN_TRANSIT]:"bg-purple-100 text-purple-800",[mt.OUT_FOR_DELIVERY]:"bg-cyan-100 text-cyan-800",[mt.DELIVERED]:"bg-green-100 text-green-800",[mt.DELIVERY_FAILED]:"bg-red-100 text-red-800",[mt.RETURN_REQUESTED]:"bg-orange-100 text-orange-800",[mt.RETURN_IN_PROGRESS]:"bg-fuchsia-100 text-fuchsia-800",[mt.RETURNED]:"bg-slate-100 text-slate-800"};return C.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t[e]}`,children:e})},u6=({shipments:e,onSelect:t})=>C.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"ID"}),C.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Recipient"}),C.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Date"}),C.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Status"}),C.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Price"}),C.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600"})]})}),C.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(n=>C.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[C.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:n.id}),C.jsx("td",{className:"px-6 py-4 text-slate-800 font-medium",children:n.recipientName}),C.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(n.creationDate).toLocaleDateString()}),C.jsx("td",{className:"px-6 py-4",children:C.jsx(j2,{status:n.status})}),C.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800",children:[n.price," EGP"]}),C.jsx("td",{className:"px-6 py-4",children:C.jsx("button",{onClick:()=>t(n),className:"text-primary-600 hover:text-primary-800 font-semibold",children:"Details"})})]},n.id)),e.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No shipments found for the selected period."})})]})]})})}),f6=({onSelectShipment:e})=>{const{currentUser:t,shipments:n,users:r}=tr(),[s,o]=ot.useState("all"),[f,d]=ot.useState(""),[m,x]=ot.useState("all"),[S,A]=ot.useState("all"),E=r.filter(M=>M.role===Ut.CLIENT);if(!t)return null;const b=ot.useMemo(()=>{let M=n;t.role===Ut.CLIENT&&(M=n.filter(I=>I.clientId===t.id));let q=M;if(s!=="all"){const I=new Date,T=new Date(I.getFullYear(),I.getMonth(),I.getDate());q=q.filter(L=>{const B=new Date(L.creationDate);if(s==="day")return B>=T;if(s==="week"){const X=new Date(T);return X.setDate(T.getDate()-7),B>=X}if(s==="month"){const X=new Date(T);return X.setMonth(T.getMonth()-1),B>=X}return!1})}return t.role===Ut.ADMIN&&(m!=="all"&&(q=q.filter(I=>I.clientId===m)),f.trim()!==""&&(q=q.filter(I=>I.id.toLowerCase().includes(f.trim().toLowerCase()))),S!=="all"&&(q=q.filter(I=>I.status===S))),q},[t,n,s,f,m,S]),R=()=>{if(!t)return;const M=b;if(t.role===Ut.ADMIN){const q=["ID","Client","Recipient","Recipient Phone","Date","Status","Courier","Price (EGP)"],I=M.map(T=>{var B;const L=((B=r.find(X=>X.id===T.courierId))==null?void 0:B.name)||"N/A";return[T.id,T.clientName,T.recipientName,T.recipientPhone,new Date(T.creationDate).toLocaleDateString(),T.status,L,T.price.toFixed(2)]});H1(q,I,"All_Shipments_Report")}else if(t.role===Ut.CLIENT){const q=["ID","Recipient","Date","Status","Price (EGP)"],I=M.map(T=>[T.id,T.recipientName,new Date(T.creationDate).toLocaleDateString(),T.status,T.price.toFixed(2)]);H1(q,I,`Client_Shipments_${t.name.replace(/\s/g,"_")}`)}};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"flex justify-between items-center mb-4",children:C.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t.role===Ut.CLIENT?"My Shipments":"All Shipments"})}),(t.role===Ut.CLIENT||t.role===Ut.ADMIN)&&C.jsxs("div",{className:"mb-6 bg-white p-4 rounded-xl shadow-sm flex flex-col md:flex-row gap-4 items-center",children:[t.role===Ut.ADMIN&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"flex-grow w-full md:w-auto",children:C.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:f,onChange:M=>d(M.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})}),C.jsx("div",{className:"flex-grow w-full md:w-auto",children:C.jsxs("select",{value:m,onChange:M=>x(M.target.value==="all"?"all":Number(M.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[C.jsx("option",{value:"all",children:"All Clients"}),E.map(M=>C.jsx("option",{value:M.id,children:M.name},M.id))]})}),C.jsx("div",{className:"flex-grow w-full md:w-auto",children:C.jsxs("select",{value:S,onChange:M=>A(M.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[C.jsx("option",{value:"all",children:"All Statuses"}),Object.values(mt).map(M=>C.jsx("option",{value:M,children:M},M))]})})]}),C.jsx("div",{className:"flex items-center border border-slate-300 rounded-lg p-1 bg-slate-50",children:["all","day","week","month"].map(M=>C.jsx("button",{onClick:()=>o(M),className:`capitalize px-3 py-1 rounded-md text-sm font-semibold transition ${s===M?"bg-white text-primary-600 shadow-sm":"text-slate-600 hover:bg-slate-200"}`,children:M==="all"?"All Time":`This ${M}`},M))}),C.jsx("div",{className:"md:ml-auto",children:C.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[C.jsx(D2,{className:"w-5 h-5"}),"Export as CSV"]})})]}),C.jsx(u6,{shipments:b,onSelect:e})]})},W3=({label:e,value:t,onChange:n})=>{const r=ot.useRef(null),[s,o]=ot.useState(t.street);ot.useEffect(()=>{t.street!==s&&o(t.street)},[t.street,s]),ot.useEffect(()=>{if(!window.google||!r.current)return;const d=new window.google.maps.places.Autocomplete(r.current,{componentRestrictions:{country:"eg"},fields:["address_components"]});return d.addListener("place_changed",()=>{var M,q;const m=d.getPlace();if(!m.address_components)return;const x=((M=m.address_components.find(I=>I.types.includes("street_number")))==null?void 0:M.long_name)||"",S=((q=m.address_components.find(I=>I.types.includes("route")))==null?void 0:q.long_name)||"",A=`${x} ${S}`.trim();o(A);const E=m.address_components.find(I=>I.types.includes("administrative_area_level_1"));let b=t.city;E!=null&&E.long_name.includes("Cairo")&&(b="Cairo"),E!=null&&E.long_name.includes("Giza")&&(b="Giza");const R=Object.values(hi).find(I=>I.toLowerCase().startsWith(b.toLowerCase()));n({...t,street:A,city:b,zone:R||t.zone})}),()=>{if(window.google&&d){window.google.maps.event.clearInstanceListeners(d);const m=document.getElementsByClassName("pac-container");for(;m.length>0;)m[0].remove()}}},[n,t]);const f=d=>{o(d.target.value),n({...t,street:d.target.value})};return C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:e}),C.jsx("input",{ref:r,type:"text",value:s,onChange:f,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"Start typing a street address...",required:!0})]})},h6=()=>{const{currentUser:e,addShipment:t,addToast:n}=tr(),[r,s]=ot.useState(""),[o,f]=ot.useState(""),[d,m]=ot.useState({street:"",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:""}),[x,S]=ot.useState(""),[A,E]=ot.useState(!1),[b,R]=ot.useState(sa.COD),M=A?300:75,q=T=>{if(T.preventDefault(),!(e!=null&&e.address)){n("Please complete your profile address before creating a shipment.","error");return}if(b===sa.WALLET&&((e==null?void 0:e.walletBalance)??0)<M){n(`Insufficient funds. Your balance is ${((e==null?void 0:e.walletBalance)??0).toFixed(2)} EGP.`,"error");return}t({recipientName:r,recipientPhone:o,fromAddress:e.address,toAddress:d,packageDescription:x,isLargeOrder:A,price:M,paymentMethod:b,status:mt.PENDING_ASSIGNMENT}),s(""),f(""),m({street:"",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:""}),S(""),E(!1),R(sa.COD)},I=Object.values(hi).filter(T=>T.toLowerCase().startsWith(d.city.toLowerCase()));return C.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm max-w-4xl mx-auto",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Create a New Shipment"}),C.jsxs("form",{onSubmit:q,className:"space-y-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Name"}),C.jsx("input",{type:"text",value:r,onChange:T=>s(T.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Phone"}),C.jsx("input",{type:"tel",value:o,onChange:T=>f(T.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),C.jsx(W3,{label:"Recipient Street Address",value:d,onChange:m}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),C.jsxs("select",{value:d.city,onChange:T=>m(L=>({...L,city:T.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-slate-100",disabled:!0,children:[C.jsx("option",{value:"Cairo",children:"Cairo"}),C.jsx("option",{value:"Giza",children:"Giza"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),C.jsx("select",{value:d.zone,onChange:T=>m(L=>({...L,zone:T.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:I.map(T=>C.jsx("option",{value:T,children:T},T))})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Description"}),C.jsx("textarea",{value:x,onChange:T=>S(T.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",rows:3})]}),C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{id:"largeOrder",type:"checkbox",checked:A,onChange:T=>E(T.target.checked),className:"h-4 w-4 text-primary-600 border-slate-300 rounded focus:ring-primary-500"}),C.jsx("label",{htmlFor:"largeOrder",className:"ml-2 block text-sm text-slate-900",children:"This is a large order"})]}),C.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:["Price: ",C.jsxs("span",{className:"text-primary-600",children:[M," EGP"]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method"}),C.jsx("div",{className:"flex gap-4",children:Object.values(sa).map(T=>C.jsx("button",{type:"button",onClick:()=>R(T),className:`px-4 py-2 rounded-lg border-2 transition font-semibold ${b===T?"bg-primary-600 text-white border-primary-600":"bg-white text-slate-700 border-slate-300 hover:border-primary-500"}`,children:T},T))})]}),C.jsx("div",{className:"text-right pt-2",children:C.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition",children:[C.jsx(M2,{className:"w-5 h-5 mr-2"}),"Create Shipment"]})})]})]})},d6=()=>{const{shipments:e,users:t,assignCourier:n}=tr(),r=e.filter(f=>f.status===mt.PENDING_ASSIGNMENT),s=t.filter(f=>f.role===Ut.COURIER),o=(f,d)=>{d&&n(f,parseInt(d))};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[C.jsxs("div",{className:"p-5 border-b border-slate-200",children:[C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Assign Shipments"}),C.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign pending shipments to available couriers based on their zone."})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Destination Zone"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),C.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map(f=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:f.id}),C.jsx("td",{className:"px-6 py-4",children:C.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:f.toAddress.zone})}),C.jsx("td",{className:"px-6 py-4",children:C.jsxs("select",{onChange:d=>o(f.id,d.target.value),defaultValue:"",className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[C.jsx("option",{value:"",disabled:!0,children:"Select a courier..."}),s.filter(d=>d.zone===f.toAddress.zone).map(d=>C.jsxs("option",{value:d.id,children:[d.name," (",d.zone,")"]},d.id))]})})]},f.id)),r.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:3,className:"text-center py-8 text-slate-500",children:"No shipments pending assignment."})})]})]})})]})};var ht;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ht||(ht={}));var l5=new Map([[ht.QR_CODE,"QR_CODE"],[ht.AZTEC,"AZTEC"],[ht.CODABAR,"CODABAR"],[ht.CODE_39,"CODE_39"],[ht.CODE_93,"CODE_93"],[ht.CODE_128,"CODE_128"],[ht.DATA_MATRIX,"DATA_MATRIX"],[ht.MAXICODE,"MAXICODE"],[ht.ITF,"ITF"],[ht.EAN_13,"EAN_13"],[ht.EAN_8,"EAN_8"],[ht.PDF_417,"PDF_417"],[ht.RSS_14,"RSS_14"],[ht.RSS_EXPANDED,"RSS_EXPANDED"],[ht.UPC_A,"UPC_A"],[ht.UPC_E,"UPC_E"],[ht.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),c5;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(c5||(c5={}));function g6(e){return Object.values(ht).includes(e)}var Uo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Uo||(Uo={}));var qa=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Uo.SCAN_TYPE_CAMERA,Uo.SCAN_TYPE_FILE],e}(),Z3=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!l5.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,l5.get(t))},e}(),u5=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),_d;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_d||(_d={}));var Q3=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:_d.UNKWOWN_ERROR}},e}(),K3=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function is(e){return typeof e>"u"||e===null}function p6(e,t,n){return e>n?n:e<t?t:e}var fc=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Tn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),f5=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),J3=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),f=Object.keys(t),d=0,m=f;d<m.length;d++){var x=m[d];if(o.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Id={exports:{}};(function(e,t){(function(n,r){r(t)})(go,function(n){function r(H){return H==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,i){H.__proto__=i}||function(H,i){for(var a in i)i.hasOwnProperty(a)&&(H[a]=i[a])};function o(H,i){s(H,i);function a(){this.constructor=H}H.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function f(H,i){var a=Object.setPrototypeOf;a?a(H,i):H.__proto__=i}function d(H,i){i===void 0&&(i=H.constructor);var a=Error.captureStackTrace;a&&a(H,i)}var m=function(H){o(i,H);function i(a){var l=this.constructor,c=H.call(this,a)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),f(c,l.prototype),d(c),c}return i}(Error);class x extends m{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class S extends x{}S.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,c){const u=this.binarizer.getLuminanceSource().crop(i,a,l,c);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends x{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class R{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(i,a,l,c,u){for(;u--;)l[c++]=i[a++]}static currentTimeMillis(){return Date.now()}}class q extends x{}q.kind="IndexOutOfBoundsException";class I extends q{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}I.kind="ArrayIndexOutOfBoundsException";class T{static fill(i,a){for(let l=0,c=i.length;l<c;l++)i[l]=a}static fillWithin(i,a,l,c){T.rangeCheck(i.length,a,l);for(let u=a;u<l;u++)i[u]=c}static rangeCheck(i,a,l){if(a>l)throw new A("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new I(a);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(u=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(u=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,c=i.length;l<c;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const c=l-a,u=new Int32Array(c);return M.arraycopy(i,a,u,0,c),u}static binarySearch(i,a,l){l===void 0&&(l=T.numberComparator);let c=0,u=i.length-1;for(;c<=u;){const h=u+c>>1,p=l(a,i[h]);if(p>0)c=h+1;else if(p<0)u=h-1;else return h}return-c-1}static numberComparator(i,a){return i-a}}class L{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=B.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=B.makeArray(i);M.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=l[c]}const p=c*32+L.numberOfTrailingZeros(u);return p>a?a:p}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=~l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=~l[c]}const p=c*32+L.numberOfTrailingZeros(u);return p>a?a:p}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new A;if(a===i)return;a--;const l=Math.floor(i/32),c=Math.floor(a/32),u=this.bits;for(let h=l;h<=c;h++){const p=h>l?0:i&31,N=(2<<(h<c?31:a&31))-(1<<p);u[h]|=N}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new A;if(a===i)return!0;a--;const c=Math.floor(i/32),u=Math.floor(a/32),h=this.bits;for(let p=c;p<=u;p++){const v=p>c?0:i&31,O=(2<<(p<u?31:a&31))-(1<<v)&4294967295;if((h[p]&O)!==(l?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const a=this.bits;for(let l=0,c=a.length;l<c;l++)a[l]^=i.bits[l]}toBytes(i,a,l,c){for(let u=0;u<c;u++){let h=0;for(let p=0;p<8;p++)this.get(i)&&(h|=1<<7-p),i++;a[l+u]=h}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,c=this.bits;for(let u=0;u<l;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,i[a-u]=h}if(this.size!==l*32){const u=l*32-this.size;let h=i[0]>>>u;for(let p=1;p<l;p++){const v=i[p];h|=v<<32-u,i[p-1]=h,h=v>>>u}i[l-1]=h}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof B))return!1;const a=i;return this.size===a.size&&T.equals(this.bits,a.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new B(this.size,this.bits.slice())}}var X;(function(H){H[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var re=X;class k extends x{static getFormatInstance(){return new k}}k.kind="FormatException";var U;(function(H){H[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR"})(U||(U={}));class J{constructor(i,a,l,...c){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,J.VALUE_IDENTIFIER_TO_ECI.set(i,this),J.NAME_TO_ECI.set(l,this);const u=this.values;for(let h=0,p=u.length;h!==p;h++){const v=u[h];J.VALUES_TO_ECI.set(v,this)}for(const h of c)J.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new k("incorect value");const a=J.VALUES_TO_ECI.get(i);if(a===void 0)throw new k("incorect value");return a}static getCharacterSetECIByName(i){const a=J.NAME_TO_ECI.get(i);if(a===void 0)throw new k("incorect value");return a}equals(i){if(!(i instanceof J))return!1;const a=i;return this.getName()===a.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(U.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(U.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(U.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(U.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(U.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(U.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(U.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(U.Big5,28,"Big5"),J.GB18030=new J(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(U.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends x{}ge.kind="UnsupportedOperationException";class F{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!F.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof J?i:J.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(F.isDecodeFallbackSupported(l)){let c="";for(let u=0,h=i.length;u<h;u++){let p=i[u].toString(16);p.length<2&&(p="0"+p),c+="%"+p}return decodeURIComponent(c)}if(l.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ge(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(J.UTF8)||i.equals(J.ISO8859_1)||i.equals(J.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let u=0;u<l.length;u++)c.push(l[u].charCodeAt(0));return new Uint8Array(c)}}class j{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return F.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(re.CHARACTER_SET)!==void 0)return a.get(re.CHARACTER_SET).toString();const l=i.length;let c=!0,u=!0,h=!0,p=0,v=0,N=0,O=0,z=0,Q=0,he=0,ye=0,we=0,Ne=0,Be=0;const Ze=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let Je=0;Je<l&&(c||u||h);Je++){const Qe=i[Je]&255;h&&(p>0?Qe&128?p--:h=!1:Qe&128&&(Qe&64?(p++,Qe&32?(p++,Qe&16?(p++,Qe&8?h=!1:O++):N++):v++):h=!1)),c&&(Qe>127&&Qe<160?c=!1:Qe>159&&(Qe<192||Qe===215||Qe===247)&&Be++),u&&(z>0?Qe<64||Qe===127||Qe>252?u=!1:z--:Qe===128||Qe===160||Qe>239?u=!1:Qe>160&&Qe<224?(Q++,ye=0,he++,he>we&&(we=he)):Qe>127?(z++,he=0,ye++,ye>Ne&&(Ne=ye)):(he=0,ye=0))}return h&&p>0&&(h=!1),u&&z>0&&(u=!1),h&&(Ze||v+N+O>0)?j.UTF8:u&&(j.ASSUME_SHIFT_JIS||we>=3||Ne>=3)?j.SHIFT_JIS:c&&u?we===2&&Q===2||Be*10>=l?j.SHIFT_JIS:j.ISO88591:c?j.ISO88591:u?j.SHIFT_JIS:h?j.UTF8:j.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function c(h,p,v,N,O,z){if(h==="%%")return"%";if(a[++l]===void 0)return;h=N?parseInt(N.substr(1)):void 0;let Q=O?parseInt(O.substr(1)):void 0,he;switch(z){case"s":he=a[l];break;case"c":he=a[l][0];break;case"f":he=parseFloat(a[l]).toFixed(h);break;case"p":he=parseFloat(a[l]).toPrecision(h);break;case"e":he=parseFloat(a[l]).toExponential(h);break;case"x":he=parseInt(a[l]).toString(Q||16);break;case"d":he=parseFloat(parseInt(a[l],Q||10).toPrecision(h)).toFixed(0);break}he=typeof he=="object"?JSON.stringify(he):(+he).toString(Q);let ye=parseInt(v),we=v&&v[0]+""=="0"?"0":" ";for(;he.length<ye;)he=p!==void 0?he+we:we+he;return he}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}static getBytes(i,a){return F.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}j.SHIFT_JIS=J.SJIS.getName(),j.GB2312="GB2312",j.ISO88591=J.ISO8859_1.getName(),j.EUC_JP="EUC_JP",j.UTF8=J.UTF8.getName(),j.PLATFORM_DEFAULT_ENCODING=j.UTF8,j.ASSUME_SHIFT_JIS=!1;class se{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=j.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let c=a;a<a+l;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class le{constructor(i,a,l,c){if(this.width=i,this.height=a,this.rowSize=l,this.bits=c,a==null&&(a=i),this.height=a,i<1||a<1)throw new A("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,c=new le(l,a);for(let u=0;u<a;u++){const h=i[u];for(let p=0;p<l;p++)h[p]&&c.set(p,u)}return c}static parseFromString(i,a,l){if(i===null)throw new A("stringRepresentation cannot be null");const c=new Array(i.length);let u=0,h=0,p=-1,v=0,N=0;for(;N<i.length;)if(i.charAt(N)===`
`||i.charAt(N)==="\r"){if(u>h){if(p===-1)p=u-h;else if(u-h!==p)throw new A("row lengths do not match");h=u,v++}N++}else if(i.substring(N,N+a.length)===a)N+=a.length,c[u]=!0,u++;else if(i.substring(N,N+l.length)===l)N+=l.length,c[u]=!1,u++;else throw new A("illegal character encountered: "+i.substring(N));if(u>h){if(p===-1)p=u-h;else if(u-h!==p)throw new A("row lengths do not match");v++}const O=new le(p,v);for(let z=0;z<u;z++)c[z]&&O.set(Math.floor(z%p),Math.floor(z/p));return O}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const a=new B(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const p=u*l,v=i.getRow(u,a).getBitArray();for(let N=0;N<l;N++)c[p+N]^=v[N]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,c){if(a<0||i<0)throw new A("Left and top must be nonnegative");if(c<1||l<1)throw new A("Height and width must be at least 1");const u=i+l,h=a+c;if(h>this.height||u>this.width)throw new A("The region must fit inside the matrix");const p=this.rowSize,v=this.bits;for(let N=a;N<h;N++){const O=N*p;for(let z=i;z<u;z++)v[O+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new B(this.width):a.clear();const l=this.rowSize,c=this.bits,u=i*l;for(let h=0;h<l;h++)a.setBulk(h*32,c[u+h]);return a}setRow(i,a){M.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new B(i),c=new B(i);for(let u=0,h=Math.floor((a+1)/2);u<h;u++)l=this.getRow(u,l),c=this.getRow(a-1-u,c),l.reverse(),c.reverse(),this.setRow(u,c),this.setRow(a-1-u,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,c=this.bits;let u=i,h=a,p=-1,v=-1;for(let N=0;N<a;N++)for(let O=0;O<l;O++){const z=c[N*l+O];if(z!==0){if(N<h&&(h=N),N>v&&(v=N),O*32<u){let Q=0;for(;!(z<<31-Q&4294967295);)Q++;O*32+Q<u&&(u=O*32+Q)}if(O*32+31>p){let Q=31;for(;!(z>>>Q);)Q--;O*32+Q>p&&(p=O*32+Q)}}}return p<u||v<h?null:Int32Array.from([u,h,p-u+1,v-h+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const c=l/i;let u=l%i*32;const h=a[l];let p=0;for(;!(h<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,c])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/i);let u=Math.floor(l%i)*32;const h=a[l];let p=31;for(;!(h>>>p);)p--;return u+=p,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof le))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&T.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+T.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let c=new se;for(let u=0,h=this.height;u<h;u++){for(let p=0,v=this.width;p<v;p++)c.append(this.get(p,u)?i:a);c.append(l)}return c.toString()}clone(){return new le(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends x{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class W extends R{constructor(i){super(i),this.luminances=W.EMPTY,this.buckets=new Int32Array(W.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),c=l.getWidth();a==null||a.getSize()<c?a=new B(c):a.clear(),this.initArrays(c);const u=l.getRow(i,this.luminances),h=this.buckets;for(let v=0;v<c;v++)h[(u[v]&255)>>W.LUMINANCE_SHIFT]++;const p=W.estimateBlackPoint(h);if(c<3)for(let v=0;v<c;v++)(u[v]&255)<p&&a.set(v);else{let v=u[0]&255,N=u[1]&255;for(let O=1;O<c-1;O++){const z=u[O+1]&255;(N*4-v-z)/2<p&&a.set(O),v=N,N=z}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),c=new le(a,l);this.initArrays(a);const u=this.buckets;for(let v=1;v<5;v++){const N=Math.floor(l*v/5),O=i.getRow(N,this.luminances),z=Math.floor(a*4/5);for(let Q=Math.floor(a/5);Q<z;Q++){const he=O[Q]&255;u[he>>W.LUMINANCE_SHIFT]++}}const h=W.estimateBlackPoint(u),p=i.getMatrix();for(let v=0;v<l;v++){const N=v*a;for(let O=0;O<a;O++)(p[N+O]&255)<h&&c.set(O,v)}return c}createBinarizer(i){return new W(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<W.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,c=0,u=0;for(let O=0;O<a;O++)i[O]>u&&(c=O,u=i[O]),i[O]>l&&(l=i[O]);let h=0,p=0;for(let O=0;O<a;O++){const z=O-c,Q=i[O]*z*z;Q>p&&(h=O,p=Q)}if(c>h){const O=c;c=h,h=O}if(h-c<=a/16)throw new $;let v=h-1,N=-1;for(let O=h-1;O>c;O--){const z=O-c,Q=z*z*(h-O)*(l-i[O]);Q>N&&(v=O,N=Q)}return v<<W.LUMINANCE_SHIFT}}W.LUMINANCE_BITS=5,W.LUMINANCE_SHIFT=8-W.LUMINANCE_BITS,W.LUMINANCE_BUCKETS=1<<W.LUMINANCE_BITS,W.EMPTY=Uint8ClampedArray.from([0]);class Y extends W{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=Y.MINIMUM_DIMENSION&&l>=Y.MINIMUM_DIMENSION){const c=i.getMatrix();let u=a>>Y.BLOCK_SIZE_POWER;a&Y.BLOCK_SIZE_MASK&&u++;let h=l>>Y.BLOCK_SIZE_POWER;l&Y.BLOCK_SIZE_MASK&&h++;const p=Y.calculateBlackPoints(c,u,h,a,l),v=new le(a,l);Y.calculateThresholdForBlock(c,u,h,a,l,p,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Y(i)}static calculateThresholdForBlock(i,a,l,c,u,h,p){const v=u-Y.BLOCK_SIZE,N=c-Y.BLOCK_SIZE;for(let O=0;O<l;O++){let z=O<<Y.BLOCK_SIZE_POWER;z>v&&(z=v);const Q=Y.cap(O,2,l-3);for(let he=0;he<a;he++){let ye=he<<Y.BLOCK_SIZE_POWER;ye>N&&(ye=N);const we=Y.cap(he,2,a-3);let Ne=0;for(let Ze=-2;Ze<=2;Ze++){const Je=h[Q+Ze];Ne+=Je[we-2]+Je[we-1]+Je[we]+Je[we+1]+Je[we+2]}const Be=Ne/25;Y.thresholdBlock(i,ye,z,Be,c,p)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,c,u,h){for(let p=0,v=l*u+a;p<Y.BLOCK_SIZE;p++,v+=u)for(let N=0;N<Y.BLOCK_SIZE;N++)(i[v+N]&255)<=c&&h.set(a+N,l+p)}static calculateBlackPoints(i,a,l,c,u){const h=u-Y.BLOCK_SIZE,p=c-Y.BLOCK_SIZE,v=new Array(l);for(let N=0;N<l;N++){v[N]=new Int32Array(a);let O=N<<Y.BLOCK_SIZE_POWER;O>h&&(O=h);for(let z=0;z<a;z++){let Q=z<<Y.BLOCK_SIZE_POWER;Q>p&&(Q=p);let he=0,ye=255,we=0;for(let Be=0,Ze=O*c+Q;Be<Y.BLOCK_SIZE;Be++,Ze+=c){for(let Je=0;Je<Y.BLOCK_SIZE;Je++){const Qe=i[Ze+Je]&255;he+=Qe,Qe<ye&&(ye=Qe),Qe>we&&(we=Qe)}if(we-ye>Y.MIN_DYNAMIC_RANGE)for(Be++,Ze+=c;Be<Y.BLOCK_SIZE;Be++,Ze+=c)for(let Je=0;Je<Y.BLOCK_SIZE;Je++)he+=i[Ze+Je]&255}let Ne=he>>Y.BLOCK_SIZE_POWER*2;if(we-ye<=Y.MIN_DYNAMIC_RANGE&&(Ne=ye/2,N>0&&z>0)){const Be=(v[N-1][z]+2*v[N][z-1]+v[N-1][z-1])/4;ye<Be&&(Ne=Be)}v[N][z]=Ne}}return v}}Y.BLOCK_SIZE_POWER=3,Y.BLOCK_SIZE=1<<Y.BLOCK_SIZE_POWER,Y.BLOCK_SIZE_MASK=Y.BLOCK_SIZE-1,Y.MINIMUM_DIMENSION=Y.BLOCK_SIZE*5,Y.MIN_DYNAMIC_RANGE=24;class ne{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,c){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new se;for(let l=0;l<this.height;l++){const c=this.getRow(l,i);for(let u=0;u<this.width;u++){const h=c[u]&255;let p;h<64?p="#":h<128?p="+":h<192?p=".":p=" ",a.append(p)}a.append(`
`)}return a.toString()}}class oe extends ne{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),c=this.getWidth();for(let u=0;u<c;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let c=0;c<a;c++)l[c]=255-(i[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,c){return new oe(this.delegate.crop(i,a,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new oe(this.delegate.rotateCounterClockwise45())}}class me extends ne{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return me.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const c=new Uint8ClampedArray(a*l);for(let u=0,h=0,p=i.length;u<p;u+=4,h++){let v;if(i[u+3]===0)v=255;else{const O=i[u],z=i[u+1],Q=i[u+2];v=306*O+601*z+117*Q+512>>10}c[h]=v}return c}getRow(i,a){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const l=this.getWidth(),c=i*l;return a===null?a=this.buffer.slice(c,c+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(c,c+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,c){return super.crop(i,a,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),c=i*me.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),v=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return a.width=p,a.height=v,l.translate(p/2,v/2),l.rotate(c),l.drawImage(this.canvas,u/-2,h/-2),this.buffer=me.makeBufferFromCanvasImageData(a),this}invert(){return new oe(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class Oe{constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var P=(globalThis||go||self||window||void 0)&&(globalThis||go||self||window||void 0).__awaiter||function(H,i,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function p(O){try{N(l.next(O))}catch(z){h(z)}}function v(O){try{N(l.throw(O))}catch(z){h(z)}}function N(O){O.done?u(O.value):c(O.value).then(p,v)}N((l=l.apply(H,i||[])).next())})};class te{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return P(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const u=l.deviceId||l.id,h=l.label||`Video device ${a.length+1}`,p=l.groupId,v={deviceId:u,label:h,kind:c,groupId:p};a.push(v)}return a})}getVideoInputDevices(){return P(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Oe(a.deviceId,a.label))})}findDeviceById(i){return P(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return P(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return P(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(i,a){return P(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return P(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return P(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return P(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,a,l)})}decodeFromConstraints(i,a,l){return P(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,a,l)})}decodeFromStream(i,a,l){return P(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return P(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return P(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new S(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new S(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new S("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new S("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new S("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new S("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new S("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new S("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new S("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new S("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,a);return l.src=i,c}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return P(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return P(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(i);u(p)}catch(p){const v=a&&p instanceof $,O=(p instanceof b||p instanceof k)&&l;if(v||O)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(p)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);a(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){a(null,c);const u=c instanceof b||c instanceof k,h=c instanceof $;(u||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new me(a),c=new Y(l);return new E(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=c+"px",a.width=l,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(i,a,l=a==null?0:8*a.length,c,u,h=M.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=M.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);M.arraycopy(a,0,l,0,a.length),M.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var pe;(function(H){H[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pe||(pe={}));var ue=pe,_e;(function(H){H[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_e||(_e={}));var Ee=_e;class De{constructor(i,a,l,c,u=-1,h=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $e{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class Ye{constructor(i,a){if(a.length===0)throw new A;this.field=i;const l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let h=0,p=a.length;h!==p;h++){const v=a[h];l=$e.addOrSubtract(l,v)}return l}l=a[0];const c=a.length,u=this.field;for(let h=1;h<c;h++)l=$e.addOrSubtract(u.multiply(i,l),a[h]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let c=new Int32Array(l.length);const u=l.length-a.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=$e.addOrSubtract(a[h-u],l[h]);return new Ye(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1),p=this.field;for(let v=0;v<l;v++){const N=a[v];for(let O=0;O<u;O++)h[v+O]=$e.addOrSubtract(h[v+O],p.multiply(N,c[O]))}return new Ye(p,h)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,c=new Int32Array(a),u=this.coefficients;for(let h=0;h<a;h++)c[h]=l.multiply(u[h],i);return new Ye(l,c)}multiplyByMonomial(i,a){if(i<0)throw new A;if(a===0)return this.field.getZero();const l=this.coefficients,c=l.length,u=new Int32Array(c+i),h=this.field;for(let p=0;p<c;p++)u[p]=h.multiply(l[p],a);return new Ye(h,u)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const a=this.field;let l=a.getZero(),c=this;const u=i.getCoefficient(i.getDegree()),h=a.inverse(u);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const p=c.getDegree()-i.getDegree(),v=a.multiply(c.getCoefficient(c.getDegree()),h),N=i.multiplyByMonomial(p,v),O=a.buildMonomial(p,v);l=l.addOrSubtract(O),c=c.addOrSubtract(N)}return[l,c]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const c=this.field.log(l);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class it extends x{}it.kind="ArithmeticException";class We extends $e{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const c=new Int32Array(a);let u=1;for(let p=0;p<a;p++)c[p]=u,u*=2,u>=a&&(u^=i,u&=a-1);this.expTable=c;const h=new Int32Array(a);for(let p=0;p<a-1;p++)h[c[p]]=p;this.logTable=h,this.zero=new Ye(this,Int32Array.from([0])),this.one=new Ye(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new A;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new Ye(this,l)}inverse(i){if(i===0)throw new it;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}We.AZTEC_DATA_12=new We(4201,4096,1),We.AZTEC_DATA_10=new We(1033,1024,1),We.AZTEC_DATA_6=new We(67,64,1),We.AZTEC_PARAM=new We(19,16,1),We.QR_CODE_FIELD_256=new We(285,256,0),We.DATA_MATRIX_FIELD_256=new We(301,256,1),We.AZTEC_DATA_8=We.DATA_MATRIX_FIELD_256,We.MAXICODE_FIELD_64=We.AZTEC_DATA_6;class Nt extends x{}Nt.kind="ReedSolomonException";class je extends x{}je.kind="IllegalStateException";class xe{constructor(i){this.field=i}decode(i,a){const l=this.field,c=new Ye(l,i),u=new Int32Array(a);let h=!0;for(let he=0;he<a;he++){const ye=c.evaluateAt(l.exp(he+l.getGeneratorBase()));u[u.length-1-he]=ye,ye!==0&&(h=!1)}if(h)return;const p=new Ye(l,u),v=this.runEuclideanAlgorithm(l.buildMonomial(a,1),p,a),N=v[0],O=v[1],z=this.findErrorLocations(N),Q=this.findErrorMagnitudes(O,z);for(let he=0;he<z.length;he++){const ye=i.length-1-l.log(z[he]);if(ye<0)throw new Nt("Bad error location");i[ye]=We.addOrSubtract(i[ye],Q[he])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const he=i;i=a,a=he}const c=this.field;let u=i,h=a,p=c.getZero(),v=c.getOne();for(;h.getDegree()>=(l/2|0);){let he=u,ye=p;if(u=h,p=v,u.isZero())throw new Nt("r_{i-1} was zero");h=he;let we=c.getZero();const Ne=u.getCoefficient(u.getDegree()),Be=c.inverse(Ne);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const Ze=h.getDegree()-u.getDegree(),Je=c.multiply(h.getCoefficient(h.getDegree()),Be);we=we.addOrSubtract(c.buildMonomial(Ze,Je)),h=h.addOrSubtract(u.multiplyByMonomial(Ze,Je))}if(v=we.multiply(p).addOrSubtract(ye),h.getDegree()>=u.getDegree())throw new je("Division algorithm failed to reduce polynomial?")}const N=v.getCoefficient(0);if(N===0)throw new Nt("sigmaTilde(0) was zero");const O=c.inverse(N),z=v.multiplyScalar(O),Q=h.multiplyScalar(O);return[z,Q]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<a;h++)i.evaluateAt(h)===0&&(l[c]=u.inverse(h),c++);if(c!==a)throw new Nt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,c=new Int32Array(l),u=this.field;for(let h=0;h<l;h++){const p=u.inverse(a[h]);let v=1;for(let N=0;N<l;N++)if(h!==N){const O=u.multiply(a[N],p),z=O&1?O&-2:O|1;v=u.multiply(v,z)}c[h]=u.multiply(i.evaluateAt(p),u.inverse(v)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],p))}return c}}var xt;(function(H){H[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY"})(xt||(xt={}));class tt{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),c=this.correctBits(l),u=tt.convertBoolArrayToByteArray(c),h=tt.getEncodedData(c),p=new De(u,h,null,null);return p.setNumBits(c.length),p}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=xt.UPPER,c=xt.UPPER,u="",h=0;for(;h<a;)if(c===xt.BINARY){if(a-h<5)break;let p=tt.readCode(i,h,5);if(h+=5,p===0){if(a-h<11)break;p=tt.readCode(i,h,11)+31,h+=11}for(let v=0;v<p;v++){if(a-h<8){h=a;break}const N=tt.readCode(i,h,8);u+=j.castAsNonUtf8Char(N),h+=8}c=l}else{let p=c===xt.DIGIT?4:5;if(a-h<p)break;let v=tt.readCode(i,h,p);h+=p;let N=tt.getCharacter(c,v);N.startsWith("CTRL_")?(l=c,c=tt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(l=c)):(u+=N,c=l)}return u}static getTable(i){switch(i){case"L":return xt.LOWER;case"P":return xt.PUNCT;case"M":return xt.MIXED;case"D":return xt.DIGIT;case"B":return xt.BINARY;case"U":default:return xt.UPPER}}static getCharacter(i,a){switch(i){case xt.UPPER:return tt.UPPER_TABLE[a];case xt.LOWER:return tt.LOWER_TABLE[a];case xt.MIXED:return tt.MIXED_TABLE[a];case xt.PUNCT:return tt.PUNCT_TABLE[a];case xt.DIGIT:return tt.DIGIT_TABLE[a];default:throw new je("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=We.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=We.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=We.AZTEC_DATA_10):(l=12,a=We.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=i.length/l;if(u<c)throw new k;let h=i.length%l,p=new Int32Array(u);for(let Q=0;Q<u;Q++,h+=l)p[Q]=tt.readCode(i,h,l);try{new xe(a).decode(p,u-c)}catch(Q){throw new k(Q)}let v=(1<<l)-1,N=0;for(let Q=0;Q<c;Q++){let he=p[Q];if(he===0||he===v)throw new k;(he===1||he===v-1)&&N++}let O=new Array(c*l-N),z=0;for(let Q=0;Q<c;Q++){let he=p[Q];if(he===1||he===v-1)O.fill(he>1,z,z+l-1),z+=l-1;else for(let ye=l-1;ye>=0;--ye)O[z++]=(he&1<<ye)!==0}return O}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(a?11:14)+l*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let p=0;p<u.length;p++)u[p]=p;else{let p=c+1+2*L.truncDivision(L.truncDivision(c,2)-1,15),v=c/2,N=L.truncDivision(p,2);for(let O=0;O<v;O++){let z=O+L.truncDivision(O,15);u[v-O-1]=N-z-1,u[v+O]=N+z+1}}for(let p=0,v=0;p<l;p++){let N=(l-p)*4+(a?9:12),O=p*2,z=c-1-O;for(let Q=0;Q<N;Q++){let he=Q*2;for(let ye=0;ye<2;ye++)h[v+he+ye]=i.get(u[O+ye],u[O+Q]),h[v+2*N+he+ye]=i.get(u[O+Q],u[z-ye]),h[v+4*N+he+ye]=i.get(u[z-ye],u[z-Q]),h[v+6*N+he+ye]=i.get(u[z-Q],u[O+ye])}v+=N*8}return h}static readCode(i,a,l){let c=0;for(let u=a;u<a+l;u++)c<<=1,i[u]&&(c|=1);return c}static readByte(i,a){let l=i.length-a;return l>=8?tt.readCode(i,a,8):tt.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=tt.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,c){const u=i-l,h=a-c;return Math.sqrt(u*u+h*h)}static sum(i){let a=0;for(let l=0,c=i.length;l!==c;l++){const u=i[l];a+=u}return a}}class nt{static floatToIntBits(i){return i}}nt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Pe{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Pe){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*nt.floatToIntBits(this.x)+nt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let u,h,p;if(l>=a&&l>=c?(h=i[0],u=i[1],p=i[2]):c>=l&&c>=a?(h=i[1],u=i[0],p=i[2]):(h=i[2],u=i[0],p=i[1]),this.crossProductZ(u,h,p)<0){const v=u;u=p,p=v}i[0]=u,i[1]=h,i[2]=p}static distance(i,a){return Ue.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const c=a.x,u=a.y;return(l.x-c)*(i.y-u)-(l.y-u)*(i.x-c)}}class rt{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class bt extends rt{constructor(i,a,l,c,u){super(i,a),this.compact=l,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ct{constructor(i,a,l,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=Ct.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const u=a/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,c=this.downInit,u=!1,h=!0,p=!1,v=!1,N=!1,O=!1,z=!1;const Q=this.width,he=this.height;for(;h;){h=!1;let ye=!0;for(;(ye||!v)&&a<Q;)ye=this.containsBlackPoint(l,c,a,!1),ye?(a++,h=!0,v=!0):v||a++;if(a>=Q){u=!0;break}let we=!0;for(;(we||!N)&&c<he;)we=this.containsBlackPoint(i,a,c,!0),we?(c++,h=!0,N=!0):N||c++;if(c>=he){u=!0;break}let Ne=!0;for(;(Ne||!O)&&i>=0;)Ne=this.containsBlackPoint(l,c,i,!1),Ne?(i--,h=!0,O=!0):O||i--;if(i<0){u=!0;break}let Be=!0;for(;(Be||!z)&&l>=0;)Be=this.containsBlackPoint(i,a,l,!0),Be?(l--,h=!0,z=!0):z||l--;if(l<0){u=!0;break}h&&(p=!0)}if(!u&&p){const ye=a-i;let we=null;for(let Je=1;we===null&&Je<ye;Je++)we=this.getBlackPointOnSegment(i,c-Je,i+Je,c);if(we==null)throw new $;let Ne=null;for(let Je=1;Ne===null&&Je<ye;Je++)Ne=this.getBlackPointOnSegment(i,l+Je,i+Je,l);if(Ne==null)throw new $;let Be=null;for(let Je=1;Be===null&&Je<ye;Je++)Be=this.getBlackPointOnSegment(a,l+Je,a-Je,l);if(Be==null)throw new $;let Ze=null;for(let Je=1;Ze===null&&Je<ye;Je++)Ze=this.getBlackPointOnSegment(a,c-Je,a-Je,c);if(Ze==null)throw new $;return this.centerEdges(Ze,we,Be,Ne)}else throw new $}getBlackPointOnSegment(i,a,l,c){const u=Ue.round(Ue.distance(i,a,l,c)),h=(l-i)/u,p=(c-a)/u,v=this.image;for(let N=0;N<u;N++){const O=Ue.round(i+N*h),z=Ue.round(a+N*p);if(v.get(O,z))return new Pe(O,z)}return null}centerEdges(i,a,l,c){const u=i.getX(),h=i.getY(),p=a.getX(),v=a.getY(),N=l.getX(),O=l.getY(),z=c.getX(),Q=c.getY(),he=Ct.CORR;return u<this.width/2?[new Pe(z-he,Q+he),new Pe(p+he,v+he),new Pe(N-he,O-he),new Pe(u+he,h-he)]:[new Pe(z+he,Q+he),new Pe(p+he,v-he),new Pe(N-he,O+he),new Pe(u-he,h-he)]}containsBlackPoint(i,a,l,c){const u=this.image;if(c){for(let h=i;h<=a;h++)if(u.get(h,l))return!0}else for(let h=i;h<=a;h++)if(u.get(l,h))return!0;return!1}}Ct.INIT_SIZE=10,Ct.CORR=1;class Pt{static checkAndNudgePoints(i,a){const l=i.getWidth(),c=i.getHeight();let u=!0;for(let h=0;h<a.length&&u;h+=2){const p=Math.floor(a[h]),v=Math.floor(a[h+1]);if(p<-1||p>l||v<-1||v>c)throw new $;u=!1,p===-1?(a[h]=0,u=!0):p===l&&(a[h]=l-1,u=!0),v===-1?(a[h+1]=0,u=!0):v===c&&(a[h+1]=c-1,u=!0)}u=!0;for(let h=a.length-2;h>=0&&u;h-=2){const p=Math.floor(a[h]),v=Math.floor(a[h+1]);if(p<-1||p>l||v<-1||v>c)throw new $;u=!1,p===-1?(a[h]=0,u=!0):p===l&&(a[h]=l-1,u=!0),v===-1?(a[h+1]=0,u=!0):v===c&&(a[h+1]=c-1,u=!0)}}}class Lt{constructor(i,a,l,c,u,h,p,v,N){this.a11=i,this.a21=a,this.a31=l,this.a12=c,this.a22=u,this.a32=h,this.a13=p,this.a23=v,this.a33=N}static quadrilateralToQuadrilateral(i,a,l,c,u,h,p,v,N,O,z,Q,he,ye,we,Ne){const Be=Lt.quadrilateralToSquare(i,a,l,c,u,h,p,v);return Lt.squareToQuadrilateral(N,O,z,Q,he,ye,we,Ne).times(Be)}transformPoints(i){const a=i.length,l=this.a11,c=this.a12,u=this.a13,h=this.a21,p=this.a22,v=this.a23,N=this.a31,O=this.a32,z=this.a33;for(let Q=0;Q<a;Q+=2){const he=i[Q],ye=i[Q+1],we=u*he+v*ye+z;i[Q]=(l*he+h*ye+N)/we,i[Q+1]=(c*he+p*ye+O)/we}}transformPointsWithValues(i,a){const l=this.a11,c=this.a12,u=this.a13,h=this.a21,p=this.a22,v=this.a23,N=this.a31,O=this.a32,z=this.a33,Q=i.length;for(let he=0;he<Q;he++){const ye=i[he],we=a[he],Ne=u*ye+v*we+z;i[he]=(l*ye+h*we+N)/Ne,a[he]=(c*ye+p*we+O)/Ne}}static squareToQuadrilateral(i,a,l,c,u,h,p,v){const N=i-l+u-p,O=a-c+h-v;if(N===0&&O===0)return new Lt(l-i,u-l,i,c-a,h-c,a,0,0,1);{const z=l-u,Q=p-u,he=c-h,ye=v-h,we=z*ye-Q*he,Ne=(N*ye-Q*O)/we,Be=(z*O-N*he)/we;return new Lt(l-i+Ne*l,p-i+Be*p,i,c-a+Ne*c,v-a+Be*v,a,Ne,Be,1)}}static quadrilateralToSquare(i,a,l,c,u,h,p,v){return Lt.squareToQuadrilateral(i,a,l,c,u,h,p,v).buildAdjoint()}buildAdjoint(){return new Lt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Lt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class rn extends Pt{sampleGrid(i,a,l,c,u,h,p,v,N,O,z,Q,he,ye,we,Ne,Be,Ze,Je){const Qe=Lt.quadrilateralToQuadrilateral(c,u,h,p,v,N,O,z,Q,he,ye,we,Ne,Be,Ze,Je);return this.sampleGridWithTransform(i,a,l,Qe)}sampleGridWithTransform(i,a,l,c){if(a<=0||l<=0)throw new $;const u=new le(a,l),h=new Float32Array(2*a);for(let p=0;p<l;p++){const v=h.length,N=p+.5;for(let O=0;O<v;O+=2)h[O]=O/2+.5,h[O+1]=N;c.transformPoints(h),Pt.checkAndNudgePoints(i,h);try{for(let O=0;O<v;O+=2)i.get(Math.floor(h[O]),Math.floor(h[O+1]))&&u.set(O/2,p)}catch{throw new $}}return u}}class Jt{static setGridSampler(i){Jt.gridSampler=i}static getInstance(){return Jt.gridSampler}}Jt.gridSampler=new rn;class pt{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new Pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Wt{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new bt(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new $;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let c=0;for(let h=0;h<4;h++){let p=l[(this.shift+h)%4];this.compact?(c<<=7,c+=p>>1&127):(c<<=10,c+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,a){let l=0;i.forEach((c,u,h)=>{let p=(c>>a-2<<1)+(c&1);l=(l<<3)+p}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(L.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new $}getCorrectedParameterData(i,a){let l,c;a?(l=7,c=2):(l=10,c=4);let u=l-c,h=new Int32Array(l);for(let v=l-1;v>=0;--v)h[v]=i&15,i>>=4;try{new xe(We.AZTEC_PARAM).decode(h,u)}catch{throw new $}let p=0;for(let v=0;v<c;v++)p=(p<<4)+h[v];return p}getBullsEyeCorners(i){let a=i,l=i,c=i,u=i,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(a,h,1,-1),Q=this.getFirstDifferent(l,h,1,1),he=this.getFirstDifferent(c,h,-1,1),ye=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let we=this.distancePoint(ye,z)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(we<.75||we>1.25||!this.isWhiteOrBlackRectangle(z,Q,he,ye))break}a=z,l=Q,c=he,u=ye,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let p=new Pe(a.getX()+.5,a.getY()-.5),v=new Pe(l.getX()+.5,l.getY()+.5),N=new Pe(c.getX()-.5,c.getY()+.5),O=new Pe(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,v,N,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,c;try{let p=new Ct(this.image).detect();i=p[0],a=p[1],l=p[2],c=p[3]}catch{let v=this.image.getWidth()/2,N=this.image.getHeight()/2;i=this.getFirstDifferent(new pt(v+7,N-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new pt(v+7,N+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new pt(v-7,N+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new pt(v-7,N-7),!1,-1,-1).toResultPoint()}let u=Ue.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=Ue.round((i.getY()+c.getY()+a.getY()+l.getY())/4);try{let p=new Ct(this.image,15,u,h).detect();i=p[0],a=p[1],l=p[2],c=p[3]}catch{i=this.getFirstDifferent(new pt(u+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new pt(u+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new pt(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new pt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Ue.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=Ue.round((i.getY()+c.getY()+a.getY()+l.getY())/4),new pt(u,h)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,c,u){let h=Jt.getInstance(),p=this.getDimension(),v=p/2-this.nbCenterLayers,N=p/2+this.nbCenterLayers;return h.sampleGrid(i,p,p,v,v,N,v,N,N,v,N,a.getX(),a.getY(),l.getX(),l.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(i,a,l){let c=0,u=this.distanceResultPoint(i,a),h=u/l,p=i.getX(),v=i.getY(),N=h*(a.getX()-i.getX())/u,O=h*(a.getY()-i.getY())/u;for(let z=0;z<l;z++)this.image.get(Ue.round(p+z*N),Ue.round(v+z*O))&&(c|=1<<l-z-1);return c}isWhiteOrBlackRectangle(i,a,l,c){let u=3;i=new pt(i.getX()-u,i.getY()+u),a=new pt(a.getX()-u,a.getY()-u),l=new pt(l.getX()+u,l.getY()-u),c=new pt(c.getX()+u,c.getY()+u);let h=this.getColor(c,i);if(h===0)return!1;let p=this.getColor(i,a);return p!==h||(p=this.getColor(a,l),p!==h)?!1:(p=this.getColor(l,c),p===h)}getColor(i,a){let l=this.distancePoint(i,a),c=(a.getX()-i.getX())/l,u=(a.getY()-i.getY())/l,h=0,p=i.getX(),v=i.getY(),N=this.image.get(i.getX(),i.getY()),O=Math.ceil(l);for(let Q=0;Q<O;Q++)p+=c,v+=u,this.image.get(Ue.round(p),Ue.round(v))!==N&&h++;let z=h/l;return z>.1&&z<.9?0:z<=.1===N?1:-1}getFirstDifferent(i,a,l,c){let u=i.getX()+l,h=i.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l,h+=c;for(u-=l,h-=c;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l;for(u-=l;this.isValid(u,h)&&this.image.get(u,h)===a;)h+=c;return h-=c,new pt(u,h)}expandSquare(i,a,l){let c=l/(2*a),u=i[0].getX()-i[2].getX(),h=i[0].getY()-i[2].getY(),p=(i[0].getX()+i[2].getX())/2,v=(i[0].getY()+i[2].getY())/2,N=new Pe(p+c*u,v+c*h),O=new Pe(p-c*u,v-c*h);u=i[1].getX()-i[3].getX(),h=i[1].getY()-i[3].getY(),p=(i[1].getX()+i[3].getX())/2,v=(i[1].getY()+i[3].getY())/2;let z=new Pe(p+c*u,v+c*h),Q=new Pe(p-c*u,v-c*h);return[N,z,O,Q]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=Ue.round(i.getX()),l=Ue.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return Ue.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return Ue.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class st{decode(i,a=null){let l=null,c=new Wt(i.getBlackMatrix()),u=null,h=null;try{let O=c.detectMirror(!1);u=O.getPoints(),this.reportFoundResultPoints(a,u),h=new tt().decode(O)}catch(O){l=O}if(h==null)try{let O=c.detectMirror(!0);u=O.getPoints(),this.reportFoundResultPoints(a,u),h=new tt().decode(O)}catch(O){throw l??O}let p=new ae(h.getText(),h.getRawBytes(),h.getNumBits(),u,ue.AZTEC,M.currentTimeMillis()),v=h.getByteSegments();v!=null&&p.putMetadata(Ee.BYTE_SEGMENTS,v);let N=h.getECLevel();return N!=null&&p.putMetadata(Ee.ERROR_CORRECTION_LEVEL,N),p}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(re.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((c,u,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Gi extends te{constructor(i=500){super(new st,i)}}class Et{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(re.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),h=this.doDecode(u,a),p=h.getResultMetadata();let v=270;p!==null&&p.get(Ee.ORIENTATION)===!0&&(v=v+p.get(Ee.ORIENTATION)%360),h.putMetadata(Ee.ORIENTATION,v);const N=h.getResultPoints();if(N!==null){const O=u.getHeight();for(let z=0;z<N.length;z++)N[z]=new Pe(O-N[z].getY()-1,N[z].getX())}return h}else throw new $}}reset(){}doDecode(i,a){const l=i.getWidth(),c=i.getHeight();let u=new B(l);const h=a&&a.get(re.TRY_HARDER)===!0,p=Math.max(1,c>>(h?8:5));let v;h?v=c:v=15;const N=Math.trunc(c/2);for(let O=0;O<v;O++){const z=Math.trunc((O+1)/2),Q=(O&1)===0,he=N+p*(Q?z:-z);if(he<0||he>=c)break;try{u=i.getBlackRow(he,u)}catch{continue}for(let ye=0;ye<2;ye++){if(ye===1&&(u.reverse(),a&&a.get(re.NEED_RESULT_POINT_CALLBACK)===!0)){const we=new Map;a.forEach((Ne,Be)=>we.set(Be,Ne)),we.delete(re.NEED_RESULT_POINT_CALLBACK),a=we}try{const we=this.decodeRow(he,u,a);if(ye===1){we.putMetadata(Ee.ORIENTATION,180);const Ne=we.getResultPoints();Ne!==null&&(Ne[0]=new Pe(l-Ne[0].getX()-1,Ne[0].getY()),Ne[1]=new Pe(l-Ne[1].getX()-1,Ne[1].getY()))}return we}catch{}}}throw new $}static recordPattern(i,a,l){const c=l.length;for(let N=0;N<c;N++)l[N]=0;const u=i.getSize();if(a>=u)throw new $;let h=!i.get(a),p=0,v=a;for(;v<u;){if(i.get(v)!==h)l[p]++;else{if(++p===c)break;l[p]=1,h=!h}v++}if(!(p===c||p===c-1&&v===u))throw new $}static recordPatternInReverse(i,a,l){let c=l.length,u=i.get(a);for(;a>0&&c>=0;)i.get(--a)!==u&&(c--,u=!u);if(c>=0)throw new $;Et.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const c=i.length;let u=0,h=0;for(let N=0;N<c;N++)u+=i[N],h+=a[N];if(u<h)return Number.POSITIVE_INFINITY;const p=u/h;l*=p;let v=0;for(let N=0;N<c;N++){const O=i[N],z=a[N]*p,Q=O>z?O-z:z-O;if(Q>l)return Number.POSITIVE_INFINITY;v+=Q}return v/u}}class et extends Et{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=l,p=!1;const v=6;for(let N=l;N<a;N++)if(i.get(N)!==p)u[c]++;else{if(c===v-1){let O=et.MAX_AVG_VARIANCE,z=-1;for(let Q=et.CODE_START_A;Q<=et.CODE_START_C;Q++){const he=Et.patternMatchVariance(u,et.CODE_PATTERNS[Q],et.MAX_INDIVIDUAL_VARIANCE);he<O&&(O=he,z=Q)}if(z>=0&&i.isRange(Math.max(0,h-(N-h)/2),h,!1))return Int32Array.from([h,N,z]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,p=!p}throw new $}static decodeCode(i,a,l){Et.recordPattern(i,l,a);let c=et.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<et.CODE_PATTERNS.length;h++){const p=et.CODE_PATTERNS[h],v=this.patternMatchVariance(a,p,et.MAX_INDIVIDUAL_VARIANCE);v<c&&(c=v,u=h)}if(u>=0)return u;throw new $}decodeRow(i,a,l){const c=l&&l.get(re.ASSUME_GS1)===!0,u=et.findStartPattern(a),h=u[2];let p=0;const v=new Uint8Array(20);v[p++]=h;let N;switch(h){case et.CODE_START_A:N=et.CODE_CODE_A;break;case et.CODE_START_B:N=et.CODE_CODE_B;break;case et.CODE_START_C:N=et.CODE_CODE_C;break;default:throw new k}let O=!1,z=!1,Q="",he=u[0],ye=u[1];const we=Int32Array.from([0,0,0,0,0,0]);let Ne=0,Be=0,Ze=h,Je=0,Qe=!0,Xt=!1,Dt=!1;for(;!O;){const va=z;switch(z=!1,Ne=Be,Be=et.decodeCode(a,we,ye),v[p++]=Be,Be!==et.CODE_STOP&&(Qe=!0),Be!==et.CODE_STOP&&(Je++,Ze+=Je*Be),he=ye,ye+=we.reduce((jr,kr)=>jr+kr,0),Be){case et.CODE_START_A:case et.CODE_START_B:case et.CODE_START_C:throw new k}switch(N){case et.CODE_CODE_A:if(Be<64)Dt===Xt?Q+=String.fromCharCode(32+Be):Q+=String.fromCharCode(32+Be+128),Dt=!1;else if(Be<96)Dt===Xt?Q+=String.fromCharCode(Be-64):Q+=String.fromCharCode(Be+64),Dt=!1;else switch(Be!==et.CODE_STOP&&(Qe=!1),Be){case et.CODE_FNC_1:c&&(Q.length===0?Q+="]C1":Q+="");break;case et.CODE_FNC_2:case et.CODE_FNC_3:break;case et.CODE_FNC_4_A:!Xt&&Dt?(Xt=!0,Dt=!1):Xt&&Dt?(Xt=!1,Dt=!1):Dt=!0;break;case et.CODE_SHIFT:z=!0,N=et.CODE_CODE_B;break;case et.CODE_CODE_B:N=et.CODE_CODE_B;break;case et.CODE_CODE_C:N=et.CODE_CODE_C;break;case et.CODE_STOP:O=!0;break}break;case et.CODE_CODE_B:if(Be<96)Dt===Xt?Q+=String.fromCharCode(32+Be):Q+=String.fromCharCode(32+Be+128),Dt=!1;else switch(Be!==et.CODE_STOP&&(Qe=!1),Be){case et.CODE_FNC_1:c&&(Q.length===0?Q+="]C1":Q+="");break;case et.CODE_FNC_2:case et.CODE_FNC_3:break;case et.CODE_FNC_4_B:!Xt&&Dt?(Xt=!0,Dt=!1):Xt&&Dt?(Xt=!1,Dt=!1):Dt=!0;break;case et.CODE_SHIFT:z=!0,N=et.CODE_CODE_A;break;case et.CODE_CODE_A:N=et.CODE_CODE_A;break;case et.CODE_CODE_C:N=et.CODE_CODE_C;break;case et.CODE_STOP:O=!0;break}break;case et.CODE_CODE_C:if(Be<100)Be<10&&(Q+="0"),Q+=Be;else switch(Be!==et.CODE_STOP&&(Qe=!1),Be){case et.CODE_FNC_1:c&&(Q.length===0?Q+="]C1":Q+="");break;case et.CODE_CODE_A:N=et.CODE_CODE_A;break;case et.CODE_CODE_B:N=et.CODE_CODE_B;break;case et.CODE_STOP:O=!0;break}break}va&&(N=N===et.CODE_CODE_A?et.CODE_CODE_B:et.CODE_CODE_A)}const pi=ye-he;if(ye=a.getNextUnset(ye),!a.isRange(ye,Math.min(a.getSize(),ye+(ye-he)/2),!1))throw new $;if(Ze-=Je*Ne,Ze%103!==Ne)throw new b;const Pi=Q.length;if(Pi===0)throw new $;Pi>0&&Qe&&(N===et.CODE_CODE_C?Q=Q.substring(0,Pi-2):Q=Q.substring(0,Pi-1));const ci=(u[1]+u[0])/2,cn=he+pi/2,ni=v.length,Ni=new Uint8Array(ni);for(let va=0;va<ni;va++)Ni[va]=v[va];const _r=[new Pe(ci,i),new Pe(cn,i)];return new ae(Q,Ni,0,_r,ue.CODE_128,new Date().getTime())}}et.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],et.MAX_AVG_VARIANCE=.25,et.MAX_INDIVIDUAL_VARIANCE=.7,et.CODE_SHIFT=98,et.CODE_CODE_C=99,et.CODE_CODE_B=100,et.CODE_CODE_A=101,et.CODE_FNC_1=102,et.CODE_FNC_2=97,et.CODE_FNC_3=96,et.CODE_FNC_4_A=101,et.CODE_FNC_4_B=100,et.CODE_START_A=103,et.CODE_START_B=104,et.CODE_START_C=105,et.CODE_STOP=106;class Rt extends Et{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Rt.findAsteriskPattern(a,c),h=a.getNextSet(u[1]),p=a.getSize(),v,N;do{Rt.recordPattern(a,h,c);let we=Rt.toNarrowWidePattern(c);if(we<0)throw new $;v=Rt.patternToChar(we),this.decodeRowResult+=v,N=h;for(let Ne of c)h+=Ne;h=a.getNextSet(h)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let we of c)O+=we;let z=h-N-O;if(h!==p&&z*2<O)throw new $;if(this.usingCheckDigit){let we=this.decodeRowResult.length-1,Ne=0;for(let Be=0;Be<we;Be++)Ne+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Be));if(this.decodeRowResult.charAt(we)!==Rt.ALPHABET_STRING.charAt(Ne%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,we)}if(this.decodeRowResult.length===0)throw new $;let Q;this.extendedMode?Q=Rt.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let he=(u[1]+u[0])/2,ye=N+O/2;return new ae(Q,null,0,[new Pe(he,i),new Pe(ye,i)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),c=i.getNextSet(0),u=0,h=c,p=!1,v=a.length;for(let N=c;N<l;N++)if(i.get(N)!==p)a[u]++;else{if(u===v-1){if(this.toNarrowWidePattern(a)===Rt.ASTERISK_ENCODING&&i.isRange(Math.max(0,h-Math.floor((N-h)/2)),h,!1))return[h,N];h+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,p=!p}throw new $}static toNarrowWidePattern(i){let a=i.length,l=0,c;do{let u=2147483647;for(let v of i)v<u&&v>l&&(u=v);l=u,c=0;let h=0,p=0;for(let v=0;v<a;v++){let N=i[v];N>l&&(p|=1<<a-1-v,c++,h+=N)}if(c===3){for(let v=0;v<a&&c>0;v++){let N=i[v];if(N>l&&(c--,N*2>=h))return-1}return p}}while(c>3);return-1}static patternToChar(i){for(let a=0;a<Rt.CHARACTER_ENCODINGS.length;a++)if(Rt.CHARACTER_ENCODINGS[a]===i)return Rt.ALPHABET_STRING.charAt(a);if(i===Rt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(i){let a=i.length,l="";for(let c=0;c<a;c++){let u=i.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=i.charAt(c+1),p="\0";switch(u){case"+":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)+32);else throw new k;break;case"$":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)-64);else throw new k;break;case"%":if(h>="A"&&h<="E")p=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")p=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")p=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")p="\0";else if(h==="V")p="@";else if(h==="W")p="`";else if(h==="X"||h==="Y"||h==="Z")p="";else throw new k;break;case"/":if(h>="A"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")p=":";else throw new k;break}l+=p,c++}else l+=u}return l}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class Tt extends Et{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let c=this.decodeStart(a),u=this.decodeEnd(a),h=new se;Tt.decodeMiddle(a,c[1],u[0],h);let p=h.toString(),v=null;l!=null&&(v=l.get(re.ALLOWED_LENGTHS)),v==null&&(v=Tt.DEFAULT_ALLOWED_LENGTHS);let N=p.length,O=!1,z=0;for(let ye of v){if(N===ye){O=!0;break}ye>z&&(z=ye)}if(!O&&N>z&&(O=!0),!O)throw new k;const Q=[new Pe(c[1],i),new Pe(u[0],i)];return new ae(p,null,0,Q,ue.ITF,new Date().getTime())}static decodeMiddle(i,a,l,c){let u=new Int32Array(10),h=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),h.fill(0),p.fill(0);a<l;){Et.recordPattern(i,a,u);for(let N=0;N<5;N++){let O=2*N;h[N]=u[O],p[N]=u[O+1]}let v=Tt.decodeDigit(h);c.append(v.toString()),v=this.decodeDigit(p),c.append(v.toString()),u.forEach(function(N){a+=N})}}decodeStart(i){let a=Tt.skipWhiteSpace(i),l=Tt.findGuardPattern(i,a,Tt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let c=a-1;l>0&&c>=0&&!i.get(c);c--)l--;if(l!==0)throw new $}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new $;return l}decodeEnd(i){i.reverse();try{let a=Tt.skipWhiteSpace(i),l;try{l=Tt.findGuardPattern(i,a,Tt.END_PATTERN_REVERSED[0])}catch(u){u instanceof $&&(l=Tt.findGuardPattern(i,a,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let c=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-c,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let c=l.length,u=new Int32Array(c),h=i.getSize(),p=!1,v=0,N=a;u.fill(0);for(let O=a;O<h;O++)if(i.get(O)!==p)u[v]++;else{if(v===c-1){if(Et.patternMatchVariance(u,l,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[N,O];N+=u[0]+u[1],M.arraycopy(u,2,u,0,v-1),u[v-1]=0,u[v]=0,v--}else v++;u[v]=1,p=!p}throw new $}static decodeDigit(i){let a=Tt.MAX_AVG_VARIANCE,l=-1,c=Tt.PATTERNS.length;for(let u=0;u<c;u++){let h=Tt.PATTERNS[u],p=Et.patternMatchVariance(i,h,Tt.MAX_INDIVIDUAL_VARIANCE);p<a?(a=p,l=u):p===a&&(l=-1)}if(l>=0)return l%10;throw new $}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dn extends Et{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,c=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),l=dn.findGuardPattern(i,c,!1,this.START_END_PATTERN,u);let h=l[0];c=l[1];let p=h-(c-h);p>=0&&(a=i.isRange(p,h,!1))}return l}static checkChecksum(i){return dn.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return dn.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}return(1e3-l)%10}static decodeEnd(i,a){return dn.findGuardPattern(i,a,!1,dn.START_END_PATTERN,new Int32Array(dn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,c){return this.findGuardPattern(i,a,l,c,new Int32Array(c.length))}static findGuardPattern(i,a,l,c,u){let h=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let p=0,v=a,N=c.length,O=l;for(let z=a;z<h;z++)if(i.get(z)!==O)u[p]++;else{if(p===N-1){if(Et.patternMatchVariance(u,c,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return Int32Array.from([v,z]);v+=u[0]+u[1];let Q=u.slice(2,u.length-1);for(let he=0;he<p-1;he++)u[he]=Q[he];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,O=!O}throw new $}static decodeDigit(i,a,l,c){this.recordPattern(i,l,a);let u=this.MAX_AVG_VARIANCE,h=-1,p=c.length;for(let v=0;v<p;v++){let N=c[v],O=Et.patternMatchVariance(a,N,dn.MAX_INDIVIDUAL_VARIANCE);O<u&&(u=O,h=v)}if(h>=0)return h;throw new $}}dn.MAX_AVG_VARIANCE=.48,dn.MAX_INDIVIDUAL_VARIANCE=.7,dn.START_END_PATTERN=Int32Array.from([1,1,1]),dn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class an{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),p=an.parseExtensionString(h),v=[new Pe((l[0]+l[1])/2,i),new Pe(u,i)],N=new ae(h,null,0,v,ue.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&N.putAllMetadata(p),N}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],p=0;for(let N=0;N<5&&h<u;N++){let O=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let z of c)h+=z;O>=10&&(p|=1<<4-N),N!==4&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==5)throw new $;let v=this.determineCheckDigit(p);if(an.extensionChecksum(l.toString())!==v)throw new $;return h}static extensionChecksum(i){let a=i.length,l=0;for(let c=a-2;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;l*=3;for(let c=a-1;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new $}static parseExtensionString(i){if(i.length!==5)return null;let a=an.parseExtension5String(i);return a==null?null:new Map([[Ee.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),c=(l/100).toString(),u=l%100,h=u<10?"0"+u:u.toString();return a+c+"."+h}}class Da{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),p=Da.parseExtensionString(h),v=[new Pe((l[0]+l[1])/2,i),new Pe(u,i)],N=new ae(h,null,0,v,ue.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&N.putAllMetadata(p),N}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],p=0;for(let v=0;v<2&&h<u;v++){let N=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)h+=O;N>=10&&(p|=1<<1-v),v!==1&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==2)throw new $;if(parseInt(l.toString())%4!==p)throw new $;return h}static parseExtensionString(i){return i.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(i)]])}}class Gn{static decodeRow(i,a,l){let c=dn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new an().decodeRow(i,a,c)}catch{return new Da().decodeRow(i,a,c)}}}Gn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ht extends dn{constructor(){super(),this.decodeRowStringBuffer="",Ht.L_AND_G_PATTERNS=Ht.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=Ht.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let c=0;c<a.length;c++)l[c]=a[a.length-c-1];Ht.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let c=Ht.findStartGuardPattern(a),u=l==null?null:l.get(re.NEED_RESULT_POINT_CALLBACK);if(u!=null){const Qe=new Pe((c[0]+c[1])/2,i);u.foundPossibleResultPoint(Qe)}let h=this.decodeMiddle(a,c,this.decodeRowStringBuffer),p=h.rowOffset,v=h.resultString;if(u!=null){const Qe=new Pe(p,i);u.foundPossibleResultPoint(Qe)}let N=this.decodeEnd(a,p);if(u!=null){const Qe=new Pe((N[0]+N[1])/2,i);u.foundPossibleResultPoint(Qe)}let O=N[1],z=O+(O-N[0]);if(z>=a.getSize()||!a.isRange(O,z,!1))throw new $;let Q=v.toString();if(Q.length<8)throw new k;if(!Ht.checkChecksum(Q))throw new b;let he=(c[1]+c[0])/2,ye=(N[1]+N[0])/2,we=this.getBarcodeFormat(),Ne=[new Pe(he,i),new Pe(ye,i)],Be=new ae(Q,null,0,Ne,we,new Date().getTime()),Ze=0;try{let Qe=Gn.decodeRow(i,a,N[1]);Be.putMetadata(Ee.UPC_EAN_EXTENSION,Qe.getText()),Be.putAllMetadata(Qe.getResultMetadata()),Be.addResultPoints(Qe.getResultPoints()),Ze=Qe.getText().length}catch{}let Je=l==null?null:l.get(re.ALLOWED_EAN_EXTENSIONS);if(Je!=null){let Qe=!1;for(let Xt in Je)if(Ze.toString()===Xt){Qe=!0;break}if(!Qe)throw new $}return Be}decodeEnd(i,a){return Ht.findGuardPattern(i,a,!1,Ht.START_END_PATTERN,new Int32Array(Ht.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ht.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return Ht.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}return(1e3-l)%10}}class nr extends Ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],p=0;for(let N=0;N<6&&h<u;N++){let O=Ht.decodeDigit(i,c,h,Ht.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let z of c)h+=z;O>=10&&(p|=1<<5-N)}l=nr.determineFirstDigit(l,p),h=Ht.findGuardPattern(i,h,!0,Ht.MIDDLE_PATTERN,new Int32Array(Ht.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&h<u;N++){let O=Ht.decodeDigit(i,c,h,Ht.L_PATTERNS);l+=String.fromCharCode(48+O);for(let z of c)h+=z}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new $}}nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vn extends Ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1];for(let v=0;v<4&&h<u;v++){let N=Ht.decodeDigit(i,c,h,Ht.L_PATTERNS);l+=String.fromCharCode(48+N);for(let O of c)h+=O}h=Ht.findGuardPattern(i,h,!0,Ht.MIDDLE_PATTERN,new Int32Array(Ht.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&h<u;v++){let N=Ht.decodeDigit(i,c,h,Ht.L_PATTERNS);l+=String.fromCharCode(48+N);for(let O of c)h+=O}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ue.EAN_8}}class Bt extends Ht{constructor(){super(...arguments),this.ean13Reader=new nr}getBarcodeFormat(){return ue.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new ae(a.substring(1),null,null,i.getResultPoints(),ue.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new $}reset(){this.ean13Reader.reset()}}class Gt extends Ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters.map(N=>N);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=i.getSize();let h=a[1],p=0;for(let N=0;N<6&&h<u;N++){const O=Gt.decodeDigit(i,c,h,Gt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let z of c)h+=z;O>=10&&(p|=1<<5-N)}let v=Gt.determineNumSysAndCheckDigit(l,p);return{rowOffset:h,resultString:v}}decodeEnd(i,a){return Gt.findGuardPatternWithoutCounters(i,a,!0,Gt.MIDDLE_END_PATTERN)}checkChecksum(i){return Ht.checkChecksum(Gt.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let u=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return u+i+h}throw $.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new se;l.append(i.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(c),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(c);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Gt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Oa extends Et{constructor(i){super();let a=i==null?null:i.get(re.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new nr),l.push(new Bt),l.push(new Vn),l.push(new Gt)):(a.indexOf(ue.EAN_13)>-1&&l.push(new nr),a.indexOf(ue.UPC_A)>-1&&l.push(new Bt),a.indexOf(ue.EAN_8)>-1&&l.push(new Vn),a.indexOf(ue.UPC_E)>-1&&l.push(new Gt)),this.readers=l}decodeRow(i,a,l){for(let c of this.readers)try{const u=c.decodeRow(i,a,l),h=u.getBarcodeFormat()===ue.EAN_13&&u.getText().charAt(0)==="0",p=l==null?null:l.get(re.POSSIBLE_FORMATS),v=p==null||p.includes(ue.UPC_A);if(h&&v){const N=u.getRawBytes(),O=new ae(u.getText().substring(1),N,N?N.length:null,u.getResultPoints(),ue.UPC_A);return O.putAllMetadata(u.getResultMetadata()),O}return u}catch{}throw new $}reset(){for(let i of this.readers)i.reset()}}class un extends Et{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(Et.patternMatchVariance(i,a[l],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return l;throw new $}static count(i){return Ue.sum(new Int32Array(i))}static increment(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]>c&&(c=a[u],l=u);i[l]++}static decrement(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]<c&&(c=a[u],l=u);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],c=a/l;if(c>=un.MIN_FINDER_PATTERN_RATIO&&c<=un.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let p of i)p>h&&(h=p),p<u&&(u=p);return h<10*u}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class ir{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof ir))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Nr{constructor(i,a,l,c,u){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Pe(l,u)),this.resultPoints.push(new Pe(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Nr))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class yt{constructor(){}static getRSSvalue(i,a,l){let c=0;for(let v of i)c+=v;let u=0,h=0,p=i.length;for(let v=0;v<p-1;v++){let N;for(N=1,h|=1<<v;N<i[v];N++,h&=~(1<<v)){let O=yt.combins(c-N-1,p-v-2);if(l&&h===0&&c-N-(p-v-1)>=p-v-1&&(O-=yt.combins(c-N-(p-v),p-v-2)),p-v-1>1){let z=0;for(let Q=c-N-(p-v-2);Q>a;Q--)z+=yt.combins(c-N-Q-1,p-v-3);O-=z*(p-1-v)}else c-N>a&&O--;u+=O}c-=N}return u}static combins(i,a){let l,c;i-a>a?(c=a,l=i-a):(c=i-a,l=a);let u=1,h=1;for(let p=i;p>l;p--)u*=p,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Yr{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,c=new B(l),u=0,p=i[0].getRightChar().getValue();for(let v=11;v>=0;--v)p&1<<v&&c.set(u),u++;for(let v=1;v<i.length;++v){let N=i[v],O=N.getLeftChar().getValue();for(let z=11;z>=0;--z)O&1<<z&&c.set(u),u++;if(N.getRightChar()!=null){let z=N.getRightChar().getValue();for(let Q=11;Q>=0;--Q)z&1<<Q&&c.set(u),u++}}return c}}class Vi{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Yi{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class fn extends Yi{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class Ln extends Yi{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Pn extends Yi{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new k;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Pn.FNC1}isAnyFNC1(){return this.firstDigit===Pn.FNC1||this.secondDigit===Pn.FNC1}}Pn.FNC1=10;class ut{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new $;let a=i.substring(0,2);for(let u of ut.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(2,u[2],i):ut.processFixedAI(2,u[1],i);if(i.length<3)throw new $;let l=i.substring(0,3);for(let u of ut.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(3,u[2],i):ut.processFixedAI(3,u[1],i);for(let u of ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,u[2],i):ut.processFixedAI(4,u[1],i);if(i.length<4)throw new $;let c=i.substring(0,4);for(let u of ut.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,u[2],i):ut.processFixedAI(4,u[1],i);throw new $}static processFixedAI(i,a,l){if(l.length<i)throw new $;let c=l.substring(0,i);if(l.length<i+a)throw new $;let u=l.substring(i,i+a),h=l.substring(i+a),p="("+c+")"+u,v=ut.parseFieldsInGeneralPurpose(h);return v==null?p:p+v}static processVariableAI(i,a,l){let c=l.substring(0,i),u;l.length<i+a?u=l.length:u=i+a;let h=l.substring(i,u),p=l.substring(u),v="("+c+")"+h,N=ut.parseFieldsInGeneralPurpose(p);return N==null?v:v+N}}ut.VARIABLE_LENGTH=[],ut.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ut.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ut.VARIABLE_LENGTH,20],["22",ut.VARIABLE_LENGTH,29],["30",ut.VARIABLE_LENGTH,8],["37",ut.VARIABLE_LENGTH,8],["90",ut.VARIABLE_LENGTH,30],["91",ut.VARIABLE_LENGTH,30],["92",ut.VARIABLE_LENGTH,30],["93",ut.VARIABLE_LENGTH,30],["94",ut.VARIABLE_LENGTH,30],["95",ut.VARIABLE_LENGTH,30],["96",ut.VARIABLE_LENGTH,30],["97",ut.VARIABLE_LENGTH,3],["98",ut.VARIABLE_LENGTH,30],["99",ut.VARIABLE_LENGTH,30]],ut.THREE_DIGIT_DATA_LENGTH=[["240",ut.VARIABLE_LENGTH,30],["241",ut.VARIABLE_LENGTH,30],["242",ut.VARIABLE_LENGTH,6],["250",ut.VARIABLE_LENGTH,30],["251",ut.VARIABLE_LENGTH,30],["253",ut.VARIABLE_LENGTH,17],["254",ut.VARIABLE_LENGTH,20],["400",ut.VARIABLE_LENGTH,30],["401",ut.VARIABLE_LENGTH,30],["402",17],["403",ut.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ut.VARIABLE_LENGTH,20],["421",ut.VARIABLE_LENGTH,15],["422",3],["423",ut.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ut.VARIABLE_LENGTH,15],["391",ut.VARIABLE_LENGTH,18],["392",ut.VARIABLE_LENGTH,15],["393",ut.VARIABLE_LENGTH,18],["703",ut.VARIABLE_LENGTH,30]],ut.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ut.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ut.VARIABLE_LENGTH,20],["8003",ut.VARIABLE_LENGTH,30],["8004",ut.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ut.VARIABLE_LENGTH,30],["8008",ut.VARIABLE_LENGTH,12],["8018",18],["8020",ut.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ut.VARIABLE_LENGTH,70],["8200",ut.VARIABLE_LENGTH,70]];class fr{constructor(i){this.buffer=new se,this.information=i}decodeAllCodes(i,a){let l=a,c=null;do{let u=this.decodeGeneralPurposeField(l,c),h=ut.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&i.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),u-1,Pn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,c=(a-8)%11;return new Pn(i+7,l,c)}extractNumericValueFromBitArray(i,a){return fr.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let c=0;for(let u=0;u<l;++u)i.get(a+u)&&(c|=1<<l-u-1);return c}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ln(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ln(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Ln(this.current.getPosition(),this.buffer.toString()):a=new Ln(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Vi(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Ln(this.current.getPosition(),this.buffer.toString());return new Vi(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Ln(this.current.getPosition(),this.buffer.toString());return new Vi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Ln(this.current.getPosition(),this.buffer.toString());return new Vi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new fn(i+7,""+(l+1));if(l>=90&&l<116)return new fn(i+7,""+(l+7));let c=this.extractNumericValueFromBitArray(i,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new k}return new fn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new fn(i+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new je("Decoding invalid alphanumeric value: "+l)}return new fn(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class Cr{constructor(i){this.information=i,this.generalDecoder=new fr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fn extends Cr{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}Fn.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let c=0;c<13;c++){let u=i.charAt(c+a).charCodeAt(0)-48;l+=c&1?u:3*u}l=10-l%10,l===10&&(l=0),i.append(l)}}Fn.GTIN_SIZE=40;class Xi extends Fn{constructor(i){super(i)}parseInformation(){let i=new se;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xi.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Xi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,Xi.HEADER_SIZE+44)}}Xi.HEADER_SIZE=4;class Er extends Cr{constructor(i){super(i)}parseInformation(){let i=new se;return this.getGeneralDecoder().decodeAllCodes(i,Er.HEADER_SIZE)}}Er.HEADER_SIZE=5;class rr extends Fn{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,c);let u=this.checkWeight(c),h=1e5;for(let p=0;p<5;++p)u/h===0&&i.append("0"),h/=10;i.append(u)}}class wi extends rr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=wi.HEADER_SIZE+rr.GTIN_SIZE+wi.WEIGHT_SIZE)throw new $;let i=new se;return this.encodeCompressedGtin(i,wi.HEADER_SIZE),this.encodeCompressedWeight(i,wi.HEADER_SIZE+rr.GTIN_SIZE,wi.WEIGHT_SIZE),i.toString()}}wi.HEADER_SIZE=5,wi.WEIGHT_SIZE=15;class gs extends wi{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class Hs extends wi{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class ar extends Fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<ar.HEADER_SIZE+Fn.GTIN_SIZE)throw new $;let i=new se;this.encodeCompressedGtin(i,ar.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+Fn.GTIN_SIZE,ar.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ar.HEADER_SIZE+Fn.GTIN_SIZE+ar.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}ar.HEADER_SIZE=8,ar.LAST_DIGIT_SIZE=2;class di extends Fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<di.HEADER_SIZE+Fn.GTIN_SIZE)throw new $;let i=new se;this.encodeCompressedGtin(i,di.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE+Fn.GTIN_SIZE,di.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE+Fn.GTIN_SIZE+di.LAST_DIGIT_SIZE,di.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(di.HEADER_SIZE+Fn.GTIN_SIZE+di.LAST_DIGIT_SIZE+di.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}di.HEADER_SIZE=8,di.LAST_DIGIT_SIZE=2,di.FIRST_THREE_DIGITS_SIZE=10;class yn extends rr{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE+yn.DATE_SIZE)throw new $;let i=new se;return this.encodeCompressedGtin(i,yn.HEADER_SIZE),this.encodeCompressedWeight(i,yn.HEADER_SIZE+yn.GTIN_SIZE,yn.WEIGHT_SIZE),this.encodeCompressedDate(i,yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,yn.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=l%32;l/=32;let u=l%12+1;l/=12;let h=l;h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}yn.HEADER_SIZE=8,yn.WEIGHT_SIZE=20,yn.DATE_SIZE=16;function qo(H){try{if(H.get(1))return new Xi(H);if(!H.get(2))return new Er(H);switch(fr.extractNumericValueFromBitArray(H,1,4)){case 4:return new gs(H);case 5:return new Hs(H)}switch(fr.extractNumericValueFromBitArray(H,1,5)){case 12:return new ar(H);case 13:return new di(H)}switch(fr.extractNumericValueFromBitArray(H,1,7)){case 56:return new yn(H,"310","11");case 57:return new yn(H,"320","11");case 58:return new yn(H,"310","13");case 59:return new yn(H,"320","13");case 60:return new yn(H,"310","15");case 61:return new yn(H,"320","15");case 62:return new yn(H,"310","17");case 63:return new yn(H,"320","17")}}catch(i){throw console.log(i),new je("unknown decoder: "+H)}}class da{constructor(i,a,l,c){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof da?da.equalsOrNull(i.leftchar,a.leftchar)&&da.equalsOrNull(i.rightchar,a.rightchar)&&da.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:da.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Go{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof Go?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((c,u)=>{a.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class qe extends un{constructor(i){super(...arguments),this.pairs=new Array(qe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return qe.constructResult(this.decodeRow2pairs(i,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,qe.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(u){if(u instanceof $){if(!this.pairs.length)throw new $;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new $}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of i)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!qe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(c);try{return this.checkRows(u,l+1)}catch(h){this.verbose&&console.log(h)}}throw new $}static isValidSequence(i){for(let a of qe.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=a[c]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,c=!1,u=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>i){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}u||c||qe.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Go(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let c of l.getPairs())for(let u of i)if(da.equals(c,u))break}}static isPartialRow(i,a){for(let l of a){let c=!0;for(let u of i){let h=!1;for(let p of l.getPairs())if(u.equals(p)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=Yr.buildBitArray(i),c=qo(a).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),h=i[i.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],h[0],h[1]];return new ae(c,null,null,p,ue.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let v=this.pairs.get(p);c+=v.getLeftChar().getChecksumPortion(),u++;let N=v.getRightChar();N!=null&&(c+=N.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let c=a.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,p=-1;do this.findNextPair(i,a,p),u=this.parseFoundFinderPattern(i,l,c),u==null?p=qe.getNextSecondBar(i,this.startEnd[0]):h=!1;while(h);let v=this.decodeDataCharacter(i,u,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new $;let N;try{N=this.decodeDataCharacter(i,u,c,!1)}catch(O){N=null,this.verbose&&console.log(O)}return new da(v,N,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h;l>=0?h=l:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let p=a.length%2!=0;this.startFromEven&&(p=!p);let v=!1;for(;h<u&&(v=!i.get(h),!!v);)h++;let N=0,O=h;for(let z=h;z<u;z++)if(i.get(z)!=v)c[N]++;else{if(N==3){if(p&&qe.reverseCounters(c),qe.isFinderPattern(c)){this.startEnd[0]=O,this.startEnd[1]=z;return}p&&qe.reverseCounters(c),O+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,N--}else N++;c[N]=1,v=!v}throw new $}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let c=i[l];i[l]=i[a-l-1],i[a-l-1]=c}}parseFoundFinderPattern(i,a,l){let c,u,h;if(l){let N=this.startEnd[0]-1;for(;N>=0&&!i.get(N);)N--;N++,c=this.startEnd[0]-N,u=N,h=this.startEnd[1]}else u=this.startEnd[0],h=i.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let p=this.getDecodeFinderCounters();M.arraycopy(p,0,p,1,p.length-1),p[0]=c;let v;try{v=this.parseFinderValue(p,qe.FINDER_PATTERNS)}catch{return null}return new Nr(v,[u,h],u,h,a)}decodeDataCharacter(i,a,l,c){let u=this.getDataCharacterCounters();for(let cn=0;cn<u.length;cn++)u[cn]=0;if(c)qe.recordPatternInReverse(i,a.getStartEnd()[0],u);else{qe.recordPattern(i,a.getStartEnd()[1],u);for(let cn=0,ni=u.length-1;cn<ni;cn++,ni--){let Ni=u[cn];u[cn]=u[ni],u[ni]=Ni}}let h=17,p=Ue.sum(new Int32Array(u))/h,v=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(p-v)/v>.3)throw new $;let N=this.getOddCounts(),O=this.getEvenCounts(),z=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let cn=0;cn<u.length;cn++){let ni=1*u[cn]/p,Ni=ni+.5;if(Ni<1){if(ni<.3)throw new $;Ni=1}else if(Ni>8){if(ni>8.7)throw new $;Ni=8}let _r=cn/2;cn&1?(O[_r]=Ni,Q[_r]=ni-Ni):(N[_r]=Ni,z[_r]=ni-Ni)}this.adjustOddEvenCounts(h);let he=4*a.getValue()+(l?0:2)+(c?0:1)-1,ye=0,we=0;for(let cn=N.length-1;cn>=0;cn--){if(qe.isNotA1left(a,l,c)){let ni=qe.WEIGHTS[he][2*cn];we+=N[cn]*ni}ye+=N[cn]}let Ne=0;for(let cn=O.length-1;cn>=0;cn--)if(qe.isNotA1left(a,l,c)){let ni=qe.WEIGHTS[he][2*cn+1];Ne+=O[cn]*ni}let Be=we+Ne;if(ye&1||ye>13||ye<4)throw new $;let Ze=(13-ye)/2,Je=qe.SYMBOL_WIDEST[Ze],Qe=9-Je,Xt=yt.getRSSvalue(N,Je,!0),Dt=yt.getRSSvalue(O,Qe,!1),pi=qe.EVEN_TOTAL_SUBSET[Ze],Pi=qe.GSUM[Ze],ci=Xt*pi+Dt+Pi;return new ir(ci,Be)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=Ue.sum(new Int32Array(this.getOddCounts())),l=Ue.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let h=!1,p=!1;l>13?p=!0:l<4&&(h=!0);let v=a+l-i,N=(a&1)==1,O=(l&1)==0;if(v==1)if(N){if(O)throw new $;u=!0}else{if(!O)throw new $;p=!0}else if(v==-1)if(N){if(O)throw new $;c=!0}else{if(!O)throw new $;h=!0}else if(v==0){if(N){if(!O)throw new $;a<l?(c=!0,p=!0):(u=!0,h=!0)}else if(O)throw new $}else throw new $;if(c){if(u)throw new $;qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new $;qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}qe.SYMBOL_WIDEST=[7,5,4,3,1],qe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],qe.GSUM=[0,348,1388,2948,3988],qe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],qe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],qe.FINDER_PAT_A=0,qe.FINDER_PAT_B=1,qe.FINDER_PAT_C=2,qe.FINDER_PAT_D=3,qe.FINDER_PAT_E=4,qe.FINDER_PAT_F=5,qe.FINDER_PATTERN_SEQUENCES=[[qe.FINDER_PAT_A,qe.FINDER_PAT_A],[qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B],[qe.FINDER_PAT_A,qe.FINDER_PAT_C,qe.FINDER_PAT_B,qe.FINDER_PAT_D],[qe.FINDER_PAT_A,qe.FINDER_PAT_E,qe.FINDER_PAT_B,qe.FINDER_PAT_D,qe.FINDER_PAT_C],[qe.FINDER_PAT_A,qe.FINDER_PAT_E,qe.FINDER_PAT_B,qe.FINDER_PAT_D,qe.FINDER_PAT_D,qe.FINDER_PAT_F],[qe.FINDER_PAT_A,qe.FINDER_PAT_E,qe.FINDER_PAT_B,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_F,qe.FINDER_PAT_F],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_D],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_E],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_F,qe.FINDER_PAT_F],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_E,qe.FINDER_PAT_F,qe.FINDER_PAT_F]],qe.MAX_PAIRS=11;class Rl extends ir{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Un extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const c=this.decodePair(a,!1,i,l);Un.addOrTally(this.possibleLeftPairs,c),a.reverse();let u=this.decodePair(a,!0,i,l);Un.addOrTally(this.possibleRightPairs,u),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&Un.checkChecksum(h,p))return Un.constructResult(h,p)}throw new $}static addOrTally(i,a){if(a==null)return;let l=!1;for(let c of i)if(c.getValue()===a.getValue()){c.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),c=new String(l).toString(),u=new se;for(let N=13-c.length;N>0;N--)u.append("0");u.append(c);let h=0;for(let N=0;N<13;N++){let O=u.charAt(N).charCodeAt(0)-48;h+=N&1?O:3*O}h=10-h%10,h===10&&(h=0),u.append(h.toString());let p=i.getFinderPattern().getResultPoints(),v=a.getFinderPattern().getResultPoints();return new ae(u.toString(),null,0,[p[0],p[1],v[0],v[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(i,a,l,c){try{let u=this.findFinderPattern(i,a),h=this.parseFoundFinderPattern(i,l,a,u),p=c==null?null:c.get(re.NEED_RESULT_POINT_CALLBACK);if(p!=null){let O=(u[0]+u[1])/2;a&&(O=i.getSize()-1-O),p.foundPossibleResultPoint(new Pe(O,l))}let v=this.decodeDataCharacter(i,h,!0),N=this.decodeDataCharacter(i,h,!1);return new Rl(1597*v.getValue()+N.getValue(),v.getChecksumPortion()+4*N.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(i,a,l){let c=this.getDataCharacterCounters();for(let Ne=0;Ne<c.length;Ne++)c[Ne]=0;if(l)Et.recordPatternInReverse(i,a.getStartEnd()[0],c);else{Et.recordPattern(i,a.getStartEnd()[1]+1,c);for(let Ne=0,Be=c.length-1;Ne<Be;Ne++,Be--){let Ze=c[Ne];c[Ne]=c[Be],c[Be]=Ze}}let u=l?16:15,h=Ue.sum(new Int32Array(c))/u,p=this.getOddCounts(),v=this.getEvenCounts(),N=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Ne=0;Ne<c.length;Ne++){let Be=c[Ne]/h,Ze=Math.floor(Be+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let Je=Math.floor(Ne/2);Ne&1?(v[Je]=Ze,O[Je]=Be-Ze):(p[Je]=Ze,N[Je]=Be-Ze)}this.adjustOddEvenCounts(l,u);let z=0,Q=0;for(let Ne=p.length-1;Ne>=0;Ne--)Q*=9,Q+=p[Ne],z+=p[Ne];let he=0,ye=0;for(let Ne=v.length-1;Ne>=0;Ne--)he*=9,he+=v[Ne],ye+=v[Ne];let we=Q+3*he;if(l){if(z&1||z>12||z<4)throw new $;let Ne=(12-z)/2,Be=Un.OUTSIDE_ODD_WIDEST[Ne],Ze=9-Be,Je=yt.getRSSvalue(p,Be,!1),Qe=yt.getRSSvalue(v,Ze,!0),Xt=Un.OUTSIDE_EVEN_TOTAL_SUBSET[Ne],Dt=Un.OUTSIDE_GSUM[Ne];return new ir(Je*Xt+Qe+Dt,we)}else{if(ye&1||ye>10||ye<4)throw new $;let Ne=(10-ye)/2,Be=Un.INSIDE_ODD_WIDEST[Ne],Ze=9-Be,Je=yt.getRSSvalue(p,Be,!0),Qe=yt.getRSSvalue(v,Ze,!1),Xt=Un.INSIDE_ODD_TOTAL_SUBSET[Ne],Dt=Un.INSIDE_GSUM[Ne];return new ir(Qe*Xt+Je+Dt,we)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),u=!1,h=0;for(;h<c&&(u=!i.get(h),a!==u);)h++;let p=0,v=h;for(let N=h;N<c;N++)if(i.get(N)!==u)l[p]++;else{if(p===3){if(un.isFinderPattern(l))return[v,N];v+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,u=!u}throw new $}parseFoundFinderPattern(i,a,l,c){let u=i.get(c[0]),h=c[0]-1;for(;h>=0&&u!==i.get(h);)h--;h++;const p=c[0]-h,v=this.getDecodeFinderCounters(),N=new Int32Array(v.length);M.arraycopy(v,0,N,1,v.length-1),N[0]=p;const O=this.parseFinderValue(N,Un.FINDER_PATTERNS);let z=h,Q=c[1];return l&&(z=i.getSize()-1-z,Q=i.getSize()-1-Q),new Nr(O,[h,c[1]],z,Q,a)}adjustOddEvenCounts(i,a){let l=Ue.sum(new Int32Array(this.getOddCounts())),c=Ue.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,p=!1,v=!1;i?(l>12?h=!0:l<4&&(u=!0),c>12?v=!0:c<4&&(p=!0)):(l>11?h=!0:l<5&&(u=!0),c>10?v=!0:c<4&&(p=!0));let N=l+c-a,O=(l&1)===(i?1:0),z=(c&1)===1;if(N===1)if(O){if(z)throw new $;h=!0}else{if(!z)throw new $;v=!0}else if(N===-1)if(O){if(z)throw new $;u=!0}else{if(!z)throw new $;p=!0}else if(N===0){if(O){if(!z)throw new $;l<c?(u=!0,v=!0):(h=!0,p=!0)}else if(z)throw new $}else throw new $;if(u){if(h)throw new $;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(v)throw new $;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Un.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Un.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Un.OUTSIDE_GSUM=[0,161,961,2015,2715],Un.INSIDE_GSUM=[0,336,1036,1516],Un.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Un.INSIDE_ODD_WIDEST=[2,4,6,8],Un.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ga extends Et{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(re.POSSIBLE_FORMATS):null,c=i&&i.get(re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ue.EAN_13)||l.includes(ue.UPC_A)||l.includes(ue.EAN_8)||l.includes(ue.UPC_E))&&this.readers.push(new Oa(i)),l.includes(ue.CODE_39)&&this.readers.push(new Rt(c)),l.includes(ue.CODE_128)&&this.readers.push(new et),l.includes(ue.ITF)&&this.readers.push(new Tt),l.includes(ue.RSS_14)&&this.readers.push(new Un),l.includes(ue.RSS_EXPANDED)&&this.readers.push(new qe(this.verbose))):(this.readers.push(new Oa(i)),this.readers.push(new Rt),this.readers.push(new Oa(i)),this.readers.push(new et),this.readers.push(new Tt),this.readers.push(new Un),this.readers.push(new qe(this.verbose)))}decodeRow(i,a,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,a,l)}catch{}throw new $}reset(){this.readers.forEach(i=>i.reset())}}class Pc extends te{constructor(i=500,a){super(new ga(a),i,a)}}class on{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ln{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Vt{constructor(i,a,l,c,u,h){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let p=0;const v=h.getECCodewords(),N=h.getECBlocks();for(let O of N)p+=O.getCount()*(O.getDataCodewords()+v);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new k;for(let l of Vt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new Vt(1,10,10,8,8,new on(5,new ln(1,3))),new Vt(2,12,12,10,10,new on(7,new ln(1,5))),new Vt(3,14,14,12,12,new on(10,new ln(1,8))),new Vt(4,16,16,14,14,new on(12,new ln(1,12))),new Vt(5,18,18,16,16,new on(14,new ln(1,18))),new Vt(6,20,20,18,18,new on(18,new ln(1,22))),new Vt(7,22,22,20,20,new on(20,new ln(1,30))),new Vt(8,24,24,22,22,new on(24,new ln(1,36))),new Vt(9,26,26,24,24,new on(28,new ln(1,44))),new Vt(10,32,32,14,14,new on(36,new ln(1,62))),new Vt(11,36,36,16,16,new on(42,new ln(1,86))),new Vt(12,40,40,18,18,new on(48,new ln(1,114))),new Vt(13,44,44,20,20,new on(56,new ln(1,144))),new Vt(14,48,48,22,22,new on(68,new ln(1,174))),new Vt(15,52,52,24,24,new on(42,new ln(2,102))),new Vt(16,64,64,14,14,new on(56,new ln(2,140))),new Vt(17,72,72,16,16,new on(36,new ln(4,92))),new Vt(18,80,80,18,18,new on(48,new ln(4,114))),new Vt(19,88,88,20,20,new on(56,new ln(4,144))),new Vt(20,96,96,22,22,new on(68,new ln(4,174))),new Vt(21,104,104,24,24,new on(56,new ln(6,136))),new Vt(22,120,120,18,18,new on(68,new ln(6,175))),new Vt(23,132,132,20,20,new on(62,new ln(8,163))),new Vt(24,144,144,22,22,new on(62,new ln(8,156),new ln(2,155))),new Vt(25,8,18,6,16,new on(7,new ln(1,5))),new Vt(26,8,32,6,14,new on(11,new ln(1,10))),new Vt(27,12,26,10,24,new on(14,new ln(1,16))),new Vt(28,12,36,10,16,new on(18,new ln(1,22))),new Vt(29,16,36,14,16,new on(24,new ln(1,32))),new Vt(30,16,48,14,22,new on(28,new ln(1,49)))]}}Vt.VERSIONS=Vt.buildVersions();class Vo{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new k;this.version=Vo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new le(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return Vt.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let p=!1,v=!1,N=!1,O=!1;do if(l===u&&c===0&&!p)i[a++]=this.readCorner1(u,h)&255,l-=2,c+=2,p=!0;else if(l===u-2&&c===0&&h&3&&!v)i[a++]=this.readCorner2(u,h)&255,l-=2,c+=2,v=!0;else if(l===u+4&&c===2&&!(h&7)&&!N)i[a++]=this.readCorner3(u,h)&255,l-=2,c+=2,N=!0;else if(l===u-2&&c===0&&(h&7)===4&&!O)i[a++]=this.readCorner4(u,h)&255,l-=2,c+=2,O=!0;else{do l<u&&c>=0&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l+=2,c-=2;while(l<u&&c>=0);l+=3,c+=1}while(l<u||c<h);if(a!==this.version.getTotalCodewords())throw new k;return i}readModule(i,a,l,c){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,c){let u=0;return this.readModule(i-2,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-2,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a,l,c)&&(u|=1),u<<=1,this.readModule(i,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i,a,l,c)&&(u|=1),u}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new A("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=a/c|0,p=l/u|0,v=h*c,N=p*u,O=new le(N,v);for(let z=0;z<h;++z){const Q=z*c;for(let he=0;he<p;++he){const ye=he*u;for(let we=0;we<c;++we){const Ne=z*(c+2)+1+we,Be=Q+we;for(let Ze=0;Ze<u;++Ze){const Je=he*(u+2)+1+Ze;if(i.get(Je,Ne)){const Qe=ye+Ze;O.set(Qe,Be)}}}}}return O}}class Yn{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let c=0;const u=l.getECBlocks();for(let we of u)c+=we.getCount();const h=new Array(c);let p=0;for(let we of u)for(let Ne=0;Ne<we.getCount();Ne++){const Be=we.getDataCodewords(),Ze=l.getECCodewords()+Be;h[p++]=new Yn(Be,new Uint8Array(Ze))}const N=h[0].codewords.length-l.getECCodewords(),O=N-1;let z=0;for(let we=0;we<O;we++)for(let Ne=0;Ne<p;Ne++)h[Ne].codewords[we]=i[z++];const Q=a.getVersionNumber()===24,he=Q?8:p;for(let we=0;we<he;we++)h[we].codewords[N-1]=i[z++];const ye=h[0].codewords.length;for(let we=N;we<ye;we++)for(let Ne=0;Ne<p;Ne++){const Be=Q?(Ne+8)%p:Ne,Ze=Q&&Be>7?we-1:we;h[Be].codewords[Ze]=i[z++]}if(z!==i.length)throw new A;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qs{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let a=0,l=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(l>0){const h=8-l,p=i<h?i:h,v=h-p,N=255>>8-p<<v;a=(u[c]&N)>>v,i-=p,l+=p,l===8&&(l=0,c++)}if(i>0){for(;i>=8;)a=a<<8|u[c]&255,c++,i-=8;if(i>0){const h=8-i,p=255>>h<<h;a=a<<i|(u[c]&p)>>h,l+=i}}return this.bitOffset=l,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Jn;(function(H){H[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE"})(Jn||(Jn={}));class Xr{static decode(i){const a=new qs(i),l=new se,c=new se,u=new Array;let h=Jn.ASCII_ENCODE;do if(h===Jn.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,c);else{switch(h){case Jn.C40_ENCODE:this.decodeC40Segment(a,l);break;case Jn.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Jn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Jn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Jn.BASE256_ENCODE:this.decodeBase256Segment(a,l,u);break;default:throw new k}h=Jn.ASCII_ENCODE}while(h!==Jn.PAD_ENCODE&&a.available()>0);return c.length()>0&&l.append(c.toString()),new De(i,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,a,l){let c=!1;do{let u=i.readBits(8);if(u===0)throw new k;if(u<=128)return c&&(u+=128),a.append(String.fromCharCode(u-1)),Jn.ASCII_ENCODE;if(u===129)return Jn.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&a.append("0"),a.append(""+h)}else switch(u){case 230:return Jn.C40_ENCODE;case 231:return Jn.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Jn.ANSIX12_ENCODE;case 239:return Jn.TEXT_ENCODE;case 240:return Jn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new k;break}}while(i.available()>0);return Jn.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const c=[];let u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let p=0;p<3;p++){const v=c[p];switch(u){case 0:if(v<3)u=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[v];l?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):a.append(N)}else throw new k;break;case 1:l?(a.append(String.fromCharCode(v+128)),l=!1):a.append(String.fromCharCode(v)),u=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[v];l?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):a.append(N)}else switch(v){case 27:a.append("");break;case 30:l=!0;break;default:throw new k}u=0;break;case 3:l?(a.append(String.fromCharCode(v+224)),l=!1):a.append(String.fromCharCode(v+96)),u=0;break;default:throw new k}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,c=[],u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let p=0;p<3;p++){const v=c[p];switch(u){case 0:if(v<3)u=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[v];l?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):a.append(N)}else throw new k;break;case 1:l?(a.append(String.fromCharCode(v+128)),l=!1):a.append(String.fromCharCode(v)),u=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[v];l?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):a.append(N)}else switch(v){case 27:a.append("");break;case 30:l=!0;break;default:throw new k}u=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[v];l?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):a.append(N),u=0}else throw new k;break;default:throw new k}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),l);for(let u=0;u<3;u++){const h=l[u];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new k;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let c=(i<<8)+a-1,u=Math.floor(c/1600);l[0]=u,c-=u*1600,u=Math.floor(c/40),l[1]=u,l[2]=c-u*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let c=i.readBits(6);if(c===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}c&32||(c|=64),a.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let c=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),c++);let h;if(u===0?h=i.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(i.readBits(8),c++),h<0)throw new k;const p=new Uint8Array(h);for(let v=0;v<h;v++){if(i.available()<8)throw new k;p[v]=this.unrandomize255State(i.readBits(8),c++)}l.push(p);try{a.append(F.decode(p,j.ISO88591))}catch(v){throw new je("Platform does not support required encoding: "+v.message)}}static unrandomize255State(i,a){const l=149*a%255+1,c=i-l;return c>=0?c:c+256}}Xr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Xr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Xr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Xr.TEXT_SHIFT2_SET_CHARS=Xr.C40_SHIFT2_SET_CHARS,Xr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Yo{constructor(){this.rsDecoder=new xe(We.DATA_MATRIX_FIELD_256)}decode(i){const a=new Vo(i),l=a.getVersion(),c=a.readCodewords(),u=Yn.getDataBlocks(c,l);let h=0;for(let N of u)h+=N.getNumDataCodewords();const p=new Uint8Array(h),v=u.length;for(let N=0;N<v;N++){const O=u[N],z=O.getCodewords(),Q=O.getNumDataCodewords();this.correctErrors(z,Q);for(let he=0;he<Q;he++)p[he*v+N]=z[he]}return Xr.decode(p)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new b}for(let c=0;c<a;c++)i[c]=l[c]}}class Xn{constructor(i){this.image=i,this.rectangleDetector=new Ct(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new $;a=this.shiftToModuleCenter(a);const l=a[0],c=a[1],u=a[2],h=a[3];let p=this.transitionsBetween(l,h)+1,v=this.transitionsBetween(u,h)+1;(p&1)===1&&(p+=1),(v&1)===1&&(v+=1),4*p<7*v&&4*v<7*p&&(p=v=Math.max(p,v));let N=Xn.sampleGrid(this.image,l,c,u,h,p,v);return new rt(N,[l,c,u,h])}static shiftPoint(i,a,l){let c=(a.getX()-i.getX())/(l+1),u=(a.getY()-i.getY())/(l+1);return new Pe(i.getX()+c,i.getY()+u)}static moveAway(i,a,l){let c=i.getX(),u=i.getY();return c<a?c-=1:c+=1,u<l?u-=1:u+=1,new Pe(c,u)}detectSolid1(i){let a=i[0],l=i[1],c=i[3],u=i[2],h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,c),v=this.transitionsBetween(c,u),N=this.transitionsBetween(u,a),O=h,z=[u,a,l,c];return O>p&&(O=p,z[0]=a,z[1]=l,z[2]=c,z[3]=u),O>v&&(O=v,z[0]=l,z[1]=c,z[2]=u,z[3]=a),O>N&&(z[0]=c,z[1]=u,z[2]=a,z[3]=l),z}detectSolid2(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),p=Xn.shiftPoint(l,c,(h+1)*4),v=Xn.shiftPoint(c,l,(h+1)*4),N=this.transitionsBetween(p,a),O=this.transitionsBetween(v,u);return N<O?(i[0]=a,i[1]=l,i[2]=c,i[3]=u):(i[0]=l,i[1]=c,i[2]=u,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),p=this.transitionsBetween(l,u),v=Xn.shiftPoint(a,l,(p+1)*4),N=Xn.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(v,u),p=this.transitionsBetween(N,u);let O=new Pe(u.getX()+(c.getX()-l.getX())/(h+1),u.getY()+(c.getY()-l.getY())/(h+1)),z=new Pe(u.getX()+(a.getX()-l.getX())/(p+1),u.getY()+(a.getY()-l.getY())/(p+1));if(!this.isValid(O))return this.isValid(z)?z:null;if(!this.isValid(z))return O;let Q=this.transitionsBetween(v,O)+this.transitionsBetween(N,O),he=this.transitionsBetween(v,z)+this.transitionsBetween(N,z);return Q>he?O:z}shiftToModuleCenter(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u)+1,p=this.transitionsBetween(c,u)+1,v=Xn.shiftPoint(a,l,p*4),N=Xn.shiftPoint(c,l,h*4);h=this.transitionsBetween(v,u)+1,p=this.transitionsBetween(N,u)+1,(h&1)===1&&(h+=1),(p&1)===1&&(p+=1);let O=(a.getX()+l.getX()+c.getX()+u.getX())/4,z=(a.getY()+l.getY()+c.getY()+u.getY())/4;a=Xn.moveAway(a,O,z),l=Xn.moveAway(l,O,z),c=Xn.moveAway(c,O,z),u=Xn.moveAway(u,O,z);let Q,he;return v=Xn.shiftPoint(a,l,p*4),v=Xn.shiftPoint(v,u,h*4),Q=Xn.shiftPoint(l,a,p*4),Q=Xn.shiftPoint(Q,c,h*4),N=Xn.shiftPoint(c,u,p*4),N=Xn.shiftPoint(N,l,h*4),he=Xn.shiftPoint(u,c,p*4),he=Xn.shiftPoint(he,a,h*4),[v,Q,N,he]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,c,u,h,p){return Jt.getInstance().sampleGrid(i,h,p,.5,.5,h-.5,.5,h-.5,p-.5,.5,p-.5,a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),p=Math.abs(h-c)>Math.abs(u-l);if(p){let we=l;l=c,c=we,we=u,u=h,h=we}let v=Math.abs(u-l),N=Math.abs(h-c),O=-v/2,z=c<h?1:-1,Q=l<u?1:-1,he=0,ye=this.image.get(p?c:l,p?l:c);for(let we=l,Ne=c;we!==u;we+=Q){let Be=this.image.get(p?Ne:we,p?we:Ne);if(Be!==ye&&(he++,ye=Be),O+=N,O>0){if(Ne===h)break;Ne+=z,O-=v}}return he}}class Mi{constructor(){this.decoder=new Yo}decode(i,a=null){let l,c;if(a!=null&&a.has(re.PURE_BARCODE)){const N=Mi.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(N),c=Mi.NO_POINTS}else{const N=new Xn(i.getBlackMatrix()).detect();l=this.decoder.decode(N.getBits()),c=N.getPoints()}const u=l.getRawBytes(),h=new ae(l.getText(),u,8*u.length,c,ue.DATA_MATRIX,M.currentTimeMillis()),p=l.getByteSegments();p!=null&&h.putMetadata(Ee.BYTE_SEGMENTS,p);const v=l.getECLevel();return v!=null&&h.putMetadata(Ee.ERROR_CORRECTION_LEVEL,v),h}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new $;const c=this.moduleSize(a,i);let u=a[1];const h=l[1];let p=a[0];const N=(l[0]-p+1)/c,O=(h-u+1)/c;if(N<=0||O<=0)throw new $;const z=c/2;u+=z,p+=z;const Q=new le(N,O);for(let he=0;he<O;he++){const ye=u+he*c;for(let we=0;we<N;we++)i.get(p+we*c,ye)&&Q.set(we,he)}return Q}static moduleSize(i,a){const l=a.getWidth();let c=i[0];const u=i[1];for(;c<l&&a.get(c,u);)c++;if(c===l)throw new $;const h=c-i[0];if(h===0)throw new $;return h}}Mi.NO_POINTS=[];class Gs extends te{constructor(i=500){super(new Mi,i)}}var bi;(function(H){H[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H"})(bi||(bi={}));class xn{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,xn.FOR_BITS.set(l,this),xn.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return xn.L;case"M":return xn.M;case"Q":return xn.Q;case"H":return xn.H;default:throw new S(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof xn))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=xn.FOR_BITS.size)throw new A;return xn.FOR_BITS.get(i)}}xn.FOR_BITS=new Map,xn.FOR_VALUE=new Map,xn.L=new xn(bi.L,"L",1),xn.M=new xn(bi.M,"M",0),xn.Q=new xn(bi.Q,"Q",3),xn.H=new xn(bi.H,"H",2);class Ai{constructor(i){this.errorCorrectionLevel=xn.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return L.bitCount(i^a)}static decodeFormatInformation(i,a){const l=Ai.doDecodeFormatInformation(i,a);return l!==null?l:Ai.doDecodeFormatInformation(i^Ai.FORMAT_INFO_MASK_QR,a^Ai.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,c=0;for(const u of Ai.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===i||h===a)return new Ai(u[1]);let p=Ai.numBitsDiffering(i,h);p<l&&(c=u[1],l=p),i!==a&&(p=Ai.numBitsDiffering(a,h),p<l&&(c=u[1],l=p))}return l<=3?new Ai(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Ai))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Ai.FORMAT_INFO_MASK_QR=21522,Ai.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ie{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ce{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let c=0;const u=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const p of h)c+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new k;try{return this.getVersionForNumber((i-17)/4)}catch{throw new k}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return vt.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<vt.VERSION_DECODE_INFO.length;c++){const u=vt.VERSION_DECODE_INFO[c];if(u===i)return vt.getVersionForNumber(c+7);const h=Ai.numBitsDiffering(i,u);h<a&&(l=c+7,a=h)}return a<=3?vt.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new le(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}vt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vt.VERSIONS=[new vt(1,new Int32Array(0),new Ie(7,new ce(1,19)),new Ie(10,new ce(1,16)),new Ie(13,new ce(1,13)),new Ie(17,new ce(1,9))),new vt(2,Int32Array.from([6,18]),new Ie(10,new ce(1,34)),new Ie(16,new ce(1,28)),new Ie(22,new ce(1,22)),new Ie(28,new ce(1,16))),new vt(3,Int32Array.from([6,22]),new Ie(15,new ce(1,55)),new Ie(26,new ce(1,44)),new Ie(18,new ce(2,17)),new Ie(22,new ce(2,13))),new vt(4,Int32Array.from([6,26]),new Ie(20,new ce(1,80)),new Ie(18,new ce(2,32)),new Ie(26,new ce(2,24)),new Ie(16,new ce(4,9))),new vt(5,Int32Array.from([6,30]),new Ie(26,new ce(1,108)),new Ie(24,new ce(2,43)),new Ie(18,new ce(2,15),new ce(2,16)),new Ie(22,new ce(2,11),new ce(2,12))),new vt(6,Int32Array.from([6,34]),new Ie(18,new ce(2,68)),new Ie(16,new ce(4,27)),new Ie(24,new ce(4,19)),new Ie(28,new ce(4,15))),new vt(7,Int32Array.from([6,22,38]),new Ie(20,new ce(2,78)),new Ie(18,new ce(4,31)),new Ie(18,new ce(2,14),new ce(4,15)),new Ie(26,new ce(4,13),new ce(1,14))),new vt(8,Int32Array.from([6,24,42]),new Ie(24,new ce(2,97)),new Ie(22,new ce(2,38),new ce(2,39)),new Ie(22,new ce(4,18),new ce(2,19)),new Ie(26,new ce(4,14),new ce(2,15))),new vt(9,Int32Array.from([6,26,46]),new Ie(30,new ce(2,116)),new Ie(22,new ce(3,36),new ce(2,37)),new Ie(20,new ce(4,16),new ce(4,17)),new Ie(24,new ce(4,12),new ce(4,13))),new vt(10,Int32Array.from([6,28,50]),new Ie(18,new ce(2,68),new ce(2,69)),new Ie(26,new ce(4,43),new ce(1,44)),new Ie(24,new ce(6,19),new ce(2,20)),new Ie(28,new ce(6,15),new ce(2,16))),new vt(11,Int32Array.from([6,30,54]),new Ie(20,new ce(4,81)),new Ie(30,new ce(1,50),new ce(4,51)),new Ie(28,new ce(4,22),new ce(4,23)),new Ie(24,new ce(3,12),new ce(8,13))),new vt(12,Int32Array.from([6,32,58]),new Ie(24,new ce(2,92),new ce(2,93)),new Ie(22,new ce(6,36),new ce(2,37)),new Ie(26,new ce(4,20),new ce(6,21)),new Ie(28,new ce(7,14),new ce(4,15))),new vt(13,Int32Array.from([6,34,62]),new Ie(26,new ce(4,107)),new Ie(22,new ce(8,37),new ce(1,38)),new Ie(24,new ce(8,20),new ce(4,21)),new Ie(22,new ce(12,11),new ce(4,12))),new vt(14,Int32Array.from([6,26,46,66]),new Ie(30,new ce(3,115),new ce(1,116)),new Ie(24,new ce(4,40),new ce(5,41)),new Ie(20,new ce(11,16),new ce(5,17)),new Ie(24,new ce(11,12),new ce(5,13))),new vt(15,Int32Array.from([6,26,48,70]),new Ie(22,new ce(5,87),new ce(1,88)),new Ie(24,new ce(5,41),new ce(5,42)),new Ie(30,new ce(5,24),new ce(7,25)),new Ie(24,new ce(11,12),new ce(7,13))),new vt(16,Int32Array.from([6,26,50,74]),new Ie(24,new ce(5,98),new ce(1,99)),new Ie(28,new ce(7,45),new ce(3,46)),new Ie(24,new ce(15,19),new ce(2,20)),new Ie(30,new ce(3,15),new ce(13,16))),new vt(17,Int32Array.from([6,30,54,78]),new Ie(28,new ce(1,107),new ce(5,108)),new Ie(28,new ce(10,46),new ce(1,47)),new Ie(28,new ce(1,22),new ce(15,23)),new Ie(28,new ce(2,14),new ce(17,15))),new vt(18,Int32Array.from([6,30,56,82]),new Ie(30,new ce(5,120),new ce(1,121)),new Ie(26,new ce(9,43),new ce(4,44)),new Ie(28,new ce(17,22),new ce(1,23)),new Ie(28,new ce(2,14),new ce(19,15))),new vt(19,Int32Array.from([6,30,58,86]),new Ie(28,new ce(3,113),new ce(4,114)),new Ie(26,new ce(3,44),new ce(11,45)),new Ie(26,new ce(17,21),new ce(4,22)),new Ie(26,new ce(9,13),new ce(16,14))),new vt(20,Int32Array.from([6,34,62,90]),new Ie(28,new ce(3,107),new ce(5,108)),new Ie(26,new ce(3,41),new ce(13,42)),new Ie(30,new ce(15,24),new ce(5,25)),new Ie(28,new ce(15,15),new ce(10,16))),new vt(21,Int32Array.from([6,28,50,72,94]),new Ie(28,new ce(4,116),new ce(4,117)),new Ie(26,new ce(17,42)),new Ie(28,new ce(17,22),new ce(6,23)),new Ie(30,new ce(19,16),new ce(6,17))),new vt(22,Int32Array.from([6,26,50,74,98]),new Ie(28,new ce(2,111),new ce(7,112)),new Ie(28,new ce(17,46)),new Ie(30,new ce(7,24),new ce(16,25)),new Ie(24,new ce(34,13))),new vt(23,Int32Array.from([6,30,54,78,102]),new Ie(30,new ce(4,121),new ce(5,122)),new Ie(28,new ce(4,47),new ce(14,48)),new Ie(30,new ce(11,24),new ce(14,25)),new Ie(30,new ce(16,15),new ce(14,16))),new vt(24,Int32Array.from([6,28,54,80,106]),new Ie(30,new ce(6,117),new ce(4,118)),new Ie(28,new ce(6,45),new ce(14,46)),new Ie(30,new ce(11,24),new ce(16,25)),new Ie(30,new ce(30,16),new ce(2,17))),new vt(25,Int32Array.from([6,32,58,84,110]),new Ie(26,new ce(8,106),new ce(4,107)),new Ie(28,new ce(8,47),new ce(13,48)),new Ie(30,new ce(7,24),new ce(22,25)),new Ie(30,new ce(22,15),new ce(13,16))),new vt(26,Int32Array.from([6,30,58,86,114]),new Ie(28,new ce(10,114),new ce(2,115)),new Ie(28,new ce(19,46),new ce(4,47)),new Ie(28,new ce(28,22),new ce(6,23)),new Ie(30,new ce(33,16),new ce(4,17))),new vt(27,Int32Array.from([6,34,62,90,118]),new Ie(30,new ce(8,122),new ce(4,123)),new Ie(28,new ce(22,45),new ce(3,46)),new Ie(30,new ce(8,23),new ce(26,24)),new Ie(30,new ce(12,15),new ce(28,16))),new vt(28,Int32Array.from([6,26,50,74,98,122]),new Ie(30,new ce(3,117),new ce(10,118)),new Ie(28,new ce(3,45),new ce(23,46)),new Ie(30,new ce(4,24),new ce(31,25)),new Ie(30,new ce(11,15),new ce(31,16))),new vt(29,Int32Array.from([6,30,54,78,102,126]),new Ie(30,new ce(7,116),new ce(7,117)),new Ie(28,new ce(21,45),new ce(7,46)),new Ie(30,new ce(1,23),new ce(37,24)),new Ie(30,new ce(19,15),new ce(26,16))),new vt(30,Int32Array.from([6,26,52,78,104,130]),new Ie(30,new ce(5,115),new ce(10,116)),new Ie(28,new ce(19,47),new ce(10,48)),new Ie(30,new ce(15,24),new ce(25,25)),new Ie(30,new ce(23,15),new ce(25,16))),new vt(31,Int32Array.from([6,30,56,82,108,134]),new Ie(30,new ce(13,115),new ce(3,116)),new Ie(28,new ce(2,46),new ce(29,47)),new Ie(30,new ce(42,24),new ce(1,25)),new Ie(30,new ce(23,15),new ce(28,16))),new vt(32,Int32Array.from([6,34,60,86,112,138]),new Ie(30,new ce(17,115)),new Ie(28,new ce(10,46),new ce(23,47)),new Ie(30,new ce(10,24),new ce(35,25)),new Ie(30,new ce(19,15),new ce(35,16))),new vt(33,Int32Array.from([6,30,58,86,114,142]),new Ie(30,new ce(17,115),new ce(1,116)),new Ie(28,new ce(14,46),new ce(21,47)),new Ie(30,new ce(29,24),new ce(19,25)),new Ie(30,new ce(11,15),new ce(46,16))),new vt(34,Int32Array.from([6,34,62,90,118,146]),new Ie(30,new ce(13,115),new ce(6,116)),new Ie(28,new ce(14,46),new ce(23,47)),new Ie(30,new ce(44,24),new ce(7,25)),new Ie(30,new ce(59,16),new ce(1,17))),new vt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ie(30,new ce(12,121),new ce(7,122)),new Ie(28,new ce(12,47),new ce(26,48)),new Ie(30,new ce(39,24),new ce(14,25)),new Ie(30,new ce(22,15),new ce(41,16))),new vt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ie(30,new ce(6,121),new ce(14,122)),new Ie(28,new ce(6,47),new ce(34,48)),new Ie(30,new ce(46,24),new ce(10,25)),new Ie(30,new ce(2,15),new ce(64,16))),new vt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ie(30,new ce(17,122),new ce(4,123)),new Ie(28,new ce(29,46),new ce(14,47)),new Ie(30,new ce(49,24),new ce(10,25)),new Ie(30,new ce(24,15),new ce(46,16))),new vt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ie(30,new ce(4,122),new ce(18,123)),new Ie(28,new ce(13,46),new ce(32,47)),new Ie(30,new ce(48,24),new ce(14,25)),new Ie(30,new ce(42,15),new ce(32,16))),new vt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ie(30,new ce(20,117),new ce(4,118)),new Ie(28,new ce(40,47),new ce(7,48)),new Ie(30,new ce(43,24),new ce(22,25)),new Ie(30,new ce(10,15),new ce(67,16))),new vt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ie(30,new ce(19,118),new ce(6,119)),new Ie(28,new ce(18,47),new ce(31,48)),new Ie(30,new ce(34,24),new ce(34,25)),new Ie(30,new ce(20,15),new ce(61,16)))];var si;(function(H){H[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111"})(si||(si={}));class hr{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let c=0;c<a;c++)this.isMasked(l,c)&&i.flip(c,l)}}hr.values=new Map([[si.DATA_MASK_000,new hr(si.DATA_MASK_000,(H,i)=>(H+i&1)===0)],[si.DATA_MASK_001,new hr(si.DATA_MASK_001,(H,i)=>(H&1)===0)],[si.DATA_MASK_010,new hr(si.DATA_MASK_010,(H,i)=>i%3===0)],[si.DATA_MASK_011,new hr(si.DATA_MASK_011,(H,i)=>(H+i)%3===0)],[si.DATA_MASK_100,new hr(si.DATA_MASK_100,(H,i)=>(Math.floor(H/2)+Math.floor(i/3)&1)===0)],[si.DATA_MASK_101,new hr(si.DATA_MASK_101,(H,i)=>H*i%6===0)],[si.DATA_MASK_110,new hr(si.DATA_MASK_110,(H,i)=>H*i%6<3)],[si.DATA_MASK_111,new hr(si.DATA_MASK_111,(H,i)=>(H+i+H*i%3&1)===0)]]);class Xo{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new k;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const a=this.bitMatrix.getHeight();let l=0;const c=a-7;for(let u=a-1;u>=c;u--)l=this.copyBit(8,u,l);for(let u=a-8;u<a;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=Ai.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return vt.getVersionForNumber(a);let l=0;const c=i-11;for(let h=5;h>=0;h--)for(let p=i-9;p>=c;p--)l=this.copyBit(p,h,l);let u=vt.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;l=0;for(let h=5;h>=0;h--)for(let p=i-9;p>=c;p--)l=this.copyBit(h,p,l);if(u=vt.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new k}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=hr.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const u=a.buildFunctionPattern();let h=!0;const p=new Uint8Array(a.getTotalCodewords());let v=0,N=0,O=0;for(let z=c-1;z>0;z-=2){z===6&&z--;for(let Q=0;Q<c;Q++){const he=h?c-1-Q:Q;for(let ye=0;ye<2;ye++)u.get(z-ye,he)||(O++,N<<=1,this.bitMatrix.get(z-ye,he)&&(N|=1),O===8&&(p[v++]=N,O=0,N=0))}h=!h}if(v!==a.getTotalCodewords())throw new k;return p}remask(){if(this.parsedFormatInfo===null)return;const i=hr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let c=a+1,u=i.getHeight();c<u;c++)i.get(a,c)!==i.get(c,a)&&(i.flip(c,a),i.flip(a,c))}}class Wo{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new A;const c=a.getECBlocksForLevel(l);let u=0;const h=c.getECBlocks();for(const ye of h)u+=ye.getCount();const p=new Array(u);let v=0;for(const ye of h)for(let we=0;we<ye.getCount();we++){const Ne=ye.getDataCodewords(),Be=c.getECCodewordsPerBlock()+Ne;p[v++]=new Wo(Ne,new Uint8Array(Be))}const N=p[0].codewords.length;let O=p.length-1;for(;O>=0&&p[O].codewords.length!==N;)O--;O++;const z=N-c.getECCodewordsPerBlock();let Q=0;for(let ye=0;ye<z;ye++)for(let we=0;we<v;we++)p[we].codewords[ye]=i[Q++];for(let ye=O;ye<v;ye++)p[ye].codewords[z]=i[Q++];const he=p[0].codewords.length;for(let ye=z;ye<he;ye++)for(let we=0;we<v;we++){const Ne=we<O?ye:ye+1;p[we].codewords[Ne]=i[Q++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var dr;(function(H){H[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI"})(dr||(dr={}));class St{constructor(i,a,l,c){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=c,St.FOR_BITS.set(c,this),St.FOR_VALUE.set(i,this)}static forBits(i){const a=St.FOR_BITS.get(i);if(a===void 0)throw new A;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof St))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}St.FOR_BITS=new Map,St.FOR_VALUE=new Map,St.TERMINATOR=new St(dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),St.NUMERIC=new St(dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),St.ALPHANUMERIC=new St(dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),St.STRUCTURED_APPEND=new St(dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),St.BYTE=new St(dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),St.ECI=new St(dr.ECI,"ECI",Int32Array.from([0,0,0]),7),St.KANJI=new St(dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),St.FNC1_FIRST_POSITION=new St(dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),St.FNC1_SECOND_POSITION=new St(dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),St.HANZI=new St(dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gn{static decode(i,a,l,c){const u=new qs(i);let h=new se;const p=new Array;let v=-1,N=-1;try{let O=null,z=!1,Q;do{if(u.available()<4)Q=St.TERMINATOR;else{const he=u.readBits(4);Q=St.forBits(he)}switch(Q){case St.TERMINATOR:break;case St.FNC1_FIRST_POSITION:case St.FNC1_SECOND_POSITION:z=!0;break;case St.STRUCTURED_APPEND:if(u.available()<16)throw new k;v=u.readBits(8),N=u.readBits(8);break;case St.ECI:const he=gn.parseECIValue(u);if(O=J.getCharacterSetECIByValue(he),O===null)throw new k;break;case St.HANZI:const ye=u.readBits(4),we=u.readBits(Q.getCharacterCountBits(a));ye===gn.GB2312_SUBSET&&gn.decodeHanziSegment(u,h,we);break;default:const Ne=u.readBits(Q.getCharacterCountBits(a));switch(Q){case St.NUMERIC:gn.decodeNumericSegment(u,h,Ne);break;case St.ALPHANUMERIC:gn.decodeAlphanumericSegment(u,h,Ne,z);break;case St.BYTE:gn.decodeByteSegment(u,h,Ne,O,p,c);break;case St.KANJI:gn.decodeKanjiSegment(u,h,Ne);break;default:throw new k}break}}while(Q!==St.TERMINATOR)}catch{throw new k}return new De(i,h.toString(),p.length===0?null:p,l===null?null:l.toString(),v,N)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new k;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let p=h/96<<8&4294967295|h%96;p<959?p+=41377:p+=42657,c[u]=p>>8&255,c[u+1]=p&255,u+=2,l--}try{a.append(F.decode(c,j.GB2312))}catch(h){throw new k(h)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new k;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let p=h/192<<8&4294967295|h%192;p<7936?p+=33088:p+=49472,c[u]=p>>8,c[u+1]=p,u+=2,l--}try{a.append(F.decode(c,j.SHIFT_JIS))}catch(h){throw new k(h)}}static decodeByteSegment(i,a,l,c,u,h){if(8*l>i.available())throw new k;const p=new Uint8Array(l);for(let N=0;N<l;N++)p[N]=i.readBits(8);let v;c===null?v=j.guessEncoding(p,h):v=c.getName();try{a.append(F.decode(p,v))}catch(N){throw new k(N)}u.push(p)}static toAlphaNumericChar(i){if(i>=gn.ALPHANUMERIC_CHARS.length)throw new k;return gn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,c){const u=a.length();for(;l>1;){if(i.available()<11)throw new k;const h=i.readBits(11);a.append(gn.toAlphaNumericChar(Math.floor(h/45))),a.append(gn.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(i.available()<6)throw new k;a.append(gn.toAlphaNumericChar(i.readBits(6)))}if(c)for(let h=u;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new k;const c=i.readBits(10);if(c>=1e3)throw new k;a.append(gn.toAlphaNumericChar(Math.floor(c/100))),a.append(gn.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(gn.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(i.available()<7)throw new k;const c=i.readBits(7);if(c>=100)throw new k;a.append(gn.toAlphaNumericChar(Math.floor(c/10))),a.append(gn.toAlphaNumericChar(c%10))}else if(l===1){if(i.available()<4)throw new k;const c=i.readBits(4);if(c>=10)throw new k;a.append(gn.toAlphaNumericChar(c))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new k}}gn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gn.GB2312_SUBSET=1;class ps{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class Vs{constructor(){this.rsDecoder=new xe(We.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(le.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new Xo(i);let c=null;try{return this.decodeBitMatrixParser(l,a)}catch(u){c=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,a);return u.setOther(new ps(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(i,a){const l=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),h=Wo.getDataBlocks(u,l,c);let p=0;for(const O of h)p+=O.getNumDataCodewords();const v=new Uint8Array(p);let N=0;for(const O of h){const z=O.getCodewords(),Q=O.getNumDataCodewords();this.correctErrors(z,Q);for(let he=0;he<Q;he++)v[N++]=z[he]}return gn.decode(v,l,c,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new b}for(let c=0;c<a;c++)i[c]=l[c]}}class Ys extends Pe{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=(this.getX()+a)/2,u=(this.getY()+i)/2,h=(this.estimatedModuleSize+l)/2;return new Ys(c,u,h)}}class Si{constructor(i,a,l,c,u,h,p){this.image=i,this.startX=a,this.startY=l,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,c=i+l,u=this.startY+a/2,h=new Int32Array(3),p=this.image;for(let v=0;v<a;v++){const N=u+(v&1?-Math.floor((v+1)/2):Math.floor((v+1)/2));h[0]=0,h[1]=0,h[2]=0;let O=i;for(;O<c&&!p.get(O,N);)O++;let z=0;for(;O<c;){if(p.get(O,N))if(z===1)h[1]++;else if(z===2){if(this.foundPatternCross(h)){const Q=this.handlePossibleCenter(h,N,O);if(Q!==null)return Q}h[0]=h[2],h[1]=1,h[2]=0,z=1}else h[++z]++;else z===1&&z++,h[z]++;O++}if(this.foundPatternCross(h)){const Q=this.handlePossibleCenter(h,N,c);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let c=0;c<3;c++)if(Math.abs(a-i[c])>=l)return!1;return!0}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let v=i;for(;v>=0&&u.get(a,v)&&p[1]<=l;)p[1]++,v--;if(v<0||p[1]>l)return NaN;for(;v>=0&&!u.get(a,v)&&p[0]<=l;)p[0]++,v--;if(p[0]>l)return NaN;for(v=i+1;v<h&&u.get(a,v)&&p[1]<=l;)p[1]++,v++;if(v===h||p[1]>l)return NaN;for(;v<h&&!u.get(a,v)&&p[2]<=l;)p[2]++,v++;if(p[2]>l)return NaN;const N=p[0]+p[1]+p[2];return 5*Math.abs(N-c)>=2*c?NaN:this.foundPatternCross(p)?Si.centerFromEnd(p,v):NaN}handlePossibleCenter(i,a,l){const c=i[0]+i[1]+i[2],u=Si.centerFromEnd(i,l),h=this.crossCheckVertical(a,u,2*i[1],c);if(!isNaN(h)){const p=(i[0]+i[1]+i[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(p,h,u))return N.combineEstimate(h,u,p);const v=new Ys(u,h,p);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class Zo extends Pe{constructor(i,a,l,c){super(i,a),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=this.count+1,u=(this.count*this.getX()+a)/c,h=(this.count*this.getY()+i)/c,p=(this.count*this.estimatedModuleSize+l)/c;return new Zo(u,h,p,c)}}class Bl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(re.TRY_HARDER)!==void 0,l=i!=null&&i.get(re.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let p=Math.floor(3*u/(4*gt.MAX_MODULES));(p<gt.MIN_SKIP||a)&&(p=gt.MIN_SKIP);let v=!1;const N=new Int32Array(5);for(let z=p-1;z<u&&!v;z+=p){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let Q=0;for(let he=0;he<h;he++)if(c.get(he,z))(Q&1)===1&&Q++,N[Q]++;else if(Q&1)N[Q]++;else if(Q===4)if(gt.foundPatternCross(N)){if(this.handlePossibleCenter(N,z,he,l)===!0)if(p=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const we=this.findRowSkip();we>N[2]&&(z+=we-N[2]-p,he=h-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,Q=3;continue}Q=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,Q=3;else N[++Q]++;gt.foundPatternCross(N)&&this.handlePossibleCenter(N,z,h,l)===!0&&(p=N[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Pe.orderBestPatterns(O),new Bl(O)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let u=0;u<5;u++){const h=i[u];if(h===0)return!1;a+=h}if(a<7)return!1;const l=a/7,c=l/2;return Math.abs(l-i[0])<c&&Math.abs(l-i[1])<c&&Math.abs(3*l-i[2])<3*c&&Math.abs(l-i[3])<c&&Math.abs(l-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,c){const u=this.getCrossCheckStateCount();let h=0;const p=this.image;for(;i>=h&&a>=h&&p.get(a-h,i-h);)u[2]++,h++;if(i<h||a<h)return!1;for(;i>=h&&a>=h&&!p.get(a-h,i-h)&&u[1]<=l;)u[1]++,h++;if(i<h||a<h||u[1]>l)return!1;for(;i>=h&&a>=h&&p.get(a-h,i-h)&&u[0]<=l;)u[0]++,h++;if(u[0]>l)return!1;const v=p.getHeight(),N=p.getWidth();for(h=1;i+h<v&&a+h<N&&p.get(a+h,i+h);)u[2]++,h++;if(i+h>=v||a+h>=N)return!1;for(;i+h<v&&a+h<N&&!p.get(a+h,i+h)&&u[3]<l;)u[3]++,h++;if(i+h>=v||a+h>=N||u[3]>=l)return!1;for(;i+h<v&&a+h<N&&p.get(a+h,i+h)&&u[4]<l;)u[4]++,h++;if(u[4]>=l)return!1;const O=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(O-c)<2*c&&gt.foundPatternCross(u)}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),p=this.getCrossCheckStateCount();let v=i;for(;v>=0&&u.get(a,v);)p[2]++,v--;if(v<0)return NaN;for(;v>=0&&!u.get(a,v)&&p[1]<=l;)p[1]++,v--;if(v<0||p[1]>l)return NaN;for(;v>=0&&u.get(a,v)&&p[0]<=l;)p[0]++,v--;if(p[0]>l)return NaN;for(v=i+1;v<h&&u.get(a,v);)p[2]++,v++;if(v===h)return NaN;for(;v<h&&!u.get(a,v)&&p[3]<l;)p[3]++,v++;if(v===h||p[3]>=l)return NaN;for(;v<h&&u.get(a,v)&&p[4]<l;)p[4]++,v++;if(p[4]>=l)return NaN;const N=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(N-c)>=2*c?NaN:gt.foundPatternCross(p)?gt.centerFromEnd(p,v):NaN}crossCheckHorizontal(i,a,l,c){const u=this.image,h=u.getWidth(),p=this.getCrossCheckStateCount();let v=i;for(;v>=0&&u.get(v,a);)p[2]++,v--;if(v<0)return NaN;for(;v>=0&&!u.get(v,a)&&p[1]<=l;)p[1]++,v--;if(v<0||p[1]>l)return NaN;for(;v>=0&&u.get(v,a)&&p[0]<=l;)p[0]++,v--;if(p[0]>l)return NaN;for(v=i+1;v<h&&u.get(v,a);)p[2]++,v++;if(v===h)return NaN;for(;v<h&&!u.get(v,a)&&p[3]<l;)p[3]++,v++;if(v===h||p[3]>=l)return NaN;for(;v<h&&u.get(v,a)&&p[4]<l;)p[4]++,v++;if(p[4]>=l)return NaN;const N=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(N-c)>=c?NaN:gt.foundPatternCross(p)?gt.centerFromEnd(p,v):NaN}handlePossibleCenter(i,a,l,c){const u=i[0]+i[1]+i[2]+i[3]+i[4];let h=gt.centerFromEnd(i,l),p=this.crossCheckVertical(a,Math.floor(h),i[2],u);if(!isNaN(p)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(p),i[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(p),Math.floor(h),i[2],u)))){const v=u/7;let N=!1;const O=this.possibleCenters;for(let z=0,Q=O.length;z<Q;z++){const he=O[z];if(he.aboutEquals(v,p,h)){O[z]=he.combineEstimate(p,h,v),N=!0;break}}if(!N){const z=new Zo(h,p,v);O.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=gt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=gt.CENTER_QUORUM&&(i++,a+=h.getEstimatedModuleSize());if(i<3)return!1;const c=a/l;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new $;const a=this.possibleCenters;let l;if(i>3){let c=0,u=0;for(const v of this.possibleCenters){const N=v.getEstimatedModuleSize();c+=N,u+=N*N}l=c/i;let h=Math.sqrt(u/i-l*l);a.sort((v,N)=>{const O=Math.abs(N.getEstimatedModuleSize()-l),z=Math.abs(v.getEstimatedModuleSize()-l);return O<z?-1:O>z?1:0});const p=Math.max(.2*l,h);for(let v=0;v<a.length&&a.length>3;v++){const N=a[v];Math.abs(N.getEstimatedModuleSize()-l)>p&&(a.splice(v,1),v--)}}if(a.length>3){let c=0;for(const u of a)c+=u.getEstimatedModuleSize();l=c/a.length,a.sort((u,h)=>{if(h.getCount()===u.getCount()){const p=Math.abs(h.getEstimatedModuleSize()-l),v=Math.abs(u.getEstimatedModuleSize()-l);return p<v?1:p>v?-1:0}else return h.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}gt.CENTER_QUORUM=2,gt.MIN_SKIP=3,gt.MAX_MODULES=57;class ms{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(re.NEED_RESULT_POINT_CALLBACK);const l=new gt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),c=i.getBottomLeft(),u=this.calculateModuleSize(a,l,c);if(u<1)throw new $("No pattern found in proccess finder.");const h=ms.computeDimension(a,l,c,u),p=vt.getProvisionalVersionForDimension(h),v=p.getDimensionForVersion()-7;let N=null;if(p.getAlignmentPatternCenters().length>0){const he=l.getX()-a.getX()+c.getX(),ye=l.getY()-a.getY()+c.getY(),we=1-3/v,Ne=Math.floor(a.getX()+we*(he-a.getX())),Be=Math.floor(a.getY()+we*(ye-a.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{N=this.findAlignmentInRegion(u,Ne,Be,Ze);break}catch(Je){if(!(Je instanceof $))throw Je}}const O=ms.createTransform(a,l,c,N,h),z=ms.sampleGrid(this.image,O,h);let Q;return N===null?Q=[c,a,l]:Q=[c,a,l,N],new rt(z,Q)}static createTransform(i,a,l,c,u){const h=u-3.5;let p,v,N,O;return c!==null?(p=c.getX(),v=c.getY(),N=h-3,O=N):(p=a.getX()-i.getX()+l.getX(),v=a.getY()-i.getY()+l.getY(),N=h,O=h),Lt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,N,O,3.5,h,i.getX(),i.getY(),a.getX(),a.getY(),p,v,l.getX(),l.getY())}static sampleGrid(i,a,l){return Jt.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,c){const u=Ue.round(Pe.distance(i,a)/c),h=Ue.round(Pe.distance(i,l)/c);let p=Math.floor((u+h)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new $("Dimensions could be not found.")}return p}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,c){let u=this.sizeOfBlackWhiteBlackRun(i,a,l,c),h=1,p=i-(l-i);p<0?(h=i/(i-p),p=0):p>=this.image.getWidth()&&(h=(this.image.getWidth()-1-i)/(p-i),p=this.image.getWidth()-1);let v=Math.floor(a-(c-a)*h);return h=1,v<0?(h=a/(a-v),v=0):v>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(v-a),v=this.image.getHeight()-1),p=Math.floor(i+(p-i)*h),u+=this.sizeOfBlackWhiteBlackRun(i,a,p,v),u-1}sizeOfBlackWhiteBlackRun(i,a,l,c){const u=Math.abs(c-a)>Math.abs(l-i);if(u){let he=i;i=a,a=he,he=l,l=c,c=he}const h=Math.abs(l-i),p=Math.abs(c-a);let v=-h/2;const N=i<l?1:-1,O=a<c?1:-1;let z=0;const Q=l+N;for(let he=i,ye=a;he!==Q;he+=N){const we=u?ye:he,Ne=u?he:ye;if(z===1===this.image.get(we,Ne)){if(z===2)return Ue.distance(he,ye,i,a);z++}if(v+=p,v>0){if(ye===c)break;ye+=O,v-=h}}return z===2?Ue.distance(l+N,c,i,a):NaN}findAlignmentInRegion(i,a,l,c){const u=Math.floor(c*i),h=Math.max(0,a-u),p=Math.min(this.image.getWidth()-1,a+u);if(p-h<i*3)throw new $("Alignment top exceeds estimated module size.");const v=Math.max(0,l-u),N=Math.min(this.image.getHeight()-1,l+u);if(N-v<i*3)throw new $("Alignment bottom exceeds estimated module size.");return new Si(this.image,h,v,p-h,N-v,i,this.resultPointCallback).find()}}class pa{constructor(){this.decoder=new Vs}getDecoder(){return this.decoder}decode(i,a){let l,c;if(a!=null&&a.get(re.PURE_BARCODE)!==void 0){const v=pa.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(v,a),c=pa.NO_POINTS}else{const v=new ms(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(v.getBits(),a),c=v.getPoints()}l.getOther()instanceof ps&&l.getOther().applyMirroredCorrection(c);const u=new ae(l.getText(),l.getRawBytes(),void 0,c,ue.QR_CODE,void 0),h=l.getByteSegments();h!==null&&u.putMetadata(Ee.BYTE_SEGMENTS,h);const p=l.getECLevel();return p!==null&&u.putMetadata(Ee.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(u.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(Ee.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new $;const c=this.moduleSize(a,i);let u=a[1],h=l[1],p=a[0],v=l[0];if(p>=v||u>=h)throw new $;if(h-u!==v-p&&(v=p+(h-u),v>=i.getWidth()))throw new $;const N=Math.round((v-p+1)/c),O=Math.round((h-u+1)/c);if(N<=0||O<=0)throw new $;if(O!==N)throw new $;const z=Math.floor(c/2);u+=z,p+=z;const Q=p+Math.floor((N-1)*c)-v;if(Q>0){if(Q>z)throw new $;p-=Q}const he=u+Math.floor((O-1)*c)-h;if(he>0){if(he>z)throw new $;u-=he}const ye=new le(N,O);for(let we=0;we<O;we++){const Ne=u+Math.floor(we*c);for(let Be=0;Be<N;Be++)i.get(p+Math.floor(Be*c),Ne)&&ye.set(Be,we)}return ye}static moduleSize(i,a){const l=a.getHeight(),c=a.getWidth();let u=i[0],h=i[1],p=!0,v=0;for(;u<c&&h<l;){if(p!==a.get(u,h)){if(++v===5)break;p=!p}u++,h++}if(u===c||h===l)throw new $;return(u-i[0])/7}}pa.NO_POINTS=new Array;class wt{PDF417Common(){}static getBitCountSum(i){return Ue.sum(i)}static toIntArray(i){if(i==null||!i.length)return wt.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const c of i)a[l++]=c;return a}static getCodeword(i){const a=T.binarySearch(wt.SYMBOL_TABLE,i&262143);return a<0?-1:(wt.CODEWORD_TABLE[a]-1)%wt.NUMBER_OF_CODEWORDS}}wt.NUMBER_OF_CODEWORDS=929,wt.MAX_CODEWORDS_IN_BARCODE=wt.NUMBER_OF_CODEWORDS-1,wt.MIN_ROWS_IN_BARCODE=3,wt.MAX_ROWS_IN_BARCODE=90,wt.MODULES_IN_CODEWORD=17,wt.MODULES_IN_STOP_PATTERN=18,wt.BARS_IN_MODULE=8,wt.EMPTY_INT_ARRAY=new Int32Array([]),wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jl{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ft{static detectMultiple(i,a,l){let c=i.getBlackMatrix(),u=Ft.detect(l,c);return u.length||(c=c.clone(),c.rotate180(),u=Ft.detect(l,c)),new jl(c,u)}static detect(i,a){const l=new Array;let c=0,u=0,h=!1;for(;c<a.getHeight();){const p=Ft.findVertices(a,c,u);if(p[0]==null&&p[3]==null){if(!h)break;h=!1,u=0;for(const v of l)v[1]!=null&&(c=Math.trunc(Math.max(c,v[1].getY()))),v[3]!=null&&(c=Math.max(c,Math.trunc(v[3].getY())));c+=Ft.ROW_STEP;continue}if(h=!0,l.push(p),!i)break;p[2]!=null?(u=Math.trunc(p[2].getX()),c=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),c=Math.trunc(p[4].getY()))}return l}static findVertices(i,a,l){const c=i.getHeight(),u=i.getWidth(),h=new Array(8);return Ft.copyToResult(h,Ft.findRowsWithPattern(i,c,u,a,l,Ft.START_PATTERN),Ft.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),Ft.copyToResult(h,Ft.findRowsWithPattern(i,c,u,a,l,Ft.STOP_PATTERN),Ft.INDEXES_STOP_PATTERN),h}static copyToResult(i,a,l){for(let c=0;c<l.length;c++)i[l[c]]=a[c]}static findRowsWithPattern(i,a,l,c,u,h){const p=new Array(4);let v=!1;const N=new Int32Array(h.length);for(;c<a;c+=Ft.ROW_STEP){let z=Ft.findGuardPattern(i,u,c,l,!1,h,N);if(z!=null){for(;c>0;){const Q=Ft.findGuardPattern(i,u,--c,l,!1,h,N);if(Q!=null)z=Q;else{c++;break}}p[0]=new Pe(z[0],c),p[1]=new Pe(z[1],c),v=!0;break}}let O=c+1;if(v){let z=0,Q=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;O<a;O++){const he=Ft.findGuardPattern(i,Q[0],O,l,!1,h,N);if(he!=null&&Math.abs(Q[0]-he[0])<Ft.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-he[1])<Ft.MAX_PATTERN_DRIFT)Q=he,z=0;else{if(z>Ft.SKIPPED_ROW_COUNT_MAX)break;z++}}O-=z+1,p[2]=new Pe(Q[0],O),p[3]=new Pe(Q[1],O)}return O-c<Ft.BARCODE_MIN_HEIGHT&&T.fill(p,null),p}static findGuardPattern(i,a,l,c,u,h,p){T.fillWithin(p,0,p.length,0);let v=a,N=0;for(;i.get(v,l)&&v>0&&N++<Ft.MAX_PIXEL_DRIFT;)v--;let O=v,z=0,Q=h.length;for(let he=u;O<c;O++)if(i.get(O,l)!==he)p[z]++;else{if(z===Q-1){if(Ft.patternMatchVariance(p,h,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return new Int32Array([v,O]);v+=p[0]+p[1],M.arraycopy(p,2,p,0,z-1),p[z-1]=0,p[z]=0,z--}else z++;p[z]=1,he=!he}return z===Q-1&&Ft.patternMatchVariance(p,h,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE?new Int32Array([v,O-1]):null}static patternMatchVariance(i,a,l){let c=i.length,u=0,h=0;for(let N=0;N<c;N++)u+=i[N],h+=a[N];if(u<h)return 1/0;let p=u/h;l*=p;let v=0;for(let N=0;N<c;N++){let O=i[N],z=a[N]*p,Q=O>z?O-z:z-O;if(Q>l)return 1/0;v+=Q}return v/u}}Ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ft.MAX_AVG_VARIANCE=.42,Ft.MAX_INDIVIDUAL_VARIANCE=.8,Ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ft.MAX_PIXEL_DRIFT=3,Ft.MAX_PATTERN_DRIFT=5,Ft.SKIPPED_ROW_COUNT_MAX=25,Ft.ROW_STEP=5,Ft.BARCODE_MIN_HEIGHT=10;class $n{constructor(i,a){if(a.length===0)throw new A;this.field=i;let l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let a=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)a=this.field.add(this.field.multiply(i,a),this.coefficients[c]);return a}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let c=new Int32Array(l.length),u=l.length-a.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=this.field.add(a[h-u],l[h]);return new $n(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof $n?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new $n(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1);for(let p=0;p<l;p++){let v=a[p];for(let N=0;N<u;N++)h[p+N]=this.field.add(h[p+N],this.field.multiply(v,c[N]))}return new $n(this.field,h)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new $n(this.field,a)}multiplyScalar(i){if(i===0)return new $n(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new $n(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new A;if(a===0)return new $n(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+i);for(let u=0;u<l;u++)c[u]=this.field.multiply(this.coefficients[u],a);return new $n(this.field,c)}toString(){let i=new se;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class Qo{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new it;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Ko extends Qo{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let c=0;c<i;c++)this.expTable[c]=l,l=l*a%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new $n(this,new Int32Array([0])),this.one=new $n(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new A;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new $n(this,l)}}Ko.PDF417_GF=new Ko(wt.NUMBER_OF_CODEWORDS,3);class kl{constructor(){this.field=Ko.PDF417_GF}decode(i,a,l){let c=new $n(this.field,i),u=new Int32Array(a),h=!1;for(let ye=a;ye>0;ye--){let we=c.evaluateAt(this.field.exp(ye));u[a-ye]=we,we!==0&&(h=!0)}if(!h)return 0;let p=this.field.getOne();if(l!=null)for(const ye of l){let we=this.field.exp(i.length-1-ye),Ne=new $n(this.field,new Int32Array([this.field.subtract(0,we),1]));p=p.multiply(Ne)}let v=new $n(this.field,u),N=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),v,a),O=N[0],z=N[1],Q=this.findErrorLocations(O),he=this.findErrorMagnitudes(z,O,Q);for(let ye=0;ye<Q.length;ye++){let we=i.length-1-this.field.log(Q[ye]);if(we<0)throw b.getChecksumInstance();i[we]=this.field.subtract(i[we],he[ye])}return Q.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let Q=i;i=a,a=Q}let c=i,u=a,h=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let Q=c,he=h;if(c=u,h=p,c.isZero())throw b.getChecksumInstance();u=Q;let ye=this.field.getZero(),we=c.getCoefficient(c.getDegree()),Ne=this.field.inverse(we);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Be=u.getDegree()-c.getDegree(),Ze=this.field.multiply(u.getCoefficient(u.getDegree()),Ne);ye=ye.add(this.field.buildMonomial(Be,Ze)),u=u.subtract(c.multiplyByMonomial(Be,Ze))}p=ye.multiply(h).subtract(he).negative()}let v=p.getCoefficient(0);if(v===0)throw b.getChecksumInstance();let N=this.field.inverse(v),O=p.multiply(N),z=u.multiply(N);return[O,z]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),c=0;for(let u=1;u<this.field.getSize()&&c<a;u++)i.evaluateAt(u)===0&&(l[c]=this.field.inverse(u),c++);if(c!==a)throw b.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let c=a.getDegree(),u=new Int32Array(c);for(let N=1;N<=c;N++)u[c-N]=this.field.multiply(N,a.getCoefficient(N));let h=new $n(this.field,u),p=l.length,v=new Int32Array(p);for(let N=0;N<p;N++){let O=this.field.inverse(l[N]),z=this.field.subtract(0,i.evaluateAt(O)),Q=this.field.inverse(h.evaluateAt(O));v[N]=this.field.multiply(z,Q)}return v}}class Ra{constructor(i,a,l,c,u){i instanceof Ra?this.constructor_2(i):this.constructor_1(i,a,l,c,u)}constructor_1(i,a,l,c,u){const h=a==null||l==null,p=c==null||u==null;if(h&&p)throw new $;h?(a=new Pe(0,c.getY()),l=new Pe(0,u.getY())):p&&(c=new Pe(i.getWidth()-1,a.getY()),u=new Pe(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Ra(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,p=this.bottomRight;if(i>0){let v=l?this.topLeft:this.topRight,N=Math.trunc(v.getY()-i);N<0&&(N=0);let O=new Pe(v.getX(),N);l?c=O:h=O}if(a>0){let v=l?this.bottomLeft:this.bottomRight,N=Math.trunc(v.getY()+a);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let O=new Pe(v.getX(),N);l?u=O:p=O}return new Ra(this.image,c,u,h,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Jo{constructor(i,a,l,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Wr{constructor(){this.buffer=""}static form(i,a){let l=-1;function c(h,p,v,N,O,z){if(h==="%%")return"%";if(a[++l]===void 0)return;h=N?parseInt(N.substr(1)):void 0;let Q=O?parseInt(O.substr(1)):void 0,he;switch(z){case"s":he=a[l];break;case"c":he=a[l][0];break;case"f":he=parseFloat(a[l]).toFixed(h);break;case"p":he=parseFloat(a[l]).toPrecision(h);break;case"e":he=parseFloat(a[l]).toExponential(h);break;case"x":he=parseInt(a[l]).toString(Q||16);break;case"d":he=parseFloat(parseInt(a[l],Q||10).toPrecision(h)).toFixed(0);break}he=typeof he=="object"?JSON.stringify(he):(+he).toString(Q);let ye=parseInt(v),we=v&&v[0]+""=="0"?"0":" ";for(;he.length<ye;)he=p!==void 0?he+we:we+he;return he}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}format(i,...a){this.buffer+=Wr.form(i,a)}toString(){return this.buffer}}class Rr{constructor(i){this.boundingBox=new Ra(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<Rr.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(i)-l;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(i)+l,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Wr;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}Rr.MAX_NEARBY_DISTANCE=5;class xs{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,c]of this.values.entries()){const u={getKey:()=>l,getValue:()=>c};u.getValue()>i?(i=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===i&&a.push(u.getKey())}return wt.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Wa extends Rr{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=-1,N=1,O=0;for(let z=h;z<p;z++){if(a[z]==null)continue;let Q=a[z],he=Q.getRowNumber()-v;if(he===0)O++;else if(he===1)N=Math.max(N,O),O=1,v=Q.getRowNumber();else if(he<0||Q.getRowNumber()>=i.getRowCount()||he>z)a[z]=null;else{let ye;N>2?ye=(N-2)*he:ye=he;let we=ye>=z;for(let Ne=1;Ne<=ye&&!we;Ne++)we=a[z-Ne]!=null;we?a[z]=null:(v=Q.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.getCodewords(),v=-1;for(let N=u;N<h;N++){if(p[N]==null)continue;let O=p[N];O.setRowNumberAsRowIndicatorColumn();let z=O.getRowNumber()-v;z===0||(z===1?v=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?p[N]=null:v=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new xs,l=new xs,c=new xs,u=new xs;for(let p of i){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let v=p.getValue()%30,N=p.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:l.setValue(v*3+1);break;case 1:u.setValue(v/3),c.setValue(v%3);break;case 2:a.setValue(v+1);break}}if(a.getValue().length===0||l.getValue().length===0||c.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<wt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>wt.MAX_ROWS_IN_BARCODE)return null;let h=new Jo(a.getValue()[0],l.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,h),h}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let c=i[l];if(i[l]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:u+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ba{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=wt.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[l];u!=null&&(u.setRowNumber(i[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let p=this.detectionResultColumns[h].getCodewords()[l];p!=null&&(u=Ba.adjustRowNumberIfValid(c,u,p),p.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let p=this.detectionResultColumns[h].getCodewords()[l];p!=null&&(u=Ba.adjustRowNumberIfValid(c,u,p),p.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let c=l[a],u=this.detectionResultColumns[i-1].getCodewords(),h=u;this.detectionResultColumns[i+1]!=null&&(h=this.detectionResultColumns[i+1].getCodewords());let p=new Array(14);p[2]=u[a],p[3]=h[a],a>0&&(p[0]=l[a-1],p[4]=u[a-1],p[5]=h[a-1]),a>1&&(p[8]=l[a-2],p[10]=u[a-2],p[11]=h[a-2]),a<l.length-1&&(p[1]=l[a+1],p[6]=u[a+1],p[7]=h[a+1]),a<l.length-2&&(p[9]=l[a+2],p[12]=u[a+2],p[13]=h[a+2]);for(let v of p)if(Ba.adjustRowNumber(c,v))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Wr;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[l];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class ma{constructor(i,a,l,c){this.rowNumber=ma.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==ma.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}ma.BARCODE_ROW_UNKNOWN=-1;class ji{static initialize(){for(let i=0;i<wt.SYMBOL_TABLE.length;i++){let a=wt.SYMBOL_TABLE[i],l=a&1;for(let c=0;c<wt.BARS_IN_MODULE;c++){let u=0;for(;(a&1)===l;)u+=1,a>>=1;l=a&1,ji.RATIOS_TABLE[i]||(ji.RATIOS_TABLE[i]=new Array(wt.BARS_IN_MODULE)),ji.RATIOS_TABLE[i][wt.BARS_IN_MODULE-c-1]=Math.fround(u/wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=ji.getDecodedCodewordValue(ji.sampleBitCounts(i));return a!==-1?a:ji.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=Ue.sum(i),l=new Int32Array(wt.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<wt.MODULES_IN_CODEWORD;h++){let p=a/(2*wt.MODULES_IN_CODEWORD)+h*a/wt.MODULES_IN_CODEWORD;u+i[c]<=p&&(u+=i[c],c++),l[c]++}return l}static getDecodedCodewordValue(i){let a=ji.getBitValue(i);return wt.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let c=0;c<i[l];c++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=Ue.sum(i),l=new Array(wt.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(i[h]/a);let c=nt.MAX_VALUE,u=-1;this.bSymbolTableReady||ji.initialize();for(let h=0;h<ji.RATIOS_TABLE.length;h++){let p=0,v=ji.RATIOS_TABLE[h];for(let N=0;N<wt.BARS_IN_MODULE;N++){let O=Math.fround(v[N]-l[N]);if(p+=Math.fround(O*O),p>=c)break}p<c&&(c=p,u=wt.SYMBOL_TABLE[h])}return u}}ji.bSymbolTableReady=!1,ji.RATIOS_TABLE=new Array(wt.SYMBOL_TABLE.length).map(H=>new Array(wt.BARS_IN_MODULE));class $o{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class el{static parseLong(i,a=void 0){return parseInt(i,a)}}class tl extends x{}tl.kind="NullPointerException";class xa{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new tl;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new q;if(l===0)return;for(let c=0;c<l;c++)this.write(i[a+c])}flush(){}close(){}}class ja extends x{}class Fc extends xa{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new ja;l=L.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new q;this.ensureCapacity(this.count+l),M.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var $t;(function(H){H[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT"})($t||($t={}));function Br(){if(typeof window<"u")return window.BigInt||null;if(typeof go<"u")return go.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Za;function gr(H){if(typeof Za>"u"&&(Za=Br()),Za===null)throw new Error("BigInt is not supported!");return Za(H)}function Uc(){let H=[];H[0]=gr(1);let i=gr(900);H[1]=i;for(let a=2;a<16;a++)H[a]=H[a-1]*i;return H}class Re{static decode(i,a){let l=new se(""),c=J.ISO8859_1;l.enableDecoding(c);let u=1,h=i[u++],p=new $o;for(;u<i[0];){switch(h){case Re.TEXT_COMPACTION_MODE_LATCH:u=Re.textCompaction(i,u,l);break;case Re.BYTE_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:u=Re.byteCompaction(h,i,c,u,l);break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u++]);break;case Re.NUMERIC_COMPACTION_MODE_LATCH:u=Re.numericCompaction(i,u,l);break;case Re.ECI_CHARSET:J.getCharacterSetECIByValue(i[u++]);break;case Re.ECI_GENERAL_PURPOSE:u+=2;break;case Re.ECI_USER_DEFINED:u++;break;case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Re.decodeMacroBlock(i,u,p);break;case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:throw new k;default:u--,u=Re.textCompaction(i,u,l);break}if(u<i.length)h=i[u++];else throw k.getFormatInstance()}if(l.length()===0)throw k.getFormatInstance();let v=new De(null,l.toString(),null,a);return v.setOther(p),v}static decodeMacroBlock(i,a,l){if(a+Re.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw k.getFormatInstance();let c=new Int32Array(Re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<Re.NUMBER_OF_SEQUENCE_CODEWORDS;p++,a++)c[p]=i[a];l.setSegmentIndex(L.parseInt(Re.decodeBase900toBase10(c,Re.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new se;a=Re.textCompaction(i,a,u),l.setFileId(u.toString());let h=-1;for(i[a]===Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<i[0];)switch(i[a]){case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new se;a=Re.textCompaction(i,a+1,p),l.setFileName(p.toString());break;case Re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new se;a=Re.textCompaction(i,a+1,v),l.setSender(v.toString());break;case Re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new se;a=Re.textCompaction(i,a+1,N),l.setAddressee(N.toString());break;case Re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new se;a=Re.numericCompaction(i,a+1,O),l.setSegmentCount(L.parseInt(O.toString()));break;case Re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new se;a=Re.numericCompaction(i,a+1,z),l.setTimestamp(el.parseLong(z.toString()));break;case Re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new se;a=Re.numericCompaction(i,a+1,Q),l.setChecksum(L.parseInt(Q.toString()));break;case Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let he=new se;a=Re.numericCompaction(i,a+1,he),l.setFileSize(el.parseLong(he.toString()));break;default:throw k.getFormatInstance()}break;case Re.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(h!==-1){let p=a-h;l.isLastSegment()&&p--,l.setOptionalData(T.copyOfRange(i,h,h+p))}return a}static textCompaction(i,a,l){let c=new Int32Array((i[0]-a)*2),u=new Int32Array((i[0]-a)*2),h=0,p=!1;for(;a<i[0]&&!p;){let v=i[a++];if(v<Re.TEXT_COMPACTION_MODE_LATCH)c[h]=v/30,c[h+1]=v%30,h+=2;else switch(v){case Re.TEXT_COMPACTION_MODE_LATCH:c[h++]=Re.TEXT_COMPACTION_MODE_LATCH;break;case Re.BYTE_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.NUMERIC_COMPACTION_MODE_LATCH:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:a--,p=!0;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=i[a++],u[h]=v,h++;break}}return Re.decodeTextCompaction(c,u,h,l),a}static decodeTextCompaction(i,a,l,c){let u=$t.ALPHA,h=$t.ALPHA,p=0;for(;p<l;){let v=i[p],N="";switch(u){case $t.ALPHA:if(v<26)N=String.fromCharCode(65+v);else switch(v){case 26:N=" ";break;case Re.LL:u=$t.LOWER;break;case Re.ML:u=$t.MIXED;break;case Re.PS:h=u,u=$t.PUNCT_SHIFT;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p]);break;case Re.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.LOWER:if(v<26)N=String.fromCharCode(97+v);else switch(v){case 26:N=" ";break;case Re.AS:h=u,u=$t.ALPHA_SHIFT;break;case Re.ML:u=$t.MIXED;break;case Re.PS:h=u,u=$t.PUNCT_SHIFT;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p]);break;case Re.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.MIXED:if(v<Re.PL)N=Re.MIXED_CHARS[v];else switch(v){case Re.PL:u=$t.PUNCT;break;case 26:N=" ";break;case Re.LL:u=$t.LOWER;break;case Re.AL:u=$t.ALPHA;break;case Re.PS:h=u,u=$t.PUNCT_SHIFT;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p]);break;case Re.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.PUNCT:if(v<Re.PAL)N=Re.PUNCT_CHARS[v];else switch(v){case Re.PAL:u=$t.ALPHA;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p]);break;case Re.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.ALPHA_SHIFT:if(u=h,v<26)N=String.fromCharCode(65+v);else switch(v){case 26:N=" ";break;case Re.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.PUNCT_SHIFT:if(u=h,v<Re.PAL)N=Re.PUNCT_CHARS[v];else switch(v){case Re.PAL:u=$t.ALPHA;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p]);break;case Re.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break}N!==""&&c.append(N),p++}}static byteCompaction(i,a,l,c,u){let h=new Fc,p=0,v=0,N=!1;switch(i){case Re.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),z=a[c++];for(;c<a[0]&&!N;)switch(O[p++]=z,v=900*v+z,z=a[c++],z){case Re.TEXT_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH:case Re.NUMERIC_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:c--,N=!0;break;default:if(p%5===0&&p>0){for(let Q=0;Q<6;++Q)h.write(Number(gr(v)>>gr(8*(5-Q))));v=0,p=0}break}c===a[0]&&z<Re.TEXT_COMPACTION_MODE_LATCH&&(O[p++]=z);for(let Q=0;Q<p;Q++)h.write(O[Q]);break;case Re.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!N;){let Q=a[c++];if(Q<Re.TEXT_COMPACTION_MODE_LATCH)p++,v=900*v+Q;else switch(Q){case Re.TEXT_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH:case Re.NUMERIC_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:c--,N=!0;break}if(p%5===0&&p>0){for(let he=0;he<6;++he)h.write(Number(gr(v)>>gr(8*(5-he))));v=0,p=0}}break}return u.append(F.decode(h.toByteArray(),l)),c}static numericCompaction(i,a,l){let c=0,u=!1,h=new Int32Array(Re.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!u;){let p=i[a++];if(a===i[0]&&(u=!0),p<Re.TEXT_COMPACTION_MODE_LATCH)h[c]=p,c++;else switch(p){case Re.TEXT_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(c%Re.MAX_NUMERIC_CODEWORDS===0||p===Re.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(l.append(Re.decodeBase900toBase10(h,c)),c=0)}return a}static decodeBase900toBase10(i,a){let l=gr(0);for(let u=0;u<a;u++)l+=Re.EXP900[a-u-1]*gr(i[u]);let c=l.toString();if(c.charAt(0)!=="1")throw new k;return c.substring(1)}}Re.TEXT_COMPACTION_MODE_LATCH=900,Re.BYTE_COMPACTION_MODE_LATCH=901,Re.NUMERIC_COMPACTION_MODE_LATCH=902,Re.BYTE_COMPACTION_MODE_LATCH_6=924,Re.ECI_USER_DEFINED=925,Re.ECI_GENERAL_PURPOSE=926,Re.ECI_CHARSET=927,Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Re.MACRO_PDF417_TERMINATOR=922,Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Re.MAX_NUMERIC_CODEWORDS=15,Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Re.PL=25,Re.LL=27,Re.AS=27,Re.ML=28,Re.AL=28,Re.PS=29,Re.PAL=29,Re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Re.EXP900=Br()?Uc():[],Re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qt{constructor(){}static decode(i,a,l,c,u,h,p){let v=new Ra(i,a,l,c,u),N=null,O=null,z;for(let ye=!0;;ye=!1){if(a!=null&&(N=qt.getRowIndicatorColumn(i,v,a,!0,h,p)),c!=null&&(O=qt.getRowIndicatorColumn(i,v,c,!1,h,p)),z=qt.merge(N,O),z==null)throw $.getNotFoundInstance();let we=z.getBoundingBox();if(ye&&we!=null&&(we.getMinY()<v.getMinY()||we.getMaxY()>v.getMaxY()))v=we;else break}z.setBoundingBox(v);let Q=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,N),z.setDetectionResultColumn(Q,O);let he=N!=null;for(let ye=1;ye<=Q;ye++){let we=he?ye:Q-ye;if(z.getDetectionResultColumn(we)!==void 0)continue;let Ne;we===0||we===Q?Ne=new Wa(v,we===0):Ne=new Rr(v),z.setDetectionResultColumn(we,Ne);let Be=-1,Ze=Be;for(let Je=v.getMinY();Je<=v.getMaxY();Je++){if(Be=qt.getStartColumn(z,we,Je,he),Be<0||Be>v.getMaxX()){if(Ze===-1)continue;Be=Ze}let Qe=qt.detectCodeword(i,v.getMinX(),v.getMaxX(),he,Be,Je,h,p);Qe!=null&&(Ne.setCodeword(Je,Qe),Ze=Be,h=Math.min(h,Qe.getWidth()),p=Math.max(p,Qe.getWidth()))}}return qt.createDecoderResult(z)}static merge(i,a){if(i==null&&a==null)return null;let l=qt.getBarcodeMetadata(i,a);if(l==null)return null;let c=Ra.merge(qt.adjustBoundingBox(i),qt.adjustBoundingBox(a));return new Ba(l,c)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=qt.getMax(a),c=0;for(let p of a)if(c+=l-p,p>0)break;let u=i.getCodewords();for(let p=0;c>0&&u[p]==null;p++)c--;let h=0;for(let p=a.length-1;p>=0&&(h+=l-a[p],!(a[p]>0));p--);for(let p=u.length-1;h>0&&u[p]==null;p--)h--;return i.getBoundingBox().addMissingRows(c,h,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,c,u,h){let p=new Wa(a,c);for(let v=0;v<2;v++){let N=v===0?1:-1,O=Math.trunc(Math.trunc(l.getX()));for(let z=Math.trunc(Math.trunc(l.getY()));z<=a.getMaxY()&&z>=a.getMinY();z+=N){let Q=qt.detectCodeword(i,0,i.getWidth(),c,O,z,u,h);Q!=null&&(p.setCodeword(z,Q),c?O=Q.getStartX():O=Q.getEndX())}}return p}static adjustCodewordCount(i,a){let l=a[0][1],c=l.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-qt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(u<1||u>wt.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();l.setValue(u)}else c[0]!==u&&l.setValue(u)}static createDecoderResult(i){let a=qt.createBarcodeMatrix(i);qt.adjustCodewordCount(i,a);let l=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],h=new Array;for(let v=0;v<i.getBarcodeRowCount();v++)for(let N=0;N<i.getBarcodeColumnCount();N++){let O=a[v][N+1].getValue(),z=v*i.getBarcodeColumnCount()+N;O.length===0?l.push(z):O.length===1?c[z]=O[0]:(h.push(z),u.push(O))}let p=new Array(u.length);for(let v=0;v<p.length;v++)p[v]=u[v];return qt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,wt.toIntArray(l),wt.toIntArray(h),p)}static createDecoderResultFromAmbiguousValues(i,a,l,c,u){let h=new Int32Array(c.length),p=100;for(;p-- >0;){for(let v=0;v<h.length;v++)a[c[v]]=u[v][h[v]];try{return qt.decodeCodewords(a,i,l)}catch(v){if(!(v instanceof b))throw v}if(h.length===0)throw b.getChecksumInstance();for(let v=0;v<h.length;v++)if(h[v]<u[v].length-1){h[v]++;break}else if(h[v]=0,v===h.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let u=0;u<a[c].length;u++)a[c][u]=new xs;let l=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(u.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,c){let u=c?1:-1,h=null;if(qt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=i.getDetectionResultColumn(a).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(qt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let p=0;for(;qt.isValidBarcodeColumn(i,a-u);){a-=u;for(let v of i.getDetectionResultColumn(a).getCodewords())if(v!=null)return(c?v.getEndX():v.getStartX())+u*p*(v.getEndX()-v.getStartX());p++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,c,u,h,p,v){u=qt.adjustCodewordStartColumn(i,a,l,c,u,h);let N=qt.getModuleBitCount(i,a,l,c,u,h);if(N==null)return null;let O,z=Ue.sum(N);if(c)O=u+z;else{for(let ye=0;ye<N.length/2;ye++){let we=N[ye];N[ye]=N[N.length-1-ye],N[N.length-1-ye]=we}O=u,u=O-z}if(!qt.checkCodewordSkew(z,p,v))return null;let Q=ji.getDecodedValue(N),he=wt.getCodeword(Q);return he===-1?null:new ma(u,O,qt.getCodewordBucketNumber(Q),he)}static getModuleBitCount(i,a,l,c,u,h){let p=u,v=new Int32Array(8),N=0,O=c?1:-1,z=c;for(;(c?p<l:p>=a)&&N<v.length;)i.get(p,h)===z?(v[N]++,p+=O):(N++,z=!z);return N===v.length||p===(c?l:a)&&N===v.length-1?v:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,c,u,h){let p=u,v=c?-1:1;for(let N=0;N<2;N++){for(;(c?p>=a:p<l)&&c===i.get(p,h);){if(Math.abs(u-p)>qt.CODEWORD_SKEW_SIZE)return u;p+=v}v=-v,c=!c}return p}static checkCodewordSkew(i,a,l){return a-qt.CODEWORD_SKEW_SIZE<=i&&i<=l+qt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw k.getFormatInstance();let c=1<<a+1,u=qt.correctErrors(i,l,c);qt.verifyCodewordCount(i,c);let h=Re.decode(i,""+a);return h.setErrorsCorrected(u),h.setErasures(l.length),h}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+qt.MAX_ERRORS||l<0||l>qt.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return qt.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw k.getFormatInstance();let l=i[0];if(l>i.length)throw k.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw k.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,c=a.length-1;for(;!((i&1)!==l&&(l=i&1,c--,c<0));)a[c]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return qt.getCodewordBucketNumber(qt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new Wr;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let c=0;c<i[l].length;c++){let u=i[l][c];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}qt.CODEWORD_SKEW_SIZE=2,qt.MAX_ERRORS=3,qt.MAX_EC_CODEWORDS=512,qt.errorCorrection=new kl;class oi{decode(i,a=null){let l=oi.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw $.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return oi.decode(i,a,!0)}catch(l){throw l instanceof k||l instanceof b?$.getNotFoundInstance():l}}static decode(i,a,l){const c=new Array,u=Ft.detectMultiple(i,a,l);for(const h of u.getPoints()){const p=qt.decode(u.getBits(),h[4],h[5],h[6],h[7],oi.getMinCodewordWidth(h),oi.getMaxCodewordWidth(h)),v=new ae(p.getText(),p.getRawBytes(),void 0,h,ue.PDF_417);v.putMetadata(Ee.ERROR_CORRECTION_LEVEL,p.getECLevel());const N=p.getOther();N!=null&&v.putMetadata(Ee.PDF417_EXTRA_METADATA,N),c.push(v)}return c.map(h=>h)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?L.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(oi.getMaxWidth(i[0],i[4]),oi.getMaxWidth(i[6],i[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.max(oi.getMaxWidth(i[1],i[5]),oi.getMaxWidth(i[7],i[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(oi.getMinWidth(i[0],i[4]),oi.getMinWidth(i[6],i[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.min(oi.getMinWidth(i[1],i[5]),oi.getMinWidth(i[7],i[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qa extends x{}Qa.kind="ReaderException";class nl{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(re.TRY_HARDER)===!0,l=r(i)?null:i.get(re.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const u=l.some(h=>h===ue.UPC_A||h===ue.UPC_E||h===ue.EAN_13||h===ue.EAN_8||h===ue.CODABAR||h===ue.CODE_39||h===ue.CODE_93||h===ue.CODE_128||h===ue.ITF||h===ue.RSS_14||h===ue.RSS_EXPANDED);u&&!a&&c.push(new ga(i,this.verbose)),l.includes(ue.QR_CODE)&&c.push(new pa),l.includes(ue.DATA_MATRIX)&&c.push(new Mi),l.includes(ue.AZTEC)&&c.push(new st),l.includes(ue.PDF_417)&&c.push(new oi),u&&a&&c.push(new ga(i,this.verbose))}c.length===0&&(a||c.push(new ga(i,this.verbose)),c.push(new pa),c.push(new Mi),c.push(new st),c.push(new oi),a&&c.push(new ga(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Qa("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof Qa)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Xs extends te{constructor(i=null,a=500){const l=new nl;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class il extends te{constructor(i=500){super(new oi,i)}}class rl extends te{constructor(i=500){super(new pa,i)}}var Ws;(function(H){H[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION"})(Ws||(Ws={}));var li=Ws;class Ka{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Ye(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const c=this.field;for(let u=a.length;u<=i;u++){const h=l.multiply(new Ye(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));a.push(h),l=h}}return a[i]}encode(i,a){if(a===0)throw new A("No error correction bytes");const l=i.length-a;if(l<=0)throw new A("No data bytes provided");const c=this.buildGenerator(a),u=new Int32Array(l);M.arraycopy(i,0,u,0,l);let h=new Ye(this.field,u);h=h.multiplyByMonomial(a,1);const v=h.divide(c)[1].getCoefficients(),N=a-v.length;for(let O=0;O<N;O++)i[l+O]=0;M.arraycopy(v,0,i,l+N,v.length)}}class An{constructor(){}static applyMaskPenaltyRule1(i){return An.applyMaskPenaltyRule1Internal(i,!0)+An.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u-1;h++){const p=l[h];for(let v=0;v<c-1;v++){const N=p[v];N===p[v+1]&&N===l[h+1][v]&&N===l[h+1][v+1]&&a++}}return An.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u;h++)for(let p=0;p<c;p++){const v=l[h];p+6<c&&v[p]===1&&v[p+1]===0&&v[p+2]===1&&v[p+3]===1&&v[p+4]===1&&v[p+5]===0&&v[p+6]===1&&(An.isWhiteHorizontal(v,p-4,p)||An.isWhiteHorizontal(v,p+7,p+11))&&a++,h+6<u&&l[h][p]===1&&l[h+1][p]===0&&l[h+2][p]===1&&l[h+3][p]===1&&l[h+4][p]===1&&l[h+5][p]===0&&l[h+6][p]===1&&(An.isWhiteVertical(l,p,h-4,h)||An.isWhiteVertical(l,p,h+7,h+11))&&a++}return a*An.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let c=a;c<l;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,a,l,c){l=Math.max(l,0),c=Math.min(c,i.length);for(let u=l;u<c;u++)if(i[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let v=0;v<u;v++){const N=l[v];for(let O=0;O<c;O++)N[O]===1&&a++}const h=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*An.N4}static getDataMaskBit(i,a,l){let c,u;switch(i){case 0:c=l+a&1;break;case 1:c=l&1;break;case 2:c=a%3;break;case 3:c=(l+a)%3;break;case 4:c=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:u=l*a,c=(u&1)+u%3;break;case 6:u=l*a,c=(u&1)+u%3&1;break;case 7:u=l*a,c=u%3+(l+a&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const c=a?i.getHeight():i.getWidth(),u=a?i.getWidth():i.getHeight(),h=i.getArray();for(let p=0;p<c;p++){let v=0,N=-1;for(let O=0;O<u;O++){const z=a?h[p][O]:h[O][p];z===N?v++:(v>=5&&(l+=An.N1+(v-5)),v=1,N=z)}v>=5&&(l+=An.N1+(v-5))}return l}}An.N1=3,An.N2=3,An.N3=40,An.N4=10;class Ja{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let c=0;c!==a;c++)l[c]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)T.fill(a,i)}equals(i){if(!(i instanceof Ja))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,c=this.height;l<c;++l){const u=this.bytes[l],h=a.bytes[l];for(let p=0,v=this.width;p<v;++p)if(u[p]!==h[p])return!1}return!0}toString(){const i=new se;for(let a=0,l=this.height;a<l;++a){const c=this.bytes[a];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class pr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new se;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<pr.NUM_MASK_PATTERNS}}pr.NUM_MASK_PATTERNS=8;class pn extends x{}pn.kind="WriterException";class w{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,c,u){w.clearMatrix(u),w.embedBasicPatterns(l,u),w.embedTypeInfo(a,c,u),w.maybeEmbedVersionInfo(l,u),w.embedDataBits(i,c,u)}static embedBasicPatterns(i,a){w.embedPositionDetectionPatternsAndSeparators(a),w.embedDarkDotAtLeftBottomCorner(a),w.maybeEmbedPositionAdjustmentPatterns(i,a),w.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const c=new B;w.makeTypeInfoBits(i,a,c);for(let u=0,h=c.getSize();u<h;++u){const p=c.get(c.getSize()-1-u),v=w.TYPE_INFO_COORDINATES[u],N=v[0],O=v[1];if(l.setBoolean(N,O,p),u<8){const z=l.getWidth()-u-1;l.setBoolean(z,8,p)}else{const Q=l.getHeight()-7+(u-8);l.setBoolean(8,Q,p)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new B;w.makeVersionInfoBits(i,l);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const p=l.get(c);c--,a.setBoolean(u,a.getHeight()-11+h,p),a.setBoolean(a.getHeight()-11+h,u,p)}}static embedDataBits(i,a,l){let c=0,u=-1,h=l.getWidth()-1,p=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);p>=0&&p<l.getHeight();){for(let v=0;v<2;++v){const N=h-v;if(!w.isEmpty(l.get(N,p)))continue;let O;c<i.getSize()?(O=i.get(c),++c):O=!1,a!==255&&An.getDataMaskBit(a,N,p)&&(O=!O),l.setBoolean(N,p,O)}p+=u}u=-u,p+=u,h-=2}if(c!==i.getSize())throw new pn("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-L.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new A("0 polynomial");const l=w.findMSBSet(a);for(i<<=l-1;w.findMSBSet(i)>=l;)i^=a<<w.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!pr.isValidMaskPattern(a))throw new pn("Invalid mask pattern");const c=i.getBits()<<3|a;l.appendBits(c,5);const u=w.calculateBCHCode(c,w.TYPE_INFO_POLY);l.appendBits(u,10);const h=new B;if(h.appendBits(w.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new pn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=w.calculateBCHCode(i.getVersionNumber(),w.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new pn("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;w.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),w.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new pn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let c=0;c<8;++c){if(!w.isEmpty(l.get(i+c,a)))throw new pn;l.setNumber(i+c,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let c=0;c<7;++c){if(!w.isEmpty(l.get(i,a+c)))throw new pn;l.setNumber(i,a+c,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let c=0;c<5;++c){const u=w.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPattern(i,a,l){for(let c=0;c<7;++c){const u=w.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(i){const a=w.POSITION_DETECTION_PATTERN[0].length;w.embedPositionDetectionPattern(0,0,i),w.embedPositionDetectionPattern(i.getWidth()-a,0,i),w.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;w.embedHorizontalSeparationPattern(0,l-1,i),w.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),w.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const c=7;w.embedVerticalSeparationPattern(c,0,i),w.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),w.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,c=w.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,h=c.length;u!==h;u++){const p=c[u];if(p>=0)for(let v=0;v!==h;v++){const N=c[v];N>=0&&w.isEmpty(a.get(N,p))&&w.embedPositionAdjustmentPattern(N-2,p-2,a)}}}}w.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),w.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),w.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),w.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),w.VERSION_INFO_POLY=7973,w.TYPE_INFO_POLY=1335,w.TYPE_INFO_MASK_PATTERN=21522;class V{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class fe{constructor(){}static calculateMaskPenalty(i){return An.applyMaskPenaltyRule1(i)+An.applyMaskPenaltyRule2(i)+An.applyMaskPenaltyRule3(i)+An.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let c=fe.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(li.CHARACTER_SET)!==void 0;u&&(c=l.get(li.CHARACTER_SET).toString());const h=this.chooseMode(i,c),p=new B;if(h===St.BYTE&&(u||fe.DEFAULT_BYTE_MODE_ENCODING!==c)){const Je=J.getCharacterSetECIByName(c);Je!==void 0&&this.appendECI(Je,p)}this.appendModeInfo(h,p);const v=new B;this.appendBytes(i,h,v,c);let N;if(l!==null&&l.get(li.QR_VERSION)!==void 0){const Je=Number.parseInt(l.get(li.QR_VERSION).toString(),10);N=vt.getVersionForNumber(Je);const Qe=this.calculateBitsNeeded(h,p,v,N);if(!this.willFit(Qe,N,a))throw new pn("Data too big for requested version")}else N=this.recommendVersion(a,h,p,v);const O=new B;O.appendBitArray(p);const z=h===St.BYTE?v.getSizeInBytes():i.length;this.appendLengthInfo(z,N,h,O),O.appendBitArray(v);const Q=N.getECBlocksForLevel(a),he=N.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(he,O);const ye=this.interleaveWithECBytes(O,N.getTotalCodewords(),he,Q.getNumBlocks()),we=new pr;we.setECLevel(a),we.setMode(h),we.setVersion(N);const Ne=N.getDimensionForVersion(),Be=new Ja(Ne,Ne),Ze=this.chooseMaskPattern(ye,a,N,Be);return we.setMaskPattern(Ze),w.buildMatrix(ye,a,N,Ze,Be),we.setMatrix(Be),we}static recommendVersion(i,a,l,c){const u=this.calculateBitsNeeded(a,l,c,vt.getVersionForNumber(1)),h=this.chooseVersion(u,i),p=this.calculateBitsNeeded(a,l,c,h);return this.chooseVersion(p,i)}static calculateBitsNeeded(i,a,l,c){return a.getSize()+i.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(i){return i<fe.ALPHANUMERIC_TABLE.length?fe.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(J.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return St.KANJI;let l=!1,c=!1;for(let u=0,h=i.length;u<h;++u){const p=i.charAt(u);if(fe.isDigit(p))l=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)c=!0;else return St.BYTE}return c?St.ALPHANUMERIC:l?St.NUMERIC:St.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=F.encode(i,J.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const u=a[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,a,l,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let p=0;p<pr.NUM_MASK_PATTERNS;p++){w.buildMatrix(i,a,l,p,c);let v=this.calculateMaskPenalty(c);v<u&&(u=v,h=p)}return h}static chooseVersion(i,a){for(let l=1;l<=40;l++){const c=vt.getVersionForNumber(l);if(fe.willFit(i,c,a))return c}throw new pn("Data too big")}static willFit(i,a,l){const c=a.getTotalCodewords(),h=a.getECBlocksForLevel(l).getTotalECCodewords(),p=c-h,v=(i+7)/8;return p>=v}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new pn("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let h=c;h<8;h++)a.appendBit(!1);const u=i-a.getSizeInBytes();for(let h=0;h<u;++h)a.appendBits(h&1?17:236,8);if(a.getSize()!==l)throw new pn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,c,u,h){if(c>=l)throw new pn("Block ID too large");const p=i%l,v=l-p,N=Math.floor(i/l),O=N+1,z=Math.floor(a/l),Q=z+1,he=N-z,ye=O-Q;if(he!==ye)throw new pn("EC bytes mismatch");if(l!==v+p)throw new pn("RS blocks mismatch");if(i!==(z+he)*v+(Q+ye)*p)throw new pn("Total bytes mismatch");c<v?(u[0]=z,h[0]=he):(u[0]=Q,h[0]=ye)}static interleaveWithECBytes(i,a,l,c){if(i.getSizeInBytes()!==l)throw new pn("Number of bits and data bytes does not match");let u=0,h=0,p=0;const v=new Array;for(let O=0;O<c;++O){const z=new Int32Array(1),Q=new Int32Array(1);fe.getNumDataBytesAndNumECBytesForBlockID(a,l,c,O,z,Q);const he=z[0],ye=new Uint8Array(he);i.toBytes(8*u,ye,0,he);const we=fe.generateECBytes(ye,Q[0]);v.push(new V(ye,we)),h=Math.max(h,he),p=Math.max(p,we.length),u+=z[0]}if(l!==u)throw new pn("Data bytes does not match offset");const N=new B;for(let O=0;O<h;++O)for(const z of v){const Q=z.getDataBytes();O<Q.length&&N.appendBits(Q[O],8)}for(let O=0;O<p;++O)for(const z of v){const Q=z.getErrorCorrectionBytes();O<Q.length&&N.appendBits(Q[O],8)}if(a!==N.getSizeInBytes())throw new pn("Interleaving error: "+a+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(i,a){const l=i.length,c=new Int32Array(l+a);for(let h=0;h<l;h++)c[h]=i[h]&255;new Ka(We.QR_CODE_FIELD_256).encode(c,a);const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=c[l+h];return u}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,c){const u=l.getCharacterCountBits(a);if(i>=1<<u)throw new pn(i+" is bigger than "+((1<<u)-1));c.appendBits(i,u)}static appendBytes(i,a,l,c){switch(a){case St.NUMERIC:fe.appendNumericBytes(i,l);break;case St.ALPHANUMERIC:fe.appendAlphanumericBytes(i,l);break;case St.BYTE:fe.append8BitBytes(i,l,c);break;case St.KANJI:fe.appendKanjiBytes(i,l);break;default:throw new pn("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=fe.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=fe.getDigit(i.charAt(c));if(c+2<l){const h=fe.getDigit(i.charAt(c+1)),p=fe.getDigit(i.charAt(c+2));a.appendBits(u*100+h*10+p,10),c+=3}else if(c+1<l){const h=fe.getDigit(i.charAt(c+1));a.appendBits(u*10+h,7),c+=2}else a.appendBits(u,4),c++}}static appendAlphanumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=fe.getAlphanumericCode(i.charCodeAt(c));if(u===-1)throw new pn;if(c+1<l){const h=fe.getAlphanumericCode(i.charCodeAt(c+1));if(h===-1)throw new pn;a.appendBits(u*45+h,11),c+=2}else a.appendBits(u,6),c++}}static append8BitBytes(i,a,l){let c;try{c=F.encode(i,l)}catch(u){throw new pn(u)}for(let u=0,h=c.length;u!==h;u++){const p=c[u];a.appendBits(p,8)}}static appendKanjiBytes(i,a){let l;try{l=F.encode(i,J.SJIS)}catch(u){throw new pn(u)}const c=l.length;for(let u=0;u<c;u+=2){const h=l[u]&255,p=l[u+1]&255,v=h<<8&4294967295|p;let N=-1;if(v>=33088&&v<=40956?N=v-33088:v>=57408&&v<=60351&&(N=v-49472),N===-1)throw new pn("Invalid byte sequence");const O=(N>>8)*192+(N&255);a.appendBits(O,13)}}static appendECI(i,a){a.appendBits(St.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}fe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),fe.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class ve{write(i,a,l,c=null){if(i.length===0)throw new A("Found empty contents");if(a<0||l<0)throw new A("Requested dimensions are too small: "+a+"x"+l);let u=xn.L,h=ve.QUIET_ZONE_SIZE;c!==null&&(c.get(li.ERROR_CORRECTION)!==void 0&&(u=xn.fromString(c.get(li.ERROR_CORRECTION).toString())),c.get(li.MARGIN)!==void 0&&(h=Number.parseInt(c.get(li.MARGIN).toString(),10)));const p=fe.encode(i,u,c);return this.renderResult(p,a,l,h)}writeToDom(i,a,l,c,u=null){typeof i=="string"&&(i=document.querySelector(i));const h=this.write(a,l,c,u);i&&i.appendChild(h)}renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new je;const h=u.getWidth(),p=u.getHeight(),v=h+c*2,N=p+c*2,O=Math.max(a,v),z=Math.max(l,N),Q=Math.min(Math.floor(O/v),Math.floor(z/N)),he=Math.floor((O-h*Q)/2),ye=Math.floor((z-p*Q)/2),we=this.createSVGElement(O,z);for(let Ne=0,Be=ye;Ne<p;Ne++,Be+=Q)for(let Ze=0,Je=he;Ze<h;Ze++,Je+=Q)if(u.get(Ze,Ne)===1){const Qe=this.createSvgRectElement(Je,Be,Q,Q);we.appendChild(Qe)}return we}createSVGElement(i,a){const l=document.createElementNS(ve.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,c){const u=document.createElementNS(ve.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ve.QUIET_ZONE_SIZE=4,ve.SVG_NS="http://www.w3.org/2000/svg";class Te{encode(i,a,l,c,u){if(i.length===0)throw new A("Found empty contents");if(a!==ue.QR_CODE)throw new A("Can only encode QR_CODE, but got "+a);if(l<0||c<0)throw new A(`Requested dimensions are too small: ${l}x${c}`);let h=xn.L,p=Te.QUIET_ZONE_SIZE;u!==null&&(u.get(li.ERROR_CORRECTION)!==void 0&&(h=xn.fromString(u.get(li.ERROR_CORRECTION).toString())),u.get(li.MARGIN)!==void 0&&(p=Number.parseInt(u.get(li.MARGIN).toString(),10)));const v=fe.encode(i,h,u);return Te.renderResult(v,l,c,p)}static renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new je;const h=u.getWidth(),p=u.getHeight(),v=h+c*2,N=p+c*2,O=Math.max(a,v),z=Math.max(l,N),Q=Math.min(Math.floor(O/v),Math.floor(z/N)),he=Math.floor((O-h*Q)/2),ye=Math.floor((z-p*Q)/2),we=new le(O,z);for(let Ne=0,Be=ye;Ne<p;Ne++,Be+=Q)for(let Ze=0,Je=he;Ze<h;Ze++,Je+=Q)u.get(Ze,Ne)===1&&we.setRegion(Je,Be,Q,Q);return we}}Te.QUIET_ZONE_SIZE=4;class Fe{encode(i,a,l,c,u){let h;switch(a){case ue.QR_CODE:h=new Te;break;default:throw new A("No encoder available for format "+a)}return h.encode(i,a,l,c,u)}}class Ve extends ne{constructor(i,a,l,c,u,h,p,v){if(super(h,p),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=c,this.top=u,c+h>a||u+p>l)throw new A("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(h,p)}getRow(i,a){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.yuvData,u,c,0,l),c;for(let h=0;h<a;h++){const p=h*i;M.arraycopy(this.yuvData,u,c,p,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new Ve(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,c,!1)}renderThumbnail(){const i=this.getWidth()/Ve.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ve.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const p=h*i;for(let v=0;v<i;v++){const N=c[u+v*Ve.THUMBNAIL_SCALE_FACTOR]&255;l[p+v]=4278190080|N*65793}u+=this.dataWidth*Ve.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Ve.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ve.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<a;c++,u+=this.dataWidth){const h=u+i/2;for(let p=u,v=u+i-1;p<h;p++,v--){const N=l[p];l[p]=l[v],l[v]=N}}}invert(){return new oe(this)}}Ve.THUMBNAIL_SCALE_FACTOR=2;class ct extends ne{constructor(i,a,l,c,u,h,p){if(super(a,l),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=p,i.BYTES_PER_ELEMENT===4){const v=a*l,N=new Uint8ClampedArray(v);for(let O=0;O<v;O++){const z=i[O],Q=z>>16&255,he=z>>7&510,ye=z&255;N[O]=(Q+he+ye)/4&255}this.luminances=N}else this.luminances=i;if(c===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,l),c;for(let h=0;h<a;h++){const p=h*i;M.arraycopy(this.luminances,u,c,p,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new ct(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new oe(this)}}class At extends J{static forName(i){return this.getCharacterSetECIByName(i)}}class jt{}jt.ISO_8859_1=J.ISO8859_1;class kt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class en{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class Wn{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Sn extends Wn{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new Sn(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sn(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+L.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ei extends Sn{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new ei(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Wi(H,i,a){return new ei(H,i,a)}function ti(H,i,a){return new Sn(H,i,a)}const Zr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gi=0,Tr=1,sr=2,Zs=3,mr=4,Qs=new Sn(null,0,0),ys=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function al(H){for(let i of H)T.fill(i,-1);return H[gi][mr]=0,H[Tr][mr]=0,H[Tr][gi]=28,H[Zs][mr]=0,H[sr][mr]=0,H[sr][gi]=15,H}const vs=al(T.createInt32Array(6,6));class Mn{constructor(i,a,l,c){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,c=this.token;if(i!==this.mode){let h=ys[this.mode][i];c=ti(c,h&65535,h>>16),l+=h>>16}let u=i===sr?4:5;return c=ti(c,a,u),new Mn(c,i,0,l+u)}shiftAndAppend(i,a){let l=this.token,c=this.mode===sr?4:5;return l=ti(l,vs[this.mode][i],c),l=ti(l,a,5),new Mn(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,c=this.bitCount;if(this.mode===mr||this.mode===sr){let p=ys[l][gi];a=ti(a,p&65535,p>>16),c+=p>>16,l=gi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Mn(a,l,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(i+1)),h}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Wi(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(ys[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Mn.calculateBinaryShiftCost(i)-Mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())a.unshift(c);let l=new B;for(const c of a)c.appendTo(l,i);return l}toString(){return j.format("%s bits=%d bytes=%d",Zr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Mn.INITIAL_STATE=new Mn(Qs,gi,0,0);function Ks(H){const i=j.getCharCode(" "),a=j.getCharCode("."),l=j.getCharCode(",");H[gi][i]=1;const c=j.getCharCode("Z"),u=j.getCharCode("A");for(let Q=u;Q<=c;Q++)H[gi][Q]=Q-u+2;H[Tr][i]=1;const h=j.getCharCode("z"),p=j.getCharCode("a");for(let Q=p;Q<=h;Q++)H[Tr][Q]=Q-p+2;H[sr][i]=1;const v=j.getCharCode("9"),N=j.getCharCode("0");for(let Q=N;Q<=v;Q++)H[sr][Q]=Q-N+2;H[sr][l]=12,H[sr][a]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<O.length;Q++)H[Zs][j.getCharCode(O[Q])]=Q;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<z.length;Q++)j.getCharCode(z[Q])>0&&(H[mr][j.getCharCode(z[Q])]=Q);return H}const $a=Ks(T.createInt32Array(5,256));class ya{constructor(i){this.text=i}encode(){const i=j.getCharCode(" "),a=j.getCharCode(`
`);let l=en.singletonList(Mn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case j.getCharCode("\r"):h=p===a?2:0;break;case j.getCharCode("."):h=p===i?3:0;break;case j.getCharCode(","):h=p===i?4:0;break;case j.getCharCode(":"):h=p===i?5:0;break;default:h=0}h>0?(l=ya.updateStateListForPair(l,u,h),u++):l=this.updateStateListForChar(l,u)}return en.min(l,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let c of i)this.updateStateForChar(c,a,l);return ya.simplifyStates(l)}updateStateForChar(i,a,l){let c=this.text[a]&255,u=$a[i.getMode()][c]>0,h=null;for(let p=0;p<=mr;p++){let v=$a[p][c];if(v>0){if(h==null&&(h=i.endBinaryShift(a)),!u||p===i.getMode()||p===sr){const N=h.latchAndAppend(p,v);l.push(N)}if(!u&&vs[i.getMode()][p]>=0){const N=h.shiftAndAppend(p,v);l.push(N)}}}if(i.getBinaryShiftByteCount()>0||$a[i.getMode()][c]===0){let p=i.addBinaryShiftChar(a);l.push(p)}}static updateStateListForPair(i,a,l){const c=[];for(let u of i)this.updateStateForPair(u,a,l,c);return this.simplifyStates(c)}static updateStateForPair(i,a,l,c){let u=i.endBinaryShift(a);if(c.push(u.latchAndAppend(mr,l)),i.getMode()!==mr&&c.push(u.shiftAndAppend(mr,l)),l===3||l===4){let h=u.latchAndAppend(sr,16-l).latchAndAppend(sr,1);c.push(h)}if(i.getBinaryShiftByteCount()>0){let h=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(h)}}static simplifyStates(i){let a=[];for(const l of i){let c=!0;for(const u of a){if(u.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(u)&&(a=a.filter(h=>h!==u))}c&&a.push(l)}return a}}class Qt{constructor(){}static encodeBytes(i){return Qt.encode(i,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let c=new ya(i).encode(),u=L.truncDivision(c.getSize()*a,100)+11,h=c.getSize()+u,p,v,N,O,z;if(l!==Qt.DEFAULT_AZTEC_LAYERS){if(p=l<0,v=Math.abs(l),v>(p?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new A(j.format("Illegal value %s for layers",l));N=Qt.totalBitsInLayer(v,p),O=Qt.WORD_SIZE[v];let Qe=N-N%O;if(z=Qt.stuffBits(c,O),z.getSize()+u>Qe)throw new A("Data to large for user specified layer");if(p&&z.getSize()>O*64)throw new A("Data to large for user specified layer")}else{O=0,z=null;for(let Qe=0;;Qe++){if(Qe>Qt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(p=Qe<=3,v=p?Qe+1:Qe,N=Qt.totalBitsInLayer(v,p),h>N)continue;(z==null||O!==Qt.WORD_SIZE[v])&&(O=Qt.WORD_SIZE[v],z=Qt.stuffBits(c,O));let Xt=N-N%O;if(!(p&&z.getSize()>O*64)&&z.getSize()+u<=Xt)break}}let Q=Qt.generateCheckWords(z,N,O),he=z.getSize()/O,ye=Qt.generateModeMessage(p,v,he),we=(p?11:14)+v*4,Ne=new Int32Array(we),Be;if(p){Be=we;for(let Qe=0;Qe<Ne.length;Qe++)Ne[Qe]=Qe}else{Be=we+1+2*L.truncDivision(L.truncDivision(we,2)-1,15);let Qe=L.truncDivision(we,2),Xt=L.truncDivision(Be,2);for(let Dt=0;Dt<Qe;Dt++){let pi=Dt+L.truncDivision(Dt,15);Ne[Qe-Dt-1]=Xt-pi-1,Ne[Qe+Dt]=Xt+pi+1}}let Ze=new le(Be);for(let Qe=0,Xt=0;Qe<v;Qe++){let Dt=(v-Qe)*4+(p?9:12);for(let pi=0;pi<Dt;pi++){let Pi=pi*2;for(let ci=0;ci<2;ci++)Q.get(Xt+Pi+ci)&&Ze.set(Ne[Qe*2+ci],Ne[Qe*2+pi]),Q.get(Xt+Dt*2+Pi+ci)&&Ze.set(Ne[Qe*2+pi],Ne[we-1-Qe*2-ci]),Q.get(Xt+Dt*4+Pi+ci)&&Ze.set(Ne[we-1-Qe*2-ci],Ne[we-1-Qe*2-pi]),Q.get(Xt+Dt*6+Pi+ci)&&Ze.set(Ne[we-1-Qe*2-pi],Ne[Qe*2+ci])}Xt+=Dt*8}if(Qt.drawModeMessage(Ze,p,Be,ye),p)Qt.drawBullsEye(Ze,L.truncDivision(Be,2),5);else{Qt.drawBullsEye(Ze,L.truncDivision(Be,2),7);for(let Qe=0,Xt=0;Qe<L.truncDivision(we,2)-1;Qe+=15,Xt+=16)for(let Dt=L.truncDivision(Be,2)&1;Dt<Be;Dt+=2)Ze.set(L.truncDivision(Be,2)-Xt,Dt),Ze.set(L.truncDivision(Be,2)+Xt,Dt),Ze.set(Dt,L.truncDivision(Be,2)-Xt),Ze.set(Dt,L.truncDivision(Be,2)+Xt)}let Je=new kt;return Je.setCompact(p),Je.setSize(Be),Je.setLayers(v),Je.setCodeWords(he),Je.setMatrix(Ze),Je}static drawBullsEye(i,a,l){for(let c=0;c<l;c+=2)for(let u=a-c;u<=a+c;u++)i.set(u,a-c),i.set(u,a+c),i.set(a-c,u),i.set(a+c,u);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let c=new B;return i?(c.appendBits(a-1,2),c.appendBits(l-1,6),c=Qt.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(l-1,11),c=Qt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,a,l,c){let u=L.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let p=u-3+h;c.get(h)&&i.set(p,u-5),c.get(h+7)&&i.set(u+5,p),c.get(20-h)&&i.set(p,u+5),c.get(27-h)&&i.set(u-5,p)}else for(let h=0;h<10;h++){let p=u-5+h+L.truncDivision(h,5);c.get(h)&&i.set(p,u-7),c.get(h+10)&&i.set(u+7,p),c.get(29-h)&&i.set(p,u+7),c.get(39-h)&&i.set(u-7,p)}}static generateCheckWords(i,a,l){let c=i.getSize()/l,u=new Ka(Qt.getGF(l)),h=L.truncDivision(a,l),p=Qt.bitsToWords(i,l,h);u.encode(p,h-c);let v=a%l,N=new B;N.appendBits(0,v);for(const O of Array.from(p))N.appendBits(O,l);return N}static bitsToWords(i,a,l){let c=new Int32Array(l),u,h;for(u=0,h=i.getSize()/a;u<h;u++){let p=0;for(let v=0;v<a;v++)p|=i.get(u*a+v)?1<<a-v-1:0;c[u]=p}return c}static getGF(i){switch(i){case 4:return We.AZTEC_PARAM;case 6:return We.AZTEC_DATA_6;case 8:return We.AZTEC_DATA_8;case 10:return We.AZTEC_DATA_10;case 12:return We.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,a){let l=new B,c=i.getSize(),u=(1<<a)-2;for(let h=0;h<c;h+=a){let p=0;for(let v=0;v<a;v++)(h+v>=c||i.get(h+v))&&(p|=1<<a-1-v);(p&u)===u?(l.appendBits(p&u,a),h--):p&u?l.appendBits(p,a):(l.appendBits(p|1,a),h--)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ki{encode(i,a,l,c){return this.encodeWithHints(i,a,l,c,null)}encodeWithHints(i,a,l,c,u){let h=jt.ISO_8859_1,p=Qt.DEFAULT_EC_PERCENT,v=Qt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(li.CHARACTER_SET)&&(h=At.forName(u.get(li.CHARACTER_SET).toString())),u.has(li.ERROR_CORRECTION)&&(p=L.parseInt(u.get(li.ERROR_CORRECTION).toString())),u.has(li.AZTEC_LAYERS)&&(v=L.parseInt(u.get(li.AZTEC_LAYERS).toString()))),ki.encodeLayers(i,a,l,c,h,p,v)}static encodeLayers(i,a,l,c,u,h,p){if(a!==ue.AZTEC)throw new A("Can only encode AZTEC, but got "+a);let v=Qt.encode(j.getBytes(i,u),h,p);return ki.renderResult(v,l,c)}static renderResult(i,a,l){let c=i.getMatrix();if(c==null)throw new je;let u=c.getWidth(),h=c.getHeight(),p=Math.max(a,u),v=Math.max(l,h),N=Math.min(p/u,v/h),O=(p-u*N)/2,z=(v-h*N)/2,Q=new le(p,v);for(let he=0,ye=z;he<h;he++,ye+=N)for(let we=0,Ne=O;we<u;we++,Ne+=N)c.get(we,he)&&Q.setRegion(Ne,ye,N,N);return Q}}n.AbstractExpandedDecoder=Cr,n.ArgumentException=S,n.ArithmeticException=it,n.AztecCode=kt,n.AztecCodeReader=st,n.AztecCodeWriter=ki,n.AztecDecoder=tt,n.AztecDetector=Wt,n.AztecDetectorResult=bt,n.AztecEncoder=Qt,n.AztecHighLevelEncoder=ya,n.AztecPoint=pt,n.BarcodeFormat=ue,n.Binarizer=R,n.BinaryBitmap=E,n.BitArray=B,n.BitMatrix=le,n.BitSource=qs,n.BrowserAztecCodeReader=Gi,n.BrowserBarcodeReader=Pc,n.BrowserCodeReader=te,n.BrowserDatamatrixCodeReader=Gs,n.BrowserMultiFormatReader=Xs,n.BrowserPDF417Reader=il,n.BrowserQRCodeReader=rl,n.BrowserQRCodeSvgWriter=ve,n.CharacterSetECI=J,n.ChecksumException=b,n.Code128Reader=et,n.Code39Reader=Rt,n.DataMatrixDecodedBitStreamParser=Xr,n.DataMatrixReader=Mi,n.DecodeHintType=re,n.DecoderResult=De,n.DefaultGridSampler=rn,n.DetectorResult=rt,n.EAN13Reader=nr,n.EncodeHintType=li,n.Exception=x,n.FormatException=k,n.GenericGF=We,n.GenericGFPoly=Ye,n.GlobalHistogramBinarizer=W,n.GridSampler=Pt,n.GridSamplerInstance=Jt,n.HTMLCanvasElementLuminanceSource=me,n.HybridBinarizer=Y,n.ITFReader=Tt,n.IllegalArgumentException=A,n.IllegalStateException=je,n.InvertedLuminanceSource=oe,n.LuminanceSource=ne,n.MathUtils=Ue,n.MultiFormatOneDReader=ga,n.MultiFormatReader=nl,n.MultiFormatWriter=Fe,n.NotFoundException=$,n.OneDReader=Et,n.PDF417DecodedBitStreamParser=Re,n.PDF417DecoderErrorCorrection=kl,n.PDF417Reader=oi,n.PDF417ResultMetadata=$o,n.PerspectiveTransform=Lt,n.PlanarYUVLuminanceSource=Ve,n.QRCodeByteMatrix=Ja,n.QRCodeDataMask=hr,n.QRCodeDecodedBitStreamParser=gn,n.QRCodeDecoderErrorCorrectionLevel=xn,n.QRCodeDecoderFormatInformation=Ai,n.QRCodeEncoder=fe,n.QRCodeEncoderQRCode=pr,n.QRCodeMaskUtil=An,n.QRCodeMatrixUtil=w,n.QRCodeMode=St,n.QRCodeReader=pa,n.QRCodeVersion=vt,n.QRCodeWriter=Te,n.RGBLuminanceSource=ct,n.RSS14Reader=Un,n.RSSExpandedReader=qe,n.ReaderException=Qa,n.ReedSolomonDecoder=xe,n.ReedSolomonEncoder=Ka,n.ReedSolomonException=Nt,n.Result=ae,n.ResultMetadataType=Ee,n.ResultPoint=Pe,n.StringUtils=j,n.UnsupportedOperationException=ge,n.VideoInputDevice=Oe,n.WhiteRectangleDetector=Ct,n.WriterException=pn,n.ZXingArrays=T,n.ZXingCharset=At,n.ZXingInteger=L,n.ZXingStandardCharsets=jt,n.ZXingStringBuilder=se,n.ZXingStringEncoding=F,n.ZXingSystem=M,n.createAbstractExpandedDecoder=qo,Object.defineProperty(n,"__esModule",{value:!0})})})(Id,Id.exports);var Zn=Id.exports;const m6=Ld(Zn),x6=U4({__proto__:null,default:m6},[Zn]);var h5=function(){function e(t,n,r){if(this.formatMap=new Map([[ht.QR_CODE,Zn.BarcodeFormat.QR_CODE],[ht.AZTEC,Zn.BarcodeFormat.AZTEC],[ht.CODABAR,Zn.BarcodeFormat.CODABAR],[ht.CODE_39,Zn.BarcodeFormat.CODE_39],[ht.CODE_93,Zn.BarcodeFormat.CODE_93],[ht.CODE_128,Zn.BarcodeFormat.CODE_128],[ht.DATA_MATRIX,Zn.BarcodeFormat.DATA_MATRIX],[ht.MAXICODE,Zn.BarcodeFormat.MAXICODE],[ht.ITF,Zn.BarcodeFormat.ITF],[ht.EAN_13,Zn.BarcodeFormat.EAN_13],[ht.EAN_8,Zn.BarcodeFormat.EAN_8],[ht.PDF_417,Zn.BarcodeFormat.PDF_417],[ht.RSS_14,Zn.BarcodeFormat.RSS_14],[ht.RSS_EXPANDED,Zn.BarcodeFormat.RSS_EXPANDED],[ht.UPC_A,Zn.BarcodeFormat.UPC_A],[ht.UPC_E,Zn.BarcodeFormat.UPC_E],[ht.UPC_EAN_EXTENSION,Zn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!x6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),o=new Map;o.set(Zn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Zn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(o){s(o)}})},e.prototype.decode=function(t){var n=new Zn.MultiFormatReader(this.verbose,this.hints),r=new Zn.HTMLCanvasElementLuminanceSource(t),s=new Zn.BinaryBitmap(new Zn.HybridBinarizer(r)),o=n.decode(s);return{text:o.text,format:Z3.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),y6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},v6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},d5=function(){function e(t,n,r){if(this.formatMap=new Map([[ht.QR_CODE,"qr_code"],[ht.AZTEC,"aztec"],[ht.CODABAR,"codabar"],[ht.CODE_39,"code_39"],[ht.CODE_93,"code_93"],[ht.CODE_128,"code_128"],[ht.DATA_MATRIX,"data_matrix"],[ht.ITF,"itf"],[ht.EAN_13,"ean_13"],[ht.EAN_8,"ean_8"],[ht.PDF_417,"pdf417"],[ht.UPC_A,"upc_a"],[ht.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return y6(this,void 0,void 0,function(){var n,r;return v6(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Z3.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,o=t;s<o.length;s++){var f=o[s],d=f.boundingBox.width*f.boundingBox.height;d>r&&(r=d,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),g5=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},p5=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},w6=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&d5.isSupported()?(this.primaryDecoder=new d5(t,r,s),this.secondaryDecoder=new h5(t,r,s)):this.primaryDecoder=new h5(t,r,s)}return e.prototype.decodeAsync=function(t){return g5(this,void 0,void 0,function(){var n;return p5(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return g5(this,void 0,void 0,function(){var n,r;return p5(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),k2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),q1=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},G1=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},$3=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),b6=function(e){k2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}($3),A6=function(e){k2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(b6),S6=function(e){k2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}($3),N6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new A6(this.track)},e.prototype.torchFeature=function(){return new S6(this.track)},e}(),C6=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return q1(this,void 0,void 0,function(){var o,f;return G1(this,function(d){switch(d.label){case 0:return o=new e(t,n,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return q1(this,void 0,void 0,function(){return G1(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),o=s.length,f=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++f,f>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new N6(this.getFirstTrackOrFail())},e}(),E6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return q1(this,void 0,void 0,function(){return G1(this,function(s){return[2,C6.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return q1(this,void 0,void 0,function(){var n,r;return G1(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),m5=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},x5=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},T6=function(){function e(){}return e.failIfNotSupported=function(){return m5(this,void 0,void 0,function(){return x5(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return m5(this,void 0,void 0,function(){return x5(this,function(n){return[2,E6.create(t)]})})},e}(),_6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},I6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},L6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=fc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=fc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return _6(this,void 0,void 0,function(){var t,n,r,s,o,f,d;return I6(this,function(m){switch(m.label){case 0:return t=function(x){for(var S=x.getVideoTracks(),A=0,E=S;A<E.length;A++){var b=E[A];b.enabled=!1,b.stop(),x.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),s=[],o=0,f=r;o<f.length;o++)d=f[o],d.kind==="videoinput"&&s.push({id:d.deviceId,label:d.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var f=[],d=0,m=o;d<m.length;d++){var x=m[d];x.kind==="video"&&f.push({id:x.id,label:x.label})}t(f)},s=MediaStreamTrack;s.getSources(r)})},e}(),fi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(fi||(fi={}));var M6=function(){function e(){this.state=fi.NOT_STARTED,this.onGoingTransactionNewState=fi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===fi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=fi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===fi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=fi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==fi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case fi.UNKNOWN:throw"Transition from unknown is not allowed";case fi.NOT_STARTED:this.failIfNewStateIs(t,[fi.PAUSED]);break;case fi.SCANNING:break;case fi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var o=s[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),D6=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===fi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==fi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===fi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===fi.PAUSED},e}(),O6=function(){function e(){}return e.create=function(){return new D6(new M6)},e}(),R6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ta=function(e){R6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(qa),B6=function(){function e(t,n){this.logger=n,this.fps=ta.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ta.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?J3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!is(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),y5=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new K3(this.verbose),this.qrcode=new w6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=O6.create()}return e.prototype.start=function(t,n,r,s){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;s?f=s:f=this.verbose?this.logger.log:function(){};var d=B6.create(n,this.logger);this.clearElement();var m=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=m,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:ta.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var A=this,E=this.stateManagerProxy.startTransition(fi.SCANNING);return new Promise(function(b,R){var M=x?d.videoConstraints:A.createVideoConstraints(t);if(!M){E.cancel(),R("videoConstraints should be defined");return}var q={};(!x||d.aspectRatio)&&(q.aspectRatio=d.aspectRatio);var I={onRenderSurfaceReady:function(T,L){A.setupUi(T,L,d),A.isScanning=!0,A.foreverScan(d,r,f)}};T6.failIfNotSupported().then(function(T){T.create(M).then(function(L){return L.render(o.element,q,I).then(function(B){A.renderedCamera=B,E.execute(),b(null)}).catch(function(B){E.cancel(),R(B)})}).catch(function(L){E.cancel(),R(fc.errorGettingUserMedia(L))})}).catch(function(T){E.cancel(),R(fc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(fi.PAUSED),this.showPausedState(),(is(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(fi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(fi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(ta.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(is(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var d=f.width,m=f.height,x=document.getElementById(r.elementId),S=x.clientWidth?x.clientWidth:ta.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:m,ta.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(d,m,S,A);if(n){var b=r.createCanvasElement(S,A,"qr-canvas-visible");b.style.display="inline-block",x.appendChild(b);var R=b.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=S,R.canvas.height=A,R.drawImage(f,0,0,d,m,E.x,E.y,E.width,E.height)}var M=ta.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(f.width,E.width),I=Math.max(f.height,E.height),T=q+2*M,L=I+2*M,B=r.createCanvasElement(T,L);x.appendChild(B);var X=B.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=T,X.canvas.height=L,X.drawImage(f,0,0,d,m,M,M,q,I);try{r.qrcode.decodeRobustlyAsync(B).then(function(re){s(u5.createFromQrcodeResult(re))}).catch(o)}catch(re){o("QR code parse error, error = ".concat(re))}},f.onerror=o,f.onabort=o,f.onstalled=o,f.onsuspend=o,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return L6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!J3.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ht.QR_CODE,ht.AZTEC,ht.CODABAR,ht.CODE_39,ht.CODE_93,ht.CODE_128,ht.DATA_MATRIX,ht.MAXICODE,ht.ITF,ht.EAN_13,ht.EAN_8,ht.PDF_417,ht.RSS_14,ht.RSS_EXPANDED,ht.UPC_A,ht.UPC_E,ht.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=t.formatsToSupport;s<o.length;s++){var f=o[s];g6(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(is(t))return!0;if(!is(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(is(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return is(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var f=this.toQrdimensions(t,n,o),d=function(x){if(x<ta.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ta.MIN_QR_BOX_SIZE,"px.")},m=function(x){return x>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};d(f.width),d(f.height),f.width=m(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=is(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&o.height<=n,d={x:0,y:0,width:t,height:n},m=f?this.getShadedRegionBounds(t,n,o):d,x=this.createCanvasElement(m.width,m.height),S={willReadFrequently:!0},A=x.getContext("2d",S);A.canvas.width=m.width,A.canvas.height=m.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=A,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=fc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,u5.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=fc.codeParseError(s);return n(o,Q3.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),f=o.videoWidth/o.clientWidth,d=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*f,x=this.qrRegion.height*d,S=this.qrRegion.x*f,A=this.qrRegion.y*d;this.context.drawImage(o,S,A,m,x,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(b){!b&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(b){s.logger.logError("Error happend while scanning context",b),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={},o="exact",f=function(R){if(R in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var x=t.facingMode;if(typeof x=="string"){if(f(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(f(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var S=typeof x;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(o in A)return{deviceId:{exact:A["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var E=typeof A;throw"Invalid type of 'deviceId' = ".concat(E)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var o=(r-t)/2,f=(s-n)/2;return{x:o,y:f,width:t,height:n}}else{var d=t,m=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ta.BORDER_SHADER_MATCH_COLOR:ta.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,o=n,f=document.createElement("canvas");return f.style.width="".concat(s,"px"),f.style.height="".concat(o,"px"),f.style.display="none",f.id=is(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var f=(n-s.width)/2,d=(r-s.height)/2;if(o.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(ta.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var m=5,x=40;this.insertShaderBorders(o,x,m,-m,null,0,!0),this.insertShaderBorders(o,x,m,-m,null,0,!1),this.insertShaderBorders(o,x,m,null,-m,0,!0),this.insertShaderBorders(o,x,m,null,-m,0,!1),this.insertShaderBorders(o,m,x+m,-m,null,-m,!0),this.insertShaderBorders(o,m,x+m,null,-m,-m,!0),this.insertShaderBorders(o,m,x+m,-m,null,-m,!1),this.insertShaderBorders(o,m,x+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,s,o,f,d){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=ta.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),s!==null&&(m.style.top="".concat(s,"px")),o!==null&&(m.style.bottom="".concat(o,"px")),d?m.style.left="".concat(f,"px"):m.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),P2="data:image/svg+xml;base64,",j6=P2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",k6=P2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",v5=P2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",P6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",w5=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),F6=function(){function e(){this.data=w5.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=w5.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),U6=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=f5.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=f5.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),z6=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=v5,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=P6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=v5,this.infoIcon.style.opacity="0.6")},e}(),H6=function(){function e(){var t=this;this.infoDiv=new U6,this.infoIcon=new z6(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),q6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},G6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},b5=function(){function e(){}return e.hasPermissions=function(){return q6(this,void 0,void 0,function(){var t,n,r,s;return G6(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),co=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Uo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Uo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return qa.DEFAULT_SUPPORTED_SCAN_TYPE;var n=qa.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var o=s[r];if(!qa.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),aa=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Rs=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(aa.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),e4=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(S){try{x(r.next(S))}catch(A){f(A)}}function m(S){try{x(r.throw(S))}catch(A){f(A)}}function x(S){S.done?o(S.value):s(S.value).then(d,m)}x((r=r.apply(e,t||[])).next())})},t4=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(S){return m([x,S])}}function m(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(S){x=[6,S],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},A5=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return e4(this,void 0,void 0,function(){var t,n;return t4(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Tn.torchOffButton():Tn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Tn.torchOnFailedMessage():Tn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),V6=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Rs.createElement("button",aa.TORCH_BUTTON_ID),this.torchController=new A5(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Tn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return e4(r,void 0,void 0,function(){return t4(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new A5(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Tn.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var o=new e(n,s);return o.render(t,r),o},e}(),Y6=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Rs.createElement("button",aa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Rs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var m=d.target;if(!(m.files&&m.files.length===0)){var x=m.files,S=x[0],A=S.name;o.setImageNameToButton(A),r(S)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var m=d.dataTransfer;if(m){var x=m.files;if(!x||x.length===0)return;for(var S=!1,A=0;A<x.length;++A){var E=x.item(A);if(E){var b=/image.*/;if(E.type.match(b)){S=!0;var R=E.name;o.setImageNameToButton(R),r(E),f.innerText=Tn.dragAndDropMessage();break}}}S||(f.innerText=Tn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Tn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,o=t.substring(s-8,s);t="".concat(r,"....").concat(o)}var f=Tn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=Tn.fileSelectionChooseImage()+" - "+Tn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),X6=function(){function e(t){this.selectElement=Rs.createElement("select",aa.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Tn.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,f=0,d=this.cameras;f<d.length;f++){var m=d[f],x=m.id,S=m.label==null?x:m.label;(!S||S==="")&&(S=[Tn.anonymousCameraPrefix(),o++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=S,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),W6=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Rs.createElement("input",aa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),na;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(na||(na={}));function Z6(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Q6(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var K6=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new co(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new K3(this.verbose),this.persistedDataManager=new F6,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,f){if(t)t(o,f);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Tn.lastMatch(o),na.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,f){n&&n(o,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new y5(this.getScanRegionId(),Q6(this.config,this.verbose))},e.prototype.pause=function(t){(is(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=qa.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!qa.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=qa.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=qa.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:qa.SCAN_DEFAULT_FPS,rememberLastUsedCamera:qa.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:qa.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),co.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new H6;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Tn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(t,n)};y5.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),s.renderCameraSelection(f)):(s.setHeaderMessage(Tn.noCameraFound(),na.STATUS_WARNING),o())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(f,na.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Rs.createElement("button",this.getCameraPermissionButtonId());s.innerText=Tn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(co.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){b5.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=co.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=co.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";co.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Tn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,na.STATUS_WARNING),r.qrCodeErrorCallback(f,Q3.createFrom(f))}))};this.fileSelectionUi=Y6.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=W6.create(s,!1),f=function(M){var q=M.zoomFeature();if(q.isSupported()){o.setOnCameraZoomValueChangeCallback(function(T){q.apply(T)});var I=1;n.config.defaultZoomValueIfSupported&&(I=n.config.defaultZoomValueIfSupported),I=p6(I,q.min(),q.max()),o.setValues(q.min(),q.max(),I,q.step()),o.show()}},d=X6.create(s,t),m=document.createElement("span"),x=Rs.createElement("button",aa.CAMERA_START_BUTTON_ID);x.innerText=Tn.scanButtonStartScanningText(),m.appendChild(x);var S=Rs.createElement("button",aa.CAMERA_STOP_BUTTON_ID);S.innerText=Tn.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,m.appendChild(S);var A,E=function(M){if(!M.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(M.torchFeature()):A=V6.create(m,M.torchFeature(),{display:"none",marginLeft:"5px"},function(q){r.setHeaderMessage(q,na.STATUS_WARNING)}),A.show()};s.appendChild(m);var b=function(M){M||(x.style.display="none"),x.innerText=Tn.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,M&&(x.style.display="inline-block")};if(x.addEventListener("click",function(M){x.innerText=Tn.scanButtonScanningStarting(),d.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var q=d.getValue();r.persistedDataManager.setLastUsedCameraId(q),r.html5Qrcode.start(q,Z6(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(I){S.disabled=!1,S.style.display="inline-block",b(!1);var T=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(T),n.config.showZoomSliderIfSupported===!0&&f(T)}).catch(function(I){r.showHideScanTypeSwapLink(!0),d.enable(),b(!0),r.setHeaderMessage(I,na.STATUS_WARNING)})}),d.hasSingleItem()&&x.click(),S.addEventListener("click",function(M){if(!r.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,r.html5Qrcode.stop().then(function(q){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),x.disabled=!1,S.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(q){S.disabled=!1,r.setHeaderMessage(q,na.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var R=r.persistedDataManager.getLastUsedCameraId();d.hasValue(R)?(d.setValue(R),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Tn.textIfCameraScanSelected(),r=Tn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var f=Rs.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=co.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,co.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=Uo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=Uo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(f),s.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){b5.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=na.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case na.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case na.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case na.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=j6,this.cameraScanImage.alt=Tn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=k6,this.fileScanImage.alt=Tn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return aa.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return aa.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const J6=({onScanSuccess:e})=>(ot.useEffect(()=>{const t=new K6("reader",{fps:10,qrbox:{width:250,height:250}},!1),n=s=>{t.clear(),e(s)},r=s=>{};return t.render(n,r),()=>{t&&t.getState()!==fi.NOT_STARTED&&t.clear().catch(s=>{console.error("Failed to clear html5-qrcode-scanner.",s)})}},[e]),C.jsx("div",{id:"reader",className:"w-full"})),$6=({onSave:e})=>{const t=ot.useRef(null),[n,r]=ot.useState(!1),s=S=>{const A=t.current;if(!A)return{x:0,y:0};const E=A.getBoundingClientRect();return S.nativeEvent instanceof MouseEvent?{x:S.nativeEvent.offsetX,y:S.nativeEvent.offsetY}:S.nativeEvent instanceof TouchEvent?{x:S.nativeEvent.touches[0].clientX-E.left,y:S.nativeEvent.touches[0].clientY-E.top}:{x:0,y:0}},o=S=>{const A=t.current,E=A==null?void 0:A.getContext("2d");if(!E)return;r(!0);const{x:b,y:R}=s(S);E.beginPath(),E.moveTo(b,R)},f=S=>{if(!n)return;const A=t.current,E=A==null?void 0:A.getContext("2d");if(!E)return;const{x:b,y:R}=s(S);E.lineTo(b,R),E.stroke()},d=()=>{r(!1)},m=()=>{const S=t.current,A=S==null?void 0:S.getContext("2d");A&&S&&A.clearRect(0,0,S.width,S.height)},x=()=>{const S=t.current;S&&e(S.toDataURL("image/png"))};return ot.useEffect(()=>{const S=t.current,A=S==null?void 0:S.getContext("2d");A&&(A.strokeStyle="#000",A.lineWidth=2)},[]),C.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[C.jsx("canvas",{ref:t,width:"400",height:"200",className:"bg-slate-100 border-2 border-dashed border-slate-300 rounded-lg cursor-crosshair",onMouseDown:o,onMouseMove:f,onMouseUp:d,onMouseLeave:d,onTouchStart:o,onTouchMove:f,onTouchEnd:d}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("button",{onClick:m,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 transition font-semibold",children:"Clear"}),C.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-semibold",children:"Save Signature"})]})]})},Nl=({isOpen:e,onClose:t,title:n,children:r,size:s="2xl"})=>e?C.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-60 z-50 flex justify-center items-center p-4",children:C.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full max-w-${s} max-h-[90vh] flex flex-col`,children:[C.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200",children:[C.jsx("h3",{className:"text-xl font-bold text-slate-800",children:n}),C.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition",children:C.jsx(S3,{className:"w-7 h-7"})})]}),C.jsx("div",{className:"p-6 overflow-y-auto",children:r})]})}):null,e8=()=>{const{currentUser:e,shipments:t,updateShipmentStatus:n,addToast:r}=tr(),[s,o]=ot.useState(null),[f,d]=ot.useState(!1),[m,x]=ot.useState(!1),[S,A]=ot.useState(null),E=ot.useRef({});if(!e)return null;const b=t.filter(X=>X.courierId===e.id&&[mt.ASSIGNED_TO_COURIER,mt.PICKED_UP,mt.IN_TRANSIT,mt.OUT_FOR_DELIVERY].includes(X.status)),R=t.filter(X=>X.courierId===e.id&&X.status===mt.RETURN_IN_PROGRESS),M=(X,re)=>{n(X,re)},q=X=>{o(X),d(!0)},I=X=>{s&&n(s.id,mt.DELIVERED,{signature:X}),d(!1),o(null)},T=ot.useCallback(X=>{if(x(!1),[...b,...R].find(U=>U.id===X)){r(`Scanned: ${X}. Task is ready.`,"success");const U=E.current[X];U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),A(X),setTimeout(()=>A(null),3e3))}else r(`Scanned code ${X} not found in your current tasks.`,"error")},[b,R,r]),L={[mt.ASSIGNED_TO_COURIER]:{label:"Mark as Picked Up",nextStatus:mt.PICKED_UP},[mt.PICKED_UP]:{label:"Mark In Transit",nextStatus:mt.IN_TRANSIT},[mt.IN_TRANSIT]:{label:"Mark Out for Delivery",nextStatus:mt.OUT_FOR_DELIVERY},[mt.OUT_FOR_DELIVERY]:null,[mt.PENDING_ASSIGNMENT]:null,[mt.DELIVERED]:null,[mt.DELIVERY_FAILED]:null,[mt.RETURN_REQUESTED]:null,[mt.RETURN_IN_PROGRESS]:null,[mt.RETURNED]:null},B=({task:X,isReturn:re=!1})=>C.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 ${re?"border-l-4 border-orange-500":""}`,children:[C.jsxs("div",{children:[C.jsxs("p",{className:"font-mono text-sm text-slate-500 flex items-center gap-2",children:[re&&C.jsx(c0,{className:"w-4 h-4 text-orange-600"})," ",X.id]}),C.jsx("p",{className:"text-lg font-bold text-slate-800",children:re?`Return from: ${X.recipientName}`:`Deliver to: ${X.recipientName}`}),C.jsxs("p",{className:"text-slate-600",children:[X.toAddress.street,", ",X.toAddress.zone]}),C.jsxs("p",{className:"text-sm font-semibold text-slate-700 mt-1",children:["Payment: ",X.paymentMethod," (",X.price," EGP)"]})]}),C.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 w-full md:w-auto",children:[C.jsx("div",{className:"flex-grow",children:C.jsx(j2,{status:X.status})}),re?C.jsx("button",{onClick:()=>M(X.id,mt.RETURNED),className:"px-4 py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition w-full md:w-auto",children:"Confirm Return Pickup"}):C.jsxs(C.Fragment,{children:[L[X.status]&&C.jsx("button",{onClick:()=>M(X.id,L[X.status].nextStatus),className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition w-full md:w-auto",children:L[X.status].label}),X.status===mt.OUT_FOR_DELIVERY&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>q(X),className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition w-full md:w-auto",children:"Mark as Delivered"}),C.jsx("button",{onClick:()=>M(X.id,mt.DELIVERY_FAILED),className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition w-full md:w-auto",children:"Delivery Failed"})]})]})]})]});return C.jsxs("div",{className:"space-y-8",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Delivery Tasks"}),C.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[C.jsx($w,{className:"w-5 h-5"}),"Scan Package"]})]}),C.jsxs("div",{className:"space-y-4",children:[b.length===0&&C.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active delivery tasks."}),b.map(X=>C.jsx("div",{ref:re=>{E.current[X.id]=re},className:`rounded-xl transition-all duration-500 ${S===X.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:C.jsx(B,{task:X})},X.id))]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Return Tasks"}),C.jsxs("div",{className:"space-y-4 mt-4",children:[R.length===0&&C.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active return tasks."}),R.map(X=>C.jsx("div",{ref:re=>{E.current[X.id]=re},className:`rounded-xl transition-all duration-500 ${S===X.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:C.jsx(B,{task:X,isReturn:!0})},X.id))]})]}),C.jsx(Nl,{isOpen:f,onClose:()=>d(!1),title:"Capture Signature for Proof of Delivery",children:s&&C.jsx($6,{onSave:I})}),C.jsx(Nl,{isOpen:m,onClose:()=>x(!1),title:"Scan Package Barcode",children:C.jsx("div",{className:"w-full h-96 flex justify-center items-center",children:m&&C.jsx(J6,{onScanSuccess:T})})})]})},t8=()=>{const{users:e,addUser:t,updateUser:n,removeUser:r,resetPassword:s}=tr(),[o,f]=ot.useState(null),[d,m]=ot.useState(null),[x,S]=ot.useState({}),A=(T,L)=>{f(T),m(L||null),S(L?{...L}:{role:Ut.CLIENT,zone:hi.CAIRO_ZONE_A})},E=()=>{f(null),m(null),S({})},b=T=>{const{name:L,value:B}=T.target;S(X=>({...X,[L]:B}))},R=T=>{T.preventDefault(),o==="add"?t(x):o==="edit"&&d?n(d.id,x):o==="reset"&&d&&x.password&&s(d.id,x.password),E()},M=()=>{d&&r(d.id),E()},q=()=>{const T=["ID","Name","Email","Role","Zone","Wallet Balance (EGP)"],L=e.map(B=>[B.id,B.name,B.email,B.role,B.zone||"N/A",B.walletBalance!=null?B.walletBalance.toFixed(2):"N/A"]);H1(T,L,"User_List_Export")},I=()=>o==="delete"&&d?C.jsxs("div",{children:[C.jsxs("p",{children:["Are you sure you want to delete the user ",C.jsx("strong",{children:d.name}),"? This action cannot be undone."]}),C.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[C.jsx("button",{onClick:E,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),C.jsx("button",{onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold",children:"Delete User"})]})]}):o==="reset"&&d?C.jsxs("form",{onSubmit:R,className:"space-y-4",children:[C.jsxs("p",{children:["Resetting password for ",C.jsx("strong",{children:d.name}),"."]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),C.jsx("input",{type:"password",name:"password",onChange:b,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),C.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[C.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),C.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:"Reset Password"})]})]}):o==="add"||o==="edit"?C.jsxs("form",{onSubmit:R,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),C.jsx("input",{type:"text",name:"name",value:x.name||"",onChange:b,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),C.jsx("input",{type:"email",name:"email",value:x.email||"",onChange:b,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),o==="add"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),C.jsx("input",{type:"password",name:"password",onChange:b,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),C.jsx("select",{name:"role",value:x.role||"",onChange:b,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:Object.values(Ut).map(T=>C.jsx("option",{value:T,children:T},T))})]}),x.role===Ut.COURIER&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),C.jsx("select",{name:"zone",value:x.zone||"",onChange:b,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:Object.values(hi).map(T=>C.jsx("option",{value:T,children:T},T))})]})]}),C.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[C.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),C.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:o==="add"?"Create User":"Save Changes"})]})]}):null;return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[C.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),C.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Add, edit, or remove users from the platform."})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[C.jsx(D2,{className:"w-5 h-5"}),"Export as CSV"]}),C.jsxs("button",{onClick:()=>A("add"),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[C.jsx(M2,{className:"w-5 h-5"}),"Add User"]})]})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Zone"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),C.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(T=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800",children:T.name}),C.jsx("td",{className:"px-6 py-4 text-slate-600",children:T.email}),C.jsx("td",{className:"px-6 py-4 text-slate-600",children:T.role}),C.jsx("td",{className:"px-6 py-4 text-slate-600",children:T.zone||"N/A"}),C.jsx("td",{className:"px-6 py-4",children:C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("button",{onClick:()=>A("edit",T),title:"Edit",className:"p-2 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md",children:C.jsx(N3,{})}),C.jsx("button",{onClick:()=>A("reset",T),title:"Reset Password",className:"p-2 text-slate-500 hover:text-orange-600 hover:bg-slate-100 rounded-md",children:C.jsx(C3,{})}),C.jsx("button",{onClick:()=>A("delete",T),title:"Delete",className:"p-2 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md",children:C.jsx(Zw,{})})]})})]},T.id))})]})}),C.jsx(Nl,{isOpen:!!o,onClose:E,title:o==="add"?"Add New User":o==="edit"?"Edit User":o==="reset"?"Reset Password":"Confirm Deletion",children:I()})]})},n8=()=>{const{shipments:e,users:t,assignReturn:n}=tr(),r=e.filter(f=>f.status===mt.RETURN_REQUESTED),s=t.filter(f=>f.role===Ut.COURIER),o=(f,d)=>{d&&n(f,parseInt(d))};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[C.jsxs("div",{className:"p-5 border-b border-slate-200",children:[C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Manage Return Requests"}),C.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign couriers to pick up returned items from customers."})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pickup Zone"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),C.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map(f=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:f.id}),C.jsx("td",{className:"px-6 py-4 text-slate-800",children:f.clientName}),C.jsx("td",{className:"px-6 py-4",children:C.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:f.toAddress.zone})}),C.jsx("td",{className:"px-6 py-4",children:C.jsxs("select",{onChange:d=>o(f.id,d.target.value),defaultValue:"",className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[C.jsx("option",{value:"",disabled:!0,children:"Select a courier..."}),s.filter(d=>d.zone===f.toAddress.zone).map(d=>C.jsxs("option",{value:d.id,children:[d.name," (",d.zone,")"]},d.id))]})})]},f.id)),r.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No pending return requests."})})]})]})})]})},i8=()=>{const{currentUser:e,transactions:t,topUpWallet:n}=tr(),[r,s]=ot.useState(!1),[o,f]=ot.useState(100);if(!e)return null;const d=t.filter(x=>x.userId===e.id),m=()=>{n(e.id,o),s(!1)};return C.jsxs("div",{className:"space-y-8",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Wallet"}),C.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your balance and view your transaction history."})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C.jsx("div",{className:"md:col-span-1",children:C.jsx(Lr,{title:"Current Balance",value:`${(e.walletBalance??0).toFixed(2)} EGP`,icon:C.jsx(qu,{className:"w-7 h-7"}),color:"#22c55e"})}),C.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm flex items-center justify-center md:col-span-2",children:C.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-3 px-8 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition shadow-sm hover:shadow-md transform hover:-translate-y-0.5",children:[C.jsx(Qw,{className:"w-6 h-6"}),C.jsx("span",{className:"text-lg",children:"Top Up Wallet"})]})})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[C.jsx("div",{className:"p-5 border-b border-slate-200",children:C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Amount"})]})}),C.jsxs("tbody",{className:"divide-y divide-slate-200",children:[d.sort((x,S)=>new Date(S.date).getTime()-new Date(x.date).getTime()).map(x=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(x.date).toLocaleString()}),C.jsx("td",{className:"px-6 py-4 text-slate-800",children:x.description}),C.jsx("td",{className:"px-6 py-4",children:C.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.type===Oo.DEPOSIT?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.type})}),C.jsxs("td",{className:`px-6 py-4 font-semibold text-right ${x.type===Oo.DEPOSIT?"text-green-600":"text-red-600"}`,children:[x.amount.toFixed(2)," EGP"]})]},x.id)),d.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions yet."})})]})]})})]}),C.jsx(Nl,{isOpen:r,onClose:()=>s(!1),title:"Top Up Your Wallet",children:C.jsxs("div",{className:"space-y-6",children:[C.jsx("p",{children:"Select an amount to add to your wallet balance. In a real application, this would redirect to a payment gateway."}),C.jsx("div",{className:"flex justify-center gap-4",children:[100,250,500,1e3].map(x=>C.jsxs("button",{onClick:()=>f(x),className:`px-8 py-4 text-xl font-bold rounded-lg border-2 transition ${o===x?"bg-primary-600 text-white border-primary-600":"bg-white text-slate-700 border-slate-300 hover:border-primary-500"}`,children:[x," EGP"]},x))}),C.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[C.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Cancel"}),C.jsx("button",{onClick:m,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Add Funds"})]})]})})]})},r8=()=>{const{shipments:e}=tr(),t=e.filter(A=>A.status===mt.DELIVERED&&A.deliveryDate),n=t.reduce((A,E)=>A+E.price,0),r=t.length,s=r>0?n/r:0,o=t.filter(A=>A.paymentMethod===sa.COD).reduce((A,E)=>A+E.price,0),f={},d=new Date;for(let A=29;A>=0;A--){const E=new Date(d);E.setDate(d.getDate()-A);const b=E.toISOString().split("T")[0];f[b]=0}t.forEach(A=>{if(A.deliveryDate){const E=A.deliveryDate.split("T")[0];f.hasOwnProperty(E)&&(f[E]+=A.price)}});const m=Object.entries(f).map(([A,E])=>({date:new Date(A).getDate().toString(),revenue:E})),x=Math.max(...m.map(A=>A.revenue),1),S=()=>{const A=["Shipment ID","Delivery Date","Client","Payment Method","Revenue (EGP)"],E=t.sort((b,R)=>new Date(R.deliveryDate).getTime()-new Date(b.deliveryDate).getTime()).map(b=>[b.id,new Date(b.deliveryDate).toLocaleDateString(),b.clientName,b.paymentMethod,b.price.toFixed(2)]);H1(A,E,"Financial_Report")};return C.jsxs("div",{className:"space-y-8",children:[C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Financial Reports"}),C.jsx("p",{className:"text-slate-500 mt-1",children:"An overview of the company's financial performance."})]}),C.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[C.jsx(D2,{className:"w-5 h-5"}),"Export as CSV"]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[C.jsx(Lr,{title:"Total Revenue",value:`${n.toFixed(2)} EGP`,icon:C.jsx(L2,{className:"w-7 h-7"}),color:"#16a34a"}),C.jsx(Lr,{title:"Shipments Delivered",value:r,icon:C.jsx(A3,{className:"w-7 h-7"}),color:"#3b82f6"}),C.jsx(Lr,{title:"COD to Collect",value:`${o.toFixed(2)} EGP`,icon:C.jsx(qu,{className:"w-7 h-7"}),color:"#f97316"}),C.jsx(Lr,{title:"Avg. Revenue/Shipment",value:`${s.toFixed(2)} EGP`,icon:C.jsx(Hu,{className:"w-7 h-7"}),color:"#8b5cf6"})]}),C.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[C.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Daily Revenue (Last 30 Days)"}),C.jsx("div",{className:"h-64 flex items-end gap-2 border-l border-b border-slate-200 pl-4 pb-4",children:m.map(({date:A,revenue:E})=>C.jsxs("div",{className:"flex-1 h-full flex flex-col justify-end items-center group",children:[C.jsx("div",{className:"w-full bg-primary-400 hover:bg-primary-500 transition-colors rounded-t-md",style:{height:`${E/x*100}%`},title:`Day ${A}: ${E.toFixed(2)} EGP`}),C.jsx("span",{className:"text-xs text-slate-500 mt-1",children:A})]},A))})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[C.jsx("div",{className:"p-5",children:C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Delivery Date"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment Method"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Revenue"})]})}),C.jsxs("tbody",{className:"divide-y divide-slate-200",children:[t.sort((A,E)=>new Date(E.deliveryDate).getTime()-new Date(A.deliveryDate).getTime()).map(A=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:A.id}),C.jsx("td",{className:"px-6 py-4 text-slate-800",children:new Date(A.deliveryDate).toLocaleDateString()}),C.jsx("td",{className:"px-6 py-4 text-slate-600",children:A.clientName}),C.jsx("td",{className:"px-6 py-4 text-slate-600",children:A.paymentMethod}),C.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right",children:[A.price.toFixed(2)," EGP"]})]},A.id)),t.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"No delivered shipments yet."})})]})]})})]})]})},a8=()=>{const{notifications:e,notificationStatus:t,resendNotification:n}=tr(),r={sending:{text:"Sending...",color:"bg-yellow-100 text-yellow-800"},sent:{text:"Sent",color:"bg-green-100 text-green-800"},failed:{text:"Failed",color:"bg-red-100 text-red-800"}};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[C.jsxs("div",{className:"p-5 border-b border-slate-200",children:[C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Notifications Log"}),C.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A log of all automated email notifications and their delivery status."})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-slate-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Recipient"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Subject"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),C.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),C.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.sort((s,o)=>new Date(o.date).getTime()-new Date(s.date).getTime()).map(s=>{const o=t[s.id]||(s.sent?"sent":"failed");return C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:new Date(s.date).toLocaleString()}),C.jsx("td",{className:"px-6 py-4",children:C.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r[o].color}`,children:r[o].text})}),C.jsx("td",{className:"px-6 py-4 text-sm",children:s.recipient}),C.jsx("td",{className:"px-6 py-4 text-sm",children:s.message.split(`

`)[0]}),C.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:s.shipmentId}),C.jsx("td",{className:"px-6 py-4",children:o==="failed"&&C.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-2 px-3 py-1 bg-primary-500 text-white text-xs font-semibold rounded-lg hover:bg-primary-600 transition",children:[C.jsx(c0,{className:"w-4 h-4 transform -scale-x-100"}),"Resend"]})})]},s.id)}),e.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No notifications have been generated yet."})})]})]})})]})},s8=()=>{var x,S,A;const{currentUser:e,updateUser:t}=tr(),[n,r]=ot.useState(!1),[s,o]=ot.useState({});if(ot.useEffect(()=>{e&&o({name:e.name,phone:e.phone||"",address:e.address||{street:"",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:""}})},[e]),!e)return null;const f=E=>{o(b=>({...b,address:E}))},d=()=>{t(e.id,s),r(!1)},m=Object.values(hi).filter(E=>{var b;return E.toLowerCase().startsWith(((b=s.address)==null?void 0:b.city.toLowerCase())||"")});return C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsxs("div",{className:"flex justify-between items-start mb-6",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Profile"}),C.jsx("p",{className:"text-slate-500 mt-1",children:"View and edit your personal information and default address."})]}),n?C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Cancel"}),C.jsx("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Save Changes"})]}):C.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[C.jsx(N3,{className:"w-5 h-5"}),"Edit Profile"]})]}),C.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm space-y-8",children:[C.jsxs("div",{className:"border-b border-slate-200 pb-8",children:[C.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Personal Information"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),n?C.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:E=>o(b=>({...b,name:E.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):C.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.name})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),C.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.email})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),n?C.jsx("input",{type:"tel",name:"phone",value:s.phone||"",onChange:E=>o(b=>({...b,phone:E.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):C.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.phone||"Not set"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),C.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.role})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Default Pickup Address"}),n?C.jsxs("div",{className:"space-y-4",children:[C.jsx(W3,{label:"Street Address",value:s.address,onChange:f}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),C.jsxs("select",{name:"address.city",value:((x=s.address)==null?void 0:x.city)||"Cairo",onChange:E=>f({...s.address,city:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-100",disabled:!0,children:[C.jsx("option",{value:"Cairo",children:"Cairo"}),C.jsx("option",{value:"Giza",children:"Giza"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),C.jsx("select",{name:"address.zone",value:((S=s.address)==null?void 0:S.zone)||"",onChange:E=>f({...s.address,zone:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:m.map(E=>C.jsx("option",{value:E,children:E},E))})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apartment, Suite, etc."}),C.jsx("input",{type:"text",name:"address.details",value:((A=s.address)==null?void 0:A.details)||"",onChange:E=>f({...s.address,details:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}):e.address?C.jsxs("div",{className:"text-lg text-slate-800 p-4 bg-slate-50 rounded-lg",children:[C.jsx("p",{className:"font-semibold",children:e.address.street}),C.jsx("p",{children:e.address.details}),C.jsxs("p",{children:[e.address.city,", ",e.address.zone]})]}):C.jsx("p",{className:"text-slate-500",children:"Please set your default address."})]})]})]})},o8=()=>{const{users:e}=tr(),t=ot.useRef(null),[n,r]=ot.useState(!1),s=e.filter(o=>o.role===Ut.COURIER&&o.location);return ot.useEffect(()=>{const o=()=>{window.google&&window.google.maps?r(!0):setTimeout(o,100)};o()},[]),ot.useEffect(()=>{if(!n||!t.current)return;const o=new window.google.maps.Map(t.current,{center:{lat:30.0444,lng:31.2357},zoom:11,mapTypeControl:!1,streetViewControl:!1}),f=new window.google.maps.InfoWindow;s.forEach(d=>{if(!d.location)return;const m=new window.google.maps.Marker({position:d.location,map:o,title:d.name,animation:window.google.maps.Animation.DROP});m.addListener("click",()=>{f.setContent(`
                    <div class="font-sans">
                        <div class="font-bold text-md">${d.name}</div>
                        <div class="text-sm text-slate-600">Zone: ${d.zone}</div>
                    </div>
                `),f.open(o,m)})})},[n,s]),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm h-full w-full flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"p-5 border-b border-slate-200",children:[C.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Live Courier Tracking"}),C.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Real-time locations of all active couriers."})]}),C.jsx("div",{className:"flex-1 bg-slate-200",children:n?C.jsx("div",{ref:t,className:"w-full h-full"}):C.jsxs("div",{className:"w-full h-full flex items-center justify-center flex-col gap-4",children:[C.jsx("p",{className:"text-slate-600 font-semibold",children:"Loading Map..."}),C.jsx("p",{className:"text-xs text-slate-500 max-w-sm text-center",children:`If the map doesn't load, please ensure the Google Maps API key is set correctly in your environment and has the "Maps JavaScript API" enabled.`})]})})]})},l8=({shipment:e})=>{const t=()=>C.jsxs("svg",{x:"0px",y:"0px",viewBox:"0 0 200 60",className:"w-full h-12",children:[C.jsx("rect",{x:"0",y:"0",width:"4",height:"50",fill:"#000000"}),C.jsx("rect",{x:"7",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"15",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"18",y:"0",width:"5",height:"50",fill:"#000000"}),C.jsx("rect",{x:"26",y:"0",width:"1",height:"50",fill:"#000000"}),C.jsx("rect",{x:"30",y:"0",width:"3",height:"50",fill:"#000000"}),C.jsx("rect",{x:"36",y:"0",width:"3",height:"50",fill:"#000000"}),C.jsx("rect",{x:"42",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"47",y:"0",width:"1",height:"50",fill:"#000000"}),C.jsx("rect",{x:"51",y:"0",width:"5",height:"50",fill:"#000000"}),C.jsx("rect",{x:"59",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"64",y:"0",width:"4",height:"50",fill:"#000000"}),C.jsx("rect",{x:"71",y:"0",width:"1",height:"50",fill:"#000000"}),C.jsx("rect",{x:"75",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"80",y:"0",width:"4",height:"50",fill:"#000000"}),C.jsx("rect",{x:"87",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"92",y:"0",width:"3",height:"50",fill:"#000000"}),C.jsx("rect",{x:"98",y:"0",width:"3",height:"50",fill:"#000000"}),C.jsx("rect",{x:"104",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"109",y:"0",width:"1",height:"50",fill:"#000000"}),C.jsx("rect",{x:"113",y:"0",width:"5",height:"50",fill:"#000000"}),C.jsx("rect",{x:"121",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"126",y:"0",width:"4",height:"50",fill:"#000000"}),C.jsx("rect",{x:"133",y:"0",width:"1",height:"50",fill:"#000000"}),C.jsx("rect",{x:"137",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"142",y:"0",width:"4",height:"50",fill:"#000000"}),C.jsx("rect",{x:"149",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"154",y:"0",width:"3",height:"50",fill:"#000000"}),C.jsx("rect",{x:"160",y:"0",width:"3",height:"50",fill:"#000000"}),C.jsx("rect",{x:"166",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"171",y:"0",width:"1",height:"50",fill:"#000000"}),C.jsx("rect",{x:"175",y:"0",width:"5",height:"50",fill:"#000000"}),C.jsx("rect",{x:"183",y:"0",width:"2",height:"50",fill:"#000000"}),C.jsx("rect",{x:"188",y:"0",width:"4",height:"50",fill:"#000000"}),C.jsx("rect",{x:"195",y:"0",width:"1",height:"50",fill:"#000000"})]});return C.jsx("div",{className:"bg-white p-8 border-4 border-dashed border-slate-300 w-full printable-label-container",children:C.jsxs("div",{className:"printable-label",style:{fontFamily:"sans-serif",color:"black"},children:[C.jsxs("header",{className:"flex justify-between items-center pb-4 border-b-2 border-black",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(F1,{className:"w-12 h-12"}),C.jsx("div",{children:C.jsx("h1",{className:"text-2xl font-extrabold text-black",children:"Flash Express"})})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("p",{className:"text-sm",children:["Date: ",new Date(e.creationDate).toLocaleDateString()]}),C.jsx("p",{className:"text-sm",children:"Shipment ID:"}),C.jsx("p",{className:"font-bold font-mono text-lg",children:e.id})]})]}),C.jsxs("main",{className:"grid grid-cols-2 gap-8 my-8",children:[C.jsxs("div",{className:"pr-8 border-r-2 border-dashed border-slate-400",children:[C.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"FROM"}),C.jsx("p",{className:"font-bold text-lg",children:e.clientName}),C.jsxs("p",{children:[e.fromAddress.street,", ",e.fromAddress.details]}),C.jsxs("p",{children:[e.fromAddress.city,", ",e.fromAddress.zone]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"TO"}),C.jsx("p",{className:"font-bold text-xl",children:e.recipientName}),C.jsxs("p",{className:"text-lg",children:[e.toAddress.street,", ",e.toAddress.details]}),C.jsxs("p",{className:"text-lg",children:[e.toAddress.city,", ",e.toAddress.zone]}),C.jsxs("p",{className:"font-bold text-lg mt-2",children:["Phone: ",e.recipientPhone]})]})]}),C.jsx("footer",{className:"border-t-2 border-black pt-4",children:C.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs uppercase font-bold text-slate-600",children:"Payment Details"}),C.jsx("p",{className:"text-2xl font-bold",children:e.paymentMethod}),e.paymentMethod===sa.COD&&C.jsxs("p",{className:"text-3xl font-extrabold text-green-600",children:[e.price.toFixed(2)," EGP"]}),C.jsx("p",{className:"text-xs uppercase font-bold text-slate-600 mt-4",children:"Package"}),C.jsxs("p",{children:[e.packageDescription,e.isLargeOrder&&" (Large Order)"]})]}),C.jsxs("div",{className:"text-center",children:[C.jsx(t,{}),C.jsx("p",{className:"font-mono tracking-widest text-sm",children:e.id})]})]})})]})})},c8=()=>{var re;const{currentUser:e,logout:t,users:n,updateShipmentStatus:r,reassignCourier:s}=tr(),[o,f]=ot.useState("dashboard"),[d,m]=ot.useState(null),[x,S]=ot.useState(null),[A,E]=ot.useState(null),[b,R]=ot.useState(!1),[M,q]=ot.useState(null),I=()=>{m(null),R(!1),q(null)},T=()=>{d&&M&&(s(d.id,M),I())};if(ot.useEffect(()=>(x?document.body.classList.add("printing-label"):document.body.classList.remove("printing-label"),()=>document.body.classList.remove("printing-label")),[x]),!e)return null;const L=()=>{window.print()},B=()=>{A&&r(A.id,mt.RETURN_REQUESTED),E(null)},X=()=>{switch(o){case"dashboard":return C.jsx(Up,{setActiveView:f});case"shipments":return C.jsx(f6,{onSelectShipment:m});case"create":return C.jsx(h6,{});case"assign":return C.jsx(d6,{});case"tasks":return C.jsx(e8,{});case"users":return C.jsx(t8,{});case"returns":return C.jsx(n8,{});case"wallet":return C.jsx(i8,{});case"financials":return C.jsx(r8,{});case"notifications":return C.jsx(a8,{});case"profile":return C.jsx(s8,{});case"map":return C.jsx(o8,{});default:return C.jsx(Up,{setActiveView:f})}};return C.jsxs("div",{className:"flex h-screen bg-slate-100",children:[C.jsx(rb,{role:e.role,activeView:o,setActiveView:f}),C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsx(ab,{onLogout:t,user:e,onNavigate:f}),C.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:X()})]}),C.jsx(Nl,{isOpen:!!d,onClose:I,title:`Shipment Details: ${d==null?void 0:d.id}`,children:d&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex justify-between items-start gap-4",children:[C.jsxs("div",{children:[C.jsxs("p",{className:"mb-1",children:[C.jsx("strong",{children:"Status:"})," ",C.jsx(j2,{status:d.status})]}),C.jsxs("p",{className:"text-sm text-slate-600",children:[C.jsx("strong",{children:"From:"})," ",d.fromAddress.street,", ",d.fromAddress.city]}),C.jsxs("p",{className:"text-sm text-slate-600",children:[C.jsx("strong",{children:"To:"})," ",d.toAddress.street,", ",d.toAddress.city]}),C.jsxs("p",{className:"text-sm text-slate-600",children:[C.jsx("strong",{children:"Courier:"})," ",((re=n.find(k=>k.id===d.courierId))==null?void 0:re.name)||"Not Assigned"]})]}),C.jsxs("div",{className:"flex flex-col gap-2 items-end flex-shrink-0",children:[(e.role===Ut.ADMIN||e.role===Ut.CLIENT)&&C.jsxs("button",{onClick:()=>S(d),className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition w-full justify-center text-sm",children:[C.jsx(Fp,{className:"w-5 h-5"}),"Print Label"]}),e.role===Ut.CLIENT&&d.status===mt.DELIVERED&&C.jsxs("button",{onClick:()=>E(d),className:"flex items-center gap-2 px-3 py-2 bg-orange-100 text-orange-800 font-semibold rounded-lg hover:bg-orange-200 transition w-full justify-center text-sm",children:[C.jsx(c0,{className:"w-5 h-5"}),"Request Return"]})]})]}),d.signature&&C.jsxs("div",{children:[C.jsx("strong",{children:"Signature:"}),C.jsx("img",{src:d.signature,alt:"Recipient Signature",className:"border rounded-lg mt-2"})]}),e.role===Ut.ADMIN&&d.courierId&&![mt.DELIVERED,mt.RETURNED,mt.DELIVERY_FAILED].includes(d.status)&&C.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:b?C.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg",children:[C.jsx("h4",{className:"font-semibold text-slate-700",children:"Select new courier:"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("select",{onChange:k=>q(parseInt(k.target.value)),defaultValue:"",className:"flex-grow px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[C.jsx("option",{value:"",disabled:!0,children:"Available Couriers..."}),n.filter(k=>k.role===Ut.COURIER).map(k=>C.jsxs("option",{value:k.id,children:[k.name," (",k.zone,")"]},k.id))]}),C.jsx("button",{onClick:T,disabled:!M,className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition disabled:bg-slate-400",children:"Save"}),C.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Cancel"})]})]}):C.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-2 bg-yellow-100 text-yellow-800 font-semibold rounded-lg hover:bg-yellow-200 transition text-sm",children:[C.jsx(Kw,{className:"w-5 h-5"}),"Re-assign Courier"]})})]})}),C.jsx(Nl,{isOpen:!!x,onClose:()=>S(null),title:"Print Shipment Label",size:"4xl",children:x&&C.jsxs("div",{className:"flex flex-col gap-6",children:[C.jsx(l8,{shipment:x}),C.jsxs("div",{className:"flex justify-end gap-4 p-4 -mb-6 -mx-6 bg-slate-50 rounded-b-xl",children:[C.jsx("button",{onClick:()=>S(null),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Close"}),C.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[C.jsx(Fp,{className:"w-5 h-5"}),"Print"]})]})]})}),C.jsx(Nl,{isOpen:!!A,onClose:()=>E(null),title:"Confirm Return Request",size:"md",children:A&&C.jsxs("div",{children:[C.jsxs("p",{children:["Are you sure you want to request a return for shipment ",C.jsx("strong",{children:A.id}),"? A courier will be assigned to pick up the item from ",C.jsx("strong",{children:A.recipientName}),"."]}),C.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[C.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),C.jsx("button",{onClick:B,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]})},u8=()=>{var n,r;const{currentUser:e,addToast:t}=tr();return Vw((r=(n=globalThis.process)==null?void 0:n.env)==null?void 0:r.API_KEY,t),C.jsxs(C.Fragment,{children:[(e==null?void 0:e.role)===Ut.COURIER&&C.jsx(Yw,{}),C.jsx("div",{className:"transition-opacity duration-500 opacity-100",children:e?C.jsx(c8,{}):C.jsx(ib,{})}),C.jsx(nb,{})]})},f8=()=>C.jsx(qw,{children:C.jsx(u8,{})}),n4=document.getElementById("root");if(!n4)throw new Error("Could not find root element to mount to");const h8=Pw.createRoot(n4);h8.render(C.jsx(Yu.StrictMode,{children:C.jsx(f8,{})}));export{In as _,go as c,Ld as g};
